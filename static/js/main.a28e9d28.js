/*! For license information please see main.a28e9d28.js.LICENSE.txt */
!function(){var t={694:function(t,e){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)){if(i.length){var a=r.apply(null,i);a&&t.push(a)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){t.push(i.toString());continue}for(var s in i)n.call(i,s)&&i[s]&&t.push(s)}}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(i=function(){return r}.apply(e,[]))||(t.exports=i)}()},166:function(t,e,i){"use strict";i.d(e,{$u:function(){return o},E9:function(){return r},FJ:function(){return u},KX:function(){return h},Me:function(){return y},NB:function(){return m},S0:function(){return c},Vk:function(){return l},Zt:function(){return a},al:function(){return g},bn:function(){return p},bx:function(){return f},g2:function(){return d},hD:function(){return b},rU:function(){return v},z6:function(){return s}}),t=i.hmd(t),function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function o(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}var a,s="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var l;t:{var u={};try{u.__proto__={a:!0},l=u.a;break t}catch(rv){}l=!1}a=l?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=a;function c(t,e){if(t.prototype=s(e.prototype),t.prototype.constructor=t,h)h(t,e);else for(var i in e)if("prototype"!=i)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,i);n&&Object.defineProperty(t,i,n)}else t[i]=e[i];t.PA=e.prototype}var d="undefined"!=typeof i.g&&null!=i.g?i.g:self,f="function"==typeof Object.assign?Object.assign:function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)};function g(t,e){if(e){var i=d;t=t.split(".");for(var n=0;n<t.length-1;n++){var r=t[n];r in i||(i[r]={}),i=i[r]}(e=e(n=i[t=t[t.length-1]]))!=n&&null!=e&&p(i,t,{writable:!0,value:e})}}g("Object.assign",(function(t){return t||f})),g("Array.prototype.fill",(function(t){return t||function(t,e,i){var n=this.length||0;for(0>e&&(e=Math.max(0,n+e)),(null==i||i>n)&&(i=n),0>(i=Number(i))&&(i=Math.max(0,n+i)),e=Number(e||0);e<i;e++)this[e]=t;return this}}));var m="object"===typeof globalThis&&globalThis||"object"===typeof i.g&&i.g.global===i.g&&i.g||"object"===typeof self&&self.self===self&&self||{};function v(){}function y(t,e){var i=-1;return function(){var n=this,r=arguments;-1!==i&&m.clearTimeout(i),i=b((function(){i=-1,t.apply(n,r)}),e)}}function b(t,e){return m.setTimeout(t,e)}function x(t){return m.document.createElement(t)}function w(t){throw Error(t)}function k(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),w(t)}function _(t,e,i,n){i=null===i?"*":"string"===typeof i?i:"function"===typeof i&&"string"===typeof i.className?i.className:"",void 0!==n&&(i+="."+n),w(i+" is not in the range "+e+": "+t)}function S(t){m.console&&m.console.log(t)}function C(t){return"object"===typeof t&&null!==t}function M(t){return Array.isArray(t)||m.NodeList&&t instanceof m.NodeList||m.HTMLCollection&&t instanceof m.HTMLCollection}function P(t){return Array.prototype.slice.call(t)}function T(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):w("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)}function D(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):w("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function N(){var t=F.pop();return void 0===t?[]:t}function I(t){t.length=0,F.push(t)}function E(t){if("function"===typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(C(t)&&t.constructor)return E(t.constructor);return typeof t}function A(t){var e=t;return C(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function O(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var i=t.BA;if(i&&i[e])return!0;t=Object.getPrototypeOf(t)}return!1}function L(t,e,i){Object.defineProperty(bi.prototype,t,{get:e,set:i})}function R(t){for(var e=[],i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);t.length%2&&(t="0"+t),i=[];for(var n=0,r=0;r<t.length;r+=2)i[n++]=e[t.substr(r,2)];for(t=""===(t=i.join(""))?"0":t,e=[],i=0;256>i;i++)e[i]=i;for(i=n=0;256>i;i++)n=(n+e[i]+119)%256,r=e[i],e[i]=e[n],e[n]=r;n=i=0;for(var o="",a=0;a<t.length;a++)n=(n+e[i=(i+1)%256])%256,r=e[i],e[i]=e[n],e[n]=r,o+=String.fromCharCode(t.charCodeAt(a)^e[(e[i]+e[n])%256]);return o}void 0===m.requestAnimationFrame&&(void 0===m.setImmediate?m.requestAnimationFrame=function(t){m.setTimeout(t,0)}:m.requestAnimationFrame=m.setImmediate);var j=void 0!==m.navigator&&0<m.navigator.userAgent.indexOf("Trident/7"),B=void 0!==m.navigator&&void 0!==m.navigator.platform&&null!==m.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i),F=[];function z(t,e,i){$(this),this.j=t,this.wa=e,this.o=i}function H(t,e){return void 0===e||null===e||""===e?null:t[e]}function V(){this.cw=[]}function W(){}Object.freeze([]),v.className="Util",v.Dx="32ab5ff3b26f42dc0ed90f21472913b5",v.adym="gojs.net",v.vfo="28e645fdb4",v.className="Util",z.prototype.toString=function(){return"EnumValue."+this.wa},d.Object.defineProperties(z.prototype,{classType:{get:function(){return this.j}},name:{get:function(){return this.wa}},value:{get:function(){return this.o}}}),z.className="EnumValue",V.prototype.toString=function(){return this.cw.join("")},V.prototype.add=function(t){""!==t&&this.cw.push(t)},V.className="StringBuilder",W.className="PropertyCollection";var U={DA:!1,IA:!1,FA:!1,HA:!1,MA:!1,KA:!1,nx:!1,EA:null,trace:function(t){m.console&&m.console.log(t)},GA:function(t,e,i,n){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(i,i),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(n.left,n.top+20),t.lineTo(n.left,n.top),t.lineTo(n.left+20,n.top),t.moveTo(n.right,n.bottom-20),t.lineTo(n.right,n.bottom),t.lineTo(n.right-20,n.bottom),t.stroke(),t.fillText("DB: "+Math.round(n.x)+", "+Math.round(n.y)+", "+Math.round(n.width)+", "+Math.round(n.height),n.left,n.top-5)},CA:function(t){var e,i={};for(e in t){if(i.x=e,"licenseKey"!==i.x){var n=t[i.x];if(void 0!==n.prototype){i.Yl=Object.getOwnPropertyNames(n.prototype);for(var r={Tj:0};r.Tj<i.Yl.length;(r={Tj:r.Tj}).Tj++){var o=Object.getOwnPropertyDescriptor(n.prototype,i.Yl[r.Tj]);void 0!==o.get&&void 0===o.set&&Object.defineProperty(n.prototype,i.Yl[r.Tj],{set:function(t,e){return function(){throw Error("Property "+t.Yl[e.Tj]+" of "+t.x+" is read-only.")}}(i,r)})}}}i={Yl:i.Yl,x:i.x}}}};function G(){}G.prototype.reset=function(){},G.prototype.next=function(){return!1},G.prototype.yd=function(){return!1},G.prototype.first=function(){return null},G.prototype.any=function(){return!1},G.prototype.all=function(){return!0},G.prototype.each=function(){return this},G.prototype.map=function(){return this},G.prototype.filter=function(){return this},G.prototype.be=function(){},G.prototype.toString=function(){return"EmptyIterator"},d.Object.defineProperties(G.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),G.prototype.first=G.prototype.first,G.prototype.hasNext=G.prototype.yd,G.prototype.next=G.prototype.next,G.prototype.reset=G.prototype.reset;var K;function Y(t){this.key=-1,this.value=t}function X(t){this.Bb=t,this.pf=null,t.Sa=null,this.qa=t.Ja,this.Za=-1}function q(t){this.Bb=t,t.Gg=null,this.qa=t.Ja,this.Za=t.s.length}function Z(t){$(this),this._isFrozen=!1,this.s=[],this.Ja=0,this.Gg=this.Sa=null,"string"===typeof t&&w("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function J(t){this.dg=t,t.Sa=null,this.qa=t.Ja,this.sa=null}function Q(t){$(this),this._isFrozen=!1,this.Rb={},this.Qb=0,this.Sa=null,this.Ja=0,this.jf=this.ea=null,"string"===typeof t&&w("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function $(t){t.__gohashid=st++}function tt(t){var e=t.__gohashid;return void 0===e&&(e=st++,t.__gohashid=e),e}function et(t){return t.__gohashid}G.className="EmptyIterator",K=new G,Y.prototype.reset=function(){this.key=-1},Y.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},Y.prototype.yd=function(){return this.next()},Y.prototype.first=function(){return this.key=0,this.value},Y.prototype.any=function(t){return this.key=-1,t(this.value)},Y.prototype.all=function(t){return this.key=-1,t(this.value)},Y.prototype.each=function(t){return this.key=-1,t(this.value),this},Y.prototype.map=function(t){return new Y(t(this.value))},Y.prototype.filter=function(t){return t(this.value)?new Y(this.value):K},Y.prototype.be=function(){this.value=null},Y.prototype.toString=function(){return"SingletonIterator("+this.value+")"},d.Object.defineProperties(Y.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Y.prototype.first=Y.prototype.first,Y.prototype.hasNext=Y.prototype.yd,Y.prototype.next=Y.prototype.next,Y.prototype.reset=Y.prototype.reset,Y.className="SingletonIterator",X.prototype.reset=function(){var t=this.Bb;t.Sa=null,this.qa=t.Ja,this.Za=-1},X.prototype.next=function(){var t=this.Bb;if(t.Ja!==this.qa&&0>this.key)return!1;var e=(t=t.s).length,i=++this.Za,n=this.pf;if(null!==n)for(;i<e;){var r=t[i];if(n(r))return this.key=this.Za=i,this.value=r,!0;i++}else{if(i<e)return this.key=i,this.value=t[i],!0;this.be()}return!1},X.prototype.yd=function(){return this.next()},X.prototype.first=function(){var t=this.Bb;this.qa=t.Ja,this.Za=0;var e=(t=t.s).length,i=this.pf;if(null!==i){for(var n=0;n<e;){var r=t[n];if(i(r))return this.key=this.Za=n,this.value=r;n++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},X.prototype.any=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var i=(e=e.s).length,n=this.pf,r=0;r<i;r++){var o=e[r];if((null===n||n(o))&&t(o))return!0}return!1},X.prototype.all=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var i=(e=e.s).length,n=this.pf,r=0;r<i;r++){var o=e[r];if((null===n||n(o))&&!t(o))return!1}return!0},X.prototype.each=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var i=(e=e.s).length,n=this.pf,r=0;r<i;r++){var o=e[r];(null===n||n(o))&&t(o)}return this},X.prototype.map=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var i=[],n=(e=e.s).length,r=this.pf,o=0;o<n;o++){var a=e[o];(null===r||r(a))&&i.push(t(a))}return(t=new Z).s=i,t.xb(),t.iterator},X.prototype.filter=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var i=[],n=(e=e.s).length,r=this.pf,o=0;o<n;o++){var a=e[o];(null===r||r(a))&&t(a)&&i.push(a)}return(t=new Z).s=i,t.xb(),t.iterator},X.prototype.be=function(){this.key=-1,this.value=null,this.qa=-1,this.pf=null,this.Bb.Sa=this},X.prototype.toString=function(){return"ListIterator@"+this.Za+"/"+this.Bb.count},d.Object.defineProperties(X.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.pf},set:function(t){this.pf=t}},count:{get:function(){var t=this.pf;if(null!==t){for(var e=0,i=this.Bb.s,n=i.length,r=0;r<n;r++)t(i[r])&&e++;return e}return this.Bb.s.length}}}),X.prototype.first=X.prototype.first,X.prototype.hasNext=X.prototype.yd,X.prototype.next=X.prototype.next,X.prototype.reset=X.prototype.reset,X.className="ListIterator",q.prototype.reset=function(){var t=this.Bb;t.Gg=null,this.qa=t.Ja,this.Za=t.s.length},q.prototype.next=function(){var t=this.Bb;if(t.Ja!==this.qa&&0>this.key)return!1;var e=--this.Za;return 0<=e?(this.key=e,this.value=t.s[e],!0):(this.be(),!1)},q.prototype.yd=function(){return this.next()},q.prototype.first=function(){var t=this.Bb;this.qa=t.Ja;var e=t.s;return this.Za=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},q.prototype.any=function(t){var e=this.Bb;e.Gg=null;var i=(e=e.s).length;for(this.Za=i,--i;0<=i;i--)if(t(e[i]))return!0;return!1},q.prototype.all=function(t){var e=this.Bb;e.Gg=null;var i=(e=e.s).length;for(this.Za=i,--i;0<=i;i--)if(!t(e[i]))return!1;return!0},q.prototype.each=function(t){var e=this.Bb;e.Gg=null;var i=(e=e.s).length;for(this.Za=i,--i;0<=i;i--)t(e[i]);return this},q.prototype.map=function(t){var e=this.Bb;e.Gg=null;var i=[],n=(e=e.s).length;for(this.Za=n,--n;0<=n;n--)i.push(t(e[n]));return(t=new Z).s=i,t.xb(),t.iterator},q.prototype.filter=function(t){var e=this.Bb;e.Gg=null;var i=[],n=(e=e.s).length;for(this.Za=n,--n;0<=n;n--){var r=e[n];t(r)&&i.push(r)}return(t=new Z).s=i,t.xb(),t.iterator},q.prototype.be=function(){this.key=-1,this.value=null,this.qa=-1,this.Bb.Gg=this},q.prototype.toString=function(){return"ListIteratorBackwards("+this.Za+"/"+this.Bb.count+")"},d.Object.defineProperties(q.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.Bb.s.length}}}),q.prototype.first=q.prototype.first,q.prototype.hasNext=q.prototype.yd,q.prototype.next=q.prototype.next,q.prototype.reset=q.prototype.reset,q.className="ListIteratorBackwards",(e=Z.prototype).xb=function(){var t=this.Ja;999999999<++t&&(t=0),this.Ja=t},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.toString=function(){return"List()#"+et(this)},e.add=function(t){return null===t||(this._isFrozen&&k(this,t),this.s.push(t),this.xb()),this},e.push=function(t){this.add(t)},e.addAll=function(t){if(null===t)return this;this._isFrozen&&k(this);var e=this.s;if(M(t))for(var i=t.length,n=0;n<i;n++)e.push(t[n]);else for(t=t.iterator;t.next();)e.push(t.value);return this.xb(),this},e.clear=function(){this._isFrozen&&k(this),this.s.length=0,this.xb()},e.contains=function(t){return null!==t&&-1!==this.s.indexOf(t)},e.has=function(t){return this.contains(t)},e.indexOf=function(t){return null===t?-1:this.s.indexOf(t)},e.L=function(t){var e=this.s;return(0>t||t>=e.length)&&_(t,"0 <= i < length",Z,"elt:i"),e[t]},e.get=function(t){return this.L(t)},e.Zc=function(t,e){var i=this.s;(0>t||t>=i.length)&&_(t,"0 <= i < length",Z,"setElt:i"),this._isFrozen&&k(this,t),i[t]=e},e.set=function(t,e){this.Zc(t,e)},e.first=function(){var t=this.s;return 0===t.length?null:t[0]},e.ic=function(){var t=this.s,e=t.length;return 0<e?t[e-1]:null},e.pop=function(){this._isFrozen&&k(this);var t=this.s;return 0<t.length?t.pop():null},Z.prototype.any=function(t){for(var e=this.s,i=e.length,n=0;n<i;n++)if(t(e[n]))return!0;return!1},Z.prototype.all=function(t){for(var e=this.s,i=e.length,n=0;n<i;n++)if(!t(e[n]))return!1;return!0},Z.prototype.each=function(t){for(var e=this.s,i=e.length,n=0;n<i;n++)t(e[n]);return this},Z.prototype.map=function(t){for(var e=new Z,i=[],n=this.s,r=n.length,o=0;o<r;o++)i.push(t(n[o]));return e.s=i,e.xb(),e},Z.prototype.filter=function(t){for(var e=new Z,i=[],n=this.s,r=n.length,o=0;o<r;o++){var a=n[o];t(a)&&i.push(a)}return e.s=i,e.xb(),e},(e=Z.prototype).Hb=function(t,e){0>t&&_(t,">= 0",Z,"insertAt:i"),this._isFrozen&&k(this,t);var i=this.s;t>=i.length?i.push(e):i.splice(t,0,e),this.xb()},e.remove=function(t){if(null===t)return!1;this._isFrozen&&k(this,t);var e=this.s;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.xb(),!0)},e.delete=function(t){return this.remove(t)},e.mb=function(t){var e=this.s;(0>t||t>=e.length)&&_(t,"0 <= i < length",Z,"removeAt:i"),this._isFrozen&&k(this,t),t===e.length-1?e.pop():e.splice(t,1),this.xb()},e.removeRange=function(t,e){var i=this.s,n=i.length;if(0>t)t=0;else if(t>=n)return this;if(0>e)return this;if(e>=n&&(e=n-1),t>e)return this;this._isFrozen&&k(this);for(var r=t,o=e+1;o<n;)i[r++]=i[o++];return i.length=n-(e-t+1),this.xb(),this},Z.prototype.copy=function(){var t=new Z,e=this.s;return 0<e.length&&(t.s=Array.prototype.slice.call(e)),t},(e=Z.prototype).Fa=function(){for(var t=this.s,e=this.count,i=Array(e),n=0;n<e;n++)i[n]=t[n];return i},e.Gv=function(){for(var t=new Q,e=this.s,i=this.count,n=0;n<i;n++)t.add(e[n]);return t},e.sort=function(t){return this._isFrozen&&k(this),this.s.sort(t),this.xb(),this},e.zi=function(t,e,i){var n=this.s,r=n.length;void 0===e&&(e=0),void 0===i&&(i=r),this._isFrozen&&k(this);var o=i-e;if(1>=o)return this;if((0>e||e>=r-1)&&_(e,"0 <= from < length",Z,"sortRange:from"),2===o)return 0<t(i=n[e],r=n[e+1])&&(n[e]=r,n[e+1]=i,this.xb()),this;if(0===e)if(i>=r)n.sort(t);else for((e=n.slice(0,i)).sort(t),t=0;t<i;t++)n[t]=e[t];else if(i>=r)for((i=n.slice(e)).sort(t),t=e;t<r;t++)n[t]=i[t-e];else for((r=n.slice(e,i)).sort(t),t=e;t<i;t++)n[t]=r[t-e];return this.xb(),this},e.reverse=function(){return this._isFrozen&&k(this),this.s.reverse(),this.xb(),this},d.Object.defineProperties(Z.prototype,{_dataArray:{get:function(){return this.s}},count:{get:function(){return this.s.length}},size:{get:function(){return this.s.length}},length:{get:function(){return this.s.length}},iterator:{get:function(){if(0>=this.s.length)return K;var t=this.Sa;return null!==t?(t.reset(),t):new X(this)}},iteratorBackwards:{get:function(){if(0>=this.s.length)return K;var t=this.Gg;return null!==t?(t.reset(),t):new q(this)}}}),Z.prototype.reverse=Z.prototype.reverse,Z.prototype.sortRange=Z.prototype.zi,Z.prototype.sort=Z.prototype.sort,Z.prototype.toSet=Z.prototype.Gv,Z.prototype.toArray=Z.prototype.Fa,Z.prototype.removeRange=Z.prototype.removeRange,Z.prototype.removeAt=Z.prototype.mb,Z.prototype.delete=Z.prototype.delete,Z.prototype.remove=Z.prototype.remove,Z.prototype.insertAt=Z.prototype.Hb,Z.prototype.pop=Z.prototype.pop,Z.prototype.last=Z.prototype.ic,Z.prototype.first=Z.prototype.first,Z.prototype.set=Z.prototype.set,Z.prototype.setElt=Z.prototype.Zc,Z.prototype.get=Z.prototype.get,Z.prototype.elt=Z.prototype.L,Z.prototype.indexOf=Z.prototype.indexOf,Z.prototype.has=Z.prototype.has,Z.prototype.contains=Z.prototype.contains,Z.prototype.clear=Z.prototype.clear,Z.prototype.addAll=Z.prototype.addAll,Z.prototype.push=Z.prototype.push,Z.prototype.add=Z.prototype.add,Z.prototype.thaw=Z.prototype.ja,Z.prototype.freeze=Z.prototype.freeze,Z.className="List",J.prototype.reset=function(){var t=this.dg;t.Sa=null,this.qa=t.Ja,this.sa=null},J.prototype.next=function(){var t=this.dg;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.ua)?(this.sa=e,this.value=e.value,this.key=e.key,!0):(this.be(),!1)},J.prototype.yd=function(){return this.next()},J.prototype.first=function(){var t=this.dg;if(this.qa=t.Ja,null!==(t=t.ea)){this.sa=t;var e=t.value;return this.key=t.key,this.value=e}return null},J.prototype.any=function(t){var e=this.dg;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(t(e.value))return!0;e=e.ua}return!1},J.prototype.all=function(t){var e=this.dg;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(!t(e.value))return!1;e=e.ua}return!0},J.prototype.each=function(t){var e=this.dg;for(this.sa=e.Sa=null,e=e.ea;null!==e;)t(e.value),e=e.ua;return this},J.prototype.map=function(t){var e=this.dg;e.Sa=null;var i=new Z;for(e=e.ea;null!==e;)i.add(t(e.value)),e=e.ua;return i.iterator},J.prototype.filter=function(t){var e=this.dg;e.Sa=null;var i=new Z;for(e=e.ea;null!==e;){var n=e.value;t(n)&&i.add(n),e=e.ua}return i.iterator},J.prototype.be=function(){this.value=this.key=null,this.qa=-1,this.dg.Sa=this},J.prototype.toString=function(){return null!==this.sa?"SetIterator@"+this.sa.value:"SetIterator"},d.Object.defineProperties(J.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.dg.Qb}}}),J.prototype.first=J.prototype.first,J.prototype.hasNext=J.prototype.yd,J.prototype.next=J.prototype.next,J.prototype.reset=J.prototype.reset,J.className="SetIterator",(e=Q.prototype).xb=function(){var t=this.Ja;999999999<++t&&(t=0),this.Ja=t},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.toString=function(){return"Set()#"+et(this)},e.add=function(t){if(null===t)return this;this._isFrozen&&k(this,t);var e=t;return C(t)&&(e=tt(t)),void 0===this.Rb[e]&&(this.Qb++,t=new ct(t,t),this.Rb[e]=t,null===(e=this.jf)?this.ea=t:(t.jl=e,e.ua=t),this.jf=t,this.xb()),this},e.addAll=function(t){if(null===t)return this;if(this._isFrozen&&k(this),M(t))for(var e=t.length,i=0;i<e;i++)this.add(t[i]);else for(t=t.iterator;t.next();)this.add(t.value);return this},e.contains=function(t){if(null===t)return!1;var e=t;return(!C(t)||void 0!==(e=et(t)))&&void 0!==this.Rb[e]},e.has=function(t){return this.contains(t)},e.Ty=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},e.Uy=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},e.first=function(){var t=this.ea;return null===t?null:t.value},Q.prototype.any=function(t){for(var e=this.ea;null!==e;){if(t(e.value))return!0;e=e.ua}return!1},Q.prototype.all=function(t){for(var e=this.ea;null!==e;){if(!t(e.value))return!1;e=e.ua}return!0},Q.prototype.each=function(t){for(var e=this.ea;null!==e;)t(e.value),e=e.ua;return this},Q.prototype.map=function(t){for(var e=new Q,i=this.ea;null!==i;)e.add(t(i.value)),i=i.ua;return e},Q.prototype.filter=function(t){for(var e=new Q,i=this.ea;null!==i;){var n=i.value;t(n)&&e.add(n),i=i.ua}return e},(e=Q.prototype).remove=function(t){if(null===t)return!1;this._isFrozen&&k(this,t);var e=t;if(C(t)&&void 0===(e=et(t)))return!1;if(void 0===(t=this.Rb[e]))return!1;var i=t.ua,n=t.jl;return null!==i&&(i.jl=n),null!==n&&(n.ua=i),this.ea===t&&(this.ea=i),this.jf===t&&(this.jf=n),delete this.Rb[e],this.Qb--,this.xb(),!0},e.delete=function(t){return this.remove(t)},e.fp=function(t){if(null===t)return this;if(this._isFrozen&&k(this),M(t))for(var e=t.length,i=0;i<e;i++)this.remove(t[i]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},e.oA=function(t){if(null===t||0===this.count)return this;this._isFrozen&&k(this);var e=new Q;e.addAll(t),t=[];for(var i=this.iterator;i.next();){var n=i.value;e.contains(n)||t.push(n)}return this.fp(t),this},e.clear=function(){this._isFrozen&&k(this),this.Rb={},this.Qb=0,null!==this.Sa&&this.Sa.reset(),this.jf=this.ea=null,this.xb()},Q.prototype.copy=function(){var t,e=new Q,i=this.Rb;for(t in i)e.add(i[t].value);return e},Q.prototype.Fa=function(){var t,e=Array(this.Qb),i=this.Rb,n=0;for(t in i)e[n]=i[t].value,n++;return e},Q.prototype.Fv=function(){var t,e=new Z,i=this.Rb;for(t in i)e.add(i[t].value);return e},d.Object.defineProperties(Q.prototype,{count:{get:function(){return this.Qb}},size:{get:function(){return this.Qb}},iterator:{get:function(){if(0>=this.Qb)return K;var t=this.Sa;return null!==t?(t.reset(),t):new J(this)}}}),Q.prototype.toList=Q.prototype.Fv,Q.prototype.toArray=Q.prototype.Fa,Q.prototype.clear=Q.prototype.clear,Q.prototype.retainAll=Q.prototype.oA,Q.prototype.removeAll=Q.prototype.fp,Q.prototype.delete=Q.prototype.delete,Q.prototype.remove=Q.prototype.remove,Q.prototype.first=Q.prototype.first,Q.prototype.containsAny=Q.prototype.Uy,Q.prototype.containsAll=Q.prototype.Ty,Q.prototype.has=Q.prototype.has,Q.prototype.contains=Q.prototype.contains,Q.prototype.addAll=Q.prototype.addAll,Q.prototype.add=Q.prototype.add,Q.prototype.thaw=Q.prototype.ja,Q.prototype.freeze=Q.prototype.freeze;var it,nt,rt,ot,at,st=1;function lt(t){this.ma=t,this.qa=t.Ja,this.sa=null}function ut(t){Q.call(this),$(this),this._isFrozen=!0,this.ma=t}function ht(t){this.ma=t,t.hf=null,this.qa=t.Ja,this.sa=null}function ct(t,e){this.key=t,this.value=e,this.jl=this.ua=null}function dt(t){this.ma=t,t.Sa=null,this.qa=t.Ja,this.sa=null}function ft(t){$(this),this._isFrozen=!1,this.Rb={},this.Qb=0,this.hf=this.Sa=null,this.Ja=0,this.jf=this.ea=null,"string"===typeof t&&w("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function pt(t,e){void 0===t?this.y=this.x=0:"number"===typeof t&&"number"===typeof e?(this.x=t,this.y=e):w("Invalid arguments to Point constructor: "+t+", "+e),this._isFrozen=!1}function gt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new pt(i,r)}return new pt}function mt(t){return t.x.toString()+" "+t.y.toString()}function vt(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function yt(t,e){return e.Pd(t),t}function bt(t,e,i,n,r,o){var a=r-i,s=o-n,l=a*a+s*s,u=-(i-=t)*a-(n-=e)*s;return 0>=u||u>=l?(a=r-t,s=o-e,Math.min(i*i+n*n,a*a+s*s)):(t=a*n-s*i)*t/l}function xt(t,e,i,n){return(t=i-t)*t+(e=n-e)*e}function wt(t,e,i,n){return e=n-e,0===(t=i-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)}Q.className="Set",Q.uniqueHash=$,Q.hashIdUnique=tt,Q.hashId=et,lt.prototype.reset=function(){this.qa=this.ma.Ja,this.sa=null},lt.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.ua)?(this.sa=e,this.value=this.key=t=e.key,!0):(this.be(),!1)},lt.prototype.yd=function(){return this.next()},lt.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,null!==(t=t.ea)?(this.sa=t,this.value=this.key=t=t.key):null},lt.prototype.any=function(t){var e=this.ma;for(this.sa=null,e=e.ea;null!==e;){if(t(e.key))return!0;e=e.ua}return!1},lt.prototype.all=function(t){var e=this.ma;for(this.sa=null,e=e.ea;null!==e;){if(!t(e.key))return!1;e=e.ua}return!0},lt.prototype.each=function(t){var e=this.ma;for(this.sa=null,e=e.ea;null!==e;)t(e.key),e=e.ua;return this},lt.prototype.map=function(t){var e=this.ma;this.sa=null;var i=new Z;for(e=e.ea;null!==e;)i.add(t(e.key)),e=e.ua;return i.iterator},lt.prototype.filter=function(t){var e=this.ma;this.sa=null;var i=new Z;for(e=e.ea;null!==e;){var n=e.key;t(n)&&i.add(n),e=e.ua}return i.iterator},lt.prototype.be=function(){this.value=this.key=null,this.qa=-1},lt.prototype.toString=function(){return null!==this.sa?"MapKeySetIterator@"+this.sa.value:"MapKeySetIterator"},d.Object.defineProperties(lt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Qb}}}),lt.prototype.first=lt.prototype.first,lt.prototype.hasNext=lt.prototype.yd,lt.prototype.next=lt.prototype.next,lt.prototype.reset=lt.prototype.reset,lt.className="MapKeySetIterator",c(ut,Q),(e=ut.prototype).freeze=function(){return this},e.ja=function(){return this},e.toString=function(){return"MapKeySet("+this.ma.toString()+")"},e.add=function(){w("This Set is read-only: "+this.toString())},e.contains=function(t){return this.ma.contains(t)},e.has=function(t){return this.contains(t)},e.remove=function(){w("This Set is read-only: "+this.toString())},e.delete=function(t){return this.remove(t)},e.clear=function(){w("This Set is read-only: "+this.toString())},e.first=function(){var t=this.ma.ea;return null!==t?t.key:null},ut.prototype.any=function(t){for(var e=this.ma.ea;null!==e;){if(t(e.key))return!0;e=e.ua}return!1},ut.prototype.all=function(t){for(var e=this.ma.ea;null!==e;){if(!t(e.key))return!1;e=e.ua}return!0},ut.prototype.each=function(t){for(var e=this.ma.ea;null!==e;)t(e.key),e=e.ua;return this},ut.prototype.map=function(t){for(var e=new Q,i=this.ma.ea;null!==i;)e.add(t(i.key)),i=i.ua;return e},ut.prototype.filter=function(t){for(var e=new Q,i=this.ma.ea;null!==i;){var n=i.key;t(n)&&e.add(n),i=i.ua}return e},ut.prototype.copy=function(){return new ut(this.ma)},ut.prototype.Gv=function(){var t,e=new Q,i=this.ma.Rb;for(t in i)e.add(i[t].key);return e},ut.prototype.Fa=function(){var t,e=this.ma.Rb,i=Array(this.ma.Qb),n=0;for(t in e)i[n]=e[t].key,n++;return i},ut.prototype.Fv=function(){var t,e=new Z,i=this.ma.Rb;for(t in i)e.add(i[t].key);return e},d.Object.defineProperties(ut.prototype,{count:{get:function(){return this.ma.Qb}},size:{get:function(){return this.ma.Qb}},iterator:{get:function(){return 0>=this.ma.Qb?K:new lt(this.ma)}}}),ut.prototype.toList=ut.prototype.Fv,ut.prototype.toArray=ut.prototype.Fa,ut.prototype.toSet=ut.prototype.Gv,ut.prototype.first=ut.prototype.first,ut.prototype.clear=ut.prototype.clear,ut.prototype.delete=ut.prototype.delete,ut.prototype.remove=ut.prototype.remove,ut.prototype.has=ut.prototype.has,ut.prototype.contains=ut.prototype.contains,ut.prototype.add=ut.prototype.add,ut.prototype.thaw=ut.prototype.ja,ut.prototype.freeze=ut.prototype.freeze,ut.className="MapKeySet",ht.prototype.reset=function(){var t=this.ma;t.hf=null,this.qa=t.Ja,this.sa=null},ht.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.ua)?(this.sa=e,this.value=e.value,this.key=e.key,!0):(this.be(),!1)},ht.prototype.yd=function(){return this.next()},ht.prototype.first=function(){var t=this.ma;if(this.qa=t.Ja,null!==(t=t.ea)){this.sa=t;var e=t.value;return this.key=t.key,this.value=e}return null},ht.prototype.any=function(t){var e=this.ma;for(this.sa=e.hf=null,e=e.ea;null!==e;){if(t(e.value))return!0;e=e.ua}return!1},ht.prototype.all=function(t){var e=this.ma;for(this.sa=e.hf=null,e=e.ea;null!==e;){if(!t(e.value))return!1;e=e.ua}return!0},ht.prototype.each=function(t){var e=this.ma;for(this.sa=e.hf=null,e=e.ea;null!==e;)t(e.value),e=e.ua;return this},ht.prototype.map=function(t){var e=this.ma;this.sa=e.hf=null;var i=new Z;for(e=e.ea;null!==e;)i.add(t(e.value)),e=e.ua;return i.iterator},ht.prototype.filter=function(t){var e=this.ma;this.sa=e.hf=null;var i=new Z;for(e=e.ea;null!==e;){var n=e.value;t(n)&&i.add(n),e=e.ua}return i.iterator},ht.prototype.be=function(){this.value=this.key=null,this.qa=-1,this.ma.hf=this},ht.prototype.toString=function(){return null!==this.sa?"MapValueSetIterator@"+this.sa.value:"MapValueSetIterator"},d.Object.defineProperties(ht.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Qb}}}),ht.prototype.first=ht.prototype.first,ht.prototype.hasNext=ht.prototype.yd,ht.prototype.next=ht.prototype.next,ht.prototype.reset=ht.prototype.reset,ht.className="MapValueSetIterator",ct.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},ct.className="KeyValuePair",dt.prototype.reset=function(){var t=this.ma;t.Sa=null,this.qa=t.Ja,this.sa=null},dt.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.ua)?(this.sa=e,this.key=e.key,this.value=e.value,!0):(this.be(),!1)},dt.prototype.yd=function(){return this.next()},dt.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,null!==(t=t.ea)?(this.sa=t,this.key=t.key,this.value=t.value,t):null},dt.prototype.any=function(t){var e=this.ma;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(t(e))return!0;e=e.ua}return!1},dt.prototype.all=function(t){var e=this.ma;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(!t(e))return!1;e=e.ua}return!0},dt.prototype.each=function(t){var e=this.ma;for(this.sa=e.Sa=null,e=e.ea;null!==e;)t(e),e=e.ua;return this},dt.prototype.map=function(t){var e=this.ma;this.sa=e.Sa=null;var i=new Z;for(e=e.ea;null!==e;)i.add(t(e)),e=e.ua;return i.iterator},dt.prototype.filter=function(t){var e=this.ma;this.sa=e.Sa=null;var i=new Z;for(e=e.ea;null!==e;)t(e)&&i.add(e),e=e.ua;return i.iterator},dt.prototype.be=function(){this.value=this.key=null,this.qa=-1,this.ma.Sa=this},dt.prototype.toString=function(){return null!==this.sa?"MapIterator@"+this.sa:"MapIterator"},d.Object.defineProperties(dt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Qb}}}),dt.prototype.first=dt.prototype.first,dt.prototype.hasNext=dt.prototype.yd,dt.prototype.next=dt.prototype.next,dt.prototype.reset=dt.prototype.reset,dt.className="MapIterator",(e=ft.prototype).xb=function(){var t=this.Ja;999999999<++t&&(t=0),this.Ja=t},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.toString=function(){return"Map()#"+et(this)},e.add=function(t,e){this._isFrozen&&k(this,t);var i=t;C(t)&&(i=tt(t));var n=this.Rb[i];return void 0===n?(this.Qb++,t=new ct(t,e),this.Rb[i]=t,null===(i=this.jf)?this.ea=t:(t.jl=i,i.ua=t),this.jf=t,this.xb()):n.value=e,this},e.set=function(t,e){return this.add(t,e)},e.addAll=function(t){if(null===t)return this;if(M(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];this.add(n.key,n.value)}else if(t instanceof ft)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)e=t.value,this.add(e.key,e.value);return this},e.first=function(){return this.ea},ft.prototype.any=function(t){for(var e=this.ea;null!==e;){if(t(e))return!0;e=e.ua}return!1},ft.prototype.all=function(t){for(var e=this.ea;null!==e;){if(!t(e))return!1;e=e.ua}return!0},ft.prototype.each=function(t){for(var e=this.ea;null!==e;)t(e),e=e.ua;return this},ft.prototype.map=function(t){for(var e=new ft,i=this.ea;null!==i;)e.add(i.key,t(i)),i=i.ua;return e},ft.prototype.filter=function(t){for(var e=new ft,i=this.ea;null!==i;)t(i)&&e.add(i.key,i.value),i=i.ua;return e},(e=ft.prototype).contains=function(t){var e=t;return(!C(t)||void 0!==(e=et(t)))&&void 0!==this.Rb[e]},e.has=function(t){return this.contains(t)},e.I=function(t){var e=t;return C(t)&&void 0===(e=et(t))||void 0===(t=this.Rb[e])?null:t.value},e.get=function(t){return this.I(t)},e.remove=function(t){if(null===t)return!1;this._isFrozen&&k(this,t);var e=t;if(C(t)&&void 0===(e=et(t)))return!1;if(void 0===(t=this.Rb[e]))return!1;var i=t.ua,n=t.jl;return null!==i&&(i.jl=n),null!==n&&(n.ua=i),this.ea===t&&(this.ea=i),this.jf===t&&(this.jf=n),delete this.Rb[e],this.Qb--,this.xb(),!0},e.delete=function(t){return this.remove(t)},e.clear=function(){this._isFrozen&&k(this),this.Rb={},this.Qb=0,null!==this.Sa&&this.Sa.reset(),null!==this.hf&&this.hf.reset(),this.jf=this.ea=null,this.xb()},ft.prototype.copy=function(){var t,e=new ft,i=this.Rb;for(t in i){var n=i[t];e.add(n.key,n.value)}return e},ft.prototype.Fa=function(){var t,e=this.Rb,i=Array(this.Qb),n=0;for(t in e){var r=e[t];i[n]=new ct(r.key,r.value),n++}return i},ft.prototype.Lf=function(){return new ut(this)},d.Object.defineProperties(ft.prototype,{count:{get:function(){return this.Qb}},size:{get:function(){return this.Qb}},iterator:{get:function(){if(0>=this.count)return K;var t=this.Sa;return null!==t?(t.reset(),t):new dt(this)}},iteratorKeys:{get:function(){return 0>=this.count?K:new lt(this)}},iteratorValues:{get:function(){if(0>=this.count)return K;var t=this.hf;return null!==t?(t.reset(),t):new ht(this)}}}),ft.prototype.toKeySet=ft.prototype.Lf,ft.prototype.toArray=ft.prototype.Fa,ft.prototype.clear=ft.prototype.clear,ft.prototype.delete=ft.prototype.delete,ft.prototype.remove=ft.prototype.remove,ft.prototype.get=ft.prototype.get,ft.prototype.getValue=ft.prototype.I,ft.prototype.has=ft.prototype.has,ft.prototype.contains=ft.prototype.contains,ft.prototype.first=ft.prototype.first,ft.prototype.addAll=ft.prototype.addAll,ft.prototype.set=ft.prototype.set,ft.prototype.add=ft.prototype.add,ft.prototype.thaw=ft.prototype.ja,ft.prototype.freeze=ft.prototype.freeze,ft.className="Map",pt.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},pt.prototype.h=function(t,e){return this.x=t,this.y=e,this},pt.prototype.rg=function(t,e){return this.x=t,this.y=e,this},pt.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},pt.prototype.copy=function(){var t=new pt;return t.x=this.x,t.y=this.y,t},(e=pt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Point("+this.x+","+this.y+")"},e.C=function(t){return t instanceof pt&&(this.x===t.x&&this.y===t.y)},e.hi=function(t,e){return this.x===t&&this.y===e},e.Xa=function(t){return We.B(this.x,t.x)&&We.B(this.y,t.y)},e.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.qe=function(t){return this.x-=t.x,this.y-=t.y,this},e.offset=function(t,e){return this.x+=t,this.y+=e,this},pt.prototype.rotate=function(t){if(0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));return this.x=t*e-n*i,this.y=n*e+t*i,this},(e=pt.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},e.Bf=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},e.xd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},e.normalize=function(){var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return 0<i&&(this.x=t/i,this.y=e/i),this},e.ab=function(t){return vt(t.x-this.x,t.y-this.y)},e.direction=function(t,e){return vt(t-this.x,e-this.y)},e.Sy=function(t,e){return We.Dl(t.x,t.y,e.x,e.y,this.x,this.y)},e.eA=function(t,e,i,n){return We.ph(t,e,i,n,this.x,this.y,this),this},e.fA=function(t,e){return We.ph(t.x,t.y,e.x,e.y,this.x,this.y,this),this},e.tA=function(t,e,i,n){return We.No(this.x,this.y,t,e,i,n,this),this},e.uA=function(t,e){return We.No(this.x,this.y,t.x,t.y,e.width,e.height,this),this},e.xi=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},e.yi=function(t,e,i,n,r){return this.x=t+r.x*i+r.offsetX,this.y=e+r.y*n+r.offsetY,this},e.transform=function(t){return t.Ga(this),this},e.w=function(){return isFinite(this.x)&&isFinite(this.y)},pt.alloc=function(){var t=Dt.pop();return void 0===t?new pt:t},pt.allocAt=function(t,e){var i=Dt.pop();return void 0===i?new pt(t,e):(i.x=t,i.y=e,i)},pt.free=function(t){Dt.push(t)},pt.prototype.isReal=pt.prototype.w,pt.prototype.setSpot=pt.prototype.yi,pt.prototype.setRectSpot=pt.prototype.xi,pt.prototype.snapToGridPoint=pt.prototype.uA,pt.prototype.snapToGrid=pt.prototype.tA,pt.prototype.projectOntoLineSegmentPoint=pt.prototype.fA,pt.prototype.projectOntoLineSegment=pt.prototype.eA,pt.intersectingLineSegments=function(t,e,i,n,r,o,a,s){return We.Pl(t,e,i,n,r,o,a,s)},pt.prototype.compareWithLineSegmentPoint=pt.prototype.Sy,pt.compareWithLineSegment=function(t,e,i,n,r,o){return We.Dl(t,e,i,n,r,o)},pt.prototype.direction=pt.prototype.direction,pt.prototype.directionPoint=pt.prototype.ab,pt.prototype.normalize=pt.prototype.normalize,pt.prototype.distanceSquared=pt.prototype.xd,pt.prototype.distanceSquaredPoint=pt.prototype.Bf,pt.prototype.scale=pt.prototype.scale,pt.prototype.rotate=pt.prototype.rotate,pt.prototype.offset=pt.prototype.offset,pt.prototype.subtract=pt.prototype.qe,pt.prototype.add=pt.prototype.add,pt.prototype.equalsApprox=pt.prototype.Xa,pt.prototype.equalTo=pt.prototype.hi,pt.prototype.equals=pt.prototype.C,pt.prototype.set=pt.prototype.set,pt.prototype.setTo=pt.prototype.rg;var kt,_t,St,Ct,Mt,Pt,Tt,Dt=[];function Nt(t,e){void 0===t?this.height=this.width=0:"number"===typeof t&&(0<=t||isNaN(t))&&"number"===typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):w("Invalid arguments to Size constructor: "+t+", "+e),this._isFrozen=!1}function It(t){if("string"===typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new Nt(i,r)}return new Nt}function Et(t){return t.width.toString()+" "+t.height.toString()}pt.className="Point",pt.parse=gt,pt.stringify=mt,pt.distanceLineSegmentSquared=bt,pt.distanceSquared=xt,pt.direction=wt,pt.Origin=it=new pt(0,0).ha(),pt.InfiniteTopLeft=nt=new pt(-1/0,-1/0).ha(),pt.InfiniteBottomRight=rt=new pt(1/0,1/0).ha(),pt.SixPoint=ot=new pt(6,6).ha(),pt.NoPoint=at=new pt(NaN,NaN).ha(),pt.parse=gt,pt.stringify=mt,pt.distanceLineSegmentSquared=bt,pt.distanceSquared=xt,pt.direction=wt,Nt.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},Nt.prototype.h=function(t,e){return this.width=t,this.height=e,this},Nt.prototype.rg=function(t,e){return this.width=t,this.height=e,this},Nt.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},Nt.prototype.copy=function(){var t=new Nt;return t.width=this.width,t.height=this.height,t},(e=Nt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Size("+this.width+","+this.height+")"},e.C=function(t){return t instanceof Nt&&(this.width===t.width&&this.height===t.height)},e.hi=function(t,e){return this.width===t&&this.height===e},e.Xa=function(t){return We.B(this.width,t.width)&&We.B(this.height,t.height)},e.Ac=function(t,e){return t=this.width+t,this.width=0<=t?t:0,e=this.height+e,this.height=0<=e?e:0,this},e.w=function(){return isFinite(this.width)&&isFinite(this.height)},Nt.alloc=function(){var t=At.pop();return void 0===t?new Nt:t},Nt.free=function(t){At.push(t)},Nt.prototype.isReal=Nt.prototype.w,Nt.prototype.inflate=Nt.prototype.Ac,Nt.prototype.equalsApprox=Nt.prototype.Xa,Nt.prototype.equalTo=Nt.prototype.hi,Nt.prototype.equals=Nt.prototype.C,Nt.prototype.set=Nt.prototype.set,Nt.prototype.setTo=Nt.prototype.rg;var At=[];function Ot(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:"number"===typeof t&&"number"===typeof e&&"number"===typeof i&&(0<=i||isNaN(i))&&"number"===typeof n&&(0<=n||isNaN(n))?(this.x=t,this.y=e,this.width=i,this.height=n):t instanceof pt?(i=t.x,t=t.y,e instanceof pt?(n=e.x,e=e.y,this.x=Math.min(i,n),this.y=Math.min(t,e),this.width=Math.abs(i-n),this.height=Math.abs(t-e)):e instanceof Nt?(this.x=i,this.y=t,this.width=e.width,this.height=e.height):w("Incorrect second argument supplied to Rect constructor "+e)):w("Invalid arguments to Rect constructor: "+t+", "+e+", "+i+", "+n),this._isFrozen=!1}function Lt(t,e,i){t.width=e,t.height=i}function Rt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;(n=t[e++])&&(o=parseFloat(n));for(var a=0;""===t[e];)e++;return(n=t[e++])&&(a=parseFloat(n)),new Ot(i,r,o,a)}return new Ot}function jt(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function Bt(t,e){return We.$(t.x,e.x)&&We.$(t.y,e.y)&&We.$(t.width,e.width)&&We.$(t.height,e.height)}function Ft(t,e,i,n,r){var o=t.width;return i+r<=-o?(t.x+=o/2,t.width=0):(t.x-=r,t.width+=i+r),e+n<=-(i=t.height)?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function zt(t,e,i,n,r){var o=Math.max(t.x,e),a=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+r),t.x=o,t.y=a,t.width=Math.max(0,e-o),t.height=Math.max(0,i-a),t}function Ht(t,e){var i=t.width,n=t.x,r=e.x-10;return!(n>e.width+10+10+r||r>i+n)&&(i=t.height,t=t.y,n=e.y-10,!(t>e.height+10+10+n||n>i+t))}function Vt(t,e,i,n,r){var o=Math.min(t.x,e),a=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+r),t.x=o,t.y=a,t.width=e-o,t.height=i-a,t}function Wt(t,e,i,n,r,o,a,s){return void 0===a&&(a=0),void 0===s&&(s=0),t<=r&&r+a<=t+i&&e<=o&&o+s<=e+n}function Ut(t,e,i,n,r,o,a,s){return!(t>a+r||r>i+t)&&!(e>s+o||o>n+e)}Nt.className="Size",Nt.parse=It,Nt.stringify=Et,Nt.ZeroSize=kt=new Nt(0,0).ha(),Nt.OneSize=_t=new Nt(1,1).ha(),Nt.SixSize=St=new Nt(6,6).ha(),Nt.EightSize=Ct=new Nt(8,8).ha(),Nt.TenSize=Mt=new Nt(10,10).ha(),Nt.InfiniteSize=Pt=new Nt(1/0,1/0).ha(),Nt.NoSize=Tt=new Nt(NaN,NaN).ha(),Nt.parse=It,Nt.stringify=Et,(e=Ot.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.h=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},e.rg=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},e.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.$c=function(t){return this.x=t.x,this.y=t.y,this},e.sA=function(t){return this.width=t.width,this.height=t.height,this},Ot.prototype.copy=function(){var t=new Ot;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(e=Ot.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},e.C=function(t){return t instanceof Ot&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},e.hi=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},e.Xa=function(t){return We.B(this.x,t.x)&&We.B(this.y,t.y)&&We.B(this.width,t.width)&&We.B(this.height,t.height)},e.ca=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},e.Qe=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},e.contains=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},e.offset=function(t,e){return this.x+=t,this.y+=e,this},e.Ac=function(t,e){return Ft(this,e,t,e,t)},e.Co=function(t){return Ft(this,t.top,t.right,t.bottom,t.left)},e.Dv=function(t){return Ft(this,-t.top,-t.right,-t.bottom,-t.left)},e.Iz=function(t,e,i,n){return Ft(this,t,e,i,n)},e.Ex=function(t){return zt(this,t.x,t.y,t.width,t.height)},e.Uu=function(t,e,i,n){return zt(this,t,e,i,n)},e.Vc=function(t){return this.Vu(t.x,t.y,t.width,t.height)},e.Vu=function(t,e,i,n){var r=this.width,o=this.x;return!(1/0!==r&&1/0!==i&&(r+=o,i+=t,isNaN(i)||isNaN(r)||o>i||t>r))&&(t=this.height,i=this.y,!(1/0!==t&&1/0!==n&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)))},e.Xe=function(t){return Vt(this,t.x,t.y,0,0)},e.ad=function(t){return Vt(this,t.x,t.y,t.width,t.height)},e.Iv=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),Vt(this,t,e,i,n)},e.yi=function(t,e,i){return this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this},e.w=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.Nz=function(){return 0===this.width&&0===this.height},Ot.alloc=function(){var t=Yt.pop();return void 0===t?new Ot:t},Ot.allocAt=function(t,e,i,n){var r=Yt.pop();return void 0===r?new Ot(t,e,i,n):r.h(t,e,i,n)},Ot.free=function(t){Yt.push(t)},d.Object.defineProperties(Ot.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new pt(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new Nt(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new pt(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),Ot.prototype.isEmpty=Ot.prototype.Nz,Ot.prototype.isReal=Ot.prototype.w,Ot.intersectsLineSegment=function(t,e,i,n,r,o,a,s){return We.Fx(t,e,i,n,r,o,a,s)},Ot.prototype.setSpot=Ot.prototype.yi,Ot.prototype.union=Ot.prototype.Iv,Ot.prototype.unionRect=Ot.prototype.ad,Ot.prototype.unionPoint=Ot.prototype.Xe,Ot.prototype.intersects=Ot.prototype.Vu,Ot.prototype.intersectsRect=Ot.prototype.Vc,Ot.prototype.intersect=Ot.prototype.Uu,Ot.prototype.intersectRect=Ot.prototype.Ex,Ot.prototype.grow=Ot.prototype.Iz,Ot.prototype.subtractMargin=Ot.prototype.Dv,Ot.prototype.addMargin=Ot.prototype.Co,Ot.prototype.inflate=Ot.prototype.Ac,Ot.prototype.offset=Ot.prototype.offset,Ot.prototype.contains=Ot.prototype.contains,Ot.prototype.containsRect=Ot.prototype.Qe,Ot.prototype.containsPoint=Ot.prototype.ca,Ot.prototype.equalsApprox=Ot.prototype.Xa,Ot.prototype.equalTo=Ot.prototype.hi,Ot.prototype.equals=Ot.prototype.C,Ot.prototype.setSize=Ot.prototype.sA,Ot.prototype.setPoint=Ot.prototype.$c,Ot.prototype.set=Ot.prototype.set,Ot.prototype.setTo=Ot.prototype.rg;var Gt,Kt=null,Yt=[];function Xt(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):w("Invalid arguments to Margin constructor: "+t+", "+e+", "+i+", "+n),this._isFrozen=!1}function qt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,i=NaN;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new Xt;for(var r=NaN;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new Xt(i);for(var o=NaN;""===t[e];)e++;if((n=t[e++])&&(o=parseFloat(n)),isNaN(o))return new Xt(i,r);for(var a=NaN;""===t[e];)e++;return(n=t[e++])&&(a=parseFloat(n)),isNaN(a)?new Xt(i,r):new Xt(i,r,o,a)}return new Xt}function Zt(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}Ot.className="Rect",Ot.parse=Rt,Ot.stringify=jt,Ot.contains=Wt,Ot.intersects=Ut,Ot.ZeroRect=Gt=new Ot(0,0,0,0).ha(),Ot.NoRect=Kt=new Ot(NaN,NaN,NaN,NaN).ha(),Ot.parse=Rt,Ot.stringify=jt,Ot.contains=Wt,Ot.intersects=Ut,Xt.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Xt.prototype.rg=function(t,e,i,n){return this.top=t,this.right=e,this.bottom=i,this.left=n,this},Xt.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Xt.prototype.copy=function(){var t=new Xt;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(e=Xt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},e.C=function(t){return t instanceof Xt&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},e.hi=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},e.Xa=function(t){return We.B(this.top,t.top)&&We.B(this.right,t.right)&&We.B(this.bottom,t.bottom)&&We.B(this.left,t.left)},e.w=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Xt.alloc=function(){var t=Le.pop();return void 0===t?new Xt:t},Xt.free=function(t){Le.push(t)},Xt.prototype.isReal=Xt.prototype.w,Xt.prototype.equalsApprox=Xt.prototype.Xa,Xt.prototype.equalTo=Xt.prototype.hi,Xt.prototype.equals=Xt.prototype.C,Xt.prototype.set=Xt.prototype.set,Xt.prototype.setTo=Xt.prototype.rg;var Jt,Qt,$t,te,ee,ie,ne,re,oe,ae,se,le,ue,he,ce,de,fe,pe,ge,me,ve,ye,be,xe,we,ke,_e,Se,Ce,Me,Pe,Te,De,Ne,Ie,Ee,Ae=null,Oe=null,Le=[];function Re(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n),this._isFrozen=!1}function je(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function Be(t){if("string"===typeof t){if("None"===(t=t.trim()))return Jt;if("TopLeft"===t)return Qt;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return $t;if("TopRight"===t)return te;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return ee;if("Center"===t)return ie;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return ne;if("BottomLeft"===t)return re;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return oe;if("BottomRight"===t)return ae;if("TopSide"===t)return se;if("LeftSide"===t)return le;if("RightSide"===t)return ue;if("BottomSide"===t)return he;if("TopBottomSides"===t)return ce;if("LeftRightSides"===t)return de;if("TopLeftSides"===t)return fe;if("TopRightSides"===t)return pe;if("BottomLeftSides"===t)return ge;if("BottomRightSides"===t)return me;if("NotTopSide"===t)return ve;if("NotLeftSide"===t)return ye;if("NotRightSide"===t)return be;if("NotBottomSide"===t)return xe;if("AllSides"===t)return we;if("Default"===t)return ke;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;void 0!==(n=t[e++])&&0<n.length&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;void 0!==(n=t[e++])&&0<n.length&&(o=parseFloat(n));for(var a=0;""===t[e];)e++;return void 0!==(n=t[e++])&&0<n.length&&(a=parseFloat(n)),new Re(i,r,o,a)}return new Re}function Fe(t){return t.sb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}Xt.className="Margin",Xt.parse=qt,Xt.stringify=Zt,Xt.ZeroMargin=Ae=new Xt(0,0,0,0).ha(),Xt.TwoMargin=Oe=new Xt(2,2,2,2).ha(),Xt.parse=qt,Xt.stringify=Zt,Re.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Re.prototype.rg=function(t,e,i,n){return this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},Re.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Re.prototype.copy=function(){var t=new Re;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(e=Re.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return this.sb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.C(Jt)?"None":this.C(Qt)?"TopLeft":this.C($t)?"Top":this.C(te)?"TopRight":this.C(ee)?"Left":this.C(ie)?"Center":this.C(ne)?"Right":this.C(re)?"BottomLeft":this.C(oe)?"Bottom":this.C(ae)?"BottomRight":this.C(se)?"TopSide":this.C(le)?"LeftSide":this.C(ue)?"RightSide":this.C(he)?"BottomSide":this.C(ce)?"TopBottomSides":this.C(de)?"LeftRightSides":this.C(fe)?"TopLeftSides":this.C(pe)?"TopRightSides":this.C(ge)?"BottomLeftSides":this.C(me)?"BottomRightSides":this.C(ve)?"NotTopSide":this.C(ye)?"NotLeftSide":this.C(be)?"NotRightSide":this.C(xe)?"NotBottomSide":this.C(we)?"AllSides":this.C(ke)?"Default":"None"},e.C=function(t){return t instanceof Re&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},e.gv=function(){return new Re(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},e.Hf=function(t){if(!this.Xc())return!1;if(!t.Xc())if(t.C(_e))t=le;else if(t.C(Se))t=ue;else if(t.C(Ce))t=se;else{if(!t.C(Me))return!1;t=he}return t=t.offsetY,(this.offsetY&t)===t},e.sb=function(){return!isNaN(this.x)&&!isNaN(this.y)},e.Lc=function(){return isNaN(this.x)||isNaN(this.y)},e.Xc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},e.vs=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},e.Wb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},Re.alloc=function(){var t=ze.pop();return void 0===t?new Re:t},Re.free=function(t){ze.push(t)},Re.prototype.isDefault=Re.prototype.Wb,Re.prototype.isNone=Re.prototype.vs,Re.prototype.isSide=Re.prototype.Xc,Re.prototype.isNoSpot=Re.prototype.Lc,Re.prototype.isSpot=Re.prototype.sb,Re.prototype.includesSide=Re.prototype.Hf,Re.prototype.opposite=Re.prototype.gv,Re.prototype.equals=Re.prototype.C,Re.prototype.set=Re.prototype.set,Re.prototype.setTo=Re.prototype.rg;var ze=[];function He(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}Re.className="Spot",Re.parse=Be,Re.stringify=Fe,Re.None=Jt=je(new Re(0,0,0,0),0).ha(),Re.Default=ke=je(new Re(0,0,-1,0),-1).ha(),Re.TopLeft=Qt=new Re(0,0,0,0).ha(),Re.TopCenter=$t=new Re(.5,0,0,0).ha(),Re.TopRight=te=new Re(1,0,0,0).ha(),Re.LeftCenter=ee=new Re(0,.5,0,0).ha(),Re.Center=ie=new Re(.5,.5,0,0).ha(),Re.RightCenter=ne=new Re(1,.5,0,0).ha(),Re.BottomLeft=re=new Re(0,1,0,0).ha(),Re.BottomCenter=oe=new Re(.5,1,0,0).ha(),Re.BottomRight=ae=new Re(1,1,0,0).ha(),Re.MiddleTop=Pe=$t,Re.MiddleLeft=Te=ee,Re.MiddleRight=De=ne,Re.MiddleBottom=Ne=oe,Re.Top=Ce=$t,Re.Left=_e=ee,Re.Right=Se=ne,Re.Bottom=Me=oe,Re.TopSide=se=je(new Re(0,0,1,1),1).ha(),Re.LeftSide=le=je(new Re(0,0,1,2),1).ha(),Re.RightSide=ue=je(new Re(0,0,1,4),1).ha(),Re.BottomSide=he=je(new Re(0,0,1,8),1).ha(),Re.TopBottomSides=ce=je(new Re(0,0,1,9),1).ha(),Re.LeftRightSides=de=je(new Re(0,0,1,6),1).ha(),Re.TopLeftSides=fe=je(new Re(0,0,1,3),1).ha(),Re.TopRightSides=pe=je(new Re(0,0,1,5),1).ha(),Re.BottomLeftSides=ge=je(new Re(0,0,1,10),1).ha(),Re.BottomRightSides=me=je(new Re(0,0,1,12),1).ha(),Re.NotTopSide=ve=je(new Re(0,0,1,14),1).ha(),Re.NotLeftSide=ye=je(new Re(0,0,1,13),1).ha(),Re.NotRightSide=be=je(new Re(0,0,1,11),1).ha(),Re.NotBottomSide=xe=je(new Re(0,0,1,7),1).ha(),Re.AllSides=we=je(new Re(0,0,1,15),1).ha(),Ie=new Re(.156,.156).ha(),Ee=new Re(.844,.844).ha(),Re.parse=Be,Re.stringify=Fe,He.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},He.prototype.setTransform=function(t,e,i,n,r,o){return this.m11=t,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},He.prototype.copy=function(){var t=new He;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},He.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},He.prototype.C=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},He.prototype.ts=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},He.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},He.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,i=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,r=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=r,this},He.prototype.bv=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,r=-t.m21*e,o=t.m11*e,a=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*i+this.m21*n,i=this.m12*i+this.m22*n,n=this.m11*r+this.m21*o,r=this.m12*r+this.m22*o,this.dx=this.m11*a+this.m21*t+this.dx,this.dy=this.m12*a+this.m22*t+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=r,this},He.prototype.Rl=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},He.prototype.rotate=function(t,e,i){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,i),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));var r=this.m12*t+this.m22*n,o=this.m11*-n+this.m21*t,a=this.m12*-n+this.m22*t;return this.m11=this.m11*t+this.m21*n,this.m12=r,this.m21=o,this.m22=a,this.translate(-e,-i),this},(e=He.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},e.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},e.Ga=function(t){var e=t.x,i=t.y;return t.h(e*this.m11+i*this.m21+this.dx,e*this.m12+i*this.m22+this.dy)},e.Pd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=t.x,n=t.y;return t.h(i*this.m22*e+n*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),i*-this.m12*e+n*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},e.Zw=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=1.25*t.x,n=1.2*t.y;return t.h(i*this.m22*e+n*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),i*-this.m12*e+n*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},e.np=function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,o=this.m11,a=this.m12,s=this.m21,l=this.m22,u=this.dx,h=this.dy,c=e*o+i*s+u,d=e*a+i*l+h,f=n*o+i*s+u,p=n*a+i*l+h;return i=e*o+r*s+u,e=e*a+r*l+h,o=n*o+r*s+u,n=n*a+r*l+h,r=Math.min(c,f),c=Math.max(c,f),f=Math.min(d,p),d=Math.max(d,p),r=Math.min(r,i),c=Math.max(c,i),f=Math.min(f,e),d=Math.max(d,e),r=Math.min(r,o),c=Math.max(c,o),f=Math.min(f,n),d=Math.max(d,n),t.h(r,f,c-r,d-f),t},He.alloc=function(){var t=Ve.pop();return void 0===t?new He:t},He.free=function(t){Ve.push(t)},He.prototype.transformRect=He.prototype.np,He.prototype.transformPoint=He.prototype.Ga,He.prototype.scale=He.prototype.scale,He.prototype.translate=He.prototype.translate,He.prototype.rotate=He.prototype.rotate,He.prototype.invert=He.prototype.Rl,He.prototype.multiplyInverted=He.prototype.bv,He.prototype.multiply=He.prototype.multiply,He.prototype.reset=He.prototype.reset,He.prototype.isIdentity=He.prototype.ts,He.prototype.equals=He.prototype.C,He.prototype.setTransform=He.prototype.setTransform,He.prototype.set=He.prototype.set;var Ve=[];He.className="Transform",He.xF="54a702f3e53909c447824c6706603faf4c";var We={zA:"7da71ca0ad381e90",vg:(Math.sqrt(2)-1)/3*4,Sv:null,sqrt:function(t){if(0>=t)return 0;var e=We.Sv;if(null===e){e=[];for(var i=0;2e3>=i;i++)e[i]=Math.sqrt(i);We.Sv=e}return 1>t?2e3>=(i=1/t)?1/e[0|i]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},B:function(t,e){return.5>(t-=e)&&-.5<t},$:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Xb:function(t,e,i,n,r,o,a){if(0>=r&&(r=1e-6),t<i)var s=t,l=i;else s=i,l=t;if(e<n)var u=e,h=n;else u=n,h=e;if(t===i)return u<=a&&a<=h&&t-r<=o&&o<=t+r;if(e===n)return s<=o&&o<=l&&e-r<=a&&a<=e+r;if(l+=r,(s-=r)<=o&&o<=l&&(h+=r,(u-=r)<=a&&a<=h))if(l-s>h-u){if(!(t-i>r||i-t>r))return!0;if((o=(n-e)/(i-t)*(o-t)+e)-r<=a&&a<=o+r)return!0}else{if(!(e-n>r||n-e>r))return!0;if((a=(i-t)/(n-e)*(a-e)+t)-r<=o&&o<=a+r)return!0}return!1},Zr:function(t,e,i,n,r,o,a,s,l,u,h,c){if(We.Xb(t,e,a,s,c,i,n)&&We.Xb(t,e,a,s,c,r,o))return We.Xb(t,e,a,s,c,u,h);var d=(t+i)/2,f=(e+n)/2,p=(i+r)/2,g=(n+o)/2,m=((n=(d+p)/2)+(p=(p+(r=(r+a)/2))/2))/2,v=((i=(f+g)/2)+(g=(g+(o=(o+s)/2))/2))/2;return We.Zr(t,e,d,f,n,i,m,v,l,u,h,c)||We.Zr(m,v,p,g,r,o,a,s,l,u,h,c)},$w:function(t,e,i,n,r,o,a,s,l){var u=(i+r)/2,h=(n+o)/2;return l.h((((t+i)/2+u)/2+(u+(r+a)/2)/2)/2,(((e+n)/2+h)/2+(h+(o+s)/2)/2)/2),l},Oy:function(t,e,i,n,r,o,a,s){var l=(i+r)/2,u=(n+o)/2;return wt(((t+i)/2+l)/2,((e+n)/2+u)/2,(l+(r+a)/2)/2,(u+(o+s)/2)/2)},Bl:function(t,e,i,n,r,o,a,s,l,u){if(We.Xb(t,e,a,s,l,i,n)&&We.Xb(t,e,a,s,l,r,o))Vt(u,t,e,0,0),Vt(u,a,s,0,0);else{var h=(t+i)/2,c=(e+n)/2,d=(i+r)/2,f=(n+o)/2,p=((n=(h+d)/2)+(d=(d+(r=(r+a)/2))/2))/2,g=((i=(c+f)/2)+(f=(f+(o=(o+s)/2))/2))/2;We.Bl(t,e,h,c,n,i,p,g,l,u),We.Bl(p,g,d,f,r,o,a,s,l,u)}return u},Pe:function(t,e,i,n,r,o,a,s,l,u){if(We.Xb(t,e,a,s,l,i,n)&&We.Xb(t,e,a,s,l,r,o))0===u.length&&(u.push(t),u.push(e)),u.push(a),u.push(s);else{var h=(t+i)/2,c=(e+n)/2,d=(i+r)/2,f=(n+o)/2,p=((n=(h+d)/2)+(d=(d+(r=(r+a)/2))/2))/2,g=((i=(c+f)/2)+(f=(f+(o=(o+s)/2))/2))/2;We.Pe(t,e,h,c,n,i,p,g,l,u),We.Pe(p,g,d,f,r,o,a,s,l,u)}return u},jv:function(t,e,i,n,r,o,a,s,l,u){if(We.Xb(t,e,r,o,u,i,n))return We.Xb(t,e,r,o,u,s,l);var h=(t+i)/2,c=(e+n)/2,d=(h+(i=(i+r)/2))/2,f=(c+(n=(n+o)/2))/2;return We.jv(t,e,h,c,d,f,a,s,l,u)||We.jv(d,f,i,n,r,o,a,s,l,u)},NA:function(t,e,i,n,r,o,a){return a.h(((t+i)/2+(i+r)/2)/2,((e+n)/2+(n+o)/2)/2),a},iv:function(t,e,i,n,r,o,a,s){if(We.Xb(t,e,r,o,a,i,n))Vt(s,t,e,0,0),Vt(s,r,o,0,0);else{var l=(t+i)/2,u=(e+n)/2,h=(l+(i=(i+r)/2))/2,c=(u+(n=(n+o)/2))/2;We.iv(t,e,l,u,h,c,a,s),We.iv(h,c,i,n,r,o,a,s)}return s},bp:function(t,e,i,n,r,o,a,s){if(We.Xb(t,e,r,o,a,i,n))0===s.length&&(s.push(t),s.push(e)),s.push(r),s.push(o);else{var l=(t+i)/2,u=(e+n)/2,h=(l+(i=(i+r)/2))/2,c=(u+(n=(n+o)/2))/2;We.bp(t,e,l,u,h,c,a,s),We.bp(h,c,i,n,r,o,a,s)}return s},Eo:function(t,e,i,n,r,o,a,s,l,u,h,c,d,f){if(We.Xb(t,e,a,s,d,i,n)&&We.Xb(t,e,a,s,d,r,o))return!!We.Pl(t,e,a,s,l,u,h,c)&&(0!==(d=(t-a)*(u-c)-(e-s)*(l-h))&&(f.h(((t*s-e*a)*(l-h)-(t-a)*(l*c-u*h))/d,((t*s-e*a)*(u-c)-(e-s)*(l*c-u*h))/d),!0));var p=(t+i)/2,g=(e+n)/2,m=(i+r)/2,v=(n+o)/2,y=((n=(p+m)/2)+(m=(m+(r=(r+a)/2))/2))/2,b=((i=(g+v)/2)+(v=(v+(o=(o+s)/2))/2))/2,x=1/0,w=!1,k=0,_=0;return We.Eo(t,e,p,g,n,i,y,b,l,u,h,c,d,f)&&((t=(f.x-l)*(f.x-l)+(f.y-u)*(f.y-u))<x&&(x=t,w=!0,k=f.x,_=f.y)),We.Eo(y,b,m,v,r,o,a,s,l,u,h,c,d,f)&&(f.x-l)*(f.x-l)+(f.y-u)*(f.y-u)<x&&(w=!0,k=f.x,_=f.y),w&&(f.x=k,f.y=_),w},Fo:function(t,e,i,n,r,o,a,s,l,u,h,c,d){var f=0;if(We.Xb(t,e,a,s,d,i,n)&&We.Xb(t,e,a,s,d,r,o)){if(0===(d=(t-a)*(u-c)-(e-s)*(l-h)))return f;var p=((t*s-e*a)*(l-h)-(t-a)*(l*c-u*h))/d,g=((t*s-e*a)*(u-c)-(e-s)*(l*c-u*h))/d;if(p>=h)return f;if((l>h?l-h:h-l)<(u>c?u-c:c-u)){if(e<s?(l=e,t=s):(l=s,t=e),g<l||g>t)return f}else if(t<a?(l=t,t=a):l=a,p<l||p>t)return f;0<d?f++:0>d&&f--}else{g=(e+n)/2;var m=(i+r)/2,v=(n+o)/2,y=((n=((p=(t+i)/2)+m)/2)+(m=(m+(r=(r+a)/2))/2))/2,b=((i=(g+v)/2)+(v=(v+(o=(o+s)/2))/2))/2;f+=We.Fo(t,e,p,g,n,i,y,b,l,u,h,c,d),f+=We.Fo(y,b,m,v,r,o,a,s,l,u,h,c,d)}return f},ph:function(t,e,i,n,r,o,a){return We.$(t,i)?(e<n?(i=e,e=n):i=n,o<i?(a.h(t,i),!1):o>e?(a.h(t,e),!1):(a.h(t,o),!0)):We.$(e,n)?(t<i?(n=t,t=i):n=i,r<n?(a.h(n,e),!1):r>t?(a.h(t,e),!1):(a.h(r,e),!0)):-5e-6>(r=((t-r)*(t-i)+(e-o)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)))?(a.h(t,e),!1):1.000005<r?(a.h(i,n),!1):(a.h(t+r*(i-t),e+r*(n-e)),!0)},Ue:function(t,e,i,n,r,o,a,s,l){return We.B(t,i)&&We.B(e,n)?(l.h(t,e),!1):We.$(r,a)?We.$(t,i)?(We.ph(t,e,i,n,r,o,l),!1):We.ph(t,e,i,n,r,(n-e)/(i-t)*(r-t)+e,l):(s=(s-o)/(a-r),We.$(t,i)?(i=s*(t-r)+o,e<n?(r=e,e=n):r=n,i<r?(l.h(t,r),!1):i>e?(l.h(t,e),!1):(l.h(t,i),!0)):(a=(n-e)/(i-t),We.$(s,a)?(We.ph(t,e,i,n,r,o,l),!1):(r=(a*t-s*r+o-e)/(a-s),We.$(a,0)?(t<i?(n=t,t=i):n=i,r<n?(l.h(n,e),!1):r>t?(l.h(t,e),!1):(l.h(r,e),!0)):We.ph(t,e,i,n,r,a*(r-t)+e,l))))},LA:function(t,e,i,n,r){return We.Ue(i.x,i.y,n.x,n.y,t.x,t.y,e.x,e.y,r)},JA:function(t,e,i,n,r,o,a,s,l,u){function h(i,n){var r=(i-t)*(i-t)+(n-e)*(n-e);r<c&&(c=r,l.h(i,n))}var c=1/0;h(l.x,l.y);var d=0,f=0,p=0,g=0;if(r<a?(d=r,f=a):(d=a,f=r),o<s?(p=r,g=a):(p=a,g=r),d=(f-d)/2+u,u=(g-p)/2+u,r=(r+a)/2,o=(o+s)/2,0===d||0===u)return l;if(.5>(i>t?i-t:t-i)){if(0>(d=1-(i-r)*(i-r)/(d*d)))return l;n=-u*(d=Math.sqrt(d))+o,h(i,u*d+o),h(i,n)}else{if(0>(d=(s=2*(i=(n-e)/(i-t))*(e-i*t)/(u*u)-2*i*o/(u*u)-2*r/(d*d))*s-4*(n=1/(d*d)+i*i/(u*u))*(2*i*t*o/(u*u)-2*e*o/(u*u)+o*o/(u*u)+r*r/(d*d)-1+(e-i*t)*(e-i*t)/(u*u))))return l;h(u=(-s+(d=Math.sqrt(d)))/(2*n),i*u-i*t+e),h(d=(-s-d)/(2*n),i*d-i*t+e)}return l},Ff:function(t,e,i,n,r,o,a,s,l){var u=1e21,h=t,c=e;if(We.Ue(t,e,t,n,r,o,a,s,l)){var d=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o);d<u&&(u=d,h=l.x,c=l.y)}return We.Ue(i,e,i,n,r,o,a,s,l)&&((d=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<u&&(u=d,h=l.x,c=l.y)),We.Ue(t,e,i,e,r,o,a,s,l)&&((e=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<u&&(u=e,h=l.x,c=l.y)),We.Ue(t,n,i,n,r,o,a,s,l)&&((t=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<u&&(u=t,h=l.x,c=l.y)),l.h(h,c),1e21>u},rs:function(t,e,i){return We.Fx(t.x,t.y,t.width,t.height,e.x,e.y,i.x,i.y)},Fx:function(t,e,i,n,r,o,a,s){var l=t+i,u=e+n;return r===a?(o<s?(a=o,o=s):a=s,t<=r&&r<=l&&a<=u&&o>=e):o===s?(r<a?(s=r,r=a):s=a,e<=o&&o<=u&&s<=l&&r>=t):!!(Wt(t,e,i,n,r,o)||Wt(t,e,i,n,a,s)||We.Pl(t,e,l,e,r,o,a,s)||We.Pl(l,e,l,u,r,o,a,s)||We.Pl(l,u,t,u,r,o,a,s)||We.Pl(t,u,t,e,r,o,a,s))},Pl:function(t,e,i,n,r,o,a,s){return t===i&&e===n&&r===a&&o===s?t===r&&e===o:0>=We.Dl(t,e,i,n,r,o)*We.Dl(t,e,i,n,a,s)&&0>=We.Dl(r,o,a,s,t,e)*We.Dl(r,o,a,s,i,n)},Dl:function(t,e,i,n,r,o){return i-=t,0===(o=(t=r-t)*(n-=e)-(e=o-e)*i)&&(0<(o=t*i+e*n)&&(0>(o=(t-i)*i+(e-n)*n)&&(o=0))),o},$o:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},jx:function(t,e,i,n,r,o){var a=Math.PI;o||(n*=a/180,r*=a/180);var s=n>r?-1:1;o=[];var l=a/2,u=n;if(1e-5>(n=Math.min(2*a,Math.abs(r-n))))return l=u+s*Math.min(n,l),s=t+i*Math.cos(u),u=e+i*Math.sin(u),t+=i*Math.cos(l),e+=i*Math.sin(l),i=(s+t)/2,l=(u+e)/2,o.push([s,u,i,l,i,l,t,e]),o;for(;1e-5<n;)r=u+s*Math.min(n,l),o.push(We.Wy(i,u,r,t,e)),n-=Math.abs(r-u),u=r;return o},Wy:function(t,e,i,n,r){var o=(i-e)/2,a=t*Math.cos(o),s=t*Math.sin(o),l=-s,u=a*a+l*l,h=u+a*a+l*s;return s=a-(u=4/3*(Math.sqrt(2*u*h)-h)/(a*s-l*a))*l,l=-(a=l+u*a),u=o+e,o=Math.cos(u),u=Math.sin(u),[n+t*Math.cos(e),r+t*Math.sin(e),n+s*o-a*u,r+s*u+a*o,n+s*o-l*u,r+s*u+l*o,n+t*Math.cos(i),r+t*Math.sin(i)]},No:function(t,e,i,n,r,o,a){var s=i=Math.floor((t-i)/r)*r+i;return i+r-t<r/2&&(s=i+r),t=n=Math.floor((e-n)/o)*o+n,n+o-e<o/2&&(t=n+o),a.h(s,t),a},vx:function(t,e){var i,n=Math.max(t,e);t=Math.min(t,e);do{e=n%t,n=i=t,t=e}while(0<e);return i},az:function(t,e,i,n){var r=0>i,o=0>n;if(t<e)var a=1,s=0;else a=0,s=1;var l=0===a?t:e,u=0===a?i:n;return(0===a?r:o)&&(u=-u),i=0===(a=s)?i:n,(0===a?r:o)&&(i=-i),We.bz(l,0===a?t:e,u,i,0,0)},bz:function(t,e,i,n,r,o){if(0<n)if(0<i){r=t*t,t*=i;var a=e*n,s=-(o=e*e)+a,l=-o+Math.sqrt(t*t+a*a);e=s;for(var u=0;9999999999>u&&((e=.5*(s+l))!==s&&e!==l);++u){var h=t/(e+r),c=a/(e+o);if(0<(h=h*h+c*c-1))s=e;else{if(!(0>h))break;l=e}}i=r*i/(e+r)-i,n=o*n/(e+o)-n,i=Math.sqrt(i*i+n*n)}else i=Math.abs(n-e);else(o=t*i)<(n=t*t-e*e)?(n=o/n,o=e*Math.sqrt(Math.abs(1-n*n)),i=t*n-i,i=Math.sqrt(i*i+o*o)):i=Math.abs(i-t);return i},Ye:new W,um:new W,Mf:new W,Nf:0,vm:100};function Ue(t){$(this),this.m=2,void 0===t&&(t=Ue.o),this.na=t,this.Dc=this.Cc=this.kd=this.jd=0,t===Ue.o?this.ce=new Z:(null===Ue.V&&(Ue.V=(new Z).freeze()),this.ce=Ue.V),this.Yp=this.ce.Ja,this.Gp=(new Ot).freeze(),this.ym=this.rk=null,this.zm=NaN,this.eg=Qt,this.fg=ae,this.Pk=this.Qk=NaN,this.Uf=ca}function Ge(t,e){return t.type===Ue.j&&e.type===Ue.o&&!!(1===e.figures.count&&(e=e.figures.L(0),1===e.segments.count&&We.B(t.startX,e.startX)&&We.B(t.startY,e.startY)&&(e=e.segments.L(0),e.type===ni&&We.B(t.endX,e.endX)&&We.B(t.endY,e.endY))))}function Ke(t,e,i){switch(t.type){case Ue.j:case Ue.u:case Ue.F:i?e.h(t.jd,t.kd,0,0):Vt(e,t.jd,t.kd,0,0),Vt(e,t.Cc,t.Dc,0,0);break;case Ue.o:var n=t.figures;t=n.s,n=n.length;for(var r=0;r<n;r++){var o=t[r];i&&0===r?e.h(o.startX,o.startY,0,0):Vt(e,o.startX,o.startY,0,0);for(var a=o.segments.s,s=a.length,l=o.startX,u=o.startY,h=0;h<s;h++){var c=a[h];switch(c.type){case ni:case ii:Vt(e,l=c.endX,u=c.endY,0,0);break;case ri:We.Bl(l,u,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.5,e),l=c.endX,u=c.endY;break;case oi:We.iv(l,u,c.point1X,c.point1Y,c.endX,c.endY,.5,e),l=c.endX,u=c.endY;break;case ai:case si:var d=c.type===ai?ti(c,o):ei(c,o,l,u),f=d.length;if(0===f){Vt(e,l=c.type===ai?c.centerX:c.endX,u=c.type===ai?c.centerY:c.endY,0,0);break}c=null;for(var p=0;p<f;p++)c=d[p],We.Bl(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(l=c[6],u=c[7]);break;default:w("Unknown Segment type: "+c.type)}}}break;default:w("Unknown Geometry type: "+t.type)}}function Ye(t,e,i,n,r){var o=e.x;e=e.y;for(var a,s,l,u,h=t.bounds.x-20,c=0,d=t.figures.s,f=d.length,p=0;p<f;p++){var g=d[p],m=!g.isEvenOdd;if(g.isFilled){if(n&&g.ca(o,e,i))return!0;for(var v=g.segments,y=a=g.startX,b=s=g.startY,x=v.s,k=0;k<=v.length;k++){var _=void 0;if(k!==v.length){var S=(_=x[k]).type;t=_.endX,u=_.endY}else S=ni,t=y,u=b;switch(S){case ii:if(y=Xe(o,e,h,e,a,s,y,b),isNaN(y))return!0;c+=y,y=t,b=u;break;case ni:if(a=Xe(o,e,h,e,a,s,t,u),isNaN(a))return!0;c+=a;break;case ri:c+=l=We.Fo(a,s,_.point1X,_.point1Y,_.point2X,_.point2Y,t,u,h,e,o,e,.5);break;case oi:c+=l=We.Fo(a,s,(a+2*_.point1X)/3,(s+2*_.point1Y)/3,(2*_.point1X+t)/3,(2*_.point1Y+u)/3,t,u,h,e,o,e,.5);break;case ai:case si:var C=(S=_.type===ai?ti(_,g):ei(_,g,a,s)).length;if(0===C){if(a=Xe(o,e,h,e,a,s,_.type===ai?_.centerX:_.endX,_.type===ai?_.centerY:_.endY),isNaN(a))return!0;c+=a;break}_=null;for(var M=0;M<C;M++){if(_=S[M],0===M){if(l=Xe(o,e,h,e,a,s,_[0],_[1]),isNaN(l))return!0;c+=l}c+=l=We.Fo(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],h,e,o,e,.5)}null!==_&&(t=_[6],u=_[7]);break;default:w("Unknown Segment type: "+_.type)}a=t,s=u}if(m){if(0!==c)return!0}else if(0!==c%2)return!0;c=0}else if(g.ca(o,e,r?i:i+2))return!0}return!1}function Xe(t,e,i,n,r,o,a,s){if(We.Xb(r,o,a,s,.05,t,e))return NaN;var l=(t-i)*(o-s);if(0===l)return 0;var u=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l;if(e=(t*n-e*i)*(o-s)/l,u>=t)return 0;if((r>a?r-a:a-r)<(o>s?o-s:s-o)){if(o<s){if(e<o||e>s)return 0}else if(e<s||e>o)return 0}else if(r<a){if(u<r||u>a)return 0}else if(u<a||u>r)return 0;return 0<l?1:-1}function qe(t,e,i,n){for(var r=(t=t.figures.s).length,o=0;o<r;o++)if(t[o].ca(e,i,n))return!0;return!1}function Ze(t){if(null===t.rk){var e=t.rk=[],i=t.ym=[],n=[],r=[];if(t.type===Ue.j)n.push(t.startX),n.push(t.startY),n.push(t.endX),n.push(t.endY),e.push(n),r.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),i.push(r);else if(t.type===Ue.u)n.push(t.startX),n.push(t.startY),n.push(t.endX),n.push(t.startY),n.push(t.endX),n.push(t.endY),n.push(t.startX),n.push(t.endY),n.push(t.startX),n.push(t.startY),e.push(n),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),i.push(r);else if(t.type===Ue.F){var o=new Qe;o.startX=t.endX,o.startY=(t.startY+t.endY)/2;var a=new $e(ai);if(a.startAngle=0,a.sweepAngle=360,a.centerX=(t.startX+t.endX)/2,a.centerY=(t.startY+t.endY)/2,a.radiusX=Math.abs(t.startX-t.endX)/2,a.radiusY=Math.abs(t.startY-t.endY)/2,o.add(a),0===(r=(t=ti(a,o)).length))n.push(a.centerX),n.push(a.centerY);else{a=o.startX,o=o.startY;for(var s=0;s<r;s++){var l=t[s];We.Pe(a,o,l[2],l[3],l[4],l[5],l[6],l[7],.5,n),a=l[6],o=l[7]}}e.push(n),i.push(Je(n))}else for(t=t.figures.iterator;t.next();){r=t.value,(n=[]).push(r.startX),n.push(r.startY),s=a=r.startX,l=o=r.startY;for(var u=r.segments.s,h=u.length,c=0;c<h;c++){var d=u[c];switch(d.type){case ii:4<=n.length&&(e.push(n),i.push(Je(n))),(n=[]).push(d.endX),n.push(d.endY),s=a=d.endX,l=o=d.endY;break;case ni:n.push(d.endX),n.push(d.endY),a=d.endX,o=d.endY;break;case ri:We.Pe(a,o,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,n),a=d.endX,o=d.endY;break;case oi:We.bp(a,o,d.point1X,d.point1Y,d.endX,d.endY,.5,n),a=d.endX,o=d.endY;break;case ai:var f=ti(d,r),p=f.length;if(0===p){n.push(d.centerX),n.push(d.centerY),a=d.centerX,o=d.centerY;break}for(var g=0;g<p;g++){var m=f[g];We.Pe(a,o,m[2],m[3],m[4],m[5],m[6],m[7],.5,n),a=m[6],o=m[7]}break;case si:if(p=(f=ei(d,r,a,o)).length,g=d.endX,m=d.endY,0===p){n.push(g),n.push(m),a=g,o=m;break}for(g=0;g<p;g++)m=f[g],We.Pe(a,o,m[2],m[3],m[4],m[5],m[6],m[7],.5,n),a=m[6],o=m[7];break;default:w("Segment not of valid type: "+d.type)}d.isClosed&&(n.push(s),n.push(l))}4<=n.length&&(e.push(n),i.push(Je(n)))}}}function Je(t){for(var e=[],i=0,n=0,r=t.length,o=0;o<r;o+=2){var a=t[o],s=t[o+1];0!==o&&e.push(Math.sqrt(xt(i,n,a,s))),i=a,n=s}return e}function Qe(t,e,i,n,r){$(this),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=!1),this.m=2|(i?4:0)|(n?8:0)|(r?16:0),this.jd=void 0!==t?t:0,this.kd=void 0!==e?e:0,this.nl=new Z,this.pr=this.nl.Ja,this.dw=null}function $e(t,e,i,n,r,o,a,s){$(this),void 0===t&&(t=ni),this.na=t,this.m=2,this.Cc=void 0!==e?e:0,this.Dc=void 0!==i?i:0,void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),t===si?(0>(t=o%360)&&(t+=360),this.Me=t,this.Vh=0,this.Wh=Math.max(n,0),this.Og=Math.max(r,0),"boolean"===typeof a?a&&(this.isLargeArc=!0):"number"===typeof a&&a&&(this.isLargeArc=!0),s&&(this.isClockwiseArc=!0)):(this.Me=n,this.Vh=r,t===ai&&(o=Math.max(o,0)),this.Wh=o,"number"===typeof a?(t===ai&&(a=Math.max(a,0)),this.Og=a):this.Og=0),this.Zd=null}function ti(t,e){if(null!==t.Zd&&!1===e._isInvalidBounds)return t.Zd;var i=t.radiusX,n=t.radiusY;if(void 0===n&&(n=i),0===i||0===n)return t.Zd=[],t.Zd;e=t.Me;var r=t.Vh,o=We.jx(0,0,i<n?i:n,t.startAngle,t.startAngle+t.sweepAngle,!1);if(i!==n){var a=He.alloc();a.reset(),i<n?a.scale(1,n/i):a.scale(i/n,1),Ue.Ha(o,a),He.free(a)}for(i=o.length,n=0;n<i;n++)(a=o[n])[0]+=e,a[1]+=r,a[2]+=e,a[3]+=r,a[4]+=e,a[5]+=r,a[6]+=e,a[7]+=r;return t.Zd=o,t.Zd}function ei(t,e,i,n){function r(t,e,i,n){return(t*n<e*i?-1:1)*Math.acos((t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+n*n)))}if(null!==t.Zd&&!1===e._isInvalidBounds)return t.Zd;if(0===t.radiusX||0===t.radiusY)return t.Zd=[],t.Zd;e=t.Wh;var o=t.Og;0===e&&(e=1e-4),0===o&&(o=1e-4);var a=Math.PI/180*t.Me,s=t.isLargeArc,l=t.isClockwiseArc,u=t.Cc,h=t.Dc,c=Math.cos(a),d=Math.sin(a),f=c*(i-u)/2+d*(n-h)/2,p=f*f/(e*e)+(a=-d*(i-u)/2+c*(n-h)/2)*a/(o*o);return 1<p&&(e*=Math.sqrt(p),o*=Math.sqrt(p)),p=(s===l?-1:1)*Math.sqrt((e*e*o*o-e*e*a*a-o*o*f*f)/(e*e*a*a+o*o*f*f)),isNaN(p)&&(p=0),s=p*e*a/o,p=p*-o*f/e,isNaN(s)&&(s=0),isNaN(p)&&(p=0),i=(i+u)/2+c*s-d*p,n=(n+h)/2+d*s+c*p,h=r(1,0,(f-s)/e,(a-p)/o),a=r(c=(f-s)/e,u=(a-p)/o,f=(-f-s)/e,s=(-a-p)/o),-1>=(f=(c*f+u*s)/(Math.sqrt(c*c+u*u)*Math.sqrt(f*f+s*s)))?a=Math.PI:1<=f&&(a=0),!l&&0<a&&(a-=2*Math.PI),l&&0>a&&(a+=2*Math.PI),l=e>o?1:e/o,f=e>o?o/e:1,e=We.jx(0,0,e>o?e:o,h,h+a,!0),(o=He.alloc()).reset(),o.translate(i,n),o.rotate(t.Me,0,0),o.scale(l,f),Ue.Ha(e,o),He.free(o),t.Zd=e,t.Zd}We.za=We.zA,Ue.prototype.copy=function(){var t=new Ue;if(t.m=-2&this.m,t.na=this.na,t.jd=this.jd,t.kd=this.kd,t.Cc=this.Cc,t.Dc=this.Dc,this.na===Ue.o){for(var e=this.ce.s,i=t.ce,n=0;n<e.length;n++)i.add(e[n].copy());t.ce=i}else t.ce=this.ce;return t.Yp=this.Yp,t.Gp.assign(this.Gp),t.rk=this.rk,t.ym=this.ym,t.zm=this.zm,t.eg=this.eg.J(),t.fg=this.fg.J(),t.Qk=this.Qk,t.Pk=this.Pk,t.Uf=this.Uf,t},Ue.prototype.ha=function(){return this.freeze(),Object.freeze(this),this},Ue.prototype.freeze=function(){if(this._isFrozen=!0,this.type!==Ue.o)return this;var t=this.figures;t.freeze();for(var e=(t=t.s).length,i=0;i<e;i++)t[i].freeze();return this},Ue.prototype.ja=function(){if(Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this.type!==Ue.o)return this;var t=this.figures;t.ja();for(var e=(t=t.s).length,i=0;i<e;i++)t[i].ja();return this},Ue.prototype.Xa=function(t){if(!(t instanceof Ue))return!1;if(this.type!==t.type)return this.type===Ue.j&&t.type===Ue.o?Ge(this,t):t.type===Ue.j&&this.type===Ue.o&&Ge(t,this);if(this.type===Ue.o){var e=this.figures.s;t=t.figures.s;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Xa(t[n]))return!1;return!0}return We.B(this.startX,t.startX)&&We.B(this.startY,t.startY)&&We.B(this.endX,t.endX)&&We.B(this.endY,t.endY)},Ue.ga=function(t){return t.toString()},Ue.prototype.qb=function(t){t.classType===Ue&&(this.type=t)},Ue.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Ue.j:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case Ue.u:var e=new Ot(this.startX,this.startY,0,0);return e.Iv(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case Ue.F:if((e=new Ot(this.startX,this.startY,0,0)).Iv(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case Ue.o:e="";for(var n=(i=this.figures.s).length,r=0;r<n;r++){var o=i[r];0<r&&(e+=" x "),o.isFilled&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},Ue.nb=function(t){for(var e=(t=t.split(/[Xx]/)).length,i="",n=0;n<e;n++){var r=t[n];i=null!==r.match(/[Ff]/)?0===n?i+r:i+"X"+(" "===r[0]?"":" ")+r:i+(0===n?"":"X ")+"F"+(" "===r[0]?"":" ")+r}return i},Ue.parse=function(t,e){function i(){return g>=x-1||null!==u[g+1].match(w)}function n(){return g++,u[g]}function r(t){var e=parseFloat(n()),i=parseFloat(n());m===m.toLowerCase()&&(e=b.x+e,i=b.y+i),t.h(e,i)}function o(){return r(b),b}function a(){return r(y),y}function s(){var t=v.toLowerCase();return"c"!==t&&"s"!==t&&"q"!==t&&"t"!==t?b:new pt(2*b.x-y.x,2*b.y-y.y)}void 0===e&&(e=!1);var l=/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,u=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(l,"$1 $2")).replace(l,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^s])/gm,"$1 $2")).replace(/([^s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<u.length;t++){var h=u[t];if(null!==h.match(/(\.[0-9]*)(\.)/gm)){l=N();for(var c="",d=!1,f=0;f<h.length;f++){var p=h[f];"."!==p||d?"."===p?(l.push(c),c="."):c+=p:(d=!0,c+=p)}for(l.push(c),u.splice(t,1),h=0;h<l.length;h++)u.splice(t+h,0,l[h]);t+=l.length-1,I(l)}}var g=-1,m="",v="";l=new pt(0,0);var y=new pt(0,0),b=new pt(0,0),x=u.length;t=vh(null),d=c=h=!1,f=!0,p=null;for(var w=/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/;!(g>=x-1);)if(v=m,""!==(m=n()))switch(m.toUpperCase()){case"X":f=!0,c=h=!1;break;case"M":for(p=o(),null===t.lc||!0===f?(dh(t,p.x,p.y,h,!c,d),f=!1):t.moveTo(p.x,p.y),l.assign(b);!i();)p=o(),t.lineTo(p.x,p.y);break;case"L":for(;!i();)p=o(),t.lineTo(p.x,p.y);break;case"H":for(;!i();)b=new pt((m===m.toLowerCase()?b.x:0)+parseFloat(n()),b.y),t.lineTo(b.x,b.y);break;case"V":for(;!i();)b=new pt(b.x,(m===m.toLowerCase()?b.y:0)+parseFloat(n())),t.lineTo(b.x,b.y);break;case"C":for(;!i();){r(p=new pt);var k=a(),_=o();ph(t,p.x,p.y,k.x,k.y,_.x,_.y)}break;case"S":for(;!i();)p=s(),k=a(),_=o(),ph(t,p.x,p.y,k.x,k.y,_.x,_.y);break;case"Q":for(;!i();)p=a(),k=o(),gh(t,p.x,p.y,k.x,k.y);break;case"T":for(;!i();)y=p=s(),k=o(),gh(t,p.x,p.y,k.x,k.y);break;case"B":for(;!i();){p=parseFloat(n()),k=parseFloat(n()),_=parseFloat(n());var S=parseFloat(n()),C=parseFloat(n()),M=C,P=!1;i()||(M=parseFloat(n()),i()||(P=0!==parseFloat(n()))),m===m.toLowerCase()&&(_+=b.x,S+=b.y),t.arcTo(p,k,_,S,C,M,P)}break;case"A":for(;!i();)p=Math.abs(parseFloat(n())),k=Math.abs(parseFloat(n())),_=parseFloat(n()),C=S=!1,P=M=0,1===(M=n()).length?(S=!!parseFloat(M),C=!!parseFloat(n()),M=parseFloat(n())):2===M.length?(S=!!parseFloat(M[0]),C=!!parseFloat(M[1]),M=parseFloat(n())):(S=!!parseFloat(M[0]),C=!!parseFloat(M[1]),M=parseFloat(M.slice(2))),P=parseFloat(n()),m===m.toLowerCase()&&(M=b.x+M,P=b.y+P),b.h(M,P),mh(t,p,k,_,S,C,M,P);break;case"Z":fh(t),b.assign(l);break;case"F":for(p="",k=1;u[g+k];)if("0"===u[g+k])d=!0,k++;else if(null!==u[g+k].match(/[Uu]/))k++;else{if(null!==u[g+k].match(w)){p=u[g+k];break}k++}p.match(/[Mm]/)?h=!0:0<t.lc.segments.length&&(t.lc.isFilled=!0);break;case"U":for(p="",k=1;u[g+k];)if(null!==u[g+k].match(/[Ff]/))k++;else{if(null!==u[g+k].match(w)){p=u[g+k];break}k++}p.match(/[Mm]/)?c=!0:t.lc.isShadowed=!1}if(l=t.ls,yh=t,e)for(e=l.figures.iterator;e.next();)e.value.isFilled=!0;return l},Ue.Ha=function(t,e){for(var i=t.length,n=pt.alloc(),r=0;r<i;r++){var o=t[r];n.x=o[0],n.y=o[1],e.Ga(n),o[0]=n.x,o[1]=n.y,n.x=o[2],n.y=o[3],e.Ga(n),o[2]=n.x,o[3]=n.y,n.x=o[4],n.y=o[5],e.Ga(n),o[4]=n.x,o[5]=n.y,n.x=o[6],n.y=o[7],e.Ga(n),o[6]=n.x,o[7]=n.y}pt.free(n)},Ue.prototype.Zu=function(){if(this._isInvalidBounds)return!0;if(this.type===Ue.o){if(this.Yp!==this.figures.Ja)return!0;for(var t=this.figures.s,e=t.length,i=0;i<e;i++)if(t[i].Zu())return!0}return!1},Ue.prototype.computeBounds=function(){if(this._isInvalidBounds=!1,this.ym=this.rk=null,this.zm=NaN,this.type===Ue.o){this.Yp=this.figures.Ja;for(var t=this.figures.s,e=t.length,i=0;i<e;i++){var n=t[i];n._isInvalidBounds=!1;var r=n.segments;n.pr=r.Ja,r=(n=r.s).length;for(var o=0;o<r;o++){var a=n[o];a._isInvalidBounds=!1,a.Zd=null}}}(t=this.Gp).ja(),isNaN(this.Qk)||isNaN(this.Pk)?t.h(0,0,0,0):t.h(0,0,this.Qk,this.Pk),Ke(this,t,!1),Vt(t,0,0,0,0),t.freeze()},Ue.prototype.ix=function(){var t=new Ot;return Ke(this,t,!0),t},Ue.prototype.normalize=function(){this._isFrozen&&k(this);var t=this.ix();return this.offset(-t.x,-t.y),new pt(-t.x,-t.y)},Ue.prototype.offset=function(t,e){return this._isFrozen&&k(this),this.transform(1,0,0,1,t,e),this},Ue.prototype.scale=function(t,e){return this._isFrozen&&k(this),this.transform(t,0,0,e,0,0),this},Ue.prototype.rotate=function(t,e,i){this._isFrozen&&k(this),void 0===e&&(e=0),void 0===i&&(i=0);var n=He.alloc();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),He.free(n),this},(e=Ue.prototype).transform=function(t,e,i,n,r,o){switch(this.type){case Ue.j:case Ue.u:case Ue.F:var a=this.jd,s=this.kd;this.jd=a*t+s*i+r,this.kd=a*e+s*n+o,a=this.Cc,s=this.Dc,this.Cc=a*t+s*i+r,this.Dc=a*e+s*n+o;break;case Ue.o:for(var l=this.figures.s,u=l.length,h=0;h<u;h++){var c=l[h];a=c.startX,s=c.startY,c.startX=a*t+s*i+r,c.startY=a*e+s*n+o;for(var d=(c=c.segments.s).length,f=0;f<d;f++){var p=c[f];switch(p.type){case ni:case ii:a=p.endX,s=p.endY,p.endX=a*t+s*i+r,p.endY=a*e+s*n+o;break;case ri:a=p.point1X,s=p.point1Y,p.point1X=a*t+s*i+r,p.point1Y=a*e+s*n+o,a=p.point2X,s=p.point2Y,p.point2X=a*t+s*i+r,p.point2Y=a*e+s*n+o,a=p.endX,s=p.endY,p.endX=a*t+s*i+r,p.endY=a*e+s*n+o;break;case oi:a=p.point1X,s=p.point1Y,p.point1X=a*t+s*i+r,p.point1Y=a*e+s*n+o,a=p.endX,s=p.endY,p.endX=a*t+s*i+r,p.endY=a*e+s*n+o;break;case ai:a=p.centerX,s=p.centerY,p.centerX=a*t+s*i+r,p.centerY=a*e+s*n+o,0!==e&&(0>(a=180*Math.atan2(e,t)/Math.PI)&&(a+=360),p.startAngle+=a),0>t&&(p.startAngle=180-p.startAngle,p.sweepAngle=-p.sweepAngle),0>n&&(p.startAngle=-p.startAngle,p.sweepAngle=-p.sweepAngle),p.radiusX*=Math.sqrt(t*t+i*i),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(e*e+n*n));break;case si:if(a=p.endX,s=p.endY,p.endX=a*t+s*i+r,p.endY=a*e+s*n+o,0===p.radiusX||0===p.radiusY)break;0!==e&&(0>(a=180*Math.atan2(e,t)/Math.PI)&&(a+=360),p.xAxisRotation+=a),0>t&&(p.xAxisRotation=180-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),0>n&&(p.xAxisRotation=-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),p.radiusX*=Math.sqrt(t*t+i*i),p.radiusY*=Math.sqrt(e*e+n*n);break;default:w("Unknown Segment type: "+p.type)}}}}return this._isInvalidBounds=!0,this},e.ca=function(t,e){void 0===e&&(e=0);var i=this.jd,n=this.kd,r=this.Cc,o=this.Dc;switch(this.type){case Ue.j:return We.Xb(i,n,r,o,e,t.x,t.y);case Ue.u:var a=Ot.allocAt(Math.min(i,r)-e,Math.min(n,o)-e,Math.abs(r-i)+2*e,Math.abs(o-n)+2*e);return t=a.ca(t),Ot.free(a),t;case Ue.F:a=Math.min(i,r)-e;var s=Math.min(n,o)-e;return i=(Math.abs(r-i)+2*e)/2,e=(Math.abs(o-n)+2*e)/2,0>=i||0>=e?!1:1>=(a=t.x-(a+i))*a/(i*i)+(s=t.y-(s+e))*s/(e*e);case Ue.o:return Ye(this,t,e,!0,!1);default:return!1}},e.Pu=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new pt),this.type===Ue.j)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var i=this.flattenedSegments,n=this.flattenedLengths,r=i.length,o=this.flattenedTotalLength*t,a=0,s=0;s<r;s++){var l=n[s],u=l.length;for(t=0;t<u;t++){var h=l[t];if(a+h>=o)return n=o-a,n=0===h?0:n/h,s=(i=i[s])[2*t],r=i[2*t+1],e.h(s+(i[2*t+2]-s)*n,r+(i[2*t+3]-r)*n),e;a+=h}}return e},e.wx=function(t){if(0>t?t=0:1<t&&(t=1),this.type===Ue.j)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,i=this.flattenedLengths,n=e.length,r=this.flattenedTotalLength*t,o=0,a=0;a<n;a++){var s=i[a],l=s.length;for(t=0;t<l;t++){var u=s[t];if(o+u>=r)return e=(r=e[a])[2*t],i=r[2*t+1],n=r[2*t+2],t=r[2*t+3],1>Math.abs(n-e)&&1>Math.abs(t-i)?0:1>Math.abs(n-e)?0<=t-i?90:270:1>Math.abs(t-i)?0<=n-e?0:180:180*Math.atan2(t-i,n-e)/Math.PI;o+=u}}return NaN},e.Qu=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===Ue.j)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var i=this.flattenedSegments,n=this.flattenedLengths,r=i.length,o=this.flattenedTotalLength*t,a=0,s=0;s<r;s++){var l=n[s],u=l.length;for(t=0;t<u;t++){var h=l[t];if(a+h>=o)return n=o-a,n=0===h?0:n/h,i=(h=i[s])[2*t],s=h[2*t+1],r=h[2*t+2],t=h[2*t+3],e[0]=i+(r-i)*n,e[1]=s+(t-s)*n,e[2]=1>Math.abs(r-i)&&1>Math.abs(t-s)?0:1>Math.abs(r-i)?0<=t-s?90:270:1>Math.abs(t-s)?0<=r-i?0:180:180*Math.atan2(t-s,r-i)/Math.PI,e;a+=h}}return e},e.xx=function(t){if(this.type===Ue.j){var e=this.startX,i=this.startY,n=this.endX,r=this.endY;if(e!==n||i!==r){var o=t.x;if(t=t.y,e===n){if(i<r){var a=i;n=r}else a=r,n=i;return t<=a?a===i?0:1:t>=n?n===i?0:1:Math.abs(t-i)/(n-a)}if(i===r)return e<n?a=e:(a=n,n=e),o<=a?a===e?0:1:o>=n?n===e?0:1:Math.abs(o-e)/(n-a);a=(n-e)*(n-e)+(r-i)*(r-i);var s=pt.alloc();return We.ph(e,i,n,r,o,t,s),t=s.x,o=s.y,pt.free(s),Math.sqrt(((t-e)*(t-e)+(o-i)*(o-i))/a)}}else{if(this.type!==Ue.u){e=this.flattenedSegments,i=this.flattenedLengths,o=this.flattenedTotalLength,n=pt.alloc(),r=1/0,s=a=0,v=e.length;for(var l=y=0,u=0;u<v;u++)for(var h=e[u],c=i[u],d=h.length,f=0;f<d;f+=2){var p=h[f],g=h[f+1];if(0!==f){We.ph(y,l,p,g,t.x,t.y,n);var m=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y);m<r&&(r=m,a=s,a+=Math.sqrt((n.x-y)*(n.x-y)+(n.y-l)*(n.y-l))),s+=c[(f-2)/2]}y=p,l=g}return pt.free(n),0>(t=a/o)?0:1<t?1:t}a=this.startX,s=this.startY;var v=this.endX;if(r=this.endY,a!==v||s!==r){o=2*(e=v-a)+2*(i=r-s),n=t.x,t=t.y,n=Math.min(Math.max(n,a),v),t=Math.min(Math.max(t,s),r),a=Math.abs(n-a),v=Math.abs(n-v),s=Math.abs(t-s),r=Math.abs(t-r);var y=Math.min(a,v,s,r);if(y===s)return n/o;if(y===v)return(e+t)/o;if(y===r)return(2*e+i-n)/o;if(y===a)return(2*e+2*i-t)/o}}return 0},e.add=function(t){return this.ce.add(t),this},e.pm=function(t,e,i,n,r,o,a,s){return this._isFrozen&&k(this),this.eg=new Re(t,e,r,o).freeze(),this.fg=new Re(i,n,a,s).freeze(),this},d.Object.defineProperties(Ue.prototype,{_isFrozen:{get:function(){return 0!==(1&this.m)},set:function(t){this.m=t?1|this.m:-2&this.m}},_isInvalidBounds:{get:function(){return 0!==(2&this.m)},set:function(t){this.m=t?2|this.m:-3&this.m}},flattenedSegments:{get:function(){return Ze(this),this.rk}},flattenedLengths:{get:function(){return Ze(this),this.ym}},flattenedTotalLength:{get:function(){var t=this.zm;if(isNaN(t)){if(this.type===Ue.j){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===Ue.u)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var i=(e=this.flattenedLengths).length,n=t=0;n<i;n++)for(var r=e[n],o=r.length,a=0;a<o;a++)t+=r[a];this.zm=t}return t}},type:{get:function(){return this.na},set:function(t){this.na!==t&&(this._isFrozen&&k(this,t),this.na=t,t===Ue.o?this.ce=new Z:(null===Ue.V&&(Ue.V=(new Z).freeze()),this.ce=Ue.V),this._isInvalidBounds=!0)}},startX:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this._isFrozen&&k(this,t),this.jd=t,this._isInvalidBounds=!0)}},startY:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this._isFrozen&&k(this,t),this.kd=t,this._isInvalidBounds=!0)}},endX:{get:function(){return this.Cc},set:function(t){this.Cc!==t&&(this._isFrozen&&k(this,t),this.Cc=t,this._isInvalidBounds=!0)}},endY:{get:function(){return this.Dc},set:function(t){this.Dc!==t&&(this._isFrozen&&k(this,t),this.Dc=t,this._isInvalidBounds=!0)}},figures:{get:function(){return this.ce},set:function(t){this.ce!==t&&(this._isFrozen&&k(this,t),this.ce=t,this._isInvalidBounds=!0)}},spot1:{get:function(){return this.eg},set:function(t){this._isFrozen&&k(this,t),this.eg=t.J()}},spot2:{get:function(){return this.fg},set:function(t){this._isFrozen&&k(this,t),this.fg=t.J()}},defaultStretch:{get:function(){return this.Uf},set:function(t){this._isFrozen&&k(this,t),this.Uf=t}},bounds:{get:function(){return this.Zu()&&this.computeBounds(),this.Gp}}}),Ue.prototype.setSpots=Ue.prototype.pm,Ue.prototype.add=Ue.prototype.add,Ue.prototype.getFractionForPoint=Ue.prototype.xx,Ue.prototype.getPointAndAngleAlongPath=Ue.prototype.Qu,Ue.prototype.getAngleAlongPath=Ue.prototype.wx,Ue.prototype.getPointAlongPath=Ue.prototype.Pu,Ue.prototype.containsPoint=Ue.prototype.ca,Ue.prototype.transform=Ue.prototype.transform,Ue.prototype.rotate=Ue.prototype.rotate,Ue.prototype.scale=Ue.prototype.scale,Ue.prototype.offset=Ue.prototype.offset,Ue.prototype.normalize=Ue.prototype.normalize,Ue.prototype.computeBoundsWithoutOrigin=Ue.prototype.ix,Ue.prototype.equalsApprox=Ue.prototype.Xa,Ue.className="Geometry",Ue.j=new z(Ue,"Line",0),Ue.u=new z(Ue,"Rectangle",1),Ue.F=new z(Ue,"Ellipse",2),Ue.o=new z(Ue,"Path",3),Ue.V=null,Ue.hb="UuBbMmZzLlHhVvCcSsQqTtAaFfXx",Ue.className="Geometry",Ue.stringify=Ue.ga,Ue.fillPath=Ue.nb,Ue.parse=Ue.parse,Ue.Line=Ue.j,Ue.Rectangle=Ue.u,Ue.Ellipse=Ue.F,Ue.Path=Ue.o,Qe.prototype.copy=function(){var t=new Qe;t.m=-2&this.m,t.jd=this.jd,t.kd=this.kd;for(var e=this.nl.s,i=e.length,n=t.nl,r=0;r<i;r++){var o=e[r].copy();n.add(o)}return t.pr=this.pr,t.dw=this.dw,t},(e=Qe.prototype).Xa=function(t){if(!(t instanceof Qe&&We.B(this.startX,t.startX)&&We.B(this.startY,t.startY)))return!1;var e=this.segments.s;t=t.segments.s;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Xa(t[n]))return!1;return!0},e.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),i=this.segments.s,n=i.length,r=0;r<n;r++)e+=" "+i[r].toString(t);return e},e.freeze=function(){this._isFrozen=!0;var t=this.segments;t.freeze();var e=t.s;t=t.length;for(var i=0;i<t;i++)e[i].freeze();return this},e.ja=function(){this._isFrozen=!1;var t=this.segments;t.ja();for(var e=(t=t.s).length,i=0;i<e;i++)t[i].ja();return this},e.Zu=function(){if(this._isInvalidBounds)return!0;var t=this.segments;if(this.pr!==t.Ja)return!0;for(var e=(t=t.s).length,i=0;i<e;i++)if(t[i]._isInvalidBounds)return!0;return!1},e.add=function(t){return this.nl.add(t),this},e.ca=function(t,e,i){for(var n=this.startX,r=this.startY,o=n,a=r,s=this.segments.s,l=s.length,u=0;u<l;u++){var h=s[u];switch(h.type){case ii:o=h.endX,a=h.endY,n=h.endX,r=h.endY;break;case ni:if(We.Xb(n,r,h.endX,h.endY,i,t,e))return!0;n=h.endX,r=h.endY;break;case ri:if(We.Zr(n,r,h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY,.5,t,e,i))return!0;n=h.endX,r=h.endY;break;case oi:if(We.jv(n,r,h.point1X,h.point1Y,h.endX,h.endY,.5,t,e,i))return!0;n=h.endX,r=h.endY;break;case ai:case si:var c=h.type===ai?ti(h,this):ei(h,this,n,r),d=c.length,f=h.type===ai?h.centerX:h.endX,p=h.type===ai?h.centerY:h.endY;if(0===d){if(We.Xb(n,r,f,p,i,t,e))return!0;n=f,r=p;break}for(f=null,p=0;p<d;p++)if(f=c[p],0===p&&We.Xb(n,r,f[0],f[1],i,t,e)||We.Zr(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.5,t,e,i))return!0;null!==f&&(n=f[6],r=f[7]);break;default:w("Unknown Segment type: "+h.type)}if(h.isClosed&&(n!==o||r!==a)&&We.Xb(n,r,o,a,i,t,e))return!0}return!1},d.Object.defineProperties(Qe.prototype,{_isFrozen:{get:function(){return 0!==(1&this.m)},set:function(t){this.m=t?1|this.m:-2&this.m}},_isInvalidBounds:{get:function(){return 0!==(2&this.m)},set:function(t){this.m=t?2|this.m:-3&this.m}},isFilled:{get:function(){return 0!==(4&this.m)},set:function(t){this._isFrozen&&k(this,t),this.m=t?4|this.m:-5&this.m}},isShadowed:{get:function(){return 0!==(8&this.m)},set:function(t){this._isFrozen&&k(this,t),this.m=t?8|this.m:-9&this.m}},isEvenOdd:{get:function(){return 0!==(16&this.m)},set:function(t){this._isFrozen&&k(this,t),this.m=t?16|this.m:-17&this.m}},startX:{get:function(){return this.jd},set:function(t){this._isFrozen&&k(this,t),this.jd=t,this._isInvalidBounds=!0}},startY:{get:function(){return this.kd},set:function(t){this._isFrozen&&k(this,t),this.kd=t,this._isInvalidBounds=!0}},segments:{get:function(){return this.nl},set:function(t){this._isFrozen&&k(this,t),this.nl=t,this._isInvalidBounds=!0}}}),Qe.prototype.add=Qe.prototype.add,Qe.prototype.equalsApprox=Qe.prototype.Xa,Qe.className="PathFigure",$e.prototype.copy=function(){var t=new $e;return t.na=this.na,t.m=-2&this.m,t.Cc=this.Cc,t.Dc=this.Dc,t.Me=this.Me,t.Vh=this.Vh,t.Wh=this.Wh,t.Og=this.Og,t},(e=$e.prototype).Xa=function(t){if(!(t instanceof $e)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case ii:case ni:return We.B(this.endX,t.endX)&&We.B(this.endY,t.endY);case ri:return We.B(this.endX,t.endX)&&We.B(this.endY,t.endY)&&We.B(this.point1X,t.point1X)&&We.B(this.point1Y,t.point1Y)&&We.B(this.point2X,t.point2X)&&We.B(this.point2Y,t.point2Y);case oi:return We.B(this.endX,t.endX)&&We.B(this.endY,t.endY)&&We.B(this.point1X,t.point1X)&&We.B(this.point1Y,t.point1Y);case ai:return We.B(this.startAngle,t.startAngle)&&We.B(this.sweepAngle,t.sweepAngle)&&We.B(this.centerX,t.centerX)&&We.B(this.centerY,t.centerY)&&We.B(this.radiusX,t.radiusX)&&We.B(this.radiusY,t.radiusY);case si:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&We.B(this.xAxisRotation,t.xAxisRotation)&&We.B(this.endX,t.endX)&&We.B(this.endY,t.endY)&&We.B(this.radiusX,t.radiusX)&&We.B(this.radiusY,t.radiusY);default:return!1}},e.qb=function(t){t.classType===$e&&(this.type=t)},e.toString=function(t){switch(void 0===t&&(t=-1),this.type){case ii:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ni:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ri:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case oi:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ai:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case si:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.isClosed?"z":"")},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.close=function(){return this.isClosed=!0,this},d.Object.defineProperties($e.prototype,{_isFrozen:{get:function(){return 0!==(1&this.m)},set:function(t){this.m=t?1|this.m:-2&this.m}},_isInvalidBounds:{get:function(){return 0!==(2&this.m)},set:function(t){this.m=t?2|this.m:-3&this.m}},isClosed:{get:function(){return 0!==(8&this.m)},set:function(t){this.isClosed!==t&&(this.m=t?8|this.m:-9&this.m,this._isInvalidBounds=!0)}},type:{get:function(){return this.na},set:function(t){this._isFrozen&&k(this,t),this.na=t,this._isInvalidBounds=!0}},endX:{get:function(){return this.Cc},set:function(t){this._isFrozen&&k(this,t),this.Cc=t,this._isInvalidBounds=!0}},endY:{get:function(){return this.Dc},set:function(t){this._isFrozen&&k(this,t),this.Dc=t,this._isInvalidBounds=!0}},point1X:{get:function(){return this.Me},set:function(t){this._isFrozen&&k(this,t),this.Me=t,this._isInvalidBounds=!0}},point1Y:{get:function(){return this.Vh},set:function(t){this._isFrozen&&k(this,t),this.Vh=t,this._isInvalidBounds=!0}},point2X:{get:function(){return this.Wh},set:function(t){this._isFrozen&&k(this,t),this.Wh=t,this._isInvalidBounds=!0}},point2Y:{get:function(){return this.Og},set:function(t){this._isFrozen&&k(this,t),this.Og=t,this._isInvalidBounds=!0}},centerX:{get:function(){return this.Me},set:function(t){this._isFrozen&&k(this,t),this.Me=t,this._isInvalidBounds=!0}},centerY:{get:function(){return this.Vh},set:function(t){this._isFrozen&&k(this,t),this.Vh=t,this._isInvalidBounds=!0}},radiusX:{get:function(){return this.Wh},set:function(t){0>t&&_(t,">= zero",$e,"radiusX"),this._isFrozen&&k(this,t),this.Wh=t,this._isInvalidBounds=!0}},radiusY:{get:function(){return this.Og},set:function(t){0>t&&_(t,">= zero",$e,"radiusY"),this._isFrozen&&k(this,t),this.Og=t,this._isInvalidBounds=!0}},startAngle:{get:function(){return this.Cc},set:function(t){this._isFrozen&&k(this,t),0>(t%=360)&&(t+=360),this.Cc=t,this._isInvalidBounds=!0}},sweepAngle:{get:function(){return this.Dc},set:function(t){this._isFrozen&&k(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Dc=t,this._isInvalidBounds=!0}},isClockwiseArc:{get:function(){return 0!==(4&this.m)},set:function(t){this._isFrozen&&k(this,t),this.m=t?4|this.m:-5&this.m,this._isInvalidBounds=!0}},isLargeArc:{get:function(){return 0!==(16&this.m)},set:function(t){this._isFrozen&&k(this,t),this.m=t?16|this.m:-17&this.m,this._isInvalidBounds=!0}},xAxisRotation:{get:function(){return this.Me},set:function(t){this._isFrozen&&k(this,t),0>(t%=360)&&(t+=360),this.Me=t,this._isInvalidBounds=!0}}}),$e.prototype.equalsApprox=$e.prototype.Xa;var ii=new z($e,"Move",0),ni=new z($e,"Line",1),ri=new z($e,"Bezier",2),oi=new z($e,"QuadraticBezier",3),ai=new z($e,"Arc",4),si=new z($e,"SvgArc",4);function li(){this.H=null,this.wu=new pt(0,0).freeze(),this.it=new pt(0,0).freeze(),this.zp=this.Oq=0,this.Ap=1,this.uq="",this.Tr=this.Rp=!1,this.Pp=this.Cp=0,this.wg=this.kq=this.qq=!1,this.Wp=null,this.Or=0,this.vd=this.Kr=null}function ui(){this.H=null,this.wa="",this.Yq=this.Ir=null}function hi(){this.Fm=di,this.qf=this.Nq="",this.Ln=this.Mn=this.Rn=this.Sn=this.Qn=this.H=this.cc=null}$e.className="PathSegment",$e.Move=ii,$e.Line=ni,$e.Bezier=ri,$e.QuadraticBezier=oi,$e.Arc=ai,$e.SvgArc=si,li.prototype.copy=function(){var t=new li;return this.clone(t)},li.prototype.clone=function(t){return t.H=this.H,t.wu.assign(this.viewPoint),t.it.assign(this.documentPoint),t.Oq=this.Oq,t.zp=this.zp,t.Ap=this.Ap,t.uq=this.uq,t.Rp=this.Rp,t.Tr=this.Tr,t.Cp=this.Cp,t.Pp=this.Pp,t.qq=this.qq,t.kq=this.kq,t.wg=this.wg,t.Wp=this.Wp,t.Or=this.Or,t.Kr=this.Kr,t.vd=this.vd,t},li.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},li.prototype.Qo=function(t,e){var i=this.diagram;return null===i||qr(i,t,e),e},li.prototype.Cz=function(t,e){var i=this.diagram;return null===i||(qr(i,t,e),e.assign(i.Ms(e))),e},d.Object.defineProperties(li.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},viewPoint:{get:function(){return this.wu},set:function(t){this.wu.assign(t)}},documentPoint:{get:function(){return this.it},set:function(t){this.it.assign(t)}},modifiers:{get:function(){return this.Oq},set:function(t){this.Oq=t}},button:{get:function(){return this.zp},set:function(t){if(this.zp=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.Ap},set:function(t){this.Ap=t}},key:{get:function(){return this.uq},set:function(t){this.uq=t}},down:{get:function(){return this.Rp},set:function(t){this.Rp=t}},up:{get:function(){return this.Tr},set:function(t){this.Tr=t}},clickCount:{get:function(){return this.Cp},set:function(t){this.Cp=t}},delta:{get:function(){return this.Pp},set:function(t){this.Pp=t}},isMultiTouch:{get:function(){return this.qq},set:function(t){this.qq=t}},handled:{get:function(){return this.kq},set:function(t){this.kq=t}},bubbles:{get:function(){return this.wg},set:function(t){this.wg=t}},event:{get:function(){return this.Wp},set:function(t){this.Wp=t}},isTouchEvent:{get:function(){var t=this.event;return null!==t&&("touch"===t.pointerType||"pen"===t.pointerType)}},timestamp:{get:function(){return this.Or},set:function(t){this.Or=t}},targetDiagram:{get:function(){return this.Kr},set:function(t){this.Kr=t}},targetObject:{get:function(){return this.vd},set:function(t){this.vd=t}},control:{get:function(){return 0!==(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!==(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!==(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!==(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),li.prototype.getMultiTouchDocumentPoint=li.prototype.Cz,li.prototype.getMultiTouchViewPoint=li.prototype.Qo,li.className="InputEvent",ui.prototype.copy=function(){var t=new ui;return t.H=this.H,t.wa=this.wa,t.Ir=this.Ir,t.Yq=this.Yq,t},ui.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},d.Object.defineProperties(ui.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},name:{get:function(){return this.wa},set:function(t){this.wa=t}},subject:{get:function(){return this.Ir},set:function(t){this.Ir=t}},parameter:{get:function(){return this.Yq},set:function(t){this.Yq=t}}}),ui.className="DiagramEvent",hi.prototype.clear=function(){this.Ln=this.Mn=this.Rn=this.Sn=this.Qn=this.H=this.cc=null},hi.prototype.copy=function(){var t=new hi;t.Fm=this.Fm,t.Nq=this.Nq,t.qf=this.qf,t.cc=this.cc,t.H=this.H,t.Qn=this.Qn;var e=this.Sn;return t.Sn=C(e)&&"function"===typeof e.J?e.J():e,e=this.Rn,t.Rn=C(e)&&"function"===typeof e.J?e.J():e,e=this.Mn,t.Mn=C(e)&&"function"===typeof e.J?e.J():e,e=this.Ln,t.Ln=C(e)&&"function"===typeof e.J?e.J():e,t},hi.prototype.qb=function(t){t.classType===hi&&(this.change=t)},hi.prototype.toString=function(){var t="";return t=this.change===ci?t+"* ":this.change===di?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"===typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===ci?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=A(this.object)),null!==this.oldValue&&(t+="  old: "+A(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+A(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},hi.prototype.I=function(t){return t?this.oldValue:this.newValue},hi.prototype.Ez=function(t){return t?this.oldParam:this.newParam},hi.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},hi.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},hi.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},hi.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},d.Object.defineProperties(hi.prototype,{model:{get:function(){return this.cc},set:function(t){this.cc=t}},diagram:{get:function(){return this.H},set:function(t){this.H=t}},change:{get:function(){return this.Fm},set:function(t){this.Fm=t}},modelChange:{get:function(){return this.Nq},set:function(t){this.Nq=t}},propertyName:{get:function(){return this.qf},set:function(t){this.qf=t}},isTransactionFinished:{get:function(){return this.Fm===ci&&("CommittedTransaction"===this.qf||"FinishedUndo"===this.qf||"FinishedRedo"===this.qf)}},object:{get:function(){return this.Qn},set:function(t){this.Qn=t}},oldValue:{get:function(){return this.Sn},set:function(t){this.Sn=t}},oldParam:{get:function(){return this.Rn},set:function(t){this.Rn=t}},newValue:{get:function(){return this.Mn},set:function(t){this.Mn=t}},newParam:{get:function(){return this.Ln},set:function(t){this.Ln=t}}}),hi.prototype.redo=hi.prototype.redo,hi.prototype.canRedo=hi.prototype.canRedo,hi.prototype.undo=hi.prototype.undo,hi.prototype.canUndo=hi.prototype.canUndo,hi.prototype.getParam=hi.prototype.Ez,hi.prototype.getValue=hi.prototype.I,hi.prototype.clear=hi.prototype.clear;var ci=new z(hi,"Transaction",-1),di=new z(hi,"Property",0),fi=new z(hi,"Insert",1),pi=new z(hi,"Remove",2);function gi(){this.o=(new Z).freeze(),this.wa="",this.j=!1}function mi(){this.Ot=new Q,this.Ed=!1,this.u=(new Z).freeze(),this.Be=-1,this.o=999,this.Ee=!1,this.Lp=null,this.bi=0,this.j=!1,this.He=(new Z).freeze(),this.fl=new Z,this.qt=!0,this.At=this.oq=this.Dt=this.Ct=!1}function vi(t,e,i){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&S("Ending transaction without having started a transaction: "+i);var n=1===t.transactionLevel,r=t.currentTransaction;n&&e&&(t.isInternalTransaction||t.Ob("CommittingTransaction",i,r));var o=0;if(0<t.transactionLevel&&(t.bi--,t.isEnabled)){var a=t.He.count;0<a&&(""===i&&(i=t.He.L(0)),t.He.ja(),t.He.mb(a-1),t.He.freeze()),0<(a=t.fl.count)&&(o=t.fl.L(a-1),t.fl.mb(a-1))}if(n){if(e)t.oq=!1,null===r&&""!==i&&(r=t.currentTransaction),t.isEnabled&&null!==r&&(r.isComplete||(r.isComplete=!0,r.name=i),t.lx(),(e=t.history).ja(),0<=(n=t.maxHistoryLength)&&(0===n?e.clear():e.count>=n&&(null!==(o=e.L(0))&&o.clear(),e.mb(0),t.Be--)),0===n||0!==e.count&&e.get(e.count-1)===r||(e.add(r),t.Be++),e.freeze()),t.isInternalTransaction||t.Ob("CommittedTransaction",i,r);else{t.Ee=!0;try{t.isEnabled&&null!==r&&(r.isComplete=!0,r.undo())}finally{t.isInternalTransaction||t.Ob("RolledBackTransaction",i,r),t.Ee=!1}null!==r&&r.clear()}return t.Lp=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==r){for(t=o,r=(i=r.changes).count-1;r>=t;r--)null!==(e=i.L(r))&&e.undo(),i.ja(),i.mb(r);i.freeze()}return!1}function yi(){$(this),this.H=br,this.wa="",this.Ed=!0,this.nb=!1,this.wm=null,this.Ay=new li,this.Wr=-1}function bi(){yi.call(this),this.name="ToolManager",this.hb=new Z,this.ob=new Z,this.Ib=new Z,this.F=this.V=850,this.o=new Nt(2,2).ha(),this.Ha=5e3,this.ga=ki,this.u=Ci,this.Kp=this.j=null,this.zj=-1}function xi(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}hi.className="ChangedEvent",hi.Transaction=ci,hi.Property=di,hi.Insert=fi,hi.Remove=pi,gi.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var i=0;i<t;i++){var n=this.changes.L(i);null!==n&&(e+="\n  "+n.toString())}}return e},gi.prototype.clear=function(){var t=this.changes;t.ja();for(var e=t.count-1;0<=e;e--){var i=t.L(e);null!==i&&i.clear()}t.clear(),t.freeze()},gi.prototype.canUndo=function(){return this.isComplete},gi.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.L(t);null!==e&&e.undo()}},gi.prototype.canRedo=function(){return this.isComplete},gi.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var i=this.changes.L(e);null!==i&&i.redo()}},gi.prototype.$j=function(){if(this.isComplete){var t=this.changes;t.ja();for(var e=new ft,i=0;i<t.count;i++){var n=t.L(i);if(null!==n&&n.change===di&&n.object){var r=e.get(n.object);r||(r=new ft,e.set(n.object,r));var o=r.get(n.propertyName);null===o?r.set(n.propertyName,-1):(0<o&&t.Zc(o,null),r.set(n.propertyName,i))}}for(i=e=0;i<t.count;i++)null!==(n=t.L(i))&&(i>e&&t.Zc(e,n),e++);for(;t.length>e;)t.pop();t.freeze()}},d.Object.defineProperties(gi.prototype,{changes:{get:function(){return this.o}},name:{get:function(){return this.wa},set:function(t){this.wa=t}},isComplete:{get:function(){return this.j},set:function(t){this.j=t}}}),gi.prototype.optimize=gi.prototype.$j,gi.prototype.redo=gi.prototype.redo,gi.prototype.canRedo=gi.prototype.canRedo,gi.prototype.undo=gi.prototype.undo,gi.prototype.canUndo=gi.prototype.canUndo,gi.prototype.clear=gi.prototype.clear,gi.className="Transaction",mi.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var i=this.nestedTransactionNames.count,n=0;n<i;n++)0<n&&(e+=" "),e+=this.nestedTransactionNames.L(n);if(e+="]",void 0!==t&&0<t)for(i=this.history.count,n=0;n<i;n++)e+="\n "+this.history.L(n).toString(t-1);return e},mi.prototype.clear=function(){var t=this.history;t.ja();for(var e=t.count-1;0<=e;e--){var i=t.L(e);null!==i&&i.clear()}t.clear(),this.Be=-1,t.freeze(),this.Ee=!1,this.Lp=null,this.bi=0,this.He.ja(),this.He.clear(),this.He.freeze(),this.fl.clear(),this.At=this.oq=this.Dt=this.Ct=!1},mi.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(e=mi.prototype).Vw=function(t){this.Ot.add(t)},e.Tx=function(t){this.Ot.remove(t)},e.Ea=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.qt&&(this.qt=!1,this.bi++,this.isInternalTransaction||this.Ob("StartingFirstTransaction",t,this.currentTransaction),0<this.bi&&this.bi--),this.isEnabled&&(this.He.ja(),this.He.add(t),this.He.freeze(),null===this.currentTransaction?this.fl.add(0):this.fl.add(this.currentTransaction.changes.count)),this.bi++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Ob("StartedTransaction",t,this.currentTransaction)),e},e.eb=function(t){return void 0===t&&(t=""),vi(this,!0,t)},e.Kf=function(){return vi(this,!1,"")},e.lx=function(){if(!this.isUndoingRedoing&&this.canRedo()){var t=this.history;t.ja();for(var e=t.count-1;e>this.historyIndex;e--){var i=t.L(e);null!==i&&i.clear(),t.mb(e),this.oq=!0}t.freeze()}},mi.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},mi.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.Ee=!0,this.Ob("StartingUndo","Undo",t),this.Be--,t.undo()}catch(e){S("undo error: "+e.toString())}finally{this.Ob("FinishedUndo","Undo",t),this.Ee=!1}}},mi.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},mi.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.Ee=!0,this.Ob("StartingRedo","Redo",t),this.Be++,t.redo()}catch(e){S("redo error: "+e.toString())}finally{this.Ob("FinishedRedo","Redo",t),this.Ee=!1}}},mi.prototype.Ob=function(t,e,i){void 0===i&&(i=null);var n=new hi;for(n.change=ci,n.propertyName=t,n.object=i,n.oldValue=e,t=this.models;t.next();)e=t.value,n.model=e,e.$r(n)},mi.prototype.Tu=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.Lp=e=new gi);var i=t.copy();(e=e.changes).ja(),e.add(i),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.qt&&(null!==(t=t.diagram)&&!1===t.pi||S("Change not within a transaction: "+i.toString()))}},mi.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},d.Object.defineProperties(mi.prototype,{models:{get:function(){return this.Ot.iterator}},isEnabled:{get:function(){return this.Ed},set:function(t){this.Ed=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.L(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.L(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.Ee}},history:{get:function(){return this.u}},maxHistoryLength:{get:function(){return this.o},set:function(t){this.o=t}},historyIndex:{get:function(){return this.Be}},currentTransaction:{get:function(){return this.Lp}},transactionLevel:{get:function(){return this.bi}},isInTransaction:{get:function(){return 0<this.bi}},checksTransactionLevel:{get:function(){return this.j},set:function(t){this.j=t}},nestedTransactionNames:{get:function(){return this.He}},isPendingClear:{get:function(){return this.Ct},set:function(t){this.Ct=t}},isPendingUnmodified:{get:function(){return this.Dt},set:function(t){this.Dt=t}},isInternalTransaction:{get:function(){return this.At},set:function(t){this.At=t}},isJustDiscarded:{get:function(){return this.oq}}}),mi.prototype.handleChanged=mi.prototype.Tu,mi.prototype.redo=mi.prototype.redo,mi.prototype.undo=mi.prototype.undo,mi.prototype.canUndo=mi.prototype.canUndo,mi.prototype.discardHistoryAfterIndex=mi.prototype.lx,mi.prototype.rollbackTransaction=mi.prototype.Kf,mi.prototype.commitTransaction=mi.prototype.eb,mi.prototype.startTransaction=mi.prototype.Ea,mi.prototype.removeModel=mi.prototype.Tx,mi.prototype.addModel=mi.prototype.Vw,mi.prototype.clear=mi.prototype.clear,mi.className="UndoManager",yi.prototype.toString=function(){return""!==this.name?this.name+" Tool":E(this.constructor)},yi.prototype.updateAdornments=function(){},yi.prototype.canStart=function(){return this.isEnabled},yi.prototype.doStart=function(){},yi.prototype.doActivate=function(){this.isActive=!0},yi.prototype.doDeactivate=function(){this.isActive=!1},yi.prototype.doStop=function(){},yi.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},yi.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},yi.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},yi.prototype.doMouseMove=function(){},yi.prototype.doMouseUp=function(){this.stopTool()},yi.prototype.doMouseWheel=function(){},yi.prototype.canStartMultiTouch=function(){return!0},yi.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,i=e.Qo(0,pt.allocAt(NaN,NaN)),n=e.Qo(1,pt.allocAt(NaN,NaN));if(i.w()&&n.w()&&(this.doCancel(),t.Ol("hasGestureZoom"))){t.zw=t.scale;var r=n.x-i.x,o=n.y-i.y;t.Hw=Math.sqrt(r*r+o*o),e.bubbles=!1}pt.free(i),pt.free(n)},yi.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,i=e.Qo(0,pt.allocAt(NaN,NaN)),n=e.Qo(1,pt.allocAt(NaN,NaN));if(i.w()&&n.w()&&(this.doCancel(),t.Ol("hasGestureZoom"))){var r=n.x-i.x,o=n.y-i.y;o=Math.sqrt(r*r+o*o)/t.Hw,r=new pt((Math.min(n.x,i.x)+Math.max(n.x,i.x))/2,(Math.min(n.y,i.y)+Math.max(n.y,i.y))/2),o*=t.zw;var a=t.commandHandler;if(o!==t.scale&&a.canResetZoom(o)){var s=t.zoomPoint;t.zoomPoint=r,a.resetZoom(o),t.zoomPoint=s}e.bubbles=!1}pt.free(i),pt.free(n)},yi.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},yi.prototype.doKeyUp=function(){},yi.prototype.Ea=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.Ea(t)},yi.prototype.stopTransaction=function(){var t=this.diagram;return null===this.transactionResult?t.Kf():t.eb(this.transactionResult)},yi.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,i=t.Ml(e.documentPoint,!1);if(null!==i){if(B?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!i.isSelected){for(t.R("ChangingSelection",t.selection),e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!i.isSelected){for(e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(B?e.meta:e.control)||e.shift||t.clearSelection()}},yi.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.isTemporary});var i=this.diagram,n=i.lastInput;return t=i.hc(n.documentPoint,t,e),n.targetObject=t,function(t,e,i){if(e.handled=!1,null===t||t.If()){var n=0;e.left?n=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(n=3);var r="ObjectSingleClicked";if(null!==t){switch(n){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==n&&i.R(r,t)}else{switch(n){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==n&&i.R(r)}if(null!==t)for(;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.doubleClick?t.doubleClick:t.click;break;case 3:i=t.contextClick}if(null!==i&&(i(e,t),e.handled))break;t=t.panel}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.doubleClick?i.doubleClick:i.click;break;case 3:t=i.contextClick}null!==t&&t(e)}}}(t,n,i),n.handled},yi.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.zb){var i=t.skipsUndoManager;t.skipsUndoManager=!0;var n=t.viewportBounds.ca(e.documentPoint)?t.hc(e.documentPoint,null,null):null;!e.event||"pointercancel"!==e.event.type&&"pointerout"!==e.event.type||(n=null),e.targetObject=n;var r=!1;if(n!==t.Ak){var o=t.Ak,a=o;for(t.Ak=n,this.doCurrentObjectChanged(o,n),e.handled=!1;null!==o;){var s=o.mouseLeave;if(null!==s){if(n===o)break;if(null!==n&&n.qg(o))break;if(s(e,o,n),r=!0,e.handled)break}o=o.panel}for(o=a,e.handled=!1;null!==n;){if(null!==(a=n.mouseEnter)){if(o===n)break;if(null!==o&&o.qg(n))break;if(a(e,n,o),r=!0,e.handled)break}n=n.panel}n=t.Ak}if(null!==n){for(o=n,a="";null!==o&&""===(a=o.cursor);)o=o.panel;for(t.currentCursor=a,e.handled=!1,o=n;null!==o&&(null===(n=o.mouseOver)||(n(e,o),r=!0,!e.handled));)o=o.panel}else this.doUpdateCursor(null),null!==(n=t.mouseOver)&&(n(e),r=!0);r&&t.Zb(),t.skipsUndoManager=i}},yi.prototype.doUpdateCursor=function(){var t=this.diagram;t&&(t.currentCursor="")},yi.prototype.doCurrentObjectChanged=function(){},yi.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,i=e.delta;if(0!==i&&t.documentBounds.w()){var n=t.commandHandler,r=t.toolManager.mouseWheelBehavior;if(null!==n&&(r===_i&&!e.shift||r===ki&&e.control))(0<i?n.canIncreaseZoom():n.canDecreaseZoom())&&(r=t.zoomPoint,t.zoomPoint=e.viewPoint,0<i?n.increaseZoom():n.decreaseZoom(),t.zoomPoint=r),e.bubbles=!1;else if(r===_i&&e.shift||r===ki&&!e.control){n=t.position.copy();var o=e.event;r=o.deltaMode;var a=o.deltaX;o=o.deltaY;var s="pixel";if(0===a&&0===o||e.shift)!e.shift&&t.allowVerticalScroll?(i=3*i*t.scrollVerticalLineChange,t.scroll(s,0<i?"up":"down",Math.abs(i))):e.shift&&t.allowHorizontalScroll&&(i=3*i*t.scrollHorizontalLineChange,t.scroll(s,0<i?"left":"right",Math.abs(i)));else{switch(r){case 0:s="pixel";break;case 1:s="line";break;case 2:s="page"}0!==a&&t.allowHorizontalScroll&&(a*=t.scrollHorizontalLineChange/16,t.scroll(s,0<a?"right":"left",Math.abs(a))),0!==o&&t.allowVerticalScroll&&(o*=t.scrollVerticalLineChange/16,t.scroll(s,0<o?"down":"up",Math.abs(o)))}this.doWheelChange(t,n,e)}}},yi.prototype.doWheelChange=function(t,e,i){t.position.C(e)&&0===i.event.wheelDeltaX||(i.bubbles=!1)},yi.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var i=this,n=e.clone(this.Ay);this.Wr=b((function(){i.doWaitAfter(n)}),t)},yi.prototype.cancelWaitAfter=function(){-1!==this.Wr&&m.clearTimeout(this.Wr),this.Wr=-1},yi.prototype.doWaitAfter=function(){},yi.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.hc(t,(function(t){for(;null!==t&&!(t.panel instanceof Kh);)t=t.panel;return t})))?null:t.part.category===e?t:null},yi.prototype.isBeyondDragSize=function(t,e){var i=this.diagram;void 0===t&&(t=i.firstInput.viewPoint),void 0===e&&(e=i.lastInput.viewPoint);var n=i.toolManager.dragSize,r=n.width;return n=n.height,i.firstInput.isTouchEvent&&(r+=6,n+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>n},d.Object.defineProperties(yi.prototype,{diagram:{get:function(){return this.H},set:function(t){t instanceof Pr&&(this.H=t)}},name:{get:function(){return this.wa},set:function(t){this.wa=t}},isEnabled:{get:function(){return this.Ed},set:function(t){this.Ed=t}},isActive:{get:function(){return this.nb},set:function(t){this.nb=t}},transactionResult:{get:function(){return this.wm},set:function(t){this.wm=t}}}),yi.prototype.startTransaction=yi.prototype.Ea,yi.className="Tool",c(bi,yi),bi.prototype.initializeStandardTools=function(){},bi.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof Kh&&this.Kp===t){var i=e.adornedObject;(null!==t?i.part===t:null===i)?this.showToolTip(e,i):this.hideToolTip()}},bi.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===Mi&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===Pi)return void(e.bubbles=!0);if(this.gestureBehavior===Mi)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var i=this.mouseDownTools.length,n=0;n<i;n++){var r=this.mouseDownTools.L(n);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===ki?this.mouseWheelBehavior=_i:this.mouseWheelBehavior===_i&&(this.mouseWheelBehavior=ki)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},bi.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===Pi)return void(e.bubbles=!0);if(this.gestureBehavior===Mi)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var i=this.mouseMoveTools.length,n=0;n<i;n++){var r=this.mouseMoveTools.L(n);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseMove()))}xi(this,t),null===(t=e.event)||"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},bi.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof Kh&&(e===t||e.qg(t))||this.hideToolTip()},bi.prototype.doWaitAfter=function(t){var e=this.diagram;null!==e.xa&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.pu=!0,e.doMouseUp()))},bi.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.hc(e.documentPoint,null,null));var i=e.targetObject;if(null!==i)for(e.handled=!1;null!==i&&(null===(t=this.isActive?i.mouseHold:i.mouseHover)||(t(e,i),!e.handled));)i=i.panel;else null!==(i=this.isActive?t.mouseHold:t.mouseHover)&&i(e)},bi.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.hc(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof Kh)||e!==t&&!e.qg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},bi.prototype.showToolTip=function(t,e){var i=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof Kh){t.layerName="Tool",t.selectable=!1,t.scale=1/i.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=i.scale);var n=t.diagram;null!==n&&n!==i&&n.remove(t),i.add(t),null!==e?t.adornedObject=e:t.data=i.model,t.Va(),this.positionToolTip(t,e)}else t instanceof bn&&t!==this.currentToolTip&&t.show(e,i,this);if(this.currentToolTip=t,-1!==this.zj&&(m.clearTimeout(this.zj),this.zj=-1),0<(t=this.toolTipDuration)&&1/0!==t){var r=this;this.zj=b((function(){r.hideToolTip()}),t)}},bi.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,i=e.lastInput.documentPoint.copy(),n=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5/e.scale),i.x<r.x&&(i.x=r.x),i.y=i.y+20/e.scale+n.height>r.bottom?i.y-(n.height+5/e.scale):i.y+20/e.scale,i.y<r.y&&(i.y=r.y),t.position=i}},bi.prototype.hideToolTip=function(){-1!==this.zj&&(m.clearTimeout(this.zj),this.zj=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof Kh?(t.remove(e),null!==this.Kp&&this.Kp.Jf(e.category),e.data=null,e.adornedObject=null):e instanceof bn&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},bi.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,i=0;i<e;i++){var n=this.mouseUpTools.L(i);if(n.diagram=this.diagram,n.canStart())return t.doFocus(),t.currentTool=n,void(t.currentTool===n&&(n.isActive||n.doActivate(),n.doMouseUp()))}t.doFocus(),this.doDeactivate()},bi.prototype.doMouseWheel=function(){this.standardMouseWheel()},bi.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},bi.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},bi.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,i=0;i<e;i++){var n=this.mouseDownTools.L(i);if(n.name===t)return n}for(e=this.mouseMoveTools.length,i=0;i<e;i++)if((n=this.mouseMoveTools.L(i)).name===t)return n;for(e=this.mouseUpTools.length,i=0;i<e;i++)if((n=this.mouseUpTools.L(i)).name===t)return n;return null},bi.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var i=this.mouseDownTools.length,n=0;n<i;n++){var r=this.mouseDownTools.L(n);if(r.name===t)return null!==e?this.mouseDownTools.Zc(n,e):this.mouseDownTools.mb(n),r}for(i=this.mouseMoveTools.length,n=0;n<i;n++)if((r=this.mouseMoveTools.L(n)).name===t)return null!==e?this.mouseMoveTools.Zc(n,e):this.mouseMoveTools.mb(n),r;for(i=this.mouseUpTools.length,n=0;n<i;n++)if((r=this.mouseUpTools.L(n)).name===t)return null!==e?this.mouseUpTools.Zc(n,e):this.mouseUpTools.mb(n),r;return null},bi.prototype.gb=function(t,e,i){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&i.add(e)},d.Object.defineProperties(bi.prototype,{mouseWheelBehavior:{get:function(){return this.ga},set:function(t){this.ga=t}},gestureBehavior:{get:function(){return this.u},set:function(t){this.u=t}},currentToolTip:{get:function(){return this.j},set:function(t){this.j=t,this.Kp=null!==t&&t instanceof Kh?t.adornedPart:null}},mouseDownTools:{get:function(){return this.hb}},mouseMoveTools:{get:function(){return this.ob}},mouseUpTools:{get:function(){return this.Ib}},hoverDelay:{get:function(){return this.V},set:function(t){this.V=t}},holdDelay:{get:function(){return this.F},set:function(t){this.F=t}},dragSize:{get:function(){return this.o},set:function(t){this.o=t.J()}},toolTipDuration:{get:function(){return this.Ha},set:function(t){this.Ha=t}}}),bi.prototype.replaceStandardTool=bi.prototype.gb;var wi,ki=new z(bi,"WheelScroll",0),_i=new z(bi,"WheelZoom",1),Si=new z(bi,"WheelNone",2),Ci=new z(bi,"GestureZoom",3),Mi=new z(bi,"GestureCancel",4),Pi=new z(bi,"GestureNone",5);function Ti(){yi.call(this),this.name="Dragging",this.u=this.Qw=this.ob=!0,this.o=this.Ha=this.V=this.Ne=null,this.Ym=this.Ib=!1,this.rl=new pt(NaN,NaN),this.Cr=new pt,this.hb=!0,this.Gk=100,this.Bg=[],this.se=(new Q).freeze(),this.ga=new _a,this.Bn=null,this.F="copy",this.Nc="",this.Oc="no-drop"}function Di(t,e){if(t.dragsLink){var i=t.diagram;i.allowRelink&&(i.model.Vj()&&1===e.count&&e.first()instanceof xc?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.Ej(),t.Ne=i.toolManager.findTool("Relinking"),null===t.Ne&&(t.Ne=new rn,t.Ne.diagram=i),t.Ne.originalLink=t.draggedLink):(t.draggedLink=null,t.Ne=null))}}function Ni(t){var e=t.diagram,i=e.skipsUndoManager;e.skipsUndoManager=!0,Bi(t,e.lastInput,null),e.skipsUndoManager=i,t.Bg.length=0}function Ii(){var t=Ki;Ai(t),Ri(t);var e=t.diagram;t.rl.w()&&(e.position=t.rl),e.tg()}function Ei(t,e){if(null===t.copiedParts){var i=t.diagram;if((!e||!i.isReadOnly&&!i.isModelReadOnly)&&null!==t.draggedParts){var n=i.undoManager;for(n.isEnabled&&n.isInTransaction?null!==n.currentTransaction&&0<n.currentTransaction.changes.count&&(i.undoManager.Kf(),i.Ea("Drag")):Ri(t),i.skipsUndoManager=!e,i.partManager.addsToTemporaryLayer=!e,t.startPoint=i.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Lf():i.selection,e=i.Kj(e,i,!0),i=new ft,n=t.draggedParts.iterator;n.next();){var r=n.key;if(r.Wc()&&r.canCopy()){var o=e.I(r);null!==o&&(o.location=r.location,o.Va(),i.add(o,t.Ld(o.location)))}}for(e=e.iterator;e.next();)(n=e.value)instanceof xc&&n.canCopy()&&i.add(n,t.Ld());t.copiedParts=i,Di(t,i.Lf()),null!==t.draggedLink&&(e=(i=t.draggedLink).routeBounds,_c(i,t.startPoint.x-(e.x+e.width/2),t.startPoint.y-(e.y+e.height/2))),t.doUpdateCursor(null)}}}function Ai(t){var e=t.diagram;if(null!==t.copiedParts){if(e.Fs(t.copiedParts.Lf(),!1),t.copiedParts=null,null!==t.draggedParts)for(var i=t.draggedParts.iterator;i.next();)i.key instanceof xc&&(i.value.point=new pt(0,0));t.doUpdateCursor(null)}e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Oi(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.Ne){var e=t.Ne;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode),t.Ne.originalLink=null}t.draggedLink=null,t.Ne=null}}function Li(t,e,i){var n=t.diagram,r=t.startPoint,o=pt.alloc();o.assign(n.lastInput.documentPoint),t.moveParts(e,o.qe(r),i),pt.free(o),!0===n.Gf("temporaryPixelRatio")&&null===n.Yh&&30<n.Yw&&(Er(n),n.$l())}function Ri(t){if(null!==t.draggedParts){for(var e=t.diagram,i=t.draggedParts.iterator;i.next();){var n=i.key;n.Wc()&&(n.location=i.value.point)}for(i=t.draggedParts.iterator;i.next();)if((n=i.key)instanceof xc&&n.suspendsRouting){var r=i.value.point;t.draggedParts.add(n,t.Ld()),_c(n,-r.x,-r.y)}e.Yc()}}function ji(t,e){var i=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),Hi(t,!1));var n=t.findDragOverObject(e),r=i.lastInput;r.targetObject=n,t.doUpdateCursor(n);var o=i.skipsUndoManager,a=!1;try{if(i.skipsUndoManager=!0,a=Bi(t,r,n),!t.isActive&&null===Ki)return;var s=null!==n?n.part:null;if(null===s||i.handlesDragDropForTopLevelParts&&s.isTopLevel&&!(s instanceof pc)){var l=i.mouseDragOver;null!==l&&(l(r),a=!0)}if(!t.isActive&&null===Ki)return;if(t.doDragOver(e,n),!t.isActive&&null===Ki)return}finally{i.skipsUndoManager=o,a&&i.Yc()}t.Bn=n,i.isReadOnly||!i.allowMove&&!i.allowCopy||!i.allowHorizontalScroll&&!i.allowVerticalScroll||i.ds(r.viewPoint)}function Bi(t,e,i){var n=!1,r=t.Bg.length,o=0<r?t.Bg[0]:null;if(i===o)return!1;e.handled=!1;for(var a=0;a<r;a++){var s=t.Bg[a],l=s.mouseDragLeave;if(null!==l&&(l(e,s,i),n=!0,e.handled))break}if(t.Bg.length=0,!t.isActive&&null===Ki||null===i)return n;for(e.handled=!1,r=i;null!==r;)t.Bg.push(r),r=Fi(r);for(r=t.Bg.length,i=0;i<r&&(null===(s=(a=t.Bg[i]).mouseDragEnter)||(s(e,a,o),n=!0,!e.handled));i++);return n}function Fi(t){var e=t.panel;return null!==e?e:t instanceof wh&&!(t instanceof pc)&&(null!==(t=t.containingGroup)&&t.handlesDragDropForMembers)?t:null}function zi(t,e,i){var n=t.Ne;if(null===n)return null;var r=t.diagram.ng(e,n.portGravity,(function(t){return n.findValidLinkablePort(t,i)}));t=pt.alloc();var o=1/0,a=null;for(r=r.iterator;r.next();){var s=r.value;if(null!==s.part){var l=s.ka(ie,t);(l=e.Bf(l))<o&&(a=s,o=l)}}return pt.free(t),a}function Hi(t,e){var i=t.draggedLink;if(null!==i&&!(2>i.pointsCount)){var n=t.diagram;if(!n.isReadOnly){var r=t.Ne;if(null!==r){var o=null,a=null;null===i.fromNode&&(null!==(o=zi(t,i.i(0),!1))&&(a=o.part));var s=null,l=null;null===i.toNode&&(null!==(s=zi(t,i.i(i.pointsCount-1),!0))&&(l=s.part)),r.isValidLink(a,o,l,s)?e?(i.defaultFromPoint=i.i(0),i.defaultToPoint=i.i(i.pointsCount-1),i.suspendsRouting=!1,i.fromNode=a,null!==o&&(i.fromPortId=o.portId),i.toNode=l,null!==s&&(i.toPortId=s.portId),i.fromPort!==n.Ox&&n.R("LinkRelinked",i,n.Ox),i.toPort!==n.Px&&n.R("LinkRelinked",i,n.Px)):on(r,a,o,l,s):on(r,null,null,null,null)}}}}function Vi(t,e){var i=t.diagram;t.dragsLink&&Hi(t,!0),Ni(t);var n=t.findDragOverObject(e),r=i.lastInput;if(r.targetObject=n,null!==n){r.handled=!1;for(var o=n;null!==o;){var a=o.mouseDrop;if(null!==a&&(a(r,o),r.handled))break;Wi(t,r,o),o=Fi(o)}}else null!==(o=i.mouseDrop)&&o(r);if(t.isActive||null!==Ki){for(r=(t.copiedParts||t.draggedParts).iterator;r.next();)(o=r.key)instanceof Xh&&o.linksConnected.each((function(t){t.suspendsRouting=!1}));if(t.doDropOnto(e,n),t.isActive||null!==Ki){for(t=Ot.alloc(),e=i.selection.iterator;e.next();)(n=e.value)instanceof Xh&&Ui(i,n,t);Ot.free(t)}}}function Wi(t,e,i){t=t.diagram,i=i.part,!t.handlesDragDropForTopLevelParts||!i.isTopLevel||i instanceof pc||null!==(i=t.mouseDrop)&&i(e)}function Ui(t,e,i){var n=!1;if(i=e.getAvoidableRect(i),t.viewportBounds.Qe(i)&&(n=!0),0!==(t=t.Nu(i,(function(t){return t.part}),(function(t){return t instanceof xc}),!0,(function(t){return t instanceof xc}),n)).count)for(t=t.iterator;t.next();)!(i=t.value).Qd(e)&&i.isAvoiding&&i.bb()}function Gi(t,e,i,n){if(null===t.copiedParts){var r=t.diagram;if(!r.isReadOnly&&!r.isModelReadOnly){r.skipsUndoManager=!i,r.partManager.addsToTemporaryLayer=!i,t.startPoint=n.documentPoint,i=r.Kj(e,r,!0);var o=Ot.alloc();r=n=1/0;for(var a=-1/0,s=-1/0,l=e.iterator;l.next();){var u=l.value;if(u.isVisible()){var h=u.location;u=h.x,h=h.y,isNaN(u)||isNaN(h)||(u<n&&(n=u),h<r&&(r=h),u>a&&(a=u),h>s&&(s=h))}}for(1/0===n?o.h(0,0,0,0):o.h(n,r,a-n,s-r),n=o.x+o.width/2,r=o.y+o.height/2,Ot.free(o),o=t.Cr,a=new ft,s=pt.alloc(),l=e.iterator;l.next();)(u=l.value)instanceof xc&&u.canCopy()&&(null!==(h=i.I(u))&&(h.points=u.points,_c(h,o.x-n,o.y-r),h.suspendsRouting=!0,a.add(h,t.Ld())));for(e=e.iterator;e.next();)(u=e.value).Wc()&&u.canCopy()&&(null!==(l=i.I(u))&&(u=u.location,s.h(o.x-(n-u.x),o.y-(r-u.y)),l.location=s,l.Va(),a.add(l,t.Ld(s))));pt.free(s),t.copiedParts=a,Di(t,a.Lf()),null!==t.draggedLink&&(e=(i=t.draggedLink).routeBounds,_c(i,t.startPoint.x-(e.x+e.width/2),t.startPoint.y-(e.y+e.height/2))),t.doUpdateCursor(null)}}}bi.className="ToolManager",bi.WheelScroll=ki,bi.WheelZoom=_i,bi.WheelNone=Si,bi.GestureZoom=Ci,bi.GestureCancel=Mi,bi.GestureNone=Pi,c(Ti,yi),Ti.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.Gk))&&null!==this.findDraggablePart()},Ti.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.Ml(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},Ti.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.Ml(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(B?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},Ti.prototype.doActivate=function(){var t=this.diagram;this.Bn=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(t.Du(!0),Ki=null,this.isActive=!0,this.rl.set(t.position),Di(this,t.selection),this.Bg.length=0,t.animationManager.Bc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),this.Qw=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.Ks=!0,!0===t.Gf("temporaryPixelRatio")&&30<t.Yw&&Er(t),co(t,this.draggedParts),this.Ea("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Ym=!1,Ki=this,Yi=this.diagram,this.doSimulatedDragOut()))},Ti.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},Ti.prototype.Ld=function(t){return void 0===t?new ha(it):this.isGridSnapEnabled?new ha(new pt(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3)):new ha(t.copy())},Ti.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(this.diagram.layout.isRealtime=this.Qw,t.Du(!1),t.tg(),Ni(this),fo(t,this.draggedParts),this.draggedParts=this.currentPart=this.Bn=null,this.Ym=this.isDragOutStarted=!1,0<wi.count){for(var e=wi,i=e.length,n=0;n<i;n++){var r=e.L(n);Oi(r),Ai(r),Ni(r),r.diagram.tg()}e.clear()}Oi(this),this.rl.h(NaN,NaN),null!==Yi&&(Yi.currentCursor=""),Ki=Yi=null,Ai(this),t.isMouseCaptured=!1,t.currentCursor="",t.Ks=!1,this.stopTransaction(),Ar(t,!0)},Ti.prototype.stopTransaction=function(){var t=this.diagram,e=yi.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.$j(),e},Ti.prototype.doCancel=function(){Ai(this),Ri(this);var t=this.diagram;this.rl.w()&&(t.position=this.rl),this.stopTool()},Ti.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},Ti.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},Ti.prototype.moveParts=function(t,e,i){void 0===i&&(i=!1);var n=this.diagram;null!==n&&lo(n,t,e,this.dragOptions,i)},Ti.prototype.findDragOverObject=function(t){var e=this;return Wr(this.diagram,t,null,(function(t){return null===t?t=!0:t=!!(null===(t=t.part)||t instanceof Kh||t.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(t)||e.copiedParts&&e.copiedParts.contains(t)),!t}))},Ti.prototype.doUpdateCursor=function(t){var e=this.diagram;null!==t&&this.Bn===t||(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},Ti.prototype.doDragOver=function(){},Ti.prototype.doDropOnto=function(){},Ti.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Ei(this,!1),co(t,this.copiedParts),Li(this,this.copiedParts,!1),fo(t,this.copiedParts)):this.mayMove()?(Ai(this),Li(this,this.draggedParts,!0)):this.mayDragOut()?(Ei(this,!1),Li(this,this.copiedParts,!1)):Ai(this),ji(this,t.lastInput.documentPoint))}},Ti.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var i=this.mayCopy();if(i&&null!==this.copiedParts?(Ai(this),Ei(this,!0),co(t,this.copiedParts),Li(this,this.copiedParts,!1),fo(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(t){t.isSelected=!0})))):(e=!0,Ai(this),this.mayMove()&&(Li(this,this.draggedParts,!0),ji(this,t.lastInput.documentPoint))),this.Ym=!0,Vi(this,t.lastInput.documentPoint),this.isActive){var n=i?this.copiedParts.Lf():this.draggedParts.Lf();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var i=e.key;i instanceof Xh&&(null===(i=i.containingGroup)||null===i.placeholder||t.draggedParts.contains(i)||i.placeholder.v())}}(this),t.Ya(),fo(t,this.draggedParts),this.transactionResult=i?"Copy":"Move",t.R(i?"SelectionCopied":"SelectionMoved",n)}this.stopTool(),i&&t.R("ChangedSelection",t.selection)}}},Ti.prototype.simulatedMouseMove=function(t,e,i){if(null===Ki)return!1;var n=Ki.diagram;i instanceof Pr||(i=null);var r=Yi;return i!==r&&(null!==r&&r!==n&&(r.tg(),Ki.isDragOutStarted=!1,null!==(r=r.toolManager.findTool("Dragging"))&&r.doSimulatedDragLeave()),Yi=i,null!==i&&i!==n&&(Ii(),null!==(r=i.toolManager.findTool("Dragging"))&&(wi.contains(r)||wi.add(r),r.doSimulatedDragEnter())),this.doUpdateCursor(null)),!(null===i||i===n||!i.allowDrop||i.isReadOnly||!i.allowInsert)&&(null!==(n=i.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=i.getMouse(t)),i.lastInput.documentPoint=e,i.lastInput.viewPoint=i.mp(e),i.lastInput.down=!1,i.lastInput.up=!1,n.doSimulatedDragOver()),!0)},Ti.prototype.simulatedMouseUp=function(t,e,i){if(null===Ki)return!1;var n=Yi,r=Ki.diagram;if(null===i)return Ki.doCancel(),!0;if(i!==n){var o=n.toolManager.findTool("Dragging");if(null!==n&&n!==r&&null!==o)return n.tg(),Ki.isDragOutStarted=!1,o.doSimulatedDragLeave(),!1;Yi=i,null!==(n=i.toolManager.findTool("Dragging"))&&(Ii(),wi.contains(n)||wi.add(n),n.doSimulatedDragEnter())}return i!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=i.getMouse(t)):null===e&&(e=new pt),i.lastInput.documentPoint=e,i.lastInput.viewPoint=i.mp(e),i.lastInput.down=!1,i.lastInput.up=!0,null!==(t=i.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=Ki)&&(i=t.mayCopy(),t.transactionResult=i?"Copy":"Move",t.stopTool()),!0)},Ti.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(B?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Ti.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Ti.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},Ti.prototype.computeBorder=function(t,e,i){return this.Ym||null===this.draggedParts||this.draggedParts.contains(t)?null:i.assign(e)},Ti.prototype.Bz=function(){return Ki},Ti.prototype.mayDragIn=function(){var t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;return null!==Ki&&Ki.diagram.model.dataFormat===t.model.dataFormat},Ti.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Bc(),Jr(t),t.animationManager.Bc(),null!==(t=Ki)&&(t.diagram.Ks=!1),this.doUpdateCursor(null)}},Ti.prototype.doSimulatedDragLeave=function(){null!==Ki&&Ki.doSimulatedDragOut(),this.doCancel()},Ti.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.Dm=!0;var e=Ki;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;Gi(this,e.draggedParts.Lf(),!1,t.firstInput),Li(this,this.copiedParts,!1),ji(this,t.lastInput.documentPoint)}t.animationManager.Dm=!1},Ti.prototype.doSimulatedDrop=function(){var t=this.diagram,e=Ki;if(null!==e){var i=e.diagram;if(e.Ym=!0,Ai(this),!this.mayDragIn())return;t.animationManager.Dm=!0,t.R("ChangingSelection",t.selection),this.Ea("Drop"),Gi(this,e.draggedParts.Lf(),!0,t.lastInput),Li(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(t){t.isSelected=!0}))),Vi(this,t.lastInput.documentPoint),t.Ya(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new Q,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,i),this.stopTransaction(),t.R("ChangedSelection",t.selection)}t.animationManager.Dm=!1},Ti.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.Ks=!1,this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.Bn=null},Ti.prototype.computeMove=function(t,e,i,n){return null!==(i=this.diagram)?i.computeMove(t,e,this.dragOptions,n):new pt},d.Object.defineProperties(Ti.prototype,{isCopyEnabled:{get:function(){return this.ob},set:function(t){this.ob=t}},copiesEffectiveCollection:{get:function(){return this.u},set:function(t){this.u=t}},dragOptions:{get:function(){return this.ga},set:function(t){this.ga=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.hb},set:function(t){this.hb=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.C(t)||(t=t.J(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.C(t)||(t=t.J(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.C(t)||(t=t.J(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.F},set:function(t){this.F=t}},moveCursor:{get:function(){return this.Nc},set:function(t){this.Nc=t}},nodropCursor:{get:function(){return this.Oc},set:function(t){this.Oc=t}},currentPart:{get:function(){return this.V},set:function(t){this.V=t}},copiedParts:{get:function(){return this.o},set:function(t){this.o=t}},draggedParts:{get:function(){return this.Ha},set:function(t){this.Ha=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Lf():null!==this.draggedParts?this.draggedParts.Lf():this.se}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Ib},set:function(t){this.Ib=t}},startPoint:{get:function(){return this.Cr},set:function(t){this.Cr.C(t)||this.Cr.assign(t)}},delay:{get:function(){return this.Gk},set:function(t){this.Gk=t}}}),Ti.prototype.getDraggingSource=Ti.prototype.Bz;var Ki=null,Yi=null;function Xi(){yi.call(this),this.se=100,this.Ha=!1,this.u="pointer";var t=new xc,e=new fu;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new fu).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.Ci=t,t=new Xh,(e=new fu).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=_t,t.add(e),t.selectable=!1,t.layerName="Tool",this.Bi=t,this.j=e,t=new Xh,(e=new fu).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=_t,t.add(e),t.selectable=!1,t.layerName="Tool",this.Di=t,this.o=e,this.Oc=this.Nc=this.ob=this.hb=this.Ib=null,this.ga=!0,this.jy=new ft,this.Of=this.gj=this.Pf=null}function qi(t,e,i,n){if(e===i)return!0;var r=e.fromNode;return!(null===r||!r.isLinkLabel||(n.add(r),!qi(t,r.labeledLink,i,n)))||!(null===(e=e.toNode)||!e.isLinkLabel||(n.add(e),!qi(t,e.labeledLink,i,n)))}function Zi(t,e,i,n,r){if(e===i)return!0;if(null===e||null===i)return!1;for(var o=e.linksConnected;o.next();){var a=o.value;if(a!==n&&(!r||a.isTreeLink)&&a.toNode===e&&((a=a.fromNode)!==e&&Zi(t,a,i,n,r)))return!0}return!1}function Ji(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var o=i.linksConnected;o.next();){var a=o.value;if(a!==r&&a.toNode===i&&((a=a.fromNode)!==i&&Ji(t,e,a,n,r)))return!0}return!1}function Qi(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var o=i.linksConnected;o.next();){var a=o.value;if(a!==r){var s=a.fromNode;if(a=a.toNode,(s=s===i?a:s)!==i&&Qi(t,e,s,n,r))return!0}}return!1}function $i(){Xi.call(this),this.name="Linking",this.V={},this.F=null,this.K=tn,this.Vd=null}Ti.className="DraggingTool",wi=new Z,L("draggingTool",(function(){return this.findTool("Dragging")}),(function(t){this.gb("Dragging",t,this.mouseMoveTools)})),bi.prototype.doCancel=function(){null!==Ki&&Ki.doCancel(),yi.prototype.doCancel.call(this)},c(Xi,yi),Xi.prototype.doStop=function(){this.diagram.tg(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Xi.prototype.copyPortProperties=function(t,e,i,n,r){if(null!==t&&null!==e&&null!==i&&null!==n){var o=e.Df(),a=Nt.alloc();a.width=e.naturalBounds.width*o,a.height=e.naturalBounds.height*o,n.desiredSize=a,Nt.free(a),r?(n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength):(n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength),i.locationSpot=ie,o=pt.alloc(),i.location=e.ka(ie,o),pt.free(o),n.angle=e.li(),null!==this.portTargeted&&this.portTargeted(t,e,i,n,r)}},Xi.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.desiredSize=_t,e.fromSpot=Jt,e.toSpot=Jt),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,i)},Xi.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Xi.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Xh){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.ds(t.lastInput.viewPoint)}},Xi.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.part;if(!(i instanceof Xh))return null;for(;null!==t;){var n=e?t.toLinkable:t.fromLinkable;if(!0===n&&(null!==t.portId||t instanceof Xh)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.panel}return null},Xi.prototype.findTargetPort=function(t){var e=this.diagram,i=e.lastInput.documentPoint,n=this.portGravity;0>=n&&(n=.1);var r=this,o=e.ng(i,n,(function(e){return r.findValidLinkablePort(e,t)}),null,!0);for(n=1/0,e=null,o=o.iterator;o.next();){var a=o.value,s=a.part;if(s instanceof Xh){var l=a.ka(ie,pt.alloc()),u=i.x-l.x,h=i.y-l.y;pt.free(l),(l=u*u+h*h)<n&&(null!==(u=this.validPortsCache.I(a))?u&&(e=a,n=l):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,s,a)||!t&&this.isValidLink(s,a,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(a,!0),e=a,n=l):this.validPortsCache.add(a,!1))}}return null!==e&&((i=e.part)instanceof Xh&&(null===i.layer||i.layer.allowLink))?e:null},Xi.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var i=e.fromMaxLinks;if(1/0>i){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.Mo(e).count>=i)return!1}return!0},Xi.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var i=e.toMaxLinks;if(1/0>i){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Od(e).count>=i)return!1}return!0},Xi.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(t=t.part,e=e.part,null!==t&&t===e))},Xi.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.part;if(!(i instanceof Xh))return!1;null===(t=t.portId)&&(t="");var n=e.part;if(!(n instanceof Xh))return!1;for(null===(e=e.portId)&&(e=""),e=n.Od(e);e.next();)if((n=e.value).fromNode===i&&n.fromPortId===t)return!0;return!1},Xi.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.fromLinkableSelfNode&&n.toLinkableSelfNode||!this.isInSameNode(e,n))&&(e.fromLinkableDuplicates&&n.toLinkableDuplicates||!this.isLinked(e,n)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==i&&this.isLabelDependentOnLink(i,this.originalLink))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.originalLink))return!1;if(null!==t){var r=t.linkValidation;if(null!==r&&!r(t,e,i,n,this.originalLink))return!1}return!(null!==i&&null!==(r=i.linkValidation)&&!r(t,e,i,n,this.originalLink))&&(null===(r=this.linkValidation)||r(t,e,i,n,this.originalLink))},Xi.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.labeledLink;if(null===i)return!1;if(i===e)return!0;var n=new Q;return n.add(t),qi(this,i,e,n)},Xi.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.isUnconnectedLinkValid;var n=this.diagram.validCycle;if(n!==Ko){if(n===Zo){if(null!==(n=i||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=e.linksConnected;n.next();){var r=n.value;if(r!==i&&r.isTreeLink&&r.toNode===e)return!1}return!Zi(this,t,e,i,!0)}if(n===Jo){if(null!==(n=i||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=t.linksConnected;n.next();)if((r=n.value)!==i&&r.isTreeLink&&r.fromNode===t)return!1;return!Zi(this,t,e,i,!0)}if(n===Yo)return t===e?t=!0:((n=new Q).add(e),t=Ji(this,n,t,e,i)),!t;if(n===Xo)return!Zi(this,t,e,i,!1);if(n===qo)return t===e?t=!0:((n=new Q).add(e),t=Qi(this,n,t,e,i)),!t}return!0},d.Object.defineProperties(Xi.prototype,{portGravity:{get:function(){return this.se},set:function(t){0<=t&&(this.se=t)}},isUnconnectedLinkValid:{get:function(){return this.Ha},set:function(t){this.Ha=t}},linkingCursor:{get:function(){return this.u},set:function(t){this.u=t}},temporaryLink:{get:function(){return this.Ci},set:function(t){this.Ci=t}},temporaryFromNode:{get:function(){return this.Bi},set:function(t){(this.Bi=t)&&(this.j=t.port)}},temporaryFromPort:{get:function(){return this.j},set:function(t){if(null!==this.j){var e=this.j.panel;if(null!==e){var i=e.O.indexOf(this.j);e.mb(i),e.Hb(i,t)}}this.j=t}},temporaryToNode:{get:function(){return this.Di},set:function(t){(this.Di=t)&&(this.o=t.port)}},temporaryToPort:{get:function(){return this.o},set:function(t){if(null!==this.o){var e=this.o.panel;if(null!==e){var i=e.O.indexOf(this.o);e.mb(i),e.Hb(i,t)}}this.o=t}},originalLink:{get:function(){return this.Ib},set:function(t){this.Ib=t}},originalFromNode:{get:function(){return this.hb},set:function(t){this.hb=t}},originalFromPort:{get:function(){return this.ob},set:function(t){this.ob=t}},originalToNode:{get:function(){return this.Nc},set:function(t){this.Nc=t}},originalToPort:{get:function(){return this.Oc},set:function(t){this.Oc=t}},isForwards:{get:function(){return this.ga},set:function(t){this.ga=t}},validPortsCache:{get:function(){return this.jy}},targetPort:{get:function(){return this.Pf},set:function(t){this.Pf=t}},linkValidation:{get:function(){return this.gj},set:function(t){this.gj=t}},portTargeted:{get:function(){return this.Of},set:function(t){this.Of=t}}}),Xi.className="LinkingBaseTool",c($i,Xi),$i.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.us()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},$i.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.hc(t.firstInput.documentPoint,null,null)),null===e)return null;if(!((t=e.part)instanceof Xh))return null;var i=this.direction;if(i===tn||i===en){var n=this.findValidLinkablePort(e,!1);if(null!==n||this.startObject===t&&(n=t.port,this.findValidLinkablePort(n,!1)))return this.isForwards=!0,n}return(i===tn||i===nn)&&(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&(e=t.port,this.findValidLinkablePort(e,!0)))?(this.isForwards=!1,e):null},$i.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null!==this.temporaryToNode&&(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof Xh&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null!==this.temporaryFromNode&&(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof Xh&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.Va(),t.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.Va(),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0)},$i.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},$i.prototype.doStop=function(){Xi.prototype.doStop.call(this),this.startObject=null},$i.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=this.transactionResult=null,i=null,n=null,r=null,o=null;try{var a=this.targetPort=this.findTargetPort(this.isForwards);if(null!==a){var s=a.part;s instanceof Xh&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,i=this.originalFromPort),n=s,r=a):(e=s,i=a,null!==this.originalToNode&&(n=this.originalToNode,r=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,i=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(n=this.originalToNode,r=this.originalToPort);null!==e||null!==n?null!==(o=this.insertLink(e,i,n,r))?(null===a&&(this.isForwards?o.defaultToPoint=t.lastInput.documentPoint:o.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),o.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",o)):this.doNoLink(e,i,n,r):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),o&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},$i.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof xc)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},$i.prototype.insertLink=function(t,e,i,n){return this.diagram.partManager.insertLink(t,e,i,n)},$i.prototype.doNoLink=function(){},d.Object.defineProperties($i.prototype,{archetypeLinkData:{get:function(){return this.V},set:function(t){this.V=t}},archetypeLabelNodeData:{get:function(){return this.F},set:function(t){this.F=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.Vd},set:function(t){this.Vd=t}}});var tn=new z($i,"Either",0),en=new z($i,"ForwardsOnly",0),nn=new z($i,"BackwardsOnly",0);function rn(){Xi.call(this),this.name="Relinking";var t=new fu;t.figure="Diamond",t.desiredSize=Ct,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.V=t,(t=new fu).figure="Diamond",t.desiredSize=Ct,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.Vd=t,this.F=null,this.Cw=new Ot}function on(t,e,i,n,r){null!==e?(t.copyPortProperties(e,i,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==n?(t.copyPortProperties(n,r,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function an(){yi.call(this),this.name="LinkReshaping";var t=new fu;t.figure="Rectangle",t.desiredSize=St,t.fill="lightblue",t.stroke="dodgerblue",this.o=t,(t=new fu).figure="Diamond",t.desiredSize=Ct,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.u=t,this.F=3,this.Qs=this.j=null,this.Dw=new pt,this.Vq=new Z}function sn(t,e,i,n,r,o){return o?Math.abs(e.y-i.y)<t.resegmentingDistance&&Math.abs(i.y-n.y)<t.resegmentingDistance&&Math.abs(n.y-r.y)<t.resegmentingDistance:Math.abs(e.x-i.x)<t.resegmentingDistance&&Math.abs(i.x-n.x)<t.resegmentingDistance&&Math.abs(n.x-r.x)<t.resegmentingDistance}$i.className="LinkingTool",$i.Either=tn,$i.ForwardsOnly=en,$i.BackwardsOnly=nn,c(rn,Xi),rn.prototype.updateAdornments=function(t){if(null!==t&&t instanceof xc){var e="RelinkFrom",i=null;if(t.isSelected&&!this.diagram.isReadOnly){var n=t.selectionObject;null!==n&&t.canRelinkFrom()&&t.actualBounds.w()&&t.isVisible()&&n.actualBounds.w()&&n.Rd()&&(null===(i=t.Pj(e))&&(i=this.makeAdornment(n,!1),t.ah(e,i)))}null===i&&t.Jf(e),e="RelinkTo",i=null,t.isSelected&&!this.diagram.isReadOnly&&(null!==(n=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.w()&&t.isVisible()&&n.actualBounds.w()&&n.Rd()&&(null===(i=t.Pj(e))?(i=this.makeAdornment(n,!0),t.ah(e,i)):i.v())),null===i&&t.Jf(e)}},rn.prototype.makeAdornment=function(t,e){var i=new Kh;return i.type=Ml.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&i.add(e.copy()),i.adornedObject=t,i},rn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.us()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},rn.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&(null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),null===e)return;var i=e.part;if(!(i instanceof Kh&&i.adornedPart instanceof xc))return;this.handle=e,this.isForwards=null===i||"RelinkTo"===i.category,this.originalLink=i.adornedPart}this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Cw.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=kt),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=kt),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0},rn.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var i=t.curve;i!==Zc&&i!==qc||(i=Yc),e.curve=i,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},rn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},rn.prototype.doStop=function(){Xi.prototype.doStop.call(this),this.handle=null},rn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,i=this.originalFromPort,n=this.originalToNode,r=this.originalToPort,o=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var a=this.targetPort.part;a instanceof Xh&&(this.isForwards?(n=a,r=this.targetPort):(e=a,i=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?r=n=null:i=e=null:o=null;null!==o?(this.reconnectLink(o,this.isForwards?n:e,this.isForwards?r:i,this.isForwards),null===this.targetPort&&(this.isForwards?o.defaultToPoint=t.lastInput.documentPoint:o.defaultFromPoint=t.lastInput.documentPoint,o.bb()),this.transactionResult=this.name,t.R("LinkRelinked",o,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Vo(this.Cw)}finally{this.stopTool()}}},rn.prototype.reconnectLink=function(t,e,i,n){return i=null!==i&&null!==i.portId?i.portId:"",n?(t.toNode=e,t.toPortId=i):(t.fromNode=e,t.fromPortId=i),!0},rn.prototype.doNoRelink=function(){},d.Object.defineProperties(rn.prototype,{fromHandleArchetype:{get:function(){return this.V},set:function(t){this.V=t}},toHandleArchetype:{get:function(){return this.Vd},set:function(t){this.Vd=t}},handle:{get:function(){return this.F},set:function(t){if(null!==t&&!(t.part instanceof Kh))throw Error("new handle is not in an Adornment: "+t);this.F=t}}}),rn.className="RelinkingTool",L("linkingTool",(function(){return this.findTool("Linking")}),(function(t){this.gb("Linking",t,this.mouseMoveTools)})),L("relinkingTool",(function(){return this.findTool("Relinking")}),(function(t){this.gb("Relinking",t,this.mouseDownTools)})),c(an,yi),an.prototype.Ru=function(t){return t&&0!==t.reshapingBehavior.value?t.reshapingBehavior:ln},an.prototype.om=function(t,e){t.reshapingBehavior=e},an.prototype.updateAdornments=function(t){if(null!==t&&t instanceof xc){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var i=t.path;null!==i&&t.canReshape()&&t.actualBounds.w()&&t.isVisible()&&i.actualBounds.w()&&i.Rd()&&(null===(e=t.Pj(this.name))||e.yw!==t.pointsCount||e.Sw!==t.resegmentable)&&(null!==(e=this.makeAdornment(i))&&(e.yw=t.pointsCount,e.Sw=t.resegmentable,t.ah(this.name,e)))}null===e&&t.Jf(this.name)}},an.prototype.makeAdornment=function(t){var e=t.part,i=e.pointsCount,n=e.isOrthogonal,r=null;if(null!==e.points&&1<i){(r=new Kh).type=Ml.Link,i=e.firstPickIndex;var o=e.lastPickIndex,a=n?1:0;if(e.resegmentable&&e.computeCurve()!==Xc)for(var s=i+a;s<o-a;s++){var l=this.makeResegmentHandle(t,s);null!==l&&(l.segmentIndex=s,l.segmentFraction=.5,l.fromMaxLinks=999,r.add(l))}for(a=i+1;a<o;a++)if(null!==(s=this.makeHandle(t,a))){if(s.segmentIndex=a,a!==i)if(a===i+1&&n){l=e.i(i);var u=e.i(i+1);We.B(l.x,u.x)&&We.B(l.y,u.y)&&(u=e.i(i-1)),We.B(l.x,u.x)?(this.om(s,hn),s.cursor="n-resize"):We.B(l.y,u.y)&&(this.om(s,un),s.cursor="w-resize")}else a===o-1&&n?(l=e.i(o-1),u=e.i(o),We.B(l.x,u.x)&&We.B(l.y,u.y)&&(l=e.i(o+1)),We.B(l.x,u.x)?(this.om(s,hn),s.cursor="n-resize"):We.B(l.y,u.y)&&(this.om(s,un),s.cursor="w-resize")):a!==o&&(this.om(s,cn),s.cursor="move");r.add(s)}r.adornedObject=t}return r},an.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},an.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},an.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},an.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof xc){if(this.Qs=e,t.isMouseCaptured=!0,this.Ea(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var i=e.points.copy(),n=this.getResegmentingPoint();if(i.Hb(this.handle.segmentIndex+1,n),e.isOrthogonal&&i.Hb(this.handle.segmentIndex+1,n),e.points=i,e.Vb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.Dw=e.i(this.handle.segmentIndex),this.Vq=e.points.copy(),this.isActive=!0}}},an.prototype.doDeactivate=function(){this.stopTransaction(),this.Qs=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},an.prototype.stopTransaction=function(){var t=this.diagram,e=yi.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.$j(),e},an.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.Vq),this.stopTool()},an.prototype.getResegmentingPoint=function(){return this.handle.ka(ie)},an.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},an.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var i=this.handle.segmentIndex,n=e.i(i-1),r=e.i(i),o=e.i(i+1);if(e.isOrthogonal){if(i>e.firstPickIndex+1&&i<e.lastPickIndex-1){var a=e.i(i-2);if(Math.abs(n.x-r.x)<this.resegmentingDistance&&Math.abs(n.y-r.y)<this.resegmentingDistance&&(sn(this,a,n,r,o,!0)||sn(this,a,n,r,o,!1))){var s=e.points.copy();sn(this,a,n,r,o,!0)?(s.Zc(i-2,new pt(a.x,(o.y+a.y)/2)),s.Zc(i+1,new pt(o.x,(o.y+a.y)/2))):(s.Zc(i-2,new pt((o.x+a.x)/2,a.y)),s.Zc(i+1,new pt((o.x+a.x)/2,o.y))),s.mb(i),s.mb(i-1),e.points=s,e.Vb()}else a=e.i(i+2),Math.abs(r.x-o.x)<this.resegmentingDistance&&Math.abs(r.y-o.y)<this.resegmentingDistance&&(sn(this,n,r,o,a,!0)||sn(this,n,r,o,a,!1))&&(s=e.points.copy(),sn(this,n,r,o,a,!0)?(s.Zc(i-1,new pt(n.x,(n.y+a.y)/2)),s.Zc(i+2,new pt(a.x,(n.y+a.y)/2))):(s.Zc(i-1,new pt((n.x+a.x)/2,n.y)),s.Zc(i+2,new pt((n.x+a.x)/2,a.y))),s.mb(i+1),s.mb(i),e.points=s,e.Vb())}}else a=pt.alloc(),We.ph(n.x,n.y,o.x,o.y,r.x,r.y,a)&&a.Bf(r)<this.resegmentingDistance*this.resegmentingDistance&&((n=e.points.copy()).mb(i),e.points=n,e.Vb()),pt.free(a)}t.Ya(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Vq)}this.stopTool()},an.prototype.reshape=function(t){var e=this.adornedLink;e.th();var i=this.handle.segmentIndex,n=this.Ru(this.handle);if(e.isOrthogonal)if(i===e.firstPickIndex+1)i=e.firstPickIndex+1,n===hn?(e.M(i,e.i(i-1).x,t.y),e.M(i+1,e.i(i+2).x,t.y)):n===un&&(e.M(i,t.x,e.i(i-1).y),e.M(i+1,t.x,e.i(i+2).y));else if(i===e.lastPickIndex-1)i=e.lastPickIndex-1,n===hn?(e.M(i-1,e.i(i-2).x,t.y),e.M(i,e.i(i+1).x,t.y)):n===un&&(e.M(i-1,t.x,e.i(i-2).y),e.M(i,t.x,e.i(i+1).y));else{n=i;var r=e.i(n),o=e.i(n-1),a=e.i(n+1);We.B(o.x,r.x)&&We.B(r.y,a.y)?(We.B(o.x,e.i(n-2).x)&&!We.B(o.y,e.i(n-2).y)?(e.l(n,t.x,o.y),i++,n++):e.M(n-1,t.x,o.y),We.B(a.y,e.i(n+2).y)&&!We.B(a.x,e.i(n+2).x)?e.l(n+1,a.x,t.y):e.M(n+1,a.x,t.y)):We.B(o.y,r.y)&&We.B(r.x,a.x)?(We.B(o.y,e.i(n-2).y)&&!We.B(o.x,e.i(n-2).x)?(e.l(n,o.x,t.y),i++,n++):e.M(n-1,o.x,t.y),We.B(a.x,e.i(n+2).x)&&!We.B(a.y,e.i(n+2).y)?e.l(n+1,t.x,a.y):e.M(n+1,t.x,a.y)):We.B(o.x,r.x)&&We.B(r.x,a.x)?(We.B(o.x,e.i(n-2).x)&&!We.B(o.y,e.i(n-2).y)?(e.l(n,t.x,o.y),i++,n++):e.M(n-1,t.x,o.y),We.B(a.x,e.i(n+2).x)&&!We.B(a.y,e.i(n+2).y)?e.l(n+1,t.x,a.y):e.M(n+1,t.x,a.y)):We.B(o.y,r.y)&&We.B(r.y,a.y)&&(We.B(o.y,e.i(n-2).y)&&!We.B(o.x,e.i(n-2).x)?(e.l(n,o.x,t.y),i++,n++):e.M(n-1,o.x,t.y),We.B(a.y,e.i(n+2).y)&&!We.B(a.x,e.i(n+2).x)?e.l(n+1,a.x,t.y):e.M(n+1,a.x,t.y)),e.M(i,t.x,t.y)}else e.M(i,t.x,t.y),n=e.fromNode,r=e.fromPort,null!==n&&(null!==(o=n.findVisibleNode())&&o!==n&&(r=(n=o).port)),1===i&&e.computeSpot(!0,r).Lc()&&(o=r.ka(ie,pt.alloc()),n=e.getLinkPointFromPoint(n,r,o,t,!0,pt.alloc()),e.M(0,n.x,n.y),pt.free(o),pt.free(n)),n=e.toNode,r=e.toPort,null!==n&&(null!==(o=n.findVisibleNode())&&o!==n&&(r=(n=o).port)),i===e.pointsCount-2&&e.computeSpot(!1,r).Lc()&&(i=r.ka(ie,pt.alloc()),t=e.getLinkPointFromPoint(n,r,i,t,!1,pt.alloc()),e.M(e.pointsCount-1,t.x,t.y),pt.free(i),pt.free(t));e.zf()},an.prototype.computeReshape=function(t){var e=this.adornedLink,i=this.handle.segmentIndex;switch(this.Ru(this.handle)){case cn:return t;case hn:return new pt(e.i(i).x,t.y);case un:return new pt(t.x,e.i(i).y);default:return e.i(i)}},d.Object.defineProperties(an.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},midHandleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.j},set:function(t){if(null!==t&&!(t.part instanceof Kh))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedLink:{get:function(){return this.Qs}},resegmentingDistance:{get:function(){return this.F},set:function(t){this.F=t}},originalPoint:{get:function(){return this.Dw}},originalPoints:{get:function(){return this.Vq}}}),an.prototype.setReshapingBehavior=an.prototype.om,an.prototype.getReshapingBehavior=an.prototype.Ru;var ln=new z(an,"None",0),un=new z(an,"Horizontal",1),hn=new z(an,"Vertical",2),cn=new z(an,"All",3);function dn(){yi.call(this),this.name="Resizing",this.o=new Nt(1,1).freeze(),this.j=new Nt(9999,9999).freeze(),this.xg=new Nt(NaN,NaN).freeze(),this.V=!1,this.ga=!0,this.te=null;var t=new fu;t.alignmentFocus=ie,t.figure="Rectangle",t.desiredSize=St,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.F=t,this.u=null,this.Uq=new pt,this.Bw=new Nt,this.Tn=new pt,this.ot=new Nt(0,0),this.nt=new Nt(1/0,1/0),this.mt=new Nt(1,1)}function fn(){yi.call(this),this.name="Rotating",this.ga=45,this.V=2,this.Tn=new pt,this.te=null;var t=new fu;t.figure="Ellipse",t.desiredSize=Ct,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.o=t,this.j=null,this.Aw=0,this.hr=new pt(NaN,NaN),this.u=0,this.F=50}function pn(){yi.call(this),this.name="ClickSelecting"}function gn(){yi.call(this),this.name="Action",this.mk=null}function mn(){yi.call(this),this.name="ClickCreating",this.Ri=null,this.o=!0,this.j=!1,this.kw=new pt(0,0)}function vn(){yi.call(this),this.name="DragSelecting",this.Gk=175,this.o=!1;var t=new wh;t.layerName="Tool",t.selectable=!1;var e=new fu;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.j=t}function yn(){yi.call(this),this.name="Panning",this.Wt=new pt,this.zy=new pt,this.wg=!1;var t=this;this.Iw=function(){var e=t.diagram;null!==e&&e.removeEventListener(m.document,"scroll",t.Iw,!1),t.stopTool()}}function bn(){this.F=this.u=this.j=this.o=null}function xn(t,e,i){this.text=t,this.hx=e,this.visible=i}function wn(){yi.call(this),this.name="ContextMenu",this.o=this.dt=this.j=null,this.ww=new pt,this.ft=null,this.Bt=!1;var t=this;this.su=function(){t.stopTool()}}function kn(t){return t.preventDefault(),!1}function _n(t){var e=t.diagram;if(t.isActive){var i=t.currentContextMenu;if(null!==i){if(!(i instanceof bn)){var n=e.hc(e.lastInput.documentPoint,null,null);null!==n&&n.qg(i)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(Sn(t,!0),t.isActive||t.stopTool())}function Sn(t,e,i){if(void 0===i&&(i=null),!t.Bt&&(t.Bt=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Bt=!1,!e)){if(t.isActive=!0,e=Cn,null===i&&(i=t.findObjectWithContextMenu()),null!==i){var n=i.contextMenu;null!==n?(t.currentObject=i instanceof Aa?i:null,t.showContextMenu(n,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof Kh&&!t.currentContextMenu.visible&&t.stopTool()}}an.className="LinkReshapingTool",an.None=ln,an.Horizontal=un,an.Vertical=hn,an.All=cn,L("linkReshapingTool",(function(){return this.findTool("LinkReshaping")}),(function(t){this.gb("LinkReshaping",t,this.mouseDownTools)})),c(dn,yi),dn.prototype.updateAdornments=function(t){if(!(null===t||t instanceof xc)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,i=t.Pj(this.name);if(null!==e&&t.canResize()&&t.actualBounds.w()&&t.isVisible()&&e.actualBounds.w()&&e.Rd()&&(null!==i&&i.adornedObject===e||(i=this.makeAdornment(e)),null!==i))return e=e.li(),Bh(t)&&this.updateResizeHandles(i,e),void t.ah(this.name,i)}t.Jf(this.name)}},dn.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new Kh).type=Ml.Spot,e.locationSpot=ie;var i=new bc;i.isPanelMain=!0,e.add(i),e.add(this.makeHandle(t,Qt)),e.add(this.makeHandle(t,te)),e.add(this.makeHandle(t,ae)),e.add(this.makeHandle(t,re)),e.add(this.makeHandle(t,Pe)),e.add(this.makeHandle(t,De)),e.add(this.makeHandle(t,Ne)),e.add(this.makeHandle(t,Te))}else if(Yl(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},dn.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},dn.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Wb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var i=t.alignment;if(i.Lc()&&(i=ie),0>=i.x)e=0>=i.y?e+225:1<=i.y?e+135:e+180;else if(1<=i.x)0>=i.y?e+=315:1<=i.y&&(e+=45);else if(0>=i.y)e+=270;else{if(!(1<=i.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof Ml)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},dn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},dn.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.Bc(),this.Ea(this.name),this.Uq.set(this.adornedObject.ka(this.handle.alignment.gv())),this.Tn.set(this.adornedObject.part.location),this.Bw.set(this.adornedObject.desiredSize),this.mt=this.computeCellSize(),this.ot=this.computeMinSize(),this.nt=this.computeMaxSize(),this.isActive=!0))},dn.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.te=this.handle=null,this.isActive=t.isMouseCaptured=!1},dn.prototype.stopTransaction=function(){var t=this.diagram,e=yi.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.$j(),e},dn.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},dn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.ot,i=this.nt,n=this.mt,r=this.adornedObject.ns(t.lastInput.documentPoint,pt.alloc()),o=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,i,n,o),this.resize(e),t.Yc(),pt.free(r)}},dn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.ot,i=this.nt,n=this.mt,r=this.adornedObject.ns(t.lastInput.documentPoint,pt.alloc()),o=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,i,n,o),this.resize(e),pt.free(r),t.Ya(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},dn.prototype.resize=function(t){var e=this.diagram,i=this.adornedObject;if(null!==i){if(i.desiredSize=t.size,(t=i.part).Va(),i=i.ka(this.handle.alignment.gv()),t instanceof pc){var n=new Z;if(n.add(t),!this.dragsMembers&&null===t.placeholder){var r=new _a;r.dragsMembers=!1}e.moveParts(n,this.oppositePoint.copy().qe(i),!0,r)}else t.location=t.location.copy().qe(i).add(this.oppositePoint);e.Yc()}},dn.prototype.computeResize=function(t,e,i,n,r,o){e.Lc()&&(e=ie);var a=this.adornedObject.naturalBounds,s=a.x,l=a.y,u=a.x+a.width,h=a.y+a.height,c=1;if(!o){c=a.width;var d=a.height;0>=c&&(c=1),0>=d&&(d=1),c=d/c}return d=pt.alloc(),We.No(t.x,t.y,s,l,r.width,r.height,d),t=a.copy(),0>=e.x?0>=e.y?(t.x=Math.max(d.x,u-n.width),t.x=Math.min(t.x,u-i.width),t.width=Math.max(u-t.x,i.width),t.y=Math.max(d.y,h-n.height),t.y=Math.min(t.y,h-i.height),t.height=Math.max(h-t.y,i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width),t.x=u-t.width,t.y=h-t.height)):1<=e.y?(t.x=Math.max(d.x,u-n.width),t.x=Math.min(t.x,u-i.width),t.width=Math.max(u-t.x,i.width),t.height=Math.max(Math.min(d.y-l,n.height),i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width),t.x=u-t.width)):(t.x=Math.max(d.x,u-n.width),t.x=Math.min(t.x,u-i.width),t.width=u-t.x,o||(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c,t.y=l+.5*(h-l-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(d.x-s,n.width),i.width),t.y=Math.max(d.y,h-n.height),t.y=Math.min(t.y,h-i.height),t.height=Math.max(h-t.y,i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width),t.y=h-t.height)):1<=e.y?(t.width=Math.max(Math.min(d.x-s,n.width),i.width),t.height=Math.max(Math.min(d.y-l,n.height),i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width))):(t.width=Math.max(Math.min(d.x-s,n.width),i.width),o||(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c,t.y=l+.5*(h-l-t.height))):0>=e.y?(t.y=Math.max(d.y,h-n.height),t.y=Math.min(t.y,h-i.height),t.height=h-t.y,o||(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width,t.x=s+.5*(u-s-t.width))):1<=e.y&&(t.height=Math.max(Math.min(d.y-l,n.height),i.height),o||(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width,t.x=s+.5*(u-s-t.width))),pt.free(d),t},dn.prototype.computeReshape=function(){var t=da;return this.adornedObject instanceof fu&&(t=mu(this.adornedObject)),!(t===fa||this.diagram.lastInput.shift)},dn.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},dn.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},dn.prototype.computeCellSize=function(){var t=new Nt(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&(null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},d.Object.defineProperties(dn.prototype,{handleArchetype:{get:function(){return this.F},set:function(t){this.F=t}},handle:{get:function(){return this.u},set:function(t){if(null!==t&&!(t.part instanceof Kh))throw Error("new handle is not in an Adornment: "+t);this.u=t}},adornedObject:{get:function(){return this.te},set:function(t){if(null!==t&&t.part instanceof Kh)throw Error("new handle must not be in an Adornment: "+t);this.te=t}},minSize:{get:function(){return this.o},set:function(t){if(!this.o.C(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.o.h(e,t)}}},maxSize:{get:function(){return this.j},set:function(t){if(!this.j.C(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.j.h(e,t)}}},cellSize:{get:function(){return this.xg},set:function(t){this.xg.C(t)||this.xg.assign(t)}},isGridSnapEnabled:{get:function(){return this.V},set:function(t){this.V=t}},dragsMembers:{get:function(){return this.ga},set:function(t){this.ga=t}},oppositePoint:{get:function(){return this.Uq},set:function(t){this.Uq.C(t)||this.Uq.assign(t)}},originalDesiredSize:{get:function(){return this.Bw}},originalLocation:{get:function(){return this.Tn}}}),dn.className="ResizingTool",L("resizingTool",(function(){return this.findTool("Resizing")}),(function(t){this.gb("Resizing",t,this.mouseDownTools)})),c(fn,yi),fn.prototype.updateAdornments=function(t){if(null!==t){if(t.oh()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&(null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.w()&&t.isVisible()&&e.actualBounds.w()&&e.Rd())){var i=t.Pj(this.name);if(null!==i&&i.adornedObject===e||(i=this.makeAdornment(e)),null!==i)return i.angle=e.li(),null===i.placeholder&&(i.location=this.computeAdornmentLocation(e)),void t.ah(this.name,i)}t.Jf(this.name)}},fn.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new Kh).type=Ml.Position,e.locationSpot=ie;var i=this.handleArchetype;null!==i&&e.add(i.copy())}else if(Yl(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},fn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},fn.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.Ea(this.name),this.Aw=this.adornedObject.angle,this.hr=this.computeRotationPoint(this.adornedObject),this.Tn=this.adornedObject.part.location.copy(),this.isActive=!0)},fn.prototype.computeRotationPoint=function(t){var e=t.part,i=e.locationObject;return e.rotationSpot.sb()?t.ka(e.rotationSpot):t===e||t===i?i.ka(e.locationSpot):t.ka(ie)},fn.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.w()||(e=this.computeRotationPoint(t)),e=t.ns(e);var i=this.handleAngle;0>i?i+=360:360<=i&&(i-=360),i=Math.round(45*Math.round(i/45));var n=this.handleDistance;return 0===i?e.x=t.naturalBounds.width+n:45===i?(e.x=t.naturalBounds.width+n,e.y=t.naturalBounds.height+n):90===i?e.y=t.naturalBounds.height+n:135===i?(e.x=-n,e.y=t.naturalBounds.height+n):180===i?e.x=-n:225===i?(e.x=-n,e.y=-n):270===i?e.y=-n:315===i&&(e.x=t.naturalBounds.width+n,e.y=-n),t.ka(e)},fn.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.te=this.handle=null,this.hr=new pt(NaN,NaN),this.isActive=t.isMouseCaptured=!1},fn.prototype.stopTransaction=function(){var t=this.diagram,e=yi.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.$j(),e},fn.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},fn.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},fn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Ya(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},fn.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Va();var i=e.locationObject,n=e.rotateObject;(i===n||i.qg(n))&&(i=this.Tn.copy(),e.location=i.qe(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.Yc()}},fn.prototype.computeRotate=function(t){t=this.rotationPoint.ab(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.li()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var i=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<i&&(t%e<i?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},d.Object.defineProperties(fn.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},handle:{get:function(){return this.j},set:function(t){if(null!==t&&!(t.part instanceof Kh))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedObject:{get:function(){return this.te},set:function(t){if(null!==t&&t.part instanceof Kh)throw Error("new handle must not be in an Adornment: "+t);this.te=t}},snapAngleMultiple:{get:function(){return this.ga},set:function(t){this.ga=t}},snapAngleEpsilon:{get:function(){return this.V},set:function(t){this.V=t}},originalAngle:{get:function(){return this.Aw}},rotationPoint:{get:function(){return this.hr},set:function(t){this.hr=t.copy()}},handleAngle:{get:function(){return this.u},set:function(t){this.u=t}},handleDistance:{get:function(){return this.F},set:function(t){this.F=t}}}),fn.className="RotatingTool",L("rotatingTool",(function(){return this.findTool("Rotating")}),(function(t){this.gb("Rotating",t,this.mouseDownTools)})),c(pn,yi),pn.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},pn.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},pn.className="ClickSelectingTool",c(gn,yi),gn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,i=t.hc(e.documentPoint,(function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t}));return null!==i&&(!!i.isActionable&&(this.mk=i,t.Ak=t.hc(e.documentPoint,null,null),!0))},gn.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.mk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},gn.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.mk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},gn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.mk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick((function(t){for(;null!==t.panel&&(!t.isActionable||t!==e);)t=t.panel;return t}),(function(t){return t===e}))}this.stopTool()},gn.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.mk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},gn.prototype.doStop=function(){this.mk=null},gn.className="ActionTool",c(mn,yi),mn.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.kw=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.kw))return!1}else if(1!==t.lastInput.clickCount)return!1;return t.currentTool===this||null===t.Ml(t.lastInput.documentPoint,!0)},mn.prototype.doMouseUp=function(){var t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()},mn.prototype.insertPart=function(t){var e=this.diagram,i=this.archetypeNodeData;if(null===i)return null;var n=null;try{if(e.R("ChangingSelection",e.selection),this.Ea(this.name),i instanceof wh)i.Wc()&&(Yl(i),null!==(n=i.copy())&&e.add(n));else if(null!==i){var r=e.model.copyNodeData(i);C(r)&&(e.model.xf(r),n=e.Kc(r))}if(null!==n){var o=pt.allocAt(t.x,t.y);this.isGridSnapEnabled&&ho(this.diagram,n,t,o),n.location=o,e.allowSelect&&(e.clearSelection(!0),n.isSelected=!0),pt.free(o)}e.Ya(),this.transactionResult=this.name,e.R("PartCreated",n)}finally{this.stopTransaction(),e.R("ChangedSelection",e.selection)}return n},d.Object.defineProperties(mn.prototype,{archetypeNodeData:{get:function(){return this.Ri},set:function(t){this.Ri=t}},isDoubleClick:{get:function(){return this.o},set:function(t){this.o=t}},isGridSnapEnabled:{get:function(){return this.j},set:function(t){this.j=t}}}),mn.className="ClickCreatingTool",c(vn,yi),vn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.Ml(e.documentPoint,!0)))},vn.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},vn.prototype.doDeactivate=function(){var t=this.diagram;t.tg(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},vn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),i=this.box.fb("SHAPE");null===i&&(i=this.box.rb());var n=Nt.alloc().h(e.width,e.height);i.desiredSize=n,this.box.mm(e.x,e.y,!1),Nt.free(n),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.ds(t.lastInput.viewPoint)}},vn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},vn.prototype.computeBoxBounds=function(){var t=this.diagram;return new Ot(t.firstInput.documentPoint,t.lastInput.documentPoint)},vn.prototype.selectInRect=function(t){var e=this.diagram,i=e.lastInput;if(t=e.ux(t,this.isPartialInclusion),B?i.meta:i.control)if(i.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(i.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(i=new Z,e=e.selection.iterator;e.next();){var n=e.value;t.contains(n)||i.add(n)}for(e=i.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},d.Object.defineProperties(vn.prototype,{delay:{get:function(){return this.Gk},set:function(t){this.Gk=t}},isPartialInclusion:{get:function(){return this.o},set:function(t){this.o=t}},box:{get:function(){return this.j},set:function(t){this.j=t}}}),vn.className="DragSelectingTool",c(yn,yi),yn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},yn.prototype.doActivate=function(){var t=this.diagram;this.wg?(t.lastInput.bubbles=!0,t.addEventListener(m.document,"scroll",this.Iw,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.Wt.assign(t.position)),this.isActive=!0},yn.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},yn.prototype.doCancel=function(){var t=this.diagram;t.position=this.Wt,t.isMouseCaptured=!1,this.stopTool()},yn.prototype.doMouseMove=function(){this.move()},yn.prototype.doMouseUp=function(){this.move(),this.stopTool()},yn.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.wg)t.lastInput.bubbles=!0;else{var e=t.position,i=t.firstInput.documentPoint,n=t.lastInput.documentPoint,r=e.x+i.x-n.x;i=e.y+i.y-n.y,t.allowHorizontalScroll||(r=e.x),t.allowVerticalScroll||(i=e.y),t.position=this.zy.h(r,i)}},d.Object.defineProperties(yn.prototype,{bubbles:{get:function(){return this.wg},set:function(t){this.wg=t}},originalPosition:{get:function(){return this.Wt}}}),yn.className="PanningTool",L("clickCreatingTool",(function(){return this.findTool("ClickCreating")}),(function(t){this.gb("ClickCreating",t,this.mouseUpTools)})),L("clickSelectingTool",(function(){return this.findTool("ClickSelecting")}),(function(t){this.gb("ClickSelecting",t,this.mouseUpTools)})),L("panningTool",(function(){return this.findTool("Panning")}),(function(t){this.gb("Panning",t,this.mouseMoveTools)})),L("dragSelectingTool",(function(){return this.findTool("DragSelecting")}),(function(t){this.gb("DragSelecting",t,this.mouseMoveTools)})),L("actionTool",(function(){return this.findTool("Action")}),(function(t){this.gb("Action",t,this.mouseDownTools)})),d.Object.defineProperties(bn.prototype,{mainElement:{get:function(){return this.u},set:function(t){this.u=t}},show:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},hide:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},valueFunction:{get:function(){return this.F},set:function(t){this.F=t}}}),bn.className="HTMLInfo",xn.className="ContextMenuButtonInfo",c(wn,yi),wn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount)&&!!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())},wn.prototype.doStart=function(){this.ww.set(this.diagram.firstInput.documentPoint)},wn.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},wn.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.lastInput,n=null;if(t instanceof Pr||(n=t instanceof Aa?t:e.hc(i.documentPoint,null,(function(t){return!t.layer.isTemporary}))),null!==n){for(t=n;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return n.part}else if(null!==e.contextMenu)return e;return null},wn.prototype.doActivate=function(){},wn.prototype.doMouseDown=function(){if(yi.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Kh){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&_n(this)},wn.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Kh){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}_n(this)},wn.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},wn.prototype.showContextMenu=function(t,e){var i=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof Kh){t.layerName="Tool",t.selectable=!1,t.scale=1/i.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=i.scale);var n=t.diagram;null!==n&&n!==i&&n.remove(t),i.add(t),null!==e?t.adornedObject=e:t.data=i.model,t.Va(),this.positionContextMenu(t,e)}else t instanceof bn&&t.show(e,i,this);this.currentContextMenu=t},wn.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,i=e.lastInput.documentPoint.copy(),n=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5/e.scale),i.x<r.x&&(i.x=r.x),i.y+n.height>r.bottom&&(i.y-=n.height+5/e.scale),i.y<r.y&&(i.y=r.y),t.position=i}},wn.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof Kh?(t.remove(e),null!==this.dt&&this.dt.Jf(e.category),e.data=null,e.adornedObject=null):e instanceof bn&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},wn.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.ft&&(this.ft=function(t){var e=new Z;return e.add(new xn("Copy",(function(t){t.commandHandler.copySelection()}),(function(t){return t.commandHandler.canCopySelection()}))),e.add(new xn("Cut",(function(t){t.commandHandler.cutSelection()}),(function(t){return t.commandHandler.canCutSelection()}))),e.add(new xn("Delete",(function(t){t.commandHandler.deleteSelection()}),(function(t){return t.commandHandler.canDeleteSelection()}))),e.add(new xn("Paste",(function(e){e.commandHandler.pasteSelection(t.mouseDownPoint)}),(function(e){return e.commandHandler.canPasteSelection(t.mouseDownPoint)}))),e.add(new xn("Select All",(function(t){t.commandHandler.selectAll()}),(function(t){return t.commandHandler.canSelectAll()}))),e.add(new xn("Undo",(function(t){t.commandHandler.undo()}),(function(t){return t.commandHandler.canUndo()}))),e.add(new xn("Redo",(function(t){t.commandHandler.redo()}),(function(t){return t.commandHandler.canRedo()}))),e.add(new xn("Scroll To Part",(function(t){t.commandHandler.scrollToPart()}),(function(t){return t.commandHandler.canScrollToPart()}))),e.add(new xn("Zoom To Fit",(function(t){t.commandHandler.zoomToFit()}),(function(t){return t.commandHandler.canZoomToFit()}))),e.add(new xn("Reset Zoom",(function(t){t.commandHandler.resetZoom()}),(function(t){return t.commandHandler.canResetZoom()}))),e.add(new xn("Group Selection",(function(t){t.commandHandler.groupSelection()}),(function(t){return t.commandHandler.canGroupSelection()}))),e.add(new xn("Ungroup Selection",(function(t){t.commandHandler.ungroupSelection()}),(function(t){return t.commandHandler.canUngroupSelection()}))),e.add(new xn("Edit Text",(function(t){t.commandHandler.editTextBlock()}),(function(t){return t.commandHandler.canEditTextBlock()}))),e}(this)),Tn.innerHTML="",Pn.addEventListener("pointerdown",this.su,!1);var e=this,i=x("ul");i.className="goCXul",Tn.appendChild(i),i.innerHTML="";for(var n=this.ft.iterator;n.next();){var r=n.value,o=r.visible;if("function"===typeof r.hx&&("function"!==typeof o||o(t))){(o=x("li")).className="goCXli";var a=x("a");a.className="goCXa",a.href="#",a.my=r.hx,a.addEventListener("pointerdown",(function(i){return this.my(t),e.stopTool(),i.preventDefault(),!1}),!1),a.textContent=r.text,o.appendChild(a),i.appendChild(o)}}Tn.style.display="block",Pn.style.display="block"},wn.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===Cn){Tn.style.display="none",Pn.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(Pn,"pointerdown",this.su,!1),this.currentContextMenu=null}},d.Object.defineProperties(wn.prototype,{currentContextMenu:{get:function(){return this.j},set:function(t){this.j=t,this.dt=t instanceof Kh?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===Mn&&null===Cn&&zo&&function(t){var e=new bn;e.show=function(t,e,i){i.showDefaultContextMenu()},e.hide=function(t,e){e.hideDefaultContextMenu()},Cn=e,t.su=function(){t.stopTool()},e=x("div");var i=x("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",i.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var n=x("style");m.document.getElementsByTagName("head")[0].appendChild(n),n.sheet.insertRule(".goCXul { list-style: none; }",0),n.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),n.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(n=t.diagram)&&(n.addEventListener(e,"contextmenu",kn,!1),n.addEventListener(e,"selectstart",kn,!1),n.addEventListener(i,"contextmenu",kn,!1)),e.className="goCXforeground",i.className="goCXbackground",m.document.body&&(m.document.body.appendChild(e),m.document.body.appendChild(i)),Tn=e,Pn=i,Mn=!0}(this),Cn},set:function(t){null===t&&(Mn=!0),Cn=t}},currentObject:{get:function(){return this.o},set:function(t){this.o=t}},mouseDownPoint:{get:function(){return this.ww}}});var Cn=null,Mn=!1,Pn=null,Tn=null;function Dn(){yi.call(this),this.name="TextEditing",this.Zh=new Cu,this.ga=null,this.V=Rn,this.vj=null,this.qa=Bn,this.u=1,this.F=!0,this.o=null,this.j=new bn,this.gt=null,function(t,e){if(zo){var i=x("textarea");t.gt=i,i.addEventListener("input",(function(){if(null!==t.textBlock){var e=t.Mx(this.value);this.style.width=20+e.measuredBounds.width*this.vA+"px",this.rows=e.lineCount}}),!1),i.addEventListener("keydown",(function(e){if(null!==t.textBlock){var i=e.key;"Enter"===i?(!1===t.textBlock.isMultiline&&e.preventDefault(),t.acceptText(On)):"Tab"===i?(t.acceptText(An),e.preventDefault()):"Escape"===i&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}}),!1),i.addEventListener("focus",(function(){if(null!==t.currentTextEditor&&t.state!==Bn){var e=t.gt;t.qa===Fn&&(t.qa=zn),"function"===typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}}),!1),i.addEventListener("blur",(function(){if(null!==t.currentTextEditor&&t.state!==Bn){var e=t.gt;"function"===typeof e.focus&&e.focus(),"function"===typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}}),!1),e.valueFunction=function(){return i.value},e.mainElement=i,e.show=function(t,e,n){if(t instanceof Cu&&n instanceof Dn)if(n.state===Vn)i.style.border="3px solid red",i.focus();else{var r=t.ka(ie),o=e.position,a=e.scale,s=t.Df()*a;s<n.minimumEditorScale&&(s=n.minimumEditorScale);var l=t.naturalBounds.width*s+6,u=t.naturalBounds.height*s+2,h=(r.x-o.x)*a;r=(r.y-o.y)*a,o=t.verticalAlignment,a=(t.lineHeight+t.spacingAbove+t.spacingBelow)*t.lineCount*s,u=o.y*u-o.y*a+o.offsetY-(.5*u-.5*a)-a/2,i.value=t.text,e.div.style.font=t.font,i.style.position="absolute",i.style.zIndex="100",i.style.font="inherit",i.style.fontSize=100*s+"%",i.style.lineHeight="normal",i.style.width=l+"px",i.style.left=(h-l/2|0)-1+"px",i.style.top=(r+u|0)-1+"px",i.style.textAlign=t.textAlign,i.style.margin="0",i.style.padding="1px",i.style.border="0",i.style.outline="none",i.style.whiteSpace="pre-wrap",i.style.overflow="hidden",i.rows=t.lineCount,i.vA=s,i.className="goTXarea",e.div.appendChild(i),i.focus(),n.selectsTextOnActivate&&(i.select(),i.setSelectionRange(0,9999))}},e.hide=function(t){t.div.removeChild(i)}}}(this,this.j)}function Nn(t){var e=t.textBlock,i=t.diagram,n=t.currentTextEditor;if(null!==e&&null!==n){var r=e.text,o="";null!==n.valueFunction&&(o=n.valueFunction()),t.isValidText(e,r,o)?(t.Ea(t.name),t.qa=Wn,t.transactionResult=t.name,e.text=o,t.doSuccess(r,o),null!==i&&i.R("TextEdited",e,r),t.stopTransaction(),t.stopTool(),null!==i&&i.doFocus()):(t.qa=Vn,t.doError(r,o))}}wn.className="ContextMenuTool",L("contextMenuTool",(function(){return this.findTool("ContextMenu")}),(function(t){this.gb("ContextMenu",t,this.mouseUpTools)})),c(Dn,yi),Dn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||Un&&Un!==this&&(Un.acceptText(En),Un&&Un!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.hc(t.lastInput.documentPoint);return!!(null!==e&&e instanceof Cu&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===Rn&&!e.isSelected||this.starting===jn&&2>t.lastInput.clickCount)},Dn.prototype.doStart=function(){Un=this,null!==this.textBlock&&this.doActivate()},Dn.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.hc(t.lastInput.documentPoint)),null!==e&&e instanceof Cu&&(this.textBlock=e,null!==e.part)){t.animationManager.Bc(),this.isActive=!0,this.qa=Fn;var i=this.defaultTextEditor;null!==e.textEditor&&(i=e.textEditor),this.Zh=this.textBlock.copy();var n=new Ot(this.textBlock.ka(Qt),this.textBlock.ka(ae));t.tv(n),i.show(e,t,this),this.currentTextEditor=i}}}},Dn.prototype.doCancel=function(){this.stopTool()},Dn.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Dn.prototype.doMouseDown=function(){this.isActive&&this.acceptText(En)},Dn.prototype.acceptText=function(t){switch(t){case En:this.qa===Wn?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():this.qa!==Fn&&this.qa!==Vn&&this.qa!==zn||(this.qa=Hn,Nn(this));break;case In:case On:case An:On===t&&!0===this.textBlock.isMultiline||this.qa!==Fn&&this.qa!==Vn&&this.qa!==zn||(this.qa=Hn,Nn(this))}},Dn.prototype.doError=function(t,e){var i=this.textBlock;null!==i.errorFunction&&i.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(i,this.diagram,this)},Dn.prototype.doSuccess=function(t,e){var i=this.textBlock;null!==i.textEdited&&i.textEdited(i,t,e)},Dn.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.qa=Bn,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.textBlock=null,this.isActive=!1)},Dn.prototype.doStop=function(){Un=null},Dn.prototype.isValidText=function(t,e,i){var n=this.textValidation;return!(null!==n&&!n(t,e,i))&&!(null!==(n=t.textValidation)&&!n(t,e,i))},Dn.prototype.Mx=function(t){var e=this.Zh;return e.text=t,e.measure(this.textBlock.Ih,1/0),e},d.Object.defineProperties(Dn.prototype,{textBlock:{get:function(){return this.ga},set:function(t){this.ga=t}},currentTextEditor:{get:function(){return this.o},set:function(t){this.o=t}},defaultTextEditor:{get:function(){return this.j},set:function(t){this.j=t}},starting:{get:function(){return this.V},set:function(t){this.V=t}},textValidation:{get:function(){return this.vj},set:function(t){this.vj=t}},minimumEditorScale:{get:function(){return this.u},set:function(t){this.u=t}},selectsTextOnActivate:{get:function(){return this.F},set:function(t){this.F=t}},state:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.qa=t)}}}),Dn.prototype.measureTemporaryTextBlock=Dn.prototype.Mx;var In=new z(Dn,"LostFocus",0),En=new z(Dn,"MouseDown",1),An=new z(Dn,"Tab",2),On=new z(Dn,"Enter",3),Ln=new z(Dn,"SingleClick",0),Rn=new z(Dn,"SingleClickSelected",1),jn=new z(Dn,"DoubleClick",2),Bn=new z(Dn,"StateNone",0),Fn=new z(Dn,"StateActive",1),zn=new z(Dn,"StateEditing",2),Hn=new z(Dn,"StateValidating",3),Vn=new z(Dn,"StateInvalid",4),Wn=new z(Dn,"StateValidated",5),Un=null;function Gn(t){rr||(ir(),rr=!0),this.H=br,this.Mk=this.zb=this.sq=this.bc=!1,this.Ow=!0,this.Nk=or,this.Dm=!1,this.Gh=this.Ed=!0,this.Cg=600,this.aw=this.Mw=!1,this.Xd=new Q,this.ae=new lr,this.ae.Wd=this,this.Ei=new Q,this.ou=new Q,this.Pr=new Q,this.lr=new Q,t&&Object.assign(this,t)}function Kn(t,e){t.Ed&&t.canStart(e)&&(t.Xd.add(e),t.defaultAnimation.isAnimating&&t.Bc(),Qr(t.H),t.zb=!0)}function Yn(t){if(t.Ed&&t.zb){var e=t.ae,i=t.H,n=t.Xd.contains("Model");n&&(t.Mk=!0,t.Nk===or?(e.isViewportUnconstrained=!0,e.uc.clear(),e.add(i,"position",i.position.copy().offset(0,-200),i.position),e.add(i,"opacity",0,1)):t.Nk===sr&&e.uc.clear(),t.Ow=!(t.Nk!==ar||!i.cu.C(i.pa)),i.R("InitialAnimationStarting",t)),n&&!t.Gh||0===e.uc.count?(t.Xd.clear(),t.zb=!1,e.uc.clear(),ur(e,i),t.Mk=!1,i.N()):(t.Xd.clear(),i.jg=!1,n=e.uc.get(i),i.autoScale!==Wo&&null!==n&&(delete n.start.scale,delete n.end.scale),m.requestAnimationFrame((function(){!1===t.zb||e.bc||(i.Gf("temporaryPixelRatio")&&Er(i),Or(i),t.zb=!1,e.start(),e.bc&&(Zn(t),i.Ya(),fr(e,0),Jr(i,!0),Jn(t),i.R("AnimationStarting",t)))})))}}function Xn(t){return t.Xd.contains("Trigger")&&1===t.Xd.count}function qn(t,e,i,n){t.isTicking||Xn(t)||e instanceof xc&&(null!==e.fromNode||null!==e.toNode)||t.ae.add(e,"position",i,n,!1)}function Zn(t){if(!t.sq){var e=t.H;t.Mw=e.skipsUndoManager,t.aw=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.sq=!0}}function Jn(t){var e=t.H;e.skipsUndoManager=t.Mw,e.skipsModelSourceBindings=t.aw,t.sq=!1}function Qn(t,e,i){!t.zb||e.C(i)||Xn(t)||(t.H.pi||(e=i.copy()),hr(t.ae,t.H,"position",e,i))}function $n(t,e,i){e.bd&&(e.Sg=i,t.lr.add(e))}function tr(t,e){for(e=e.findLinksConnected();e.next();){var i=e.value;i.bd&&(i.Sg=i.points.copy(),t.lr.add(i))}}function er(t,e,i,n,r){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var o=t[0],a=t[1],s=t[2];t=t[3];var l=e[0],u=e[1],h=e[2];return e=e[3],0===s||100===s?(o=l,a=u):0!==h&&100!==h||(l=o,u=a),180<Math.abs(l-o)&&(l>o?o+=360:l+=360),"hsla("+(o=r(i,o,l-o,n)%360)+", "+(a=r(i,a,u-a,n))+"%, "+(s=r(i,s,h-s,n))+"%, "+(i=r(i,t,e-t,n))+")"}function ir(){function t(t,e,i,n,r,o){t.position=new pt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))}var e=new ft;e.add("position:diagram",t),e.add("position",t),e.add("position:part",(function(t,e,i,n,r,o){r<o?t.mm(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o),!1):t.position=new pt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))})),e.add("location",(function(t,e,i,n,r,o){r<o?t.mm(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o),!0):t.location=new pt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))})),e.add("position:placeholder",(function(t,e,i,n,r,o){r<o?t.mm(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o),!1):t.position=new pt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))})),e.add("position:nodeCollapse",(function(t,e,i,n,r,o){var a=t.actualBounds,s=i.actualBounds;i=s.x+s.width/2-a.width/2,a=s.y+s.height/2-a.height/2,r<o?t.mm(n(r,e.x,i-e.x,o),n(r,e.y,a-e.y,o),!1):t.position=new pt(n(r,e.x,i-e.x,o),n(r,e.y,a-e.y,o))})),e.add("desiredSize",(function(t,e,i,n,r,o){t.desiredSize=new Ot(n(r,e.width,i.width-e.width,o),n(r,e.height,i.height-e.height,o))})),e.add("width",(function(t,e,i,n,r,o){t.width=n(r,e,i-e,o)})),e.add("height",(function(t,e,i,n,r,o){t.height=n(r,e,i-e,o)})),e.add("fill",(function(t,e,i,n,r,o){t.fill=er(e,i,r,o,n)})),e.add("stroke",(function(t,e,i,n,r,o){t.stroke=er(e,i,r,o,n)})),e.add("strokeWidth",(function(t,e,i,n,r,o){t.strokeWidth=n(r,e,i-e,o)})),e.add("strokeDashOffset",(function(t,e,i,n,r,o){t.strokeDashOffset=n(r,e,i-e,o)})),e.add("background",(function(t,e,i,n,r,o){t.background=er(e,i,r,o,n)})),e.add("areaBackground",(function(t,e,i,n,r,o){t.areaBackground=er(e,i,r,o,n)})),e.add("opacity",(function(t,e,i,n,r,o){t.opacity=n(r,e,i-e,o)})),e.add("scale",(function(t,e,i,n,r,o){t.scale=n(r,e,i-e,o)})),e.add("angle",(function(t,e,i,n,r,o){t.angle=n(r,e,i-e,o)})),nr=e}Dn.className="TextEditingTool",Dn.LostFocus=In,Dn.MouseDown=En,Dn.Tab=An,Dn.Enter=On,Dn.SingleClick=Ln,Dn.SingleClickSelected=Rn,Dn.DoubleClick=jn,Dn.StateNone=Bn,Dn.StateActive=Fn,Dn.StateEditing=zn,Dn.StateValidating=Hn,Dn.StateInvalid=Vn,Dn.StateValidated=Wn,L("textEditingTool",(function(){return this.findTool("TextEditing")}),(function(t){this.gb("TextEditing",t,this.mouseUpTools)})),Gn.prototype.We=function(t){this.H=t},Gn.prototype.canStart=function(){return!0},(e=Gn.prototype).fv=function(t){return this.ae.fv(t)},e.Xu=function(t){return this.ae.Xu(t)},e.Bc=function(t){var e=this.ae;if(!0===this.zb&&(this.Mk=this.zb=!1,this.Xd.clear(),0<e.uc.count&&this.H.Zb()),this.bc){if(e.Kl(!0),e.uc.clear(),ur(e,null),!0===t)for(t=this.Ei.Fa(),e=0;e<t.length;e++)t[e].Kl(!0)}else e.uc.clear(),ur(e,this.H)},e.Kl=function(t){t===this.defaultAnimation&&this.defaultAnimation.uc.clear(),this.Ei.remove(t),0===this.Ei.count&&(this.bc=!1,this.H.Zb()),t===this.defaultAnimation&&(this.defaultAnimation.uc.clear(),this.H.R("AnimationFinished",this))},e.Cj=function(t,e){this.zb&&(this.Xd.contains("Expand Tree")||this.Xd.contains("Expand SubGraph"))&&(this.ae.Cj(t,e),tr(this,t))},e.Aj=function(t,e){this.zb&&(this.Xd.contains("Collapse Tree")||this.Xd.contains("Collapse SubGraph"))&&(this.ae.Aj(t,e),hr(this.ae,e,"position",e.position,e.position),tr(this,t))},d.Object.defineProperties(Gn.prototype,{animationReasons:{get:function(){return this.Xd}},isEnabled:{get:function(){return this.Ed},set:function(t){(this.Ed=t)&&this.Ei.each((function(t){t.isAnimating||1/0!==t.runCount||t.start()}))}},duration:{get:function(){return this.Cg},set:function(t){1>t&&_(t,">= 1",Gn,"duration"),this.Cg=t}},isAnimating:{get:function(){return this.bc}},isTicking:{get:function(){return this.sq}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t}},defaultAnimation:{get:function(){return this.ae}},activeAnimations:{get:function(){return this.Ei}},initialAnimationStyle:{get:function(){return this.Nk},set:function(t){this.Nk=t}}}),Gn.prototype.stopAnimation=Gn.prototype.Bc;var nr=null,rr=!1,or=new z(Gn,"Default",1),ar=new z(Gn,"AnimateLocations",2),sr=new z(Gn,"None",3);function lr(t){this.uu=this.Lw=this.Wd=this.H=null,this.Vk=this.bc=this.j=!1,this.cn=this.Md=0,this.Jp=this.lt=pr,this.Uk=this.ho=!1,this.bu=1,this.$t=0,this.Cd=this.Cg=NaN,this.ew=0,this.dn=null,this.o=it,this.uc=new ft,this.St=new ft,this.wl=new Q,this.Tt=new Q,this.bw=Qo,t&&Object.assign(this,t)}function ur(t,e){if(t.St.clear(),t.Uk=!1,t.$t=0,t.Cd=NaN,0<t.wl.count&&t.wl.clear(),0<t.Tt.count&&t.Tt.clear(),null!==e)for(t=e.links;t.next();)t.value.Sg=null}function hr(t,e,i,n,r,o){var a=t.uc;if(e instanceof Pr&&"position"===i&&(i="position:diagram"),"fill"!==i&&"stroke"!==i&&"background"!==i&&"areaBackground"!==i||(Hs(n),Vs(),n=[al.j,al.u,al.o,al.F],Hs(r),Vs(),r=[al.j,al.u,al.o,al.F]),a.contains(e)){var s=a.I(e),l=s.start,u=s.end;void 0===l[i]&&(l[i]=cr(n)),u[i]=cr(r)}else u={},(l={})[i]=cr(n),u[i]=cr(r),s=l.position,e instanceof Aa&&s instanceof pt&&!s.w()&&e.diagram.animationManager.Xd.contains("Expand SubGraph")&&s.assign(u.position),s=new mr(l,u,o),a.add(e,s);(a=l[i])instanceof pt&&!a.w()&&a.assign(t.o),o&&0===i.indexOf("position:")&&e instanceof wh?s.Iu.location=cr(e.location):o&&(s.Iu[i]=cr(n))}function cr(t){return t instanceof pt||t instanceof Nt?t.copy():t}function dr(t,e){if(!t.Vk||e){var i=t.Wd;if(!1!==t.bc){var n=+new Date,r=n>t.cn?t.Cd:n-t.Md;e&&((r=t.ew)<t.Cd?(t.Md=+new Date-r,t.cn=t.Md+t.Cd):r=t.Cd),Zn(i),fr(t,r),Jr(t.H,!0),Jn(i),n>t.cn&&(t.ho&&!t.Uk?(t.Md=+new Date,t.cn=t.Md+t.Cd,t.Uk=!0):t.Kl(!1))}}}function fr(t,e){for(var i=t.Cd,n=t.uc.iterator,r=t.Uk;n.next();){var o=n.key;if(!(o instanceof Aa&&null===o.diagram)){var a=n.value,s=r?a.end:a.start;a=r?a.start:a.end;var l,u=nr;for(l in a)"position"===l&&(a["position:placeholder"]||a["position:nodeCollapse"])||null===u.get(l)||u.get(l)(o,s[l],a[l],t.Jp,e,i,t)}}}function pr(t,e,i,n){return 1>(t/=n/2)?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function gr(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e}function mr(t,e,i){this.start=t,this.end=e,this.Iu={},this.Fu=i,this.nv=!1}function vr(t,e,i){this.vd=null,this.qf=t,this.so=i||xr,this.sk=null,void 0!==e&&(this.sk=e,void 0===i&&(this.so=wr))}Gn.className="AnimationManager",Gn.defineAnimationEffect=function(t,e){rr||(ir(),rr=!0),nr.add(t,e)},Gn.Default=or,Gn.AnimateLocations=ar,Gn.None=sr,lr.prototype.suspend=function(){this.Vk=!0},lr.prototype.advanceTo=function(t,e){e&&(this.Vk=!1),this.ho&&t>=this.Cd&&(this.Uk=!0,t-=this.Cd),this.ew=t,dr(this,!0),Zn(this.Wd),Jr(this.H),Jn(this.Wd),this.H.redraw()},(e=lr.prototype).start=function(){if(0===this.uc.count||this.bc)return this;for(var t=this.H,e=this.uc.iterator;e.next();){var i=e.key;null===t&&(i instanceof Pr?t=i:i instanceof Aa&&(t=i.diagram))}return null===t?this:(this.H=t,this.Wd=t.animationManager,!1===(e=this.Wd).isEnabled||(this.Cd=isNaN(this.Cg)?e.duration:this.Cg,this.Jp=this.lt,e.Mk&&e.Nk===or&&this===e.defaultAnimation&&(this.Jp=gr,this.Cd=isNaN(this.Cg)?600===e.duration?900:e.duration:this.Cg),this.bw=t.scrollMode,this.isViewportUnconstrained&&(t.sj=$o),Zn(e),this.wl.each((function(e){e.data=null,t.add(e)})),Jn(e),this.bc=!0,this.Md=+new Date,this.cn=this.Md+this.Cd,function(t,e){function i(){if(0<r.Pr.count&&(n.addAll(r.Pr),r.Pr.clear(),r.bc=!0),!1!==r.bc&&0!==n.count){r.ou.addAll(n);for(var t=r.ou.iterator;t.next();){var e=t.value;if(!1!==e.bc){t:if(0<e.wl.count)var o=!0;else{for(o=e.uc.iterator;o.next();){var a=o.key;if(a instanceof Aa&&null!==a.diagram||a instanceof Pr){o=!0;break t}}o=!1}o?dr(e,!1):e.Vk=!0}}r.ou.clear(),!1!==r.bc&&(Zn(r),Jr(r.H),Jn(r)),m.requestAnimationFrame(i)}}var n=t.Ei,r=t;t.bc?t.Pr.add(e):(t.bc=!0,n.add(e),m.requestAnimationFrame((function(){i()})))}(e,this)),this)},e.Ky=function(t,e){return t.Wc()?(this.wl.add(t),this.H=e,this):this},e.add=function(t,e,i,n,r){if("position"===e&&i.Xa(n))return this;if(null===this.H&&(t instanceof Pr?this.H=t:t instanceof Aa&&null!==t.diagram&&(this.H=t.diagram)),t instanceof wh){if(!t.isAnimated)return this;"position"===e&&(e="position:part")}return hr(this,t,e,i,n,r),this},e.fv=function(t){return!!this.bc&&(null!==(t=this.uc.I(t))&&t.nv)},e.Xu=function(t){return!!this.bc&&(null!==(t=this.uc.I(t))&&(t.start.position||t.start.location))},e.stop=function(){return this.bc?(this.Kl(!0),this):this},e.Kl=function(t){if(null!==this.uu&&this.uu.jo.remove(this.Lw),this.bc){var e=this.H,i=this.Wd;this.Vk=this.bc=i.Mk=!1,Zn(i);for(var n=this.uc,r=this.wl.iterator;r.next();)e.remove(r.value);for(r=this.Tt.iterator;r.next();)r.value.v();r=this.ho,n=n.iterator;for(var o=nr;n.next();){var a,s=n.key,l=n.value,u=r?l.end:l.start,h=r?l.start:l.end,c=l.Iu;for(a in h)if(null!==o.get(a)){var d=a;!l.Fu||"position:nodeCollapse"!==d&&"position:placeholder"!==d||(d="position"),o.get(d)(s,u[a],void 0!==c[a]?c[a]:l.Fu?u[a]:h[a],this.Jp,this.Cd,this.Cd,this)}l.Fu&&void 0!==c.location&&s instanceof wh&&(s.location=c.location),l.nv&&s instanceof wh&&s.Yb(!1)}if(e.xs.clear(),Ar(e,!1),e.Ya(),e.N(),Jr(e,!0),i.defaultAnimation===this){for(a=i.lr.iterator;a.next();)null!==(r=a.value).Sg&&(r.points=r.Sg,r.Sg=null);i.lr.clear()}Jr(e,!0),this.isViewportUnconstrained&&(e.scrollMode=this.bw),Jn(i),this.$t++,!t&&this.bu>this.$t?(this.Uk=!1,this.start()):(this.dn&&this.dn(this),ur(this,null),i.Kl(this),e.Zb())}},e.Cj=function(t,e){var i=e.actualBounds,n=null;if(e instanceof pc&&(n=e.placeholder),null!==n?(i=n.ka(Qt),n=n.padding,i.x+=n.left,i.y+=n.top,this.add(t,"position",i,t.position,!1)):this.add(t,"position",new pt(i.x+i.width/2,i.y+i.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof pc)for(t=t.memberParts;t.next();)(n=t.value)instanceof Xh&&this.Cj(n,e)},e.Aj=function(t,e){if(t.isVisible()){var i=null;if(e instanceof pc&&(i=e.placeholder),null!==i){var n=i.ka(Qt);i=i.padding,n.x+=i.left,n.y+=i.top,this.add(t,"position:placeholder",t.position,n,!0)}else this.add(t,"position:nodeCollapse",t.position,e,!0);if(this.add(t,"scale",t.scale,.01,!0),(n=this.uc).contains(t)&&(n.I(t).nv=!0),t instanceof pc)for(t=t.memberParts;t.next();)(n=t.value)instanceof Xh&&this.Aj(n,e)}},e.Fz=function(t){var e=this.St.get(t);return null===e&&(e={},this.St.add(t,e)),e},d.Object.defineProperties(lr.prototype,{duration:{get:function(){return this.Cg},set:function(t){1>t&&_(t,">= 1",lr,"duration"),this.Cg=t}},reversible:{get:function(){return this.ho},set:function(t){this.ho=t}},runCount:{get:function(){return this.bu},set:function(t){0<t?this.bu=t:w("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.dn},set:function(t){this.dn!==t&&(this.dn=t)}},easing:{get:function(){return this.lt},set:function(t){this.lt=t}},isViewportUnconstrained:{get:function(){return this.j},set:function(t){this.j=t}},isAnimating:{get:function(){return this.bc}}}),lr.prototype.getTemporaryState=lr.prototype.Fz,lr.prototype.stop=lr.prototype.stop,lr.prototype.add=lr.prototype.add,lr.prototype.addTemporaryPart=lr.prototype.Ky,lr.className="Animation",lr.EaseLinear=function(t,e,i,n){return i*t/n+e},lr.EaseInOutQuad=pr,lr.EaseInQuad=function(t,e,i,n){return i*(t/=n)*t+e},lr.EaseOutQuad=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},lr.EaseInExpo=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},lr.EaseOutExpo=gr,mr.className="AnimationState",vr.prototype.copy=function(){var t=new vr(this.qf);t.so=this.so;var e=this.sk;if(null!==e){var i={};void 0!==e.duration&&(i.duration=e.duration),void 0!==e.finished&&(i.finished=e.finished),void 0!==e.easing&&(i.easing=e.easing),t.sk=i}return t},d.Object.defineProperties(vr.prototype,{propertyName:{get:function(){return this.qf},set:function(t){this.qf=t}},animationSettings:{get:function(){return this.sk},set:function(t){this.sk=t}},startCondition:{get:function(){return this.so},set:function(t){this.so=t}}});var yr,br,xr=new z(vr,"Default",1),wr=new z(vr,"Immediate",2),kr=new z(vr,"Bundled",3);function _r(t){$(this),this.H=null,this.Pa=new Z,this.wa="",this.pb=1,this.o=!1,this.j=this.Uh=this.u=this.Oi=this.Ni=this.Mi=this.Li=this.Ji=this.Ki=this.Ii=this.Qi=this.Hi=this.Pi=this.Gi=this.Fi=!0,this.Wq=[],t&&Object.assign(this,t)}function Sr(t,e){var i=1;return 1!==t.pb&&(i=e.globalAlpha,e.globalAlpha=i*t.pb),i}function Cr(t,e,i,n,r){if(t.visible&&0!==t.pb&&(r||!t.isTemporary)){var o=(r=t.Pa.s).length;if(0!==o){var a=Sr(t,e),s=t.Wq;s.length=0;for(var l=i.scale,u=Ot.alloc(),h=0;h<o;h++){var c=r[h];n.contains(c)&&t.Oj(e,c,i,s,l,u,!1)}Ot.free(u),e.globalAlpha=a}}}function Mr(t,e,i){if(e=function(t,e,i){var n=i.zOrder;if(isNaN(n))return e;t=t.Pa;var r=t.count;if(1>=r)return e;if(0>e&&(e=t.indexOf(i)),0>e)return-1;for(var o=e-1,a=NaN;0<=o&&(a=t.L(o).zOrder,isNaN(a));)o--;for(var s=e+1,l=NaN;s<r&&(l=t.L(s).zOrder,isNaN(l));)s++;if(!isNaN(a)&&a>n)for(;;){if(-1===o||a<=n){if(++o===e)break;return t.mb(e),t.Hb(o,i),o}for(a=NaN;0<=--o&&(a=t.L(o).zOrder,isNaN(a)););}else if(!isNaN(l)&&l<n)for(;;){if(s===r||l>=n){if(--s===e)break;return t.mb(e),t.Hb(s,i),s}for(l=NaN;++s<r&&(l=t.L(s).zOrder,isNaN(l)););}return e}(t,e,i),i instanceof pc&&null!==i&&isNaN(i.zOrder)){if(0!==i.memberParts.count){for(var n=-1,r=t.Pa.s,o=r.length,a=0;a<o;a++){var s=r[a];if(s===i&&(e=a,0<=n))break;if(0>n&&s.containingGroup===i&&(n=a,0<=e))break}!(0>n)&&n<e&&((r=t.Pa).mb(e),r.Hb(n,i))}null!==(e=i.containingGroup)&&Mr(t,-1,e)}null!==i.svg&&i.svg.remove()}function Pr(t,e){if(sa||(function(){if(zo){var t=m.document.createElement("canvas"),e=t.getContext("2d"),i=R("7ca11abfd022028846");e[i]=R("398c3597c01238");for(var n=["5da73c80a36455d7038e4972187c3cae51fd22",v.Dx+"4ae6247590da4bb21c324ba3a84e385776",He.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",We.za],r=1;5>r;r++)e[R("7ca11abfd7330390")](R(n[r-1]),10,15*r);for(e[i]=R("39f046ebb36e4b"),i=1;5>i;i++)e[R("7ca11abfd7330390")](R(n[i-1]),10,15*i);4===n.length&&"5"===n[0][0]&&"7"===n[3][0]||(He.prototype.Pd=He.prototype.Zw),aa=t}}(),sa=!0),$(this),br=this,this.vb=!0,this.Ka=null,this.Ba=this.Ca=0,this.xa=null,zo){var i=this;null!==m.document.body?this.setRTL():i.addEventListener(m.document,"DOMContentLoaded",(function t(){i.removeEventListener(m.document,"DOMContentLoaded",t,!1),i.setRTL()}),!1)}this.ml=null,Bo.add("Model",Jd);var n=this;return this.Ib=function(t){var e=n.partManager;if(t.model===e.diagram.model&&e.diagram.aa){e.diagram.aa=!1;try{var i=t.change;""===t.modelChange&&i===di&&e.updateDataBindings(t.object,t.propertyName)}finally{e.diagram.aa=!0}}},this.Nc=function(t){n.partManager.doModelChanged(t)},this.gu=this.ju=null,Tr(this),this.model=Of(),this.Vg=!0,Lr(this),this.layout=new Nd,this.Vg=!1,this.bk=this.dk=this.ek=this.ck=this.ui=this.aA=this.Zj=this.Mv=null,this.$l=function(){},this.preventDefault=null,this.rn=!1,this.Fh=new la,void 0!==t&&("string"===typeof t||m.Element&&t instanceof Element?Ir(this,t):e=t),this.vb=!1,e&&this.nm(e),this}function Tr(t){t.Wd=new Gn,t.Wd.We(t),t.Db=17,t.Ew=!1,t.tn=!1,t.au="default",t.Wa=new Z,t.pj=new ft,t.ll="default",t.Vx(),t.Ux(),t.pb=1,t.pa=new pt(NaN,NaN).freeze(),t.cu=new pt(NaN,NaN),t.Aa=1,t.Np=1,t.wt=new pt(NaN,NaN).freeze(),t.xt=NaN,t.Nt=1e-4,t.Jt=100,t.Ab=new He,t.yu=new pt(NaN,NaN).freeze(),t.rt=new Ot(NaN,NaN,NaN,NaN).freeze(),t.rj=new Xt(0,0,0,0).freeze(),t.sj=Qo,t.mu=!1,t.Yt=null,t.eu=null,t.xh=Wo,t.xk=ke,t.Eg=Wo,t.mq=ke,t.vt=Qt,t.yt=Qt,t.Ec=!0,t.pn=!1,t.Ce=new Q,t.Dh=new ft,t.Xm=!0,t.sp=250,t.tk=-1,t.vp=new Xt(16,16,16,16).freeze(),t.jg=!1,t.Hk=!1,t.fn=!0,t.Zp=new li,t.Zp.diagram=t,t.Pg=new li,t.Pg.diagram=t,t.cj=new li,t.cj.diagram=t,t.yg=null,t.nf=null,t.pu=!1,function(t){function e(t){var e=t.toLowerCase(),r=new Z;i.add(t,r),i.add(e,r),n.add(t,t),n.add(e,t)}var i=new ft,n=new ft;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.gw=i,t.fw=n}(t),t.ai=new Q,t.Et=!0,t.tu=ta,t.nw=!1,t.vu=Ko,t.et="auto",t.Mp="auto",t.yh=null,t.Eh=null,t.Ah=null,t.Qh=null,t.Oh=null,t.Nh=null,t.Pt=null,t.Lh=null,t.ut=!1,t.Mh=null,t.Ph=null,t.$h=null,t.Bh=null,t.Qt=!1,t.Xt={},t.oj=[null,null],t.Vg=!1,t.Gw=!1,t.nu=!1,t.ht=!1,t.pw=!0,t.fd=!1,t.$i=!1,t.Rw=!0,t.Be=-2,t.Ng=new ft,t.Xn=new Z,t.Fg=!1,t.Ed=!0,t.Rs=!0,t.Fi=!0,t.Gi=!0,t.Ss=!1,t.Ts=!0,t.Pi=!0,t.Hi=!0,t.Qi=!0,t.Vs=!0,t.Ii=!0,t.Ki=!0,t.Ji=!0,t.Li=!0,t.Mi=!0,t.Ni=!0,t.Oi=!0,t.Ws=!0,t.Ys=!0,t.ow=!1,t.Tk=!1,t.mn=!0,t.nn=!0,t.Us=!0,t.Xs=!0,t.hu=16,t.lu=16,t.mr=!1,t.fu=!1,t.ku=0,t.iu=0,t.yb=new Xt(5).freeze(),t.Fw=(new Q).freeze(),t.Kt=999999999,t.lw=(new Q).freeze(),t.Zi=!0,t.De=!0,t.td=!0,t.Ae=!1,t.ff=!1,t.wh=!0,t.gf=!1,t.uy=new Q,t.mw=new Q,t.Xh=null,t.Zv=new Nt(8,8),t.$v=999,t.zw=1,t.Hw=0,t.md={scale:1,position:new pt,bounds:new Ot,ax:new Nt,Nx:new Nt,Hx:!1},t.Pw=new Ot(NaN,NaN,NaN,NaN).freeze(),t.wo=new Nt(NaN,NaN).freeze(),t.Qp=new Ot(NaN,NaN,NaN,NaN).freeze(),t.Ft=!1,t.Kg=new ft;var e=new Xh,i=new Cu;i.bind(new Hf("text","",A)),e.add(i),t.py=e,t.Kg.add("",e),e=new Xh,(i=new Cu).stroke="brown",i.bind(new Hf("text","",A)),e.add(i),t.Kg.add("Comment",e),(e=new Xh).selectable=!1,e.avoidable=!1,(i=new fu).figure="Ellipse",i.fill="black",i.stroke=null,i.desiredSize=new Nt(3,3).ha(),e.add(i),t.Kg.add("LinkLabel",e),t.Yi=new ft,(e=new pc).selectionObjectName="GROUPPANEL",e.type=Ml.Vertical,(i=new Cu).font="bold 12pt sans-serif",i.bind(new Hf("text","",A)),e.add(i),(i=new Ml(Ml.Auto)).name="GROUPPANEL";var n=new fu;n.figure="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),(n=new bc).padding=new Xt(5,5,5,5).ha(),i.add(n),e.add(i),t.ny=e,t.Yi.add("",e),t.Kh=new ft,e=new xc,(i=new fu).isPanelMain=!0,e.add(i),(i=new fu).toArrow="Standard",i.fill="black",i.stroke=null,i.strokeWidth=0,e.add(i),t.oy=e,t.Kh.add("",e),e=new xc,(i=new fu).isPanelMain=!0,i.stroke="brown",e.add(i),t.Kh.add("Comment",e),(e=new Kh).type=Ml.Auto,(i=new fu).fill=null,i.stroke="dodgerblue",i.strokeWidth=3,e.add(i),(i=new bc).margin=new Xt(1.5,1.5,1.5,1.5).ha(),e.add(i),t.Rt=e,t.tt=e,(e=new Kh).type=Ml.Link,(i=new fu).isPanelMain=!0,i.fill=null,i.stroke="dodgerblue",i.strokeWidth=3,e.add(i),t.Ht=e,t.de=null,t.jq=!1,t.Ak=null,t.partManager=new Jd,t.toolManager=new bi,t.toolManager.initializeStandardTools(),t.defaultTool=t.toolManager,t.currentTool=t.defaultTool,t.jt=null,t.Wm=new _a,t.Ut=null,t.Vt=null,t.Jr=!1,t.commandHandler=Nr(),t.aq=null,t.bq=at,t.Nw=!1,t.Sb=1,t.Yh=null,t.Lq=1,t.Pq=0,t.xw=[0,0,0,0,0],t.Qq=0,t.vq=1,t.rw=0,t.sw=new pt,t.By=500,t.tp=new pt,t.tq=!1}function Dr(t,e){t.animationManager.Bc(!0),t.Fw=(new Q).freeze(),t.lw=(new Q).freeze();var i=t.skipsUndoManager,n=null!==t.cc&&void 0!==t.cc;n&&(t.skipsUndoManager=!0);var r=null;null!==t.de&&(null!==(r=t.de.part)&&t.remove(r));var o=[],a=t.Wa.length;if(e){for(e=0;e<a;e++)for(var s=t.Wa.s[e].parts;s.next();){var l=s.value;l!==r&&null===l.data&&o.push(l)}for(e=0;e<o.length;e++)t.remove(o[e])}for(e=0;e<a;e++)t.Wa.s[e].clear();return t.partManager.clear(),t.Ce.clear(),t.Dh.clear(),t.ai.clear(),t.Ak=null,t.Xn.clear(),rh(),t.Ng.clear(),F=[],null!==r&&(t.add(r),t.partManager.parts.remove(r)),n&&(t.skipsUndoManager=i),o}function Nr(){return null}function Ir(t,e){if(zo){if(void 0!==e&&null!==e||w("Diagram setup requires an argument DIV."),null!==t.Ka&&w("Diagram has already completed setup."),"string"===typeof e?t.Ka=m.document.getElementById(e):e instanceof HTMLDivElement?t.Ka=e:w("No DIV or DIV id supplied: "+e),null===t.Ka&&w("Invalid DIV id; could not get element with id: "+e),void 0!==t.Ka.H&&w("Invalid div id; div already has a Diagram associated with it."),!t.ml&&m.ResizeObserver){var i=y((function(){t.Zb()}),250);t.ml=new m.ResizeObserver((function(){i()})),t.ml.observe(t.Ka)}"static"===m.getComputedStyle(t.Ka,null).position&&(t.Ka.style.position="relative");var n="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.Ka.style["-webkit-tap-highlight-color"]=n,t.Ka.innerHTML="",t.Ka.H=t,t.Ka.goDiagram=t,t.Ka.go=m.go;var r=new Is(t);if(void 0!==r.style&&(r.style.position="absolute",r.style.top="0px",r.style.left="0px","rtl"===m.getComputedStyle(t.Ka,null).getPropertyValue("direction")&&(t.tn=!0),r.style.zIndex="2",r.style.userSelect="none",r.style.MozUserSelect="none",r.style.touchAction="none",r.style.letterSpacing="normal",r.style.wordSpacing="normal"),t.xa=r,t.ib=r.context,n=t.ib,t.Sb=t.computePixelRatio(),t.viewSize.w()||(t.Ca=t.Ka.clientWidth||1,t.Ba=t.Ka.clientHeight||1),ro(t,t.Ca,t.Ba),t.Ka.insertBefore(r.La,t.Ka.firstChild),(r=new Is(null)).width=1,r.height=1,t.hw=r,t.qy=r.context,zo){r=x("div");var o=x("div");r.style.position="absolute",r.style.overflow="auto",r.style.width=t.Ca+"px",r.style.height=t.Ba+"px",r.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",t.Ka.appendChild(r),r.appendChild(o),r.onscroll=jr,r.addEventListener("pointerdown",Br),r.H=t,r.wy=!0,r.xy=!0,t.ju=r,t.gu=o}t.$l=y((function(){t.Yh=null,t.N()}),300),t.Mv=y((function(){Or(t)}),250),t.preventDefault=function(t){return t.preventDefault(),!1},t.Zj=function(e){if(t.isEnabled){var i=Ur(t,e,!0);i.bubbles=!0;var n=0,r=0;i.delta=0,void 0!==e.deltaX?(0!==e.deltaX&&(n=0<e.deltaX?1:-1),0!==e.deltaY&&(r=0<e.deltaY?1:-1),i.delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-n:-r):void 0!==e.wheelDeltaX?(0!==e.wheelDeltaX&&(n=0<e.wheelDeltaX?-1:1),0!==e.wheelDeltaY&&(r=0<e.wheelDeltaY?-1:1),i.delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-n:-r):void 0!==e.wheelDelta&&0!==e.wheelDelta&&(i.delta=0<e.wheelDelta?1:-1),t.doMouseWheel(),Yr(i,e)}},t.aA=function(e){t.isEnabled&&(t.Tk=!1,Ur(t,e,!0),(e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())},t.ui=function(e){if(t.isEnabled){t.Tk=!0;var i=t.Xt;void 0===i[e.pointerId]&&(i[e.pointerId]=e);var n=!1;if(null===(i=t.oj)[0]||i[0].pointerId!==e.pointerId&&i[0].pointerType===e.pointerType)if(null!==i[1]&&i[1].pointerId===e.pointerId)i[1]=e,n=!0;else if(null===i[0])i[0]=e;else{if(null!==i[1])return void e.preventDefault();i[1]=e,n=!0}else i[0]=e;(i="touch"===e.pointerType||"pen"===e.pointerType)&&(t.pu=!1,t.tq=!0);var r=n;n=Kr(t,e,!0,!1,!0,r),Xr(t,e,n),n.targetDiagram=Gr(e,e.target),n.targetObject=null,r||n.clone(t.Zp),r=t.sw,i=i?25:10,e.timeStamp-t.rw<t.By&&!(Math.abs(r.x-e.screenX)>i||Math.abs(r.y-e.screenY)>i)?t.vq++:t.vq=1,n.clickCount=t.vq,t.rw=e.timeStamp,t.sw.rg(e.screenX,e.screenY),t.doMouseDown(),1===e.button?e.preventDefault():Yr(n,e)}},t.ck=function(e){if(t.isEnabled){t.Tk=!0;var i=t.oj;if(null===i[0]||i[0].pointerId!==e.pointerId&&i[0].pointerType===e.pointerType){if(null!==i[1]&&i[1].pointerId===e.pointerId)return void(i[1]=e);if(null!==i[0])return;i[0]=e}else i[0]=e;if(i[0].pointerId===e.pointerId){i=Kr(t,e,!1,!1,!1,null!==i[1]);var n=m.document.elementFromPoint(e.clientX,e.clientY)||null;null!==n&&void 0!==n.shadowRoot&&null!==n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(e.clientX,e.clientY));var r=t,o=e;n&&n.H&&(o=e,r=n.H),i.targetDiagram=r,Xr(t,o,i),i.targetObject=null,t.doMouseMove(),Yr(i,e)}}},t.ek=function(e){if(t.isEnabled){t.Tk=!0;var i="touch"===e.pointerType||"pen"===e.pointerType,n=t.Xt;if(i&&t.pu)delete n[e.pointerId],e.preventDefault();else if(null===(n=t.oj)[0]||n[0].pointerId!==e.pointerId&&n[0].pointerType===e.pointerType)null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null);else{n[0]=null,n=Kr(t,e,!1,!0,!0,!1);var r=m.document.elementFromPoint(e.clientX,e.clientY)||null;null!==r&&void 0!==r.shadowRoot&&null!==r.shadowRoot&&(r=r.shadowRoot.elementFromPoint(e.clientX,e.clientY)),null!==r&&r.H instanceof Pr&&r.H!==t&&Xr(r.H,e,n),null===r&&(r=e.target),Xr(t,e,n),n.clickCount=t.vq,n.targetDiagram=Gr(e,r),n.targetObject=null,t.doMouseUp(),Yr(n,e),i&&(t.tq=!1)}}},t.dk=function(e){if(t.isEnabled){t.Tk=!1;var i=t.Xt;i[e.pointerId]&&delete i[e.pointerId],null!==(i=t.oj)[0]&&i[0].pointerId===e.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===e.pointerId&&(i[1]=null),"touch"!==e.pointerType&&"pen"!==e.pointerType&&((e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())}},t.bk=function(e){var i=t.oj;null!==i[0]&&i[0].pointerId===e.pointerId?(i[0]=null,t.tq=!1):null!==i[1]&&i[1].pointerId===e.pointerId&&(i[1]=null)},t.kt=n.Z["d"+wa[1]+wa[2]+"wI"+oa.slice(1,5)]["b"+Wf.slice(1,e)](n.Z,aa,e,e),n.Sc(!0),function(t){var e=t.xa.La;e instanceof HTMLCanvasElement||(e=t.div),t.addEventListener(e,"pointerdown",t.ui,!1),t.addEventListener(e,"pointermove",t.ck,!1),t.addEventListener(e,"pointerup",t.ek,!1),t.addEventListener(e,"pointerout",t.dk,!1),t.addEventListener(e,"pointercancel",t.bk,!1),t.addEventListener(e,"pointerenter",t.cz,!1),t.addEventListener(e,"pointerleave",t.dz,!1),t.addEventListener(e,"wheel",t.Zj,!1),t.addEventListener(e,"keydown",t.Qz,!1),t.addEventListener(e,"keyup",t.Rz,!1),t.addEventListener(e,"blur",t.Py,!1),t.addEventListener(e,"focus",t.Qy,!1),t.addEventListener(e,"selectstart",(function(t){return t.preventDefault(),!1}),!1),t.addEventListener(e,"contextmenu",(function(t){return t.preventDefault(),!1}),!1),t.addEventListener(m,"resize",t.Mv,!1)}(t),"svg"===t.ll&&(e=t.pj.get("svg"),t.Ka.appendChild(e.La),t.ib=e.context)}}function Er(t){30<t.Pq&&(t.Yh=1)}function Ar(t,e){null!==t.Yh&&(t.Yh=null,e&&t.$l(),U&&U.nx||(t.Pq=0,t.xw=[0,0,0,0,0],t.Qq=0))}function Or(t){if(null!==t.xa){var e=t.Ka;if(null!==e&&0!==e.clientWidth&&0!==e.clientHeight){t.Ew||t.setScrollWidth();var i=t.ff?t.Db:0,n=t.Ae?t.Db:0,r=t.Sb;t.Sb=t.computePixelRatio(),t.Sb!==r&&(t.pn=!0,t.Zb()),e.clientWidth===t.Ca+i&&e.clientHeight===t.Ba+n||(t.De=!0,t.Ec=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===Wo&&(t.Hk=!0,e.D()),t.fd||t.Zb())}}}function Lr(t){var e=new _r;e.name="Background",t.yl(e),(e=new _r).name="",t.yl(e),(e=new _r).name="Foreground",t.yl(e),(e=new _r).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.yl(e),(e=new _r).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.yl(e),(e=new _r).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Uw(e,t.Qj("Background"))}function Rr(t){var e=new Ml(Ml.Grid);e.name="GRID";var i=new fu;return i.figure="LineH",i.stroke="lightgray",i.strokeWidth=.5,i.interval=1,e.add(i),(i=new fu).figure="LineH",i.stroke="gray",i.strokeWidth=.5,i.interval=5,e.add(i),(i=new fu).figure="LineH",i.stroke="gray",i.strokeWidth=1,i.interval=10,e.add(i),(i=new fu).figure="LineV",i.stroke="lightgray",i.strokeWidth=.5,i.interval=1,e.add(i),(i=new fu).figure="LineV",i.stroke="gray",i.strokeWidth=.5,i.interval=5,e.add(i),(i=new fu).figure="LineV",i.stroke="gray",i.strokeWidth=1,i.interval=10,e.add(i),(i=new wh).add(e),i.layerName="Grid",i.zOrder=0,i.isInDocumentBounds=!1,i.isAnimated=!1,i.pickable=!1,i.locationObjectName="GRID",t.add(i),t.partManager.parts.remove(i),e.visible=!1,e}function jr(){this.H.fu?this.H.fu=!1:this.H.isEnabled?this.H.kx(this):oo(this.H)}function Br(t){this.H.isEnabled?(this.H.ku=t.target.scrollTop,this.H.iu=t.target.scrollLeft):oo(this.H)}function Fr(t,e){if(t.fixedBounds.w())return e.assign(t.fixedBounds),e.Co(t.yb),e;for(var i=!0,n=t.Wa.s,r=n.length,o=0;o<r;o++){var a=n[o];if(a.visible&&a.isInDocumentBounds)for(var s=(a=a.Pa.s).length,l=0;l<s;l++){var u=a[l];u.isInDocumentBounds&&u.isVisible()&&((u=u.actualBounds).w()&&(i?(i=!1,e.assign(u)):e.ad(u)))}}return i&&e.h(0,0,0,0),e.Co(t.yb),e}function zr(t,e){if((e||t.gf)&&!t.vb&&null!==t.xa&&t.documentBounds.w()){if(t.vb=!0,e){var i=t.initialPosition;if(i.w())return t.vb=!1,void(t.position=i);(i=pt.alloc()).xi(t.documentBounds,t.initialDocumentSpot);var n=t.viewportBounds;n=Ot.allocAt(0,0,n.width,n.height);var r=pt.alloc();r.xi(n,t.initialViewportSpot),r.h(i.x-r.x,i.y-r.y),t.position=r,Ot.free(n),pt.free(r),pt.free(i)}i=t.xh,e&&t.Eg!==Wo&&(i=t.Eg);var o=i!==Wo?Hr(t,i):t.scale;i=t.pa.x,n=t.pa.y,r=t.Ca/o;var a=t.Ba/o,s=t.xk,l=t.mq;e&&!s.sb()&&(l.sb()||l.Wb())&&(s=l.Wb()?ie:l),Vr(t,t.documentBounds,r,a,s,e),e=t.scale,t.scale=o,t.vb=!1,o=t.viewportBounds,We.B(o.x,i)&&We.B(o.y,n)&&We.B(o.width,r)&&We.B(o.height,a)||t.onViewportBoundsChanged(new Ot(i,n,r,a),o,e,!1)}}function Hr(t,e){var i=t.Np;if(null===t.xa)return i;t.Va();var n=t.documentBounds;if(!n.w())return i;var r=n.width;n=n.height;var o=t.Ca+(t.ff?t.Db:0),a=t.Ba+(t.Ae?t.Db:0),s=o/r,l=a/n;return e===Uo?((e=Math.min(l,s))>i&&(e=i),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===Go?((e=l>s?(a-t.Db)/n:(o-t.Db)/r)>i&&(e=i),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function Vr(t,e,i,n,r,o){var a=pt.allocAt(t.pa.x,t.pa.y),s=a.x,l=a.y;if(null!==t.aq){var u=pt.alloc();s=(u=t.aq.ka(Qt,u)).x-t.bq.x/t.scale,l=u.y-t.bq.y/t.scale,r=Jt,pt.free(u)}(o||t.scrollMode===Qo)&&(r.sb()&&(i>e.width&&(s=e.x+(r.x*e.width+r.offsetX)-(r.x*i-r.offsetX)),n>e.height&&(l=e.y+(r.y*e.height+r.offsetY)-(r.y*n-r.offsetY))),r=t.rj,o=i-e.width,i<e.width+r.left+r.right?(s=Math.min(s+i/2,e.right+Math.max(o,r.right)-i/2),s=Math.max(s,e.left-Math.max(o,r.left)+i/2),s-=i/2):s>e.left?s=e.left:s<e.right-i&&(s=e.right-i),i=n-e.height,n<e.height+r.top+r.bottom?(l=Math.min(l+n/2,e.bottom+Math.max(i,r.bottom)-n/2),l=Math.max(l,e.top-Math.max(i,r.top)+n/2),l-=n/2):l>e.top?l=e.top:l<e.bottom-n&&(l=e.bottom-n)),a.x=isFinite(s)?s:-t.yb.left,a.y=isFinite(l)?l:-t.yb.top,null!==t.positionComputation&&(e=t.positionComputation(t,a),a.x=e.x,a.y=e.y),Qn(t.Wd,t.pa,a),t.pa.h(a.x,a.y),ko(t),pt.free(a)}function Wr(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),Qr(t),t=t.Wa.iteratorBackwards;t.next();){var r=t.value;if(r.visible&&!r.isTemporary&&null!==(r=r.hc(e,i,n)))return r}return null}function Ur(t,e,i){var n=t.Pg;return t.Pg=t.cj,t.cj=n,n.diagram=t,n.event=e,i?Xr(t,e,n):(n.viewPoint=t.Pg.viewPoint,n.documentPoint=t.Pg.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),n.modifiers=t,n.button=e.button,void 0!==e.buttons&&(n.buttons=e.buttons),B&&0===e.button&&e.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=e.timeStamp,n.isMultiTouch=!1,n.targetDiagram=Gr(e,e.target),n.targetObject=null,n}function Gr(t,e){return null===e?null:(e=e.H)?e:((e=t.path)||"function"!==typeof t.composedPath||(e=t.composedPath()),e&&e[0]&&e[0].H?e[0].H:null)}function Kr(t,e,i,n,r,o){var a=t.Pg;return t.Pg=t.cj,t.cj=a,a.diagram=t,a.clickCount=1,t=a.delta=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),a.modifiers=t,a.event=e,a.timestamp=e.timeStamp,a.button=e.button,a.buttons=e.buttons,B&&0===e.button&&e.ctrlKey&&(a.button=2),a.down=i,a.up=n,a.handled=!1,a.bubbles=r,a.isMultiTouch=o,a}function Yr(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function Xr(t,e,i){var n=t.xa,r=t.Ca,o=t.Ba,a=0,s=0;null!==n&&(n=n.getBoundingClientRect(),a=e.clientX-r/n.width*n.left,s=e.clientY-o/n.height*n.top),i.viewPoint.h(a,s),null!==t.Ab?(e=pt.allocAt(a,s),t.Ab.Pd(e),i.documentPoint.assign(e),pt.free(e)):i.documentPoint.h(a,s)}function qr(t,e,i){if(null!==t.oj[0]){e=t.oj[e];var n=t.xa;null!==n&&(n=n.getBoundingClientRect(),i.h(e.clientX-t.Ca/n.width*n.left,e.clientY-t.Ba/n.height*n.top))}}function Zr(t,e,i){!t.De||t.vb||t.animationManager.defaultAnimation.isAnimating||oo(t)||(e&&Qr(t),i&&zr(t,!1))}function Jr(t,e){if(!t.fd&&(t.jg=!1,null!==t.Ka||t.wo.w())){t.fd=!0;var i=t.animationManager,n=t.Xn;if(!i.isAnimating&&0!==n.length){for(var r=n.s,o=r.length,a=0;a<o;a++){var s=r[a];ns(s,!1),s.v()}n.clear()}0<(n=t.mw).count&&(n.each((function(t){t.Lv()})),n.clear()),r=n=!1,i.defaultAnimation.isAnimating&&(r=!0,n=t.skipsUndoManager,t.skipsUndoManager=!0),i.zb||Or(t),Zr(t,!1,!0),null!==t.de&&(t.de.visible&&!t.jq&&(vo(t),t.jq=!0),!t.de.visible&&t.jq&&(t.jq=!1)),Qr(t),o=!1,t.gf&&!t.wh||(t.gf?Mo(t,!t.Hk):(t.Ea("Initial Layout"),!1===i.isEnabled&&i.Bc(),Mo(t,!1)),o=!0),t.Hk=!1,Qr(t),t.nu||function(t){t.fd||Qr(t),t.Va()}(t),Zr(t,!0,!1),a=!1,o?((i=Ot.alloc()).assign(t.viewportBounds),t.gf||(a=t.gf=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){if(t.Eg!==Wo)t.scale=Hr(t,t.Eg);else if(t.xh!==Wo)t.scale=Hr(t,t.xh);else{var e=t.initialScale;isFinite(e)&&0<e&&(t.scale=e)}zr(t,!0),e=t.Wa.s,t.Bd(e,e.length,t,t.viewportBounds),t.R("InitialLayoutCompleted"),t.cu.assign(t.pa),vo(t)}(t)),t.R("LayoutCompleted"),Zr(t,!0,!1),Ot.free(i)):i.Mk&&i.Ow&&(t.Eg!==Wo?t.scale=Hr(t,t.Eg):t.xh!==Wo?t.scale=Hr(t,t.xh):(i=t.initialScale,isFinite(i)&&0<i&&(t.scale=i)),zr(t,!0)),o&&a&&t.eb("Initial Layout"),Qr(t),e||t.fc(t.ib),r&&(t.skipsUndoManager=n),t.fd=!1}}function Qr(t){if(0!==t.Ce.count&&(t.fd||!t.animationManager.isTicking)){for(var e=0;23>e;e++){var i=t.Ce.iterator;if(null===i||0===t.Ce.count)break;t.Ce=new Q,t.Lv(i,t.Ce)}t.nodes.each((function(t){t instanceof pc&&0!==(65536&t.U)!==!1&&(t.U=65536^t.U)}))}}function $r(t,e){for(var i=N(),n=N(),r=e.memberParts;r.next();){var o=r.value;o.isVisible()&&(o instanceof pc?(is(o)||rs(o)||Lh(o))&&$r(t,o):o instanceof xc?o.fromNode===e||o.toNode===e?n.push(o):i.push(o):(o.measure(1/0,1/0),o.arrange()))}for(t=i.length,r=0;r<t;r++)(o=i[r]).measure(1/0,1/0),o.arrange();for(I(i),e.measure(1/0,1/0),e.arrange(),t=n.length,e=0;e<t;e++)(i=n[e]).measure(1/0,1/0),i.arrange();I(n)}function to(t,e,i,n,r,o,a,s,l,u){if(null!==t.Ka){null===t.xa&&w("No canvas specified"),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===u&&(u=!1),no(t),t.ib.Sc(!0),t.td=!0,t.$i=!0;var h=t.Aa;t.Aa=r;var c=t.Wa.s,d=c.length;try{var f=new Ot(o.x,o.y,n.width/r,n.height/r),p=f.copy();p.Co(i),vo(t,p),Qr(t),t.Bd(c,d,t,f),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),null!==s&&""!==s&&(e.fillStyle=s,e.ox(0,0,n.width,n.height));var g=t.Sb;e.scale(g,g);var m=He.alloc();m.reset(),m.translate(i.left,i.top),m.scale(r),0===o.x&&0===o.y||m.translate(-o.x,-o.y),e.setTransform(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),e.xc(),e instanceof bs&&xs(e,m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),He.free(m),eo(t,e),e.globalAlpha=t.pb;var v=t.Qj("Grid");if(a){var y=new Q,b=a.iterator;for(b.reset();b.next();){var x=b.value;x instanceof wh&&(u||x.layer!==v)&&(x.Gj(),y.add(x))}for(u=0;u<d;u++)Cr(c[u],e,t,y,l);y.each((function(t){return t.Gj()}))}else for(y=0;y<d;y++){var k=c[y];k===v?u&&k.fc(e,t,!0):k.fc(e,t,l)}t.$i=!1,t.Fh&&ua(t.Fh,t)&&t.kt()}finally{t.Aa=h,t.ib.Sc(!0),t.td=!0,t.Bd(c,d,t,t.viewportBounds),vo(t),t.ib instanceof bs&&(t.ib.Nj.OA(),t.redraw())}}}function eo(t,e){null!==(t=t.Qg)&&(void 0!==t.imageSmoothingEnabled&&e.Yx(!!t.imageSmoothingEnabled),void 0!==(t=t.defaultFont)&&null!==t&&(e.font=t))}function io(t,e){var i,n=t instanceof Ml,r=t instanceof Pr;for(i in e){""===i&&w("Setting properties requires non-empty property names");var o=t,a=i;if(n||r){var s=i.indexOf(".");if(0<s){var l=i.substring(0,s);n?o=t.fb(l):(void 0===(o=t[l])||null===o)&&(o=t.toolManager[l]),C(o)?a=i.substr(s+1):w("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+i)}}if("_"!==a[0]&&!O(o,a)){if(r&&"ModelChanged"===a){t.Ww(e[a]);continue}if(r&&"Changed"===a){t.Oe(e[a]);continue}if(r&&O(t.toolManager,a))o=t.toolManager;else{if(r&&To(t,a)){t.Bj(a,e[a]);continue}if(t instanceof gf&&"Changed"===a){t.Oe(e[a]);continue}w('Trying to set undefined property "'+a+'" on object: '+o.toString())}}o[a]=e[i],"_"===a[0]&&o instanceof Aa&&o.Tw(a)}}function no(t){!1!==t.pn&&(t.pn=!1,ro(t,t.Ca,t.Ba))}function ro(t,e,i){ko(t);var n=t.Sb;t.xa.resize(e*n,i*n,e,i)&&(t.Ec=!0,t.ib.Sc(!0))}function oo(t){var e=t.xa;if(null===e||!t.gf||t.wo.w())return!0;var i=t.Ca,n=t.Ba,r=t.viewportBounds;if(!t.viewportBounds.w())return!0;var o=r.x,a=r.y,s=r.width,l=r.height,u=t.ju,h=t.gu,c=t.Ka,d=!1,f=t.ff?t.Db:0,p=t.Ae?t.Db:0,g=c.clientWidth||i+f,m=c.clientHeight||n+p;if(g===i+f&&m===n+p||(t.ff=!1,t.Ae=!1,p=f=0,t.Ca=g,t.Ba=m,d=t.pn=!0,ko(t)),t.De=!1,!(d||t.ff||t.Ae||t.mn||t.nn))return!0;var v=t.documentBounds,y=0,b=0,x=0,w=0;c=r.width;var k=r.height,_=t.rj;t.contentAlignment.sb()?(v.width>c&&(y=_.left,b=_.right),v.height>k&&(x=_.top,w=_.bottom)):(y=_.left,b=_.right,x=_.top,w=_.bottom);var S=v.width+y+b,C=v.height+x+w,M=S>g/(_=t.scale),P=C>m/_;if(!(d||t.ff||t.Ae||M||P))return!0;y=v.x-y,g=r.x,b=v.right+b,m=r.right+f,x=v.y-x;var T=r.y;v=v.bottom+w,r=r.bottom+p;var D="1px";if(w="1px",t.scrollMode===Qo&&(M||P)&&(M&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(M=1,y+1<g&&(M=Math.max((g-y)*_+t.Ca,M)),b>m+1&&(M=Math.max((b-m)*_+t.Ca,M)),c+f+1<S&&(M=Math.max((S-c)*_+t.Ca,M)),D=M.toString()+"px"),P&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(M=1,x+1<T&&(M=Math.max((T-x)*_+t.Ba,M)),v>r+1&&(M=Math.max((v-r)*_+t.Ba,M)),k+p+1<C&&(M=Math.max((C-k)*_+t.Ba,M)),w=M.toString()+"px")),P="1px"!==w,(M="1px"!==D)&&P||!M&&!P||(P&&(m-=t.Db),M&&(r-=t.Db),S<c+f||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(f=1,y+1<g&&(f=Math.max((g-y)*_+t.Ca,f)),b>m+1&&(f=Math.max((b-m)*_+t.Ca,f)),c+1<S&&(f=Math.max((S-c)*_+t.Ca,f)),D=f.toString()+"px"),M="1px"!==D,f=t.Ba,M!==t.Ae&&(f=M?t.Ba-t.Db:t.Ba+t.Db),C<k+p||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(p=1,x+1<T&&(p=Math.max((T-x)*_+f,p)),v>r+1&&(p=Math.max((v-r)*_+f,p)),k+1<C&&(p=Math.max((C-k)*_+f,p)),w=p.toString()+"px"),P="1px"!==w),t.mr&&M===t.Ae&&P===t.ff)return i===t.Ca&&n===t.Ba||t.Yc(),!1;if(M!==t.Ae&&(t.Ba="1px"===D?t.Ba+t.Db:Math.max(t.Ba-t.Db,1),d=!0),t.Ae=M,h.style.width=D,P!==t.ff&&(t.Ca="1px"===w?t.Ca+t.Db:Math.max(t.Ca-t.Db,1),d=!0,t.tn&&(p=pt.alloc(),P?(e.style.left=t.Db+"px",t.position=p.h(t.pa.x+t.Db/t.scale,t.pa.y)):(e.style.left="0px",t.position=p.h(t.pa.x-t.Db/t.scale,t.pa.y)),pt.free(p))),d&&ko(t),t.ff=P,h.style.height=w,t.fu=!0,d&&(t.pn=!0),e=u.scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(c+1<S?e=(t.position.x-y)*_:y+1<g?e=u.scrollWidth-u.clientWidth:b>m+1&&(e=t.position.x*_)),t.tn)switch(t.au){case"negative":e=-(u.scrollWidth-e-u.clientWidth);break;case"reverse":e=u.scrollWidth-e-u.clientWidth}return u.scrollLeft=e,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(k+1<C?u.scrollTop=(t.position.y-x)*_:x+1<T?u.scrollTop=u.scrollHeight-u.clientHeight:v>r+1&&(u.scrollTop=t.position.y*_)),g=t.Ca,m=t.Ba,u.style.width=g+(t.ff?t.Db:0)+"px",u.style.height=m+(t.Ae?t.Db:0)+"px",i===g&&n===m&&!t.animationManager.zb||(i=Ot.allocAt(o,a,s,l),t.onViewportBoundsChanged(i,t.viewportBounds,_,d),Ot.free(i),!1)}function ao(t,e,i){var n=e.layer;null!==n&&n.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.D(2),i&&e.Lj(),0<=(i=n.oc(-1,e,!1))&&t.cb(pi,"parts",n,e,null,i,null),null!==(t=e.layerChanged)&&t(e,n,null))}function so(t,e,i,n,r,o){if(!e.contains(i)&&(void 0===o&&(o=!1),!n||o||i.canMove()||i.canCopy()))if(void 0===r&&(r=uo(t)),i instanceof Xh){if(e.add(i,t.Ld(r,i,i.location)),i instanceof pc&&(null!==i.placeholder||r.dragsMembers))for(o=i.memberParts;o.next();)so(t,e,o.value,n,r,r.groupsAlwaysMove);for(o=i.linksConnected;o.next();){var a=o.value;if(!e.contains(a)){var s=a.fromNode,l=a.toNode;null!==s&&e.contains(s)&&null!==l&&e.contains(l)&&so(t,e,a,n,r)}}if(r.dragsTree)for(i=i.Ou();i.next();)so(t,e,i.value,n,r)}else if(i instanceof xc)for(e.add(i,t.Ld(r,i)),i=i.labelNodes;i.next();)so(t,e,i.value,n,r);else i instanceof Kh||e.add(i,t.Ld(r,i,i.location))}function lo(t,e,i,n,r){if(null!==e&&0!==e.count){var o=pt.alloc(),a=pt.alloc();a.assign(i),isNaN(a.x)&&(a.x=0),isNaN(a.y)&&(a.y=0),(i=t.Jr)||co(t,e);for(var s=N(),l=N(),u=e.iterator,h=pt.alloc();u.next();){var c=u.key,d=u.value;if(c.Wc()){var f=po(t,c,e);null!==f?s.push(new ka(c,d,f)):r&&!c.canMove()||(f=d.point,o.assign(f),t.computeMove(c,o.add(a),n,h),c.location=h,void 0===d.shifted&&(d.shifted=new pt),d.shifted.assign(h.qe(f)))}else u.key instanceof xc&&l.push(u.sa)}for(pt.free(h),r=s.length,u=0;u<r;u++)c=s[u],o.assign(c.info.point),void 0===c.Su.shifted&&(c.Su.shifted=new pt),c.node.location=o.add(c.Su.shifted);for(r=pt.alloc(),u=pt.alloc(),c=l.length,d=0;d<c;d++){var p=l[d];if((f=p.key)instanceof xc)if(f.suspendsRouting){f.Sg=null,h=f.fromNode;var g=f.toNode;if(null!==t.draggedLink&&n.dragsLink)if(g=p.value.point,null===f.dragComputation)e.add(f,t.Ld(n,f,a)),_c(f,a.x-g.x,a.y-g.y);else{p=pt.allocAt(0,0),(h=f.i(0))&&h.w()&&p.assign(h);var m=h=pt.alloc().assign(p).add(a);n.isGridSnapEnabled&&(n.isGridSnapRealtime||t.lastInput.up)&&ho(t,f,h,m=pt.alloc(),n),h.assign(f.dragComputation(f,h,m)).qe(p),e.add(f,t.Ld(n,f,h)),_c(f,h.x-g.x,h.y-g.y),pt.free(p),pt.free(h),m!==h&&pt.free(m)}else null!==h&&(r.assign(h.location),null!==(m=e.I(h))&&r.qe(m.point)),null!==g&&(u.assign(g.location),null!==(m=e.I(g))&&u.qe(m.point)),null!==h&&null!==g?r.Xa(u)?(h=p.value.point,(g=o).assign(r),g.qe(h),e.add(f,t.Ld(n,f,r)),_c(f,g.x,g.y)):(f.suspendsRouting=!1,f.bb()):(p=p.value.point,h=null!==h?r:null!==g?u:a,e.add(f,t.Ld(n,f,h)),_c(f,h.x-p.x,h.y-p.y))}else null!==f.fromNode&&null!==f.toNode||(h=p.value.point,e.add(f,t.Ld(n,f,a)),_c(f,a.x-h.x,a.y-h.y))}pt.free(o),pt.free(a),pt.free(r),pt.free(u),I(s),I(l),i||(Qr(t),fo(t,e))}}function uo(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.Wm}function ho(t,e,i,n,r){if(void 0===r&&(r=uo(t)),n.assign(i),null!==e){var o=t.grid;t=(e=r.gridSnapCellSize).width,e=e.height;var a=r.gridSnapOrigin,s=a.x;if(a=a.y,r=r.gridSnapCellSpot,null!==o){var l=o.gridCellSize;isNaN(t)&&(t=l.width),isNaN(e)&&(e=l.height),o=o.gridOrigin,isNaN(s)&&(s=o.x),isNaN(a)&&(a=o.y)}(o=pt.allocAt(0,0)).yi(0,0,t,e,r),We.No(i.x,i.y,s+o.x,a+o.y,t,e,n),pt.free(o)}}function co(t,e){if(null!==e)for(t.Jr=!0,t=e.iterator;t.next();)(e=t.key)instanceof xc&&(e.suspendsRouting=!0)}function fo(t,e){if(null!==e){for(e=e.iterator;e.next();){var i=e.key;i instanceof xc&&(i.suspendsRouting=!1,Dc(i)&&i.bb())}t.Jr=!1}}function po(t,e,i){if(null!==(e=e.containingGroup)){if(null!==(t=po(t,e,i)))return t;if(null!==(t=i.I(e)))return t}return null}function go(t,e,i){if(null!==e.diagram&&e.diagram!==t&&w("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===i?null!==e.diagram&&w("Cannot add an existing Layer to this Diagram again: "+e):(i.diagram!==t&&w("Existing Layer must be in this Diagram: "+i+" not in "+i.diagram),e===i&&w("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,i=(t=t.Wa).count;for(var n=0;n<i;n++)t.L(n).name===e&&w("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function mo(t,e,i){var n=t.animationManager;if(t.vb||t.fd)t.Aa=i,ko(t),t.N(),t.De=!0,n.zb&&(Xn(n)||n.ae.add(n.H,"scale",e,t.Aa));else if(null===t.xa)t.Aa=i,ko(t);else{t.vb=!0;var r=t.viewportBounds.copy(),o=t.Ca,a=t.Ba,s=t.zoomPoint.x,l=t.zoomPoint.y,u=t.contentAlignment;isNaN(s)&&(u.Xc()?u.Hf(le)?s=0:u.Hf(ue)&&(s=o-1):s=u.sb()?u.x*(o-1):o/2),isNaN(l)&&(u.Xc()?u.Hf(se)?l=0:u.Hf(he)&&(l=a-1):l=u.sb()?u.y*(a-1):a/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(i=t.scaleComputation(t,i)),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),o=pt.allocAt(t.pa.x+s/e-s/i,t.pa.y+l/e-l/i),t.position=o,pt.free(o),t.Aa=i,ko(t),t.vb=!1,t.onViewportBoundsChanged(r,t.viewportBounds,e,!1),zr(t,!1),n.zb&&(Xn(n)||n.ae.add(n.H,"scale",e,t.Aa))}}function vo(t,e){var i=t.de;if(null!==i&&i.visible){for(var n=Nt.alloc(),r=1,o=1,a=i.O.s,s=a.length,l=0;l<s;l++){var u=a[l],h=Math.abs(u.interval);2>h||(Il(u.figure)?o=o*h/We.vx(o,h):r=r*h/We.vx(r,h))}if(a=i.gridCellSize,n.h(o*a.width,r*a.height),void 0!==e)r=e.width,o=e.height,t=e.x,a=e.y;else{if(e=Ot.alloc(),t=t.viewportBounds,e.h(t.x,t.y,t.width,t.height),!e.w())return void Ot.free(e);r=e.width,o=e.height,t=e.x,a=e.y,Ot.free(e)}i.width=r+2*n.width,i.height=o+2*n.height,e=pt.alloc(),We.No(t,a,0,0,n.width,n.height,e),e.offset(-n.width,-n.height),Nt.free(n),i.part.location=e,pt.free(e)}}function yo(t){var e=t.isModified;t.Rw!==e&&(t.Rw=e,t.R("Modified"))}function bo(t,e){for(var i=(e=e.O.s).length,n=0;n<i;n++)xo(t,e[n])}function xo(t,e){if(e instanceof nh){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){i.Ag instanceof Q&&i.Ag.add(t);var n=e.Dg;if(null!==n&&!0===n.pq&&null!==e.diagram&&e.diagram.Xn.add(e),i.hn)if(i=i.getAttribute("src")||"",null===(n=t.Ng.I(i)))(n=[]).push(e),t.Ng.add(i,n);else{for(t=0;t<n.length;t++)if(n[t]===e)return;n.push(e)}}}}function wo(t,e){if(e instanceof nh){var i=e.element;if(null!==i&&i instanceof HTMLImageElement&&i.hn){var n=i.getAttribute("src")||"",r=t.Ng.I(n);if(null!==r)for(var o=0;o<r.length;o++)if(r[o]===e){r.splice(o,1),0===r.length&&(t.Ng.remove(n),i.Cq&&i.removeEventListener("load",i.Cq),i.Vp&&i.removeEventListener("error",i.Vp),delete i.Cq,delete i.Vp,i.Ag instanceof Q&&i.Ag.remove(t),rh(n));break}}}}function ko(t){var e=t.pa,i=t.Aa;t.Pw.h(e.x,e.y,Math.max(t.Ca,0)/i,Math.max(t.Ba,0)/i),t.td=!0}function _o(t,e){t.Zi=!1;var i=t.Qp;i.C(e)||(i=i.copy(),t.Qp.assign(e),zr(t,!1),t.R("DocumentBoundsChanged",void 0,i),t.De=!0,t.N())}function So(t,e){for(var i=t.ai.iterator;i.next();)Co(t,i.value,e);t.layout&&(e?t.layout.isValidLayout=!1:t.layout.D())}function Co(t,e,i){if(null!==e){for(var n=e.el.iterator;n.next();)Co(t,n.value,i);null!==e.layout&&(i?e.layout.isValidLayout=!1:e.layout.D())}}function Mo(t,e){if(t.wh&&!t.ht){var i=t.aa;t.aa=!0;var n=t.undoManager.transactionLevel,r=t.layout,o=t.animationManager;try{0===n&&(t.undoManager.isInternalTransaction=!0,t.Ea("Layout")),1>=n&&!o.defaultAnimation.isAnimating&&!o.zb&&(e||Kn(o,"Layout")),t.wh=!1;for(var a=t.ai.iterator;a.next();)Po(t,a.value,e,n);r.isValidLayout||(!e||r.isRealtime||null===r.isRealtime||0===n?(r.doLayout(t),Qr(t),r.isValidLayout=!0):t.wh=!0)}finally{e=t.undoManager.isInternalTransaction,0===n&&(t.eb("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==n&&1!==n||Yn(o),t.aa=i}}}function Po(t,e,i,n){if(null!==e){for(var r=e.el.iterator;r.next();)Po(t,r.value,i,n);null===(r=e.layout)||r.isValidLayout||(!i||r.isRealtime||0===n?(e.qh=!e.location.w(),r.doLayout(e),e.D(32),$r(t,e),r.isValidLayout=!0):t.wh=!0)}}function To(t,e){var i=t.fw.I(e);return null!==i?i:t.fw.I(e.toLowerCase())}function Do(t,e){var i=t.gw.I(e);return null!==i||null!==(i=t.gw.I(e.toLowerCase()))?i:void w("Unknown DiagramEvent name: "+e)}function No(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||(!t.Jr||e.isComplexRoutingRealtime)}function Io(t,e,i,n){var r=t.Xh;if(null===r&&(t.Xh=r=new dd(t.avoidanceCellSize)),r.ss||r.group!==i||r.$x!==n){if(r.Ix=Math.max(r.Ls+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.width)),r.Jx=Math.max(r.Ls+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.height)),null!==i&&(i=Eo(t,i)),null===i){e=Ot.alloc(),t.computeOccupiedArea(e),e.Ac(100,100),r.initialize(e);for(var o=t.nodes;o.next();){var a=o.value,s=a.layer;null!==s&&s.visible&&!s.isTemporary&&Ao(t,a,n,e)}Ot.free(e)}else{for(0<i.memberParts.count&&((e=t.computePartsBounds(i.memberParts,!1)).Ac(20,20),r.initialize(e)),e=Ot.alloc(),o=i.memberParts;o.next();)(a=o.value)instanceof Xh&&Ao(t,a,n,e);Ot.free(e)}r.group=i,r.$x=n,r.ss=!1}else e&&gd(r);return r}function Eo(t,e){return e.avoidable&&!e.isLinkLabel?e:null!==e.containingGroup?Eo(t,e.containingGroup):null}function Ao(t,e,i,n){if(e!==i&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){e=e.getAvoidableRect(n),t=t.Xh;var r=e.x,o=e.y;if(fd(t,r,o))for(i=(o-t.Kd)/t.rc|0,n=Math.min((r+e.width-t.Jd)/t.qc|0,t.di),e=Math.min((o+e.height-t.Kd)/t.rc|0,t.ei),r=(r-t.Jd)/t.qc|0;r<=n;r++)if((o=t.ac[r]).fill)o.fill(wd,i,e+1);else for(var a=i;a<=e;a++)o[a]=wd}else if(e instanceof pc)for(e=e.memberParts;e.next();)(r=e.value)instanceof Xh&&Ao(t,r,i,n)}function Oo(t,e){null===t.Xh||t.Xh.ss||void 0!==e&&(!e.avoidable||e.isLinkLabel)||(t.Xh.ss=!0)}function Lo(t){-1===t.tk&&(t.tk=b((function(){if(-1!==t.tk&&(t.tg(),null!==t.lastInput.event)){var e=t.computeAutoScrollPosition(t.tp);e.Xa(t.position)||(t.position=e,t.lastInput.documentPoint=t.Ms(t.tp),t.doMouseMove(),t.Zi=!0,e=Ot.alloc(),t.computeBounds(e),e.ad(t.documentBounds),_o(t,e),Ot.free(e),t.Ec=!0,t.Yc(),Lo(t))}}),t.sp))}function Ro(t,e,i){function n(){var t=+new Date;for(o=!0,a.reset();a.next();)if(!a.value[0].Zk){o=!1;break}o||t-u>l?e(i,r,s):m.requestAnimationFrame(n)}for(var r=i.callback,o=!0,a=t.Ng.iterator;a.next();)if(!a.value[0].Zk){o=!1;break}if("function"!==typeof r||o)return e(i,r,t);var s=t,l=i.callbackTimeout||300,u=+new Date;return m.requestAnimationFrame((function(){n()})),null}function jo(t,e,i,n){if(t.animationManager.Bc(),t.Yc(),null===t.xa)return null;"object"!==typeof e&&w("properties argument must be an Object.");var r=e.size||null,o=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(o="NaN");var a=e.maxSize;void 0===e.maxSize&&(a="SVG"===i?new Nt(1/0,1/0):new Nt(2e3,2e3));var s=e.position||null,l=e.parts||null,u=void 0===e.padding?1:e.padding,h=e.background||null,c=e.omitTemporary;void 0===c&&(c=!0);var d=e.document||document,f=e.elementFinished||null,p=e.showTemporary;void 0===p&&(p=!c),void 0===(e=e.showGrid)&&(e=p),null!==r&&isNaN(r.width)&&isNaN(r.height)&&(r=null),"number"===typeof u?u=new Xt(u):u instanceof Xt||w("MakeImage padding must be a Margin or a number."),u.left=Math.max(u.left,0),u.right=Math.max(u.right,0),u.top=Math.max(u.top,0),u.bottom=Math.max(u.bottom,0),t.ib.Sc(!0);var g=(c=new Is(null,d,void 0,!0)).context;if(!(r||o||l||s))return c.width=t.Ca+Math.ceil(u.left+u.right),c.height=t.Ba+Math.ceil(u.top+u.bottom),"SVG"===i?null===n?null:(n.resize(c.width,c.height,c.width,c.height),n.ownerDocument=d,n.es=f,to(t,n.context,u,new Nt(c.width,c.height),t.Aa,t.pa,l,h,p,e),n.context):(t.Xm=!1,to(t,g,u,new Nt(c.width,c.height),t.Aa,t.pa,l,h,p,e),t.Xm=!0,c.context);var m=t.Np,v=t.documentBounds.copy();if(v.Dv(t.yb),p)for(var y=t.Wa.s,b=y.length,x=0;x<b;x++){var k=y[x];if(k.visible&&k.isTemporary)for(var _=(k=k.Pa.s).length,S=0;S<_;S++){var C=k[S];C.isInDocumentBounds&&C.isVisible()&&((C=C.actualBounds).w()&&v.ad(C))}}if(y=new pt(v.x,v.y),null!==l){for(b=new Ot(0,0,0,0),x=!0,(k=l.iterator).reset();k.next();)(_=k.value)instanceof wh&&(null!==(S=_.layer)&&!S.visible||null!==S&&!p&&S.isTemporary||!_.isVisible()||(_=_.actualBounds).w()&&(x?(x=!1,b.assign(_)):b.ad(_)));v.width=b.width,v.height=b.height,y.x=b.x,y.y=b.y}return null!==s&&s.w()&&(y=s,o||(o=m)),b=s=0,null!==u&&(s=u.left+u.right,b=u.top+u.bottom),x=k=0,null!==r&&(k=r.width,x=r.height,isFinite(k)&&(k=Math.max(0,k-s)),isFinite(x)&&(x=Math.max(0,x-b))),null!==r&&null!==o?("NaN"===o&&(o=m),r.w()?(r=k,v=x):isNaN(x)?(r=k,v=v.height*o):(r=v.width*o,v=x)):null!==r?r.w()?(o=Math.min(k/v.width,x/v.height),r=k,v=x):isNaN(x)?(o=k/v.width,r=k,v=v.height*o):(o=x/v.height,r=v.width*o,v=x):null!==o?"NaN"===o&&a.w()?(o=Math.min((a.width-s)/v.width,(a.height-b)/v.height))>m?(o=m,r=v.width,v=v.height):(r=a.width,v=a.height):(r=v.width*o,v=v.height*o):(o=m,r=v.width,v=v.height),null!==u?(r+=s,v+=b):u=new Xt(0),null!==a&&(m=a.width,a=a.height,isNaN(m)&&(m=2e3),isNaN(a)&&(a=2e3),isFinite(m)&&(r=Math.min(r,m)),isFinite(a)&&(v=Math.min(v,a))),c.width=Math.ceil(r),c.height=Math.ceil(v),"SVG"===i?null===n?null:(n.resize(c.width,c.height,c.width,c.height),n.ownerDocument=d,n.es=f,to(t,n.context,u,new Nt(Math.ceil(r),Math.ceil(v)),o,y,l,h,p,e),n.context):(t.Xm=!1,to(t,g,u,new Nt(Math.ceil(r),Math.ceil(v)),o,y,l,h,p,e),t.Xm=!0,c.context)}vr.className="AnimationTrigger",vr.Default=xr,vr.Immediate=wr,vr.Bundled=kr,(e=_r.prototype).clear=function(){for(var t=this.Pa,e=0;e<t.length;e++){var i=t.s[e];i.Hg=null,Ua(i)}t.clear(),this.Wq.length=0},e.We=function(t){this.H=t},e.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,r=0,o=0,a=0,s=this.Pa.iterator;s.next();){var l=s.value;l instanceof pc?r++:l instanceof Xh?n++:l instanceof xc?o++:l instanceof Kh?a++:i++}if(s="",0<i&&(s+=i+" Parts "),0<n&&(s+=n+" Nodes "),0<r&&(s+=r+" Groups "),0<o&&(s+=o+" Links "),0<a&&(s+=a+" Adornments "),1<t)for(t=this.Pa.iterator;t.next();)s+="\n    "+(i=t.value).toString(),null!==(n=i.data)&&et(n)&&(s+=" #"+et(n)),i instanceof Xh?s+=" "+A(n):i instanceof xc&&(s+=" "+A(i.fromNode)+" "+A(i.toNode));return e+" "+this.Pa.count+": "+s},e.hc=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.Uh)return null;var n=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(t)&&(n=!0);for(var r=pt.alloc(),o=this.Pa.s,a=o.length;a--;){var s=o[a];if((!0!==n||!1!==Bh(s))&&s.isVisible()&&(r.assign(t),yt(r,s.me),null!==(s=s.hc(r,e,i))&&(null!==e&&(s=e(s)),null!==s&&(null===i||i(s)))))return pt.free(r),s}return pt.free(r),null},e.ji=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof Z||n instanceof Q||(n=new Q),!1===this.Uh)return n;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(t)&&(r=!0);for(var o=pt.alloc(),a=this.Pa.s,s=a.length;s--;){var l=a[s];if((!0!==r||!1!==Bh(l))&&l.isVisible()){o.assign(t),yt(o,l.me);var u=l;l.ji(o,e,i,n)&&(null!==e&&(u=e(u)),null===u||null!==i&&!i(u)||n.add(u))}}return pt.free(o),n},e.Cf=function(t,e,i,n,r){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof Z||r instanceof Q||(r=new Q),!1===this.Uh)return r;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.Qe(t)&&(o=!0);for(var a=this.Pa.s,s=a.length;s--;){var l=a[s];if((!0!==o||!1!==Bh(l))&&l.isVisible()){var u=l;l.Cf(t,e,i,n,r)&&(null!==e&&(u=e(u)),null===u||null!==i&&!i(u)||r.add(u))}}return r},e.Nu=function(t,e,i,n,r,o,a){if(!1===this.Uh)return r;for(var s=this.Pa.s,l=s.length;l--;){var u=s[l];if((!0!==a||!1!==Bh(u))&&o(u)&&u.isVisible()){var h=u;u.Cf(t,e,i,n,r)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||r.add(h))}}return r},e.ng=function(t,e,i,n,r,o){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof Z||r instanceof Q)&&(o=r),r=!0),o instanceof Z||o instanceof Q||(o=new Q),!1===this.Uh)return o;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(t)&&(a=!0);for(var s=pt.alloc(),l=pt.alloc(),u=this.Pa.s,h=u.length;h--;){var c=u[h];if((!0!==a||!1!==Bh(c))&&c.isVisible()){s.assign(t),yt(s,c.me),l.h(t.x+e,t.y),yt(l,c.me);var d=c;c.ng(s,l,i,n,r,o)&&(null!==i&&(d=i(d)),null===d||null!==n&&!n(d)||o.add(d))}}return pt.free(s),pt.free(l),o},e.Bd=function(t,e){if(this.visible){var i=this.Pa.s,n=i.length;if(0!==n){t=N();for(var r=N(),o=0;o<n;o++){var a=i[o];if(a.tw=o,a instanceof xc){if(!1===a.bd)continue}else if(a instanceof Kh&&null!==a.adornedPart)continue;var s=a.actualBounds;a.isVisible()&&Ht(s,e)?(a.Bd(!0),t.push(a)):(a.Bd(!1),null!==a.adornments&&0<a.adornments.count&&r.push(a))}for(e=0;e<t.length;e++)for(_h(i=t[e]),i=i.adornments;i.next();)(n=i.value).measure(1/0,1/0),n.arrange(),n.Bd(!0);for(e=0;e<r.length;e++)_h(r[e]);I(t),I(r)}}},e.fc=function(t,e,i){if(this.visible&&0!==this.pb&&(void 0===i&&(i=!0),i||!this.isTemporary)){var n=(i=this.Pa.s).length;if(0!==n){if(t.isTemporary)for(var r=0;r<n;r++)i[r].Gj();r=Sr(this,t);var o=this.Wq;o.length=0;for(var a=e.scale,s=Ot.alloc(),l=0;l<n;l++)this.Oj(t,i[l],e,o,a,s,!0);if(Ot.free(s),t.isTemporary)for(e=0;e<n;e++)i[e].Gj();t.globalAlpha=r}}},e.Oj=function(t,e,i,n,r,o,a){if(a&&!Bh(e))t.Es(e);else{if(null!==n&&e instanceof xc&&(e.isOrthogonal&&n.push(e),!1===e.bd))return void t.Es(e);for(a=!1,n=e.containingGroup;null!==n;)a?null!==n.tb&&o.Ex(n.tb):null!==n.tb&&(a=!0,o.assign(n.tb)),n=n.containingGroup;var s=e.actualBounds;if(n=!1,a&&e.isVisible()){if(!o.Vc(s))return void t.Es(e);n=!o.Qe(s)}n&&(t.save(),t instanceof bs?t.ak=o.copy():(t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.clip())),s.width*r>i.Lq||s.height*r>i.Lq?e.fc(t,i):(r=e.actualBounds,o=e.naturalBounds,0===r.width||0===r.height||isNaN(r.x)||isNaN(r.y)||!e.isVisible()||(i=e.transform,null!==e.areaBackground&&(Ga(e,t,e.areaBackground,!0,!0,o,r),t.fillRect(r.x,r.y,r.width,r.height)),null===e.areaBackground&&null===e.background&&(Ga(e,t,"rgba(0,0,0,0.3)",!0,!1,o,r),t.fillRect(r.x,r.y,r.width,r.height)),null!==e.background&&(t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Ga(e,t,e.background,!0,!1,o,r),t.fillRect(0,0,o.width/2,o.height/2),i.ts()||(e=1/(i.m11*i.m22-i.m12*i.m21),t.transform(i.m22*e,-i.m12*e,-i.m21*e,i.m11*e,e*(i.m21*i.dy-i.m22*i.dx),e*(i.m12*i.dx-i.m11*i.dy)))))),n&&(t.restore(),t.Sc(!0))}},e.g=function(t,e,i,n,r){var o=this.diagram;null!==o&&o.cb(di,t,this,e,i,n,r)},e.oi=function(t,e,i){var n=this.Pa;if(e.Hg=this,null===this&&Ua(e),t>=n.count)t=n.count;else if(n.L(t)===e)return-1;return n.Hb(t,e),e.To(i),null!==(n=this.diagram)&&(i?n.N():n.oi(e)),Mr(this,t,e),t},e.oc=function(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.oc(t,e,i);var n=this.Pa;if(0>t||t>=n.length){if(0>(t=n.indexOf(e)))return-1}else if(n.L(t)!==e&&0>(t=n.indexOf(e)))return-1;return e.Uo(i),n.mb(t),null!==(n=this.diagram)&&(i?n.N():n.oc(e)),e.Hg=null,Ua(e),t},d.Object.defineProperties(_r.prototype,{parts:{get:function(){return this.Pa.iterator}},partsBackwards:{get:function(){return this.Pa.iteratorBackwards}},diagram:{get:function(){return this.H}},name:{get:function(){return this.wa},set:function(t){var e=this.wa;if(e!==t){var i=this.diagram;if(null!==i)for(""===e&&w("Cannot rename default Layer to: "+t),i=i.layers;i.next();)i.value.name===t&&w("Layer.name is already present in this diagram: "+t);for(this.wa=t,this.g("name",e,t),t=this.Pa.iterator;t.next();)t.value.layerName=this.wa}}},opacity:{get:function(){return this.pb},set:function(t){var e=this.pb;e!==t&&((0>t||1<t)&&_(t,"0 <= value <= 1",_r,"opacity"),this.pb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.N())}},isTemporary:{get:function(){return this.o},set:function(t){var e=this.o;e!==t&&((this.o=t)&&(this.isInDocumentBounds=!1),this.g("isTemporary",e,t))}},visible:{get:function(){return this.u},set:function(t){var e=this.u;if(e!==t){for(this.u=t,this.g("visible",e,t),e=this.Pa.iterator;e.next();)e.value.Yb(t);null!==(t=this.diagram)&&t.N()}}},pickable:{get:function(){return this.Uh},set:function(t){var e=this.Uh;e!==t&&(this.Uh=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,null!==this.diagram&&this.diagram.Ya())}},allowCopy:{get:function(){return this.Fi},set:function(t){var e=this.Fi;e!==t&&(this.Fi=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Gi},set:function(t){var e=this.Gi;e!==t&&(this.Gi=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Qi},set:function(t){var e=this.Qi;e!==t&&(this.Qi=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Ji},set:function(t){var e=this.Ji;e!==t&&(this.Ji=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Li},set:function(t){var e=this.Li;e!==t&&(this.Li=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Mi},set:function(t){var e=this.Mi;e!==t&&(this.Mi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(this.Ni=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Oi},set:function(t){var e=this.Oi;e!==t&&(this.Oi=t,this.g("allowSelect",e,t))}}}),_r.prototype.findObjectsNear=_r.prototype.ng,_r.prototype.findObjectsIn=_r.prototype.Cf,_r.prototype.findObjectsAt=_r.prototype.ji,_r.prototype.findObjectAt=_r.prototype.hc,_r.className="Layer",Pr.prototype.clear=function(){this.animationManager.Bc(),this.model.clear(),Ho=null,Vo="",Dr(this,!1),this.Xn.clear(),rh(),this.Ng.clear(),this.Xh=null,this.Ya(),this.Va(),this.N()},Pr.prototype.reset=function(){this.clear(),this.vb=!0,Tr(this),ko(this),this.Vg=!0,Lr(this),this.layout=new Nd,this.Vg=!1,this.model=Of(),this.model.undoManager=new mi,this.vb=this.rn=!1,this.N()},Pr.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=m.document.body);var e=x("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var i="reverse";0<e.scrollLeft?i="default":(e.scrollLeft=1,0===e.scrollLeft&&(i="negative")),t.removeChild(e),this.au=i},Pr.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=m.document.body);var e=0;if(zo){var i=Fo;e=yr,null===i&&((i=Fo=x("p")).style.width="100%",i.style.height="200px",i.style.boxSizing="content-box",(e=yr=x("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(i)),e.style.overflow="hidden",t.appendChild(e);var n=i.offsetWidth;e.style.overflow="scroll",n===(i=i.offsetWidth)&&(i=e.clientWidth),t.removeChild(e),0!==(e=n-i)||B||(e=11)}this.Db=e,this.Ew=!0},Pr.prototype.qb=function(t){t.classType===Pr&&(this.autoScale=t)},Pr.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.Wa.iterator;i.next();)e+="\n  "+i.value.toString(t-1);return e},Pr.prototype.addEventListener=function(t,e,i,n){t.addEventListener(e,i,{capture:n,passive:!1})},Pr.prototype.removeEventListener=function(t,e,i,n){t.removeEventListener(e,i,{capture:n})},Pr.prototype.computePixelRatio=function(){return null!==this.Yh?this.Yh:m.devicePixelRatio||1},Pr.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},Pr.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},Pr.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},Pr.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},Pr.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},Pr.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},Pr.prototype.doFocus=function(){this.focus()},Pr.prototype.focus=function(){if(this.xa)if(this.scrollsPageOnFocus)this.xa.focus();else{var t=m.scrollX||m.pageXOffset,e=m.scrollY||m.pageYOffset;this.xa.focus(),m.scrollTo(t,e)}},Pr.prototype.Qy=function(){this.H.R("GainedFocus")},Pr.prototype.Py=function(){this.H.R("LostFocus")},Pr.prototype.kx=function(t){if(null!==this.xa){var e=this.ju,i=this.gu;this.mr=!0;var n=this.documentBounds,r=this.viewportBounds,o=this.rj,a=n.x-o.left,s=n.y-o.top,l=n.width+o.left+o.right,u=n.height+o.top+o.bottom,h=n.right+o.right;o=n.bottom+o.bottom;var c=r.x;n=r.y;var d=r.width,f=r.height,p=r.right,g=r.bottom;r=this.scale;var m=t.scrollLeft;if(this.tn)switch(this.au){case"negative":m=m+t.scrollWidth-t.clientWidth;break;case"reverse":m=t.scrollWidth-m-t.clientWidth}var v=m;d<l||f<u?(m=pt.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.iu!==v&&(m.x=v/r+a,this.iu=v),this.allowVerticalScroll&&this.ku!==t.scrollTop&&(m.y=t.scrollTop/r+s,this.ku=t.scrollTop),this.position=m,pt.free(m),this.De=this.mr=!1):(m=pt.alloc(),t.wy&&this.allowHorizontalScroll&&(a<c&&(this.position=m.h(v+a,this.position.y)),h>p&&(this.position=m.h(-(e.scrollWidth-this.Ca)+v-this.Ca/r+h,this.position.y))),t.xy&&this.allowVerticalScroll&&(s<n&&(this.position=m.h(this.position.x,t.scrollTop+s)),o>g&&(this.position=m.h(this.position.x,-(e.scrollHeight-this.Ba)+t.scrollTop-this.Ba/r+o))),pt.free(m),this.td=!0,this.De=this.mr=!1,n=this.documentBounds,r=this.viewportBounds,h=n.right,p=r.right,o=n.bottom,g=r.bottom,a=n.x,c=r.x,s=n.y,n=r.y,d>=l&&a>=c&&h<=p&&(i.style.width="1px"),f>=u&&s>=n&&o<=g&&(i.style.height="1px"))}},Pr.prototype.computeBounds=function(t){return void 0===t&&(t=new Ot),Qr(this),Fr(this,t)},Pr.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var i=null;if(M(t))for(var n=0;n<t.length;n++){var r=t[n];!e&&r instanceof xc||(r.Va(),null===i?i=r.actualBounds.copy():i.ad(r.actualBounds))}else for(t=t.iterator;t.next();)n=t.value,!e&&n instanceof xc||(n.Va(),null===i?i=n.actualBounds.copy():i.ad(n.actualBounds));return null===i?new Ot(NaN,NaN,0,0):i},Pr.prototype.zoomToFit=function(){var t=this.sj;this.sj=Qo,this.scale=Hr(this,Uo),t!==Qo&&(zr(this,!1),Vr(this,this.documentBounds,this.Ca/this.Aa,this.Ba/this.Aa,this.xk,!1)),this.sj=t},(e=Pr.prototype).AA=function(t,e){void 0===e&&(e=Uo);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var r=1;if(e===Uo||e===Go)if(isNaN(i))r=this.viewportBounds.height*this.scale/n;else if(isNaN(n))r=this.viewportBounds.width*this.scale/i;else{r=this.Ca;var o=this.Ba;r=e===Go?o/n>r/i?(o-(this.Ae?this.Db:0))/n:(r-(this.ff?this.Db:0))/i:Math.min(o/n,r/i)}this.scale=r,this.position=new pt(t.x,t.y)}},e.Ly=function(t,e){this.Va();var i=this.documentBounds,n=this.viewportBounds;this.position=new pt(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))},e.Az=function(t){if(t instanceof Aa){this.aq=t;var e=pt.alloc();this.bq=this.mp(t.ka(Qt,e)),pt.free(e)}else this.aq=null,this.bq=at},e.Ml=function(t,e){if(void 0===e&&(e=!0),e){if((t=Wr(this,t,(function(t){return t.part}),(function(t){return t.canSelect()})))instanceof wh)return t}else if((t=Wr(this,t,(function(t){return t.part})))instanceof wh)return t;return null},e.hc=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),Qr(this);for(var n=this.Wa.iteratorBackwards;n.next();){var r=n.value;if(r.visible&&null!==(r=r.hc(t,e,i)))return r}return null},e.mz=function(t,e,i){return void 0===e&&(e=!0),function(t,e,i,n,r){for(void 0===i&&(i=null),void 0===n&&(n=null),r instanceof Z||r instanceof Q||(r=new Q),Qr(t),t=t.Wa.iteratorBackwards;t.next();){var o=t.value;o.visible&&!o.isTemporary&&o.ji(e,i,n,r)}return r}(this,t,(function(t){return t.part}),e?function(t){return t instanceof wh&&t.canSelect()}:null,i)},e.ji=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof Z||n instanceof Q||(n=new Q),Qr(this);for(var r=this.Wa.iteratorBackwards;r.next();){var o=r.value;o.visible&&o.ji(t,e,i,n)}return n},e.ux=function(t,e,i,n){return void 0===e&&(e=!1),void 0===i&&(i=!0),function(t,e,i,n,r){var o=null;for(void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof Z||r instanceof Q||(r=new Q),Qr(t),t=t.Wa.iteratorBackwards;t.next();){var a=t.value;a.visible&&!a.isTemporary&&a.Cf(e,o,i,n,r)}return r}(this,t,(function(t){return t instanceof wh&&(!i||t.canSelect())}),e,n)},e.Cf=function(t,e,i,n,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof Z||r instanceof Q||(r=new Q),Qr(this);for(var o=this.Wa.iteratorBackwards;o.next();){var a=o.value;a.visible&&a.Cf(t,e,i,n,r)}return r},e.Nu=function(t,e,i,n,r,o){var a=new Q;Qr(this);for(var s=this.Wa.iteratorBackwards;s.next();){var l=s.value;l.visible&&l.Nu(t,e,i,n,a,r,o)}return a},e.nz=function(t,e,i,n,r){return void 0===i&&(i=!0),void 0===n&&(n=!0),function(t,e,i,n,r,o){var a=null;void 0===a&&(a=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof Z||r instanceof Q)&&(o=r),r=!0);for(o instanceof Z||o instanceof Q||(o=new Q),Qr(t),t=t.Wa.iteratorBackwards;t.next();){var s=t.value;s.visible&&!s.isTemporary&&s.ng(e,i,a,n,r,o)}return o}(this,t,e,(function(t){return t instanceof wh&&(!n||t.canSelect())}),i,r)},e.ng=function(t,e,i,n,r,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof Z||r instanceof Q)&&(o=r),r=!0),o instanceof Z||o instanceof Q||(o=new Q),Qr(this);for(var a=this.Wa.iteratorBackwards;a.next();){var s=a.value;s.visible&&s.ng(t,e,i,n,r,o)}return o},Pr.prototype.acceptEvent=function(t){return Ur(this,t,t instanceof MouseEvent)},Pr.prototype.Qz=function(t){var e=this.H;if(!this.H.isEnabled)return!1;var i=Ur(e,t,!1);switch(i.key=String.fromCharCode(t.which),i.down=!0,t.which){case 8:i.key="Backspace";break;case 33:i.key="PageUp";break;case 34:i.key="PageDown";break;case 35:i.key="End";break;case 36:i.key="Home";break;case 37:i.key="Left";break;case 38:i.key="Up";break;case 39:i.key="Right";break;case 40:i.key="Down";break;case 45:i.key="Insert";break;case 46:i.key="Del";break;case 48:i.key="0";break;case 187:case 61:case 107:i.key="Add";break;case 189:case 173:case 109:i.key="Subtract";break;case 27:i.key="Esc"}return e.doKeyDown(),Yr(i,t)},Pr.prototype.Rz=function(t){var e=this.H;if(!e.isEnabled)return!1;var i=Ur(e,t,!1);switch(i.key=String.fromCharCode(t.which),i.up=!0,t.which){case 8:i.key="Backspace";break;case 33:i.key="PageUp";break;case 34:i.key="PageDown";break;case 35:i.key="End";break;case 36:i.key="Home";break;case 37:i.key="Left";break;case 38:i.key="Up";break;case 39:i.key="Right";break;case 40:i.key="Down";break;case 45:i.key="Insert";break;case 46:i.key="Del"}return e.doKeyUp(),Yr(i,t)},Pr.prototype.cz=function(t){var e=this.H;if(!e.isEnabled)return!1;var i=Ur(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(i),e.currentTool.standardMouseOver(),Yr(i,t)},Pr.prototype.dz=function(t){var e=this.H;if(!e.isEnabled)return!1;var i=Ur(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(i),Yr(i,t)},Pr.prototype.getMouse=function(t){var e=this.xa;if(null===e)return new pt(0,0);var i=e.getBoundingClientRect();return e=t.clientX-this.Ca/i.width*i.left,t=t.clientY-this.Ba/i.height*i.top,null!==this.Ab?yt(new pt(e,t),this.Ab):new pt(e,t)},Pr.prototype.Ya=function(){this.Zi||(this.Zi=!0,this.Zb(!1))},Pr.prototype.redraw=function(){this.vb||this.fd||(this.N(),this.Yc())},(e=Pr.prototype).Pz=function(){return this.jg},e.Yy=function(t){void 0===t&&(t=null);var e=this.animationManager,i=e.isEnabled;e.Bc(),e.isEnabled=!1,Jr(this),this.gf=!1,this.cu=new pt(NaN,NaN),e.isEnabled=i,this.fd=!0;var n=this;null!==t&&b((function(){n.fd=!1,Kn(e,"Model"),t(n)}),1)},e.Zb=function(t){if(void 0===t&&(t=!1),!0!==this.jg&&!(this.vb||!1===t&&this.fd)){this.jg=!0;var e=this;m.requestAnimationFrame((function(){e.jg&&e.Yc()}))}},e.Yc=function(){this.fn&&!this.jg||(this.fn&&(this.fn=!1),Jr(this))},e.Lv=function(t,e){for(t.reset();t.next();){var i=t.value;!i.Wc()||i instanceof pc||(i.si()?(i.measure(1/0,1/0),i.arrange()):e.add(i))}for(t.reset();t.next();)(i=t.value)instanceof pc&&i.isVisible()&&$r(this,i);for(t.reset();t.next();)(i=t.value)instanceof xc&&i.isVisible()&&(i.si()?(i.measure(1/0,1/0),i.arrange()):e.add(i));for(t.reset();t.next();)(i=t.value)instanceof Kh&&i.isVisible()&&(i.si()?(i.measure(1/0,1/0),i.arrange()):e.add(i))},e.Bd=function(t,e,i,n){if(this.td||this.animationManager.isAnimating)for(var r=0;r<e;r++)t[r].Bd(i,n)},e.fc=function(t){if(null!==this.Ka)if(null===this.xa&&w("No canvas specified"),"svg"===this.ll){if(null!==this.Ka){var e=this.animationManager;if(!e.zb&&(!e.isAnimating||e.isTicking)){no(this);var i=this.Ca,n=this.Ba;if(t.Ev.resize(i,n,i,n),n=(i=this.Wa.s).length,this.Bd(i,n,this,this.viewportBounds),this.Ec||e.isAnimating){e=this.pa;var r=this.Aa,o=Math.round(e.x*r)/r,a=Math.round(e.y*r)/r,s=this.Ab;for(s.reset(),1!==r&&s.scale(r),0===e.x&&0===e.y||s.translate(-o,-a),t.ti=null,xs(t,s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),1!==this.pb&&(t.globalAlpha=this.pb),eo(this,t),e=0;e<n;e++)i[e].fc(t,this);this.Ec=this.td=!1}}}}else t:if(o=this.animationManager,!o.zb&&(!o.isAnimating||o.isTicking)&&(i=new Date,no(this),"0"!==this.Ka.style.opacity)){if(n=t!==this.ib,r=(e=this.Wa.s).length,this.Bd(e,r,this,this.viewportBounds),n)t.Sc(!0),this.td=!0;else if(!this.Ec&&!o.isAnimating)break t;a=this.pa,s=this.Aa;var l=Math.round(a.x*s)/s,u=Math.round(a.y*s)/s;for((o=this.Ab).reset(),1!==s&&o.scale(s),0===a.x&&0===a.y||o.translate(-l,-u),a=this.Sb,t.setTransform(a,0,0,a,0,0),t.clearRect(0,0,this.Ca,this.Ba),1!==this.pb&&(t.globalAlpha=this.pb),eo(this,t),s=0;s<r;s++)t.setTransform(a,0,0,a,0,0),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),t.xc(),e[s].fc(t,this);if(e=!1,this.Fh?ua(this.Fh,this)&&(e=this.kt()):e=!0,e&&(He.prototype.Pd=He.prototype.Zw),n?(this.ib.Sc(!0),this.td=!0):this.Ec=this.td=!1,e=+new Date-+i,n=U&&U.nx,i=this.xw,n||null===this.Yh){for(i[this.Qq]=e,this.Qq=(this.Qq+1)%i.length,r=e=0;r<i.length;r++)e+=i[r];this.Pq=e/i.length}if(1!==this.pb&&(t.globalAlpha=1),n)for(t.setTransform(1,0,0,1,0,0),n=0;n<i.length;n++)t.fillText(i[n].toString(),20,150+20*n)}},e.Gf=function(t){return this.Qg[t]},e.Zx=function(t,e){"minDrawingLength"===t&&(this.Lq=e),this.Qg[t]=e,this.redraw()},e.Vx=function(){this.Qg=new W,this.Qg.drawShadows=!0,this.Qg.textGreeking=!0,this.Qg.viewportOptimizations=!B&&!j,this.Qg.temporaryPixelRatio=!0,this.Qg.pictureRatioOptimization=!0,this.Lq=this.Qg.minDrawingLength=1},e.Ol=function(t){return this.on[t]},e.rA=function(t,e){this.on[t]=e},e.Ux=function(){this.on=new W,this.on.extraTouchArea=10,this.on.extraTouchThreshold=10,this.on.hasGestureZoom=!0},e.set=function(t){return Object.assign(this,t),this},e.Cu=function(t){return this.nm(t)},e.nm=function(t){return io(this,t),this},e.bx=function(){if(0!==this.Dh.count&&!(1<this.undoManager.transactionLevel)){for(;0<this.Dh.count;){var t=this.Dh;for(this.Dh=new ft,t=t.iterator;t.next();){var e=t.key;e.Vo(t.value),e.pc()}}this.N()}},e.N=function(t){if(void 0===t)this.Ec=!0,this.Zb();else{var e=this.viewportBounds;t.w()&&e.Vc(t)&&(this.Ec=!0,this.Zb())}this.R("InvalidateDraw")},Pr.prototype.invalidateViewport=function(t,e){if(!0!==this.Ec)if(this.Ec=!0,"svg"===this.ll)this.Yc();else{var i=!0===this.Gf("temporaryPixelRatio");if(!0===this.Gf("viewportOptimizations")&&this.scrollMode!==$o&&this.rj.hi(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,r=Math.max(t.y,e.y),o=Math.min(t.y+t.height,e.y+e.height);if(0<Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x))*n&&0<Math.max(0,o-r)*n){if(!(this.fd||(this.jg=!1,null===this.Ka||(this.fd=!0,this.documentBounds.w()||(n=Ot.alloc(),_o(this,this.computeBounds(n)),Ot.free(n)),n=this.xa,null===n||n instanceof ys)))){var a=this.Sb;r=this.Ca*a;var s=this.Ba*a,l=this.scale*a;o=Math.round(Math.round(e.x*l)-Math.round(t.x*l)),e=Math.round(Math.round(e.y*l)-Math.round(t.y*l)),l=this.hw,t=this.qy,l.width!==r&&(l.width=r),l.height!==s&&(l.height=s),t.clearRect(0,0,r,s),l=190*a;var u=70*a,h=Math.max(o,0),c=Math.max(e,0),d=Math.floor(r-h),f=Math.floor(s-c);t.drawImage(n.La,h,c,d,f,0,0,d,f),ua(this.Fh,this)&&t.clearRect(0,0,l,u),n=N(),t=N(),f=Math.abs(o),d=Math.abs(e);var p=0===h?0:r-f;h=pt.allocAt(p,0),f=pt.allocAt(f+p,s),t.push(new Ot(Math.min(h.x,f.x),Math.min(h.y,f.y),Math.abs(h.x-f.x),Math.abs(h.y-f.y)));var g=this.Ab;if(g.reset(),g.scale(a,a),1!==this.Aa&&g.scale(this.Aa),(0!==(a=this.pa).x||0!==a.y)&&isFinite(a.x)&&isFinite(a.y)&&g.translate(-a.x,-a.y),yt(h,g),yt(f,g),n.push(new Ot(Math.min(h.x,f.x),Math.min(h.y,f.y),Math.abs(h.x-f.x),Math.abs(h.y-f.y))),p=0===c?0:s-d,h.h(0,p),f.h(r,d+p),t.push(new Ot(Math.min(h.x,f.x),Math.min(h.y,f.y),Math.abs(h.x-f.x),Math.abs(h.y-f.y))),yt(h,g),yt(f,g),n.push(new Ot(Math.min(h.x,f.x),Math.min(h.y,f.y),Math.abs(h.x-f.x),Math.abs(h.y-f.y))),ua(this.Fh,this)&&(r=0<o?0:-o,s=0<e?0:-e,h.h(r,s),f.h(l+r,u+s),t.push(new Ot(Math.min(h.x,f.x),Math.min(h.y,f.y),Math.abs(h.x-f.x),Math.abs(h.y-f.y))),yt(h,g),yt(f,g),n.push(new Ot(Math.min(h.x,f.x),Math.min(h.y,f.y),Math.abs(h.x-f.x),Math.abs(h.y-f.y)))),pt.free(h),pt.free(f),Zr(this,!1,!0),null===this.Ka&&w("No div specified"),null===this.xa&&w("No canvas specified"),!this.animationManager.zb&&(r=this.ib,this.Ec)){for(no(this),s=this.Sb,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this.Ca*s,this.Ba*s),r.drawImage(this.hw.La,0<o?0:Math.round(-o),0<e?0:Math.round(-e)),o=this.pa,a=this.Aa,l=Math.round(o.x*a)/a,u=Math.round(o.y*a)/a,(e=this.Ab).reset(),1!==a&&e.scale(a),0===o.x&&0===o.y||e.translate(-l,-u),r.save(),r.beginPath(),o=t.length,a=0;a<o;a++)0!==(l=t[a]).width&&0!==l.height&&r.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(r.clip(),r.setTransform(s,0,0,s,0,0),r.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),r.xc(),o=(e=this.Wa.s).length,this.Bd(e,o,this,this.viewportBounds),eo(this,r),r.globalAlpha=this.pb,s=0;s<o;s++)if(l=n,(a=e[s]).visible&&0!==a.pb){u=Sr(a,r),(c=a.Wq).length=0,h=this.scale,d=Ot.alloc(),g=(f=a.Pa.s).length,p=l.length;for(var m=0;m<g;m++){var v=f[m],y=Th(v,v.actualBounds);t:{for(var b=2/h,x=4/h,k=0;k<p;k++){var _=l[k];if(0!==_.width&&0!==_.height&&y.Vu(_.x-b,_.y-b,_.width+x,_.height+x)){y=!0;break t}}y=!1}y&&a.Oj(r,v,this,c,h,d,!0)}Ot.free(d),r.globalAlpha=u}r.restore(),r.Sc(!0),this.Fh&&ua(this.Fh,this)&&this.kt(),this.Ec=this.td=!1,this.$l()}I(n),I(t),this.fd=!1}}else this.Yc();i&&(Er(this),this.Yc(),Ar(this,!0))}else i?(Er(this),this.Yc(),Ar(this,!0)):this.Yc()}},(e=Pr.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&w("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.Qj(t.layerName))&&(e=this.Qj("")),null===e&&w('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var i=e.oi(99999999,t,t.diagram===this);0<=i&&this.cb(fi,"parts",e,null,t,null,i),e.isTemporary||this.Ya(),t.D(1),null!==(i=t.layerChanged)&&i(t,null,e)}},e.oi=function(t){this.partManager.oi(t);var e=this;Al(t,(function(t){bo(e,t)})),(t instanceof Kh||t instanceof pc&&null!==t.placeholder)&&t.v(),null!==t.data&&Al(t,(function(t){nf(e.partManager,t)})),!0!==rs(t)&&!0!==Lh(t)||this.Ce.add(t),Ah(t,!0,this),Wh(t)?(t.actualBounds.w()&&this.N(Th(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(Th(t,t.actualBounds)),this.Zb()},e.oc=function(t){t.Ej(),this.partManager.oc(t);var e=this;null!==t.data&&Al(t,(function(t){rf(e.partManager,t,e)})),this.Ce.remove(t),Wh(t)?(t.actualBounds.w()&&this.N(Th(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(Th(t,t.actualBounds)),this.Zb()},e.remove=function(t){ao(this,t,!0)},e.Fs=function(t,e){if(void 0===e&&(e=!1),M(t))for(var i=t.length,n=0;n<i;n++){var r=t[n];e&&!r.canDelete()||this.remove(r)}else for((i=new Q).addAll(t),t=i.iterator;t.next();)i=t.value,e&&!i.canDelete()||this.remove(i)},e.Kj=function(t,e,i){return void 0===i&&(i=!1),this.partManager.Kj(t,e,i)},Pr.prototype.moveParts=function(t,e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=uo(this)),null!==this.toolManager){var r=new ft;if(null!==t)if(M(t))for(var o=0;o<t.length;o++)so(this,r,t[o],i,n);else for(t=t.iterator;t.next();)so(this,r,t.value,i,n);else{for(t=this.parts;t.next();)so(this,r,t.value,i,n);for(t=this.nodes;t.next();)so(this,r,t.value,i,n);for(t=this.links;t.next();)so(this,r,t.value,i,n)}lo(this,r,e,n,i)}},Pr.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new pt),n.assign(e),null===t)return n;var r=e,o=i.isGridSnapEnabled;o&&(i.isGridSnapRealtime||this.lastInput.up)&&ho(this,t,e,r=pt.alloc(),i),i=null!==t.dragComputation?t.dragComputation(t,e,r):r;var a=t.minLocation,s=a.x;isNaN(s)&&(s=o?Math.round(1e3*t.location.x)/1e3:t.location.x),a=a.y,isNaN(a)&&(a=o?Math.round(1e3*t.location.y)/1e3:t.location.y);var l=t.maxLocation,u=l.x;return isNaN(u)&&(u=o?Math.round(1e3*t.location.x)/1e3:t.location.x),l=l.y,isNaN(l)&&(l=o?Math.round(1e3*t.location.y)/1e3:t.location.y),n.h(Math.max(s,Math.min(i.x,u)),Math.max(a,Math.min(i.y,l))),r!==e&&pt.free(r),n},(e=Pr.prototype).Ld=function(t,e,i){if(void 0===i)return new ha(it);var n=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(n=!1),new ha(n?new pt(Math.round(1e3*i.x)/1e3,Math.round(1e3*i.y)/1e3):i.copy())},e.yl=function(t){go(this,t,null),t.We(this);var e=this.Wa,i=e.count-1;if(!t.isTemporary)for(;0<=i&&e.L(i).isTemporary;)i--;return e.Hb(i+1,t),null!==this.cc&&this.cb(fi,"layers",this,null,t,null,i+1),this.N(),this.Ya(),this},e.Uw=function(t,e){go(this,t,e),t.We(this);var i=this.Wa,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.cc&&this.cb(pi,"layers",this,t,null,n,null));var r,o=i.count;for(r=0;r<o;r++)if(i.L(r)===e){i.Hb(r,t);break}return null!==this.cc&&this.cb(fi,"layers",this,null,t,null,r),this.N(),0>n&&this.Ya(),this},e.Ey=function(t,e){go(this,t,e),t.We(this);var i=this.Wa,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.cc&&this.cb(pi,"layers",this,t,null,n,null));var r,o=i.count;for(r=0;r<o;r++)if(i.L(r)===e){i.Hb(r+1,t);break}return null!==this.cc&&this.cb(fi,"layers",this,null,t,null,r+1),this.N(),0>n&&this.Ya(),this},e.jA=function(t){if(t.diagram!==this&&w("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Wa,i=e.indexOf(t);if(e.remove(t)){for(e=t.Pa.copy().iterator;e.next();){var n=e.value,r=n.layerName;r!==t.name?n.layerName=r:n.layerName=""}null!==this.cc&&this.cb(pi,"layers",this,t,null,i,null),this.N(),this.Ya()}}},e.Qj=function(t){for(var e=this.layers;e.next();){var i=e.value;if(i.name===t)return i}return null},e.Ww=function(t){return null===this.nf&&(this.nf=new Z),this.nf.add(t),this.model.Oe(t),this},e.lA=function(t){null!==this.nf&&(this.nf.remove(t),0===this.nf.count&&(this.nf=null)),this.model.gk(t)},e.Oe=function(t){return null===this.yg&&(this.yg=new Z),this.yg.add(t),this},e.gk=function(t){null!==this.yg&&(this.yg.remove(t),0===this.yg.count&&(this.yg=null))},e.$r=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Tu(t),t.change!==ci&&(this.isModified=!0),null!==this.yg)for(var e=this.yg,i=e.length,n=0;n<i;n++)e.L(n)(t)},e.cb=function(t,e,i,n,r,o,a){void 0===o&&(o=null),void 0===a&&(a=null);var s=new hi;s.diagram=this,s.change=t,s.propertyName=e,s.object=i,s.oldValue=n,s.oldParam=o,s.newValue=r,s.newParam=a,this.$r(s)},e.g=function(t,e,i,n,r){this.cb(di,t,this,e,i,n,r)},Pr.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var i=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var n=t.change;if(n===di){var r=t.object;if(Bf(r,t.propertyName,t.I(e)),r instanceof Aa){var o=r.part;null!==o&&o.Vb()}this.isModified=!0}else if(n===fi){var a=t.object,s=t.newParam,l=t.newValue;if(a instanceof Ml)if("number"===typeof s&&l instanceof Aa){e?a.oc(s):a.Hb(s,l);var u=a.part;null!==u&&u.Vb()}else"number"===typeof s&&l instanceof su&&(l.isRow?Ul(a,s,e?void 0:l):Gl(a,s,e?void 0:l));else if(a instanceof _r){var h=!0===t.oldParam;"number"===typeof s&&l instanceof wh&&(e?(l.isSelected=!1,l.isHighlighted=!1,l.Vb(),a.oc(h?s:-1,l,h)):a.oi(s,l,h))}else a instanceof Pr?"number"===typeof s&&l instanceof _r&&(e?this.Wa.mb(s):(l.We(this),this.Wa.Hb(s,l))):w("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(n===pi){var c=t.object,d=t.oldParam,f=t.oldValue;if(c instanceof Ml)"number"===typeof d&&f instanceof Aa?e?c.Hb(d,f):c.oc(d):"number"===typeof d&&f instanceof su&&(f.isRow?Ul(c,d,e?f:void 0):Gl(c,d,e?f:void 0));else if(c instanceof _r){var p=!0===t.newParam;"number"===typeof d&&f instanceof wh&&(e?0>c.Pa.indexOf(f)&&c.oi(d,f,p):(f.isSelected=!1,f.isHighlighted=!1,f.Vb(),c.oc(p?d:-1,f,p)))}else c instanceof Pr?"number"===typeof d&&f instanceof _r&&(e?(f.We(this),this.Wa.Hb(d,f)):this.Wa.mb(d)):w("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else n!==ci&&w("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=i}}},Pr.prototype.Ea=function(t){return this.undoManager.Ea(t)},Pr.prototype.eb=function(t){return this.undoManager.eb(t)},Pr.prototype.Kf=function(){return this.undoManager.Kf()},Pr.prototype.commit=function(t,e){void 0===e&&(e="");var i=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.Ea(e);var n=!1;try{t(this),n=!0}finally{n?this.undoManager.eb(e):this.undoManager.Kf(),this.skipsUndoManager=i}},Pr.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},Pr.prototype.pp=function(){this.partManager.pp()},Pr.prototype.onViewportBoundsChanged=function(t,e,i,n){if(!t.C(e)){void 0===n&&(n=!1),n||(this.De=!0),this.td=!0;var r=this.layout;null===r||!r.isViewportSized||this.autoScale!==Wo||t.width===e.width&&t.height===e.height||r.D(),r=this.currentTool,!0===this.Tk&&r instanceof bi&&(this.lastInput.documentPoint=this.Ms(this.lastInput.viewPoint),xi(r,this)),this.vb||this.invalidateViewport(t,e),vo(this),this.md.scale=i,this.md.position.x=t.x,this.md.position.y=t.y,this.md.bounds.assign(t),this.md.ax.width=Math.round(t.width*i),this.md.ax.height=Math.round(t.height*i),this.md.Nx.width=this.Ca,this.md.Nx.height=this.Ba,this.md.Hx=n,this.R("ViewportBoundsChanged",this.md,t),this.isVirtualized&&this.links.each((function(t){t.isAvoiding&&t.actualBounds.Vc(e)&&t.bb()}))}},Pr.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var i=e.Fa(),n=i.length,r=0;r<n;r++)i[r].isSelected=!1;e.ja(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},Pr.prototype.select=function(t){null!==t&&t.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},Pr.prototype.qA=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),M(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];n instanceof wh||w("Diagram.selectCollection given something that is not a Part: "+n),n.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof wh||w("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},Pr.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.Fa(),i=e.length,n=0;n<i;n++)e[n].isHighlighted=!1;t.ja(),t.clear(),t.freeze()}},(e=Pr.prototype).Jz=function(t){null!==t&&t.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},e.Kz=function(t){t=(new Q).addAll(t);for(var e=this.highlighteds.copy().fp(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof wh||w("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},e.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,r=0,o=pt.alloc();if("pixel"===t)r=i;else if("line"===t)r=i*(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=n?this.viewportBounds.height:this.viewportBounds.width,0!==(t*=this.scale)&&(r=i*Math.max(t-(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return r=this.documentBounds,i=this.viewportBounds,"up"===e?this.position=o.h(i.x,r.y):"left"===e?this.position=o.h(r.x,i.y):"down"===e?this.position=o.h(i.x,r.bottom-i.height):"right"===e&&(this.position=o.h(r.right-i.width,i.y)),void pt.free(o);w("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,i=this.position,"up"===e?this.position=o.h(i.x,i.y-r):"down"===e?this.position=o.h(i.x,i.y+r):"left"===e?this.position=o.h(i.x-r,i.y):"right"===e?this.position=o.h(i.x+r,i.y):w("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),pt.free(o)},e.tv=function(t){var e=this.viewportBounds;e.Qe(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},e.bs=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},e.mp=function(t){var e=this.Ab;e.reset(),1!==this.Aa&&e.scale(this.Aa);var i=this.pa;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.Ab)},e.yA=function(t){var e=this.Ab,i=t.x,n=t.y,r=i+t.width,o=n+t.height,a=e.m11,s=e.m12,l=e.m21,u=e.m22,h=e.dx,c=e.dy,d=i*a+n*l+h;e=i*s+n*u+c;var f=r*a+n*l+h;return t=r*s+n*u+c,n=i*a+o*l+h,i=i*s+o*u+c,a=r*a+o*l+h,r=r*s+o*u+c,o=Math.min(d,f),d=Math.max(d,f),f=Math.min(e,t),e=Math.max(e,t),o=Math.min(o,n),d=Math.max(d,n),f=Math.min(f,i),e=Math.max(e,i),o=Math.min(o,a),d=Math.max(d,a),new Ot(o,f=Math.min(f,r),d-o,(e=Math.max(e,r))-f)},e.Ms=function(t){var e=this.Ab;e.reset(),1!==this.Aa&&e.scale(this.Aa);var i=this.pa;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),yt(t.copy(),this.Ab)},Pr.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var i=t.change,n=t.propertyName;if(i===ci&&"S"===n[0])if("StartingFirstTransaction"===n){var r=this;(t=this.toolManager).mouseDownTools.each((function(t){return t.diagram=r})),t.mouseMoveTools.each((function(t){return t.diagram=r})),t.mouseUpTools.each((function(t){return t.diagram=r})),this.fd||this.gf||(this.Hk=!0,this.fn&&(this.jg=!0))}else"StartingUndo"===n||"StartingRedo"===n?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===n&&((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc());else if(this.aa){this.aa=!1;try{if(""===t.modelChange&&i===ci){"FinishedUndo"!==n&&"FinishedRedo"!==n||(this.R("ChangedSelection",this.selection),Qr(this));var o=this.animationManager;"RolledBackTransaction"===n&&o.Bc(),this.bx(),this.Hk=!0,this.Yc(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||Yn(o),"CommittedTransaction"===n&&this.undoManager.isJustDiscarded&&(this.Be=Math.min(this.Be,this.undoManager.historyIndex-1)),"CommittedTransaction"!==n&&"RolledBackTransaction"!==n||!this.undoManager.isPendingUnmodified||setTimeout((function(){e.isModified=!1}),1);var a=t.isTransactionFinished;if(a&&(yo(this),this.xs.clear(),function(t){for(t=t.Ei.iterator;t.next();)t.value.Vk=!1}(this.animationManager)),!this.Qt&&a&&this.lastInput.targetDiagram){this.Qt=!0;var s=this;b((function(){s.currentTool.standardMouseOver(),s.Qt=!1}),10)}}}finally{this.aa=!0}}}},Pr.prototype.Ud=function(){this.partManager.Ud()},Pr.prototype.Aj=function(t,e){this.Wd.Aj(t,e)},Pr.prototype.Cj=function(t,e){this.Wd.Cj(t,e)},Pr.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},Pr.prototype.Ub=function(t){return this.partManager.Ub(t)},Pr.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(e=Pr.prototype).Kc=function(t){return this.partManager.Kc(t)},e.ii=function(t){return this.partManager.ii(t)},e.Jc=function(t){return this.partManager.Jc(t)},e.js=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return this.partManager.js.apply(this.partManager,e instanceof Array?e:o(r(e)))},e.hs=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return this.partManager.hs.apply(this.partManager,e instanceof Array?e:o(r(e)))},e.Va=function(){if(this.Zi){var t=Ot.alloc();_o(this,this.computeBounds(t)),Ot.free(t)}},e.sz=function(){for(var t=new Q,e=this.nodes;e.next();){var i=e.value;i.isTopLevel&&t.add(i)}for(e=this.links;e.next();)(i=e.value).isTopLevel&&t.add(i);return t.iterator},e.rz=function(){return this.ai.iterator},e.Uz=function(t){Qr(this),t&&So(this,!0),this.fd?Mo(this,!1):(this.Hk=!0,Jr(this))},e.zz=function(){for(var t=new Z,e=this.nodes;e.next();){var i=e.value;i.isTopLevel&&null===i.jh()&&t.add(i)}return t.iterator},e.Bj=function(t,e){return null!==(t=Do(this,t))&&t.add(e),this},e.am=function(t,e){null!==(t=Do(this,t))&&t.remove(e)},e.R=function(t,e,i){var n=Do(this,t),r=new ui;if(r.diagram=this,null!==(t=To(this,t))&&(r.name=t),void 0!==e&&(r.subject=e),void 0!==i&&(r.parameter=i),1===(e=n.length))n.L(0)(r);else if(0!==e)for(n=n.Fa(),i=0;i<e;i++)(0,n[i])(r)},e.Xj=function(t,e){return Io(this,!1,null,e||null).Xj(t.x,t.y,t.width,t.height)},Pr.prototype.computeOccupiedArea=function(t){return this.isVirtualized?this.viewportBounds.copy():this.Zi?Fr(this,t):t.assign(this.documentBounds)},Pr.prototype.ds=function(t){this.tp.assign(t),this.computeAutoScrollPosition(this.tp).Xa(this.position)?this.tg():Lo(this)},Pr.prototype.tg=function(){-1!==this.tk&&(m.clearTimeout(this.tk),this.tk=-1)},Pr.prototype.computeAutoScrollPosition=function(t){var e=this.position,i=this.vp;if(0>=i.top&&0>=i.left&&0>=i.right&&0>=i.bottom)return e;var n=this.viewportBounds,r=this.scale;n=Ot.allocAt(0,0,n.width*r,n.height*r);var o=pt.allocAt(0,0);if(t.x>=n.x&&t.x<n.x+i.left&&this.allowHorizontalScroll){var a=Math.max(this.scrollHorizontalLineChange,1);a|=0,o.x-=a,t.x<n.x+i.left/2&&(o.x-=a),t.x<n.x+i.left/4&&(o.x-=4*a)}else t.x<=n.x+n.width&&t.x>n.x+n.width-i.right&&this.allowHorizontalScroll&&(a=Math.max(this.scrollHorizontalLineChange,1),a|=0,o.x+=a,t.x>n.x+n.width-i.right/2&&(o.x+=a),t.x>n.x+n.width-i.right/4&&(o.x+=4*a));return t.y>=n.y&&t.y<n.y+i.top&&this.allowVerticalScroll?(a=Math.max(this.scrollVerticalLineChange,1),a|=0,o.y-=a,t.y<n.y+i.top/2&&(o.y-=a),t.y<n.y+i.top/4&&(o.y-=4*a)):t.y<=n.y+n.height&&t.y>n.y+n.height-i.bottom&&this.allowVerticalScroll&&(a=Math.max(this.scrollVerticalLineChange,1),a|=0,o.y+=a,t.y>n.y+n.height-i.bottom/2&&(o.y+=a),t.y>n.y+n.height-i.bottom/4&&(o.y+=4*a)),o.Xa(it)||(e=new pt(e.x+o.x/r,e.y+o.y/r)),Ot.free(n),pt.free(o),e},(e=Pr.prototype).zs=function(){return null},e.av=function(){return null},e.Yr=function(t,e){this.pj.add(t,e)},e.Du=function(t){(this.Nw=t)||this.nodes.each((function(t){t instanceof pc&&(t.Xp=null)}))},e.Wz=function(t){return zo?(void 0===t&&(t={}),t.returnType="Image",this.Kx(t)):null},e.Kx=function(t){return void 0===t&&(t={}),Ro(this,this.Xz,t)},e.Xz=function(t,e,i){var n=jo(i,t,"canvas",null);if(null===n)return null;var r=null;if(null!==(i=n.Z.canvas))switch(r=t.returnType,r=void 0===r?"string":r.toLowerCase(),r){case oa+"data":r=n.getImageData(0,0,i.width,i.height);break;case oa:(n=(t.document||document).createElement("img")).src=i.toDataURL(t.type,t.details),r=n;break;case"blob":return"function"!==typeof e&&w('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"===typeof i.toBlob?(i.toBlob(e,t.type,t.details),"toBlob"):(e(null),null);default:r=i.toDataURL(t.type,t.details)}return"function"===typeof e?(e(r),null):r},d.Object.defineProperties(Pr.prototype,{renderer:{get:function(){return this.ll},set:function(t){this instanceof Ma||(""===t&&(t="default"),(t=t.toLowerCase())!==this.ll&&(this.ll=t,"default"===t||"canvas"===t?(null!==(t=this.pj.get("svg"))&&t.La.remove(),this.xa&&(this.ib=this.xa.context)):"svg"===t?(this.pj.contains("svg")?t=this.pj.get("svg"):(t=new ys(this,m.document),this.Yr("svg",t)),null!==this.div&&this.div.appendChild(t.La),this.ib=t.context,this.xa&&(this.xa.context.setTransform(this.Sb,0,0,this.Sb,0,0),this.xa.context.clearRect(0,0,this.Ca,this.Ba))):"debug"!==t||this.pj.contains("SVG")||(t=new ys(this,m.document),this.Yr("SVG",t),t.La.style.backgroundColor="whitesmoke",null!==this.div&&this.div.after(t.La)),this.$l()))}},div:{get:function(){return this.Ka},set:function(t){if(this.Ka!==t){var e=this.Ka;null!==e?(e.H=void 0,e.goDiagram=void 0,e.go=void 0,e.innerHTML="",null!==this.xa&&(e=this.xa.La,this.removeEventListener(e,"pointermove",this.ck,!1),this.removeEventListener(e,"pointerdown",this.ui,!1),this.removeEventListener(e,"pointerup",this.ek,!1),this.removeEventListener(e,"pointerout",this.dk,!1),this.removeEventListener(e,"pointercancel",this.bk,!1),this.xa.mx()),this.ml&&(this.ml.disconnect(),this.ml=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each((function(t){t.cancelWaitAfter()})),e.mouseMoveTools.each((function(t){t.cancelWaitAfter()})),e.mouseUpTools.each((function(t){t.cancelWaitAfter()}))),e.cancelWaitAfter(),this.currentTool.doCancel(),this.xa=null,this.removeEventListener(m,"resize",this.Mv,!1),this.removeEventListener(m,"wheel",this.Zj,!0),br===this&&(br=null)):null===this.ui&&(this.gf=!1),this.Ka=null,null!==t&&((e=t.H)&&(e.div=null),Ir(this,t),this.redraw())}}},Yw:{get:function(){return this.Pq}},pi:{get:function(){return this.gf}},draggedLink:{get:function(){return this.jt},set:function(t){this.jt!==t&&(this.jt=t,null!==t&&(this.Ut=t.fromPort,this.Vt=t.toPort))}},Ox:{get:function(){return this.Ut},set:function(t){this.Ut=t}},Px:{get:function(){return this.Vt},set:function(t){this.Vt=t}},animationManager:{get:function(){return this.Wd}},undoManager:{get:function(){return this.cc.undoManager}},skipsUndoManager:{get:function(){return this.Vg},set:function(t){this.Vg=t,this.cc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.ht},set:function(t){this.ht=t}},opacity:{get:function(){return this.pb},set:function(t){var e=this.pb;e!==t&&((0>t||1<t)&&_(t,"0 <= value <= 1",Pr,"opacity"),this.pb=t,this.g("opacity",e,t),this.N())}},validCycle:{get:function(){return this.vu},set:function(t){var e=this.vu;e!==t&&(this.vu=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Wa.iterator}},isModelReadOnly:{get:function(){var t=this.cc;return null!==t&&t.isReadOnly},set:function(t){var e=this.cc;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.Fg},set:function(t){var e=this.Fg;e!==t&&(this.Fg=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.Ed},set:function(t){var e=this.Ed;e!==t&&(this.Ed=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.Rs},set:function(t){var e=this.Rs;e!==t&&(this.Rs=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.Fi},set:function(t){var e=this.Fi;e!==t&&(this.Fi=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Gi},set:function(t){var e=this.Gi;e!==t&&(this.Gi=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.Ss},set:function(t){var e=this.Ss;e!==t&&(this.Ss=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.Ts},set:function(t){var e=this.Ts;e!==t&&(this.Ts=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Qi},set:function(t){var e=this.Qi;e!==t&&(this.Qi=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.Vs},set:function(t){var e=this.Vs;e!==t&&(this.Vs=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Ji},set:function(t){var e=this.Ji;e!==t&&(this.Ji=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Li},set:function(t){var e=this.Li;e!==t&&(this.Li=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Mi},set:function(t){var e=this.Mi;e!==t&&(this.Mi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(this.Ni=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Oi},set:function(t){var e=this.Oi;e!==t&&(this.Oi=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.Ws},set:function(t){var e=this.Ws;e!==t&&(this.Ws=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.Ys},set:function(t){var e=this.Ys;e!==t&&(this.Ys=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.nn},set:function(t){var e=this.nn;e!==t&&(this.nn=t,this.De=!0,this.N(),this.g("hasVerticalScrollbar",e,t),zr(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.mn},set:function(t){var e=this.mn;e!==t&&(this.mn=t,this.De=!0,this.N(),this.g("hasHorizontalScrollbar",e,t),zr(this,!1))}},allowHorizontalScroll:{get:function(){return this.Us},set:function(t){var e=this.Us;e!==t&&(this.Us=t,this.g("allowHorizontalScroll",e,t),zr(this,!1))}},allowVerticalScroll:{get:function(){return this.Xs},set:function(t){var e=this.Xs;e!==t&&(this.Xs=t,this.g("allowVerticalScroll",e,t),zr(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.hu},set:function(t){var e=this.hu;e!==t&&(0>t&&_(t,">= 0",Pr,"scrollHorizontalLineChange"),this.hu=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.lu},set:function(t){var e=this.lu;e!==t&&(0>t&&_(t,">= 0",Pr,"scrollVerticalLineChange"),this.lu=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.cj},set:function(t){this.cj=t}},previousInput:{get:function(){return this.Pg},set:function(t){this.Pg=t}},firstInput:{get:function(){return this.Zp},set:function(t){this.Zp=t}},currentCursor:{get:function(){return this.et},set:function(t){if(""===t&&(t=this.Mp),this.et!==t){var e=this.xa,i=this.Ka;if(null!==e&&null!==i){this.et=t;var n=e.style.cursor;e.style.cursor=t,i.style.cursor=t,e.style.cursor===n&&(e.style.cursor="-webkit-"+t,i.style.cursor="-webkit-"+t,e.style.cursor===n&&(e.style.cursor="-moz-"+t,i.style.cursor="-moz-"+t,e.style.cursor===n&&(e.style.cursor=t,i.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Mp},set:function(t){""===t&&(t="auto");var e=this.Mp;e!==t&&(this.Mp=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.yh},set:function(t){var e=this.yh;e!==t&&(this.yh=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Eh},set:function(t){var e=this.Eh;e!==t&&(this.Eh=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Ah},set:function(t){var e=this.Ah;e!==t&&(this.Ah=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.Qh},set:function(t){var e=this.Qh;e!==t&&(this.Qh=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.Oh},set:function(t){var e=this.Oh;e!==t&&(this.Oh=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.Nh},set:function(t){var e=this.Nh;e!==t&&(this.Nh=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.Pt},set:function(t){var e=this.Pt;e!==t&&(this.Pt=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.Lh},set:function(t){var e=this.Lh;e!==t&&(this.Lh=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.ut},set:function(t){var e=this.ut;e!==t&&(this.ut=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.Mh},set:function(t){var e=this.Mh;e!==t&&(this.Mh=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.Ph},set:function(t){var e=this.Ph;e!==t&&(this.Ph=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Bh},set:function(t){var e=this.Bh;e!==t&&(this.Bh=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t,t.We(this))}},toolManager:{get:function(){return this.se},set:function(t){this.se!==t&&(this.se=t,t.diagram=this)}},defaultTool:{get:function(){return this.ob},set:function(t){var e=this.ob;e!==t&&(this.ob=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.hb},set:function(t){var e=this.hb;e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.hb=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.Fw}},maxSelectionCount:{get:function(){return this.Kt},set:function(t){var e=this.Kt;if(e!==t)if(0<=t&&!isNaN(t)){if(this.Kt=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.Fa();for(var i=0;i<t;i++)e[i].isSelected=!1;this.R("ChangedSelection",this.selection)}}else _(t,">= 0",Pr,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.Rt},set:function(t){var e=this.Rt;e!==t&&(this.Rt=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.tt},set:function(t){var e=this.tt;e!==t&&(this.tt=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Ht},set:function(t){var e=this.Ht;e!==t&&(this.Ht=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.lw}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.rn&&this.Be!==t.historyIndex:this.rn},set:function(t){if(this.rn!==t){this.rn=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Be=e.historyIndex),t||yo(this)}}},model:{get:function(){return this.cc},set:function(t){var e=this.cc;if(e!==t){this.currentTool.doCancel(),e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&w("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Bc(!0);var i=Dr(this,!0);this.gf=!1,this.fn=!0,this.Be=-2,this.jg=!1;var n=this.vb;this.vb=!0,Kn(this.animationManager,"Model"),e&&(null!==this.nf&&this.nf.each((function(t){return e.gk(t)})),e.gk(this.Nc)),this.cc=t,this.partManager=function(t){return null!==(t=Bo.get(t))?new t:new Jd}(this.cc.type);for(var r=0;r<i.length;r++)this.add(i[r]);t.Oe(this.Ib),this.partManager.addAllModeledParts(),t.gk(this.Ib),t.Oe(this.Nc),null!==this.nf&&this.nf.each((function(e){return t.Oe(e)})),this.vb=n,this.Ya(),this.vb||this.N(),e&&t.undoManager.copyProperties(e.undoManager)}}},aa:{get:function(){return this.pw},set:function(t){this.pw=t}},xs:{get:function(){return this.uy}},skipsModelSourceBindings:{get:function(){return this.Gw},set:function(t){this.Gw=t}},Ks:{get:function(){return this.nu},set:function(t){this.nu=t}},nodeTemplate:{get:function(){return this.Kg.I("")},set:function(t){var e=this.Kg.I("");e!==t&&(this.Kg.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Ud())}},nodeTemplateMap:{get:function(){return this.Kg},set:function(t){var e=this.Kg;e!==t&&(this.Kg=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Ud())}},groupTemplate:{get:function(){return this.Yi.I("")},set:function(t){var e=this.Yi.I("");e!==t&&(this.Yi.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Ud())}},groupTemplateMap:{get:function(){return this.Yi},set:function(t){var e=this.Yi;e!==t&&(this.Yi=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Ud())}},linkTemplate:{get:function(){return this.Kh.I("")},set:function(t){var e=this.Kh.I("");e!==t&&(this.Kh.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Ud())}},linkTemplateMap:{get:function(){return this.Kh},set:function(t){var e=this.Kh;e!==t&&(this.Kh=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Ud())}},isMouseCaptured:{get:function(){return this.ow},set:function(t){var e=this.xa;null!==e&&((e=e.La)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.removeEventListener(e,"pointermove",this.ck,!1),this.removeEventListener(e,"pointerdown",this.ui,!1),this.removeEventListener(e,"pointerup",this.ek,!1),this.removeEventListener(e,"pointerout",this.dk,!1),this.removeEventListener(e,"pointercancel",this.bk,!1),this.addEventListener(m,"pointermove",this.ck,!0),this.addEventListener(m,"pointerdown",this.ui,!0),this.addEventListener(m,"pointerup",this.ek,!0),this.addEventListener(m,"pointerout",this.dk,!0),this.addEventListener(m,"pointercancel",this.bk,!0),this.removeEventListener(e,"wheel",this.Zj,!1),this.addEventListener(m,"wheel",this.Zj,!0),this.addEventListener(m,"selectstart",this.preventDefault,!1)):(this.removeEventListener(m,"pointermove",this.ck,!0),this.removeEventListener(m,"pointerdown",this.ui,!0),this.removeEventListener(m,"pointerup",this.ek,!0),this.removeEventListener(m,"pointerout",this.dk,!0),this.removeEventListener(m,"pointercancel",this.bk,!0),this.addEventListener(e,"pointermove",this.ck,!1),this.addEventListener(e,"pointerdown",this.ui,!1),this.addEventListener(e,"pointerup",this.ek,!1),this.addEventListener(e,"pointerout",this.dk,!1),this.addEventListener(e,"pointercancel",this.bk,!1),this.removeEventListener(m,"wheel",this.Zj,!0),this.removeEventListener(m,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.Zj,!1)),this.ow=t))}},position:{get:function(){return this.pa},set:function(t){var e=pt.alloc().assign(this.pa);if(!e.C(t)){var i=this.viewportBounds.copy();this.pa.assign(t),Qn(this.animationManager,e,this.pa),this.vb||null===this.xa&&!this.wo.w()?ko(this):(this.vb=!0,t=this.scale,Vr(this,this.Qp,this.Ca/t,this.Ba/t,this.xk,!1),this.vb=!1),this.vb||this.onViewportBoundsChanged(i,this.viewportBounds,this.Aa,!1)}pt.free(e)}},initialPosition:{get:function(){return this.wt},set:function(t){this.wt.C(t)||(this.wt=t.J())}},initialScale:{get:function(){return this.xt},set:function(t){this.xt!==t&&(this.xt=t)}},grid:{get:function(){return null===this.de&&(this.de=Rr(this)),this.de},set:function(t){var e=this.de;if(e!==t){null===e&&(e=this.de=Rr(this)),t.type!==Ml.Grid&&w("Diagram.grid must be a Panel of type Panel.Grid");var i=e.panel;null!==i&&i.remove(e),this.de=t,t.name="GRID",null!==i&&i.add(t),vo(this),this.N(),this.g("grid",e,t)}}},viewportBounds:{get:function(){return this.Pw}},viewSize:{get:function(){return this.wo},set:function(t){var e=this.viewSize;e.C(t)||(this.wo=t=t.J(),this.Ba=this.Ca=0,t.w()?(this.Ca=t.width,this.Ba=t.height):null!==this.Ka&&(this.Ca=this.Ka.clientWidth||1,this.Ba=this.Ka.clientHeight||1),ko(this),this.Ya(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.rt},set:function(t){var e=this.rt;e.C(t)||(-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||w("fixedBounds width/height must not be Infinity"),this.rt=t=t.J(),this.Ya(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.rj},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.rj;e.C(t)||(this.rj=t=t.J(),this.g("scrollMargin",e,t),this.$l())}},scrollMode:{get:function(){return this.sj},set:function(t){var e=this.sj;e!==t&&(this.sj=t,t===Qo&&zr(this,!1),this.g("scrollMode",e,t),this.De=!0,this.N())}},scrollsPageOnFocus:{get:function(){return this.mu},set:function(t){var e=this.mu;e!==t&&(this.mu=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Yt},set:function(t){var e=this.Yt;e!==t&&(this.Yt=t,zr(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.eu},set:function(t){var e=this.eu;e!==t&&(this.eu=t,mo(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.Qp}},isVirtualized:{get:function(){return this.Ft},set:function(t){var e=this.Ft;e!==t&&(this.Ft=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&mo(this,e,t)}},defaultScale:{get:function(){return this.Np},set:function(t){this.Np=t}},autoScale:{get:function(){return this.xh},set:function(t){var e=this.xh;e!==t&&(this.xh=t,this.g("autoScale",e,t),t!==Wo&&zr(this,!1))}},initialAutoScale:{get:function(){return this.Eg},set:function(t){var e=this.Eg;e!==t&&(this.Eg=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.yt},set:function(t){var e=this.yt;e!==t&&(t.sb()||w("initialViewportSpot must be a specific Spot: "+t),this.yt=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.vt},set:function(t){var e=this.vt;e!==t&&(t.sb()||w("initialViewportSpot must be a specific Spot: "+t),this.vt=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.Nt},set:function(t){var e=this.Nt;e!==t&&(0<t?(this.Nt=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):_(t,"> 0",Pr,"minScale"))}},maxScale:{get:function(){return this.Jt},set:function(t){var e=this.Jt;e!==t&&(0<t?(this.Jt=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):_(t,"> 0",Pr,"maxScale"))}},zoomPoint:{get:function(){return this.yu},set:function(t){this.yu.C(t)||(this.yu=t=t.J())}},contentAlignment:{get:function(){return this.xk},set:function(t){var e=this.xk;e.C(t)||(this.xk=t=t.J(),this.g("contentAlignment",e,t),zr(this,!1))}},initialContentAlignment:{get:function(){return this.mq},set:function(t){var e=this.mq;e.C(t)||(this.mq=t=t.J(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.yb},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.yb;e.C(t)||(this.yb=t=t.J(),this.Ya(),this.g("padding",e,t))}},partManager:{get:function(){return this.Oc},set:function(t){var e=this.Oc;e!==t&&(null!==t.diagram&&w("Cannot share PartManagers between Diagrams: "+t.toString()),e&&e.We(null),this.Oc=t,t.We(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.Qc},set:function(t){var e=this.Qc;e!==t&&(this.Qc=t,t.diagram=this,t.group=null,this.wh=!0,this.g("layout",e,t),this.Zb())}},isTreePathToChildren:{get:function(){return this.Et},set:function(t){var e=this.Et;if(e!==t&&(this.Et=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)nc(t.value)}},treeCollapsePolicy:{get:function(){return this.tu},set:function(t){var e=this.tu;e!==t&&(t!==ta&&t!==ea&&t!==ia&&w("Unknown Diagram.treeCollapsePolicy: "+t),this.tu=t,this.g("treeCollapsePolicy",e,t))}},Te:{get:function(){return this.nw},set:function(t){this.nw=t}},avoidanceCellSize:{get:function(){return this.Zv},set:function(t){this.Xh=null,this.Zv=new Nt(Math.max(1,t.width),Math.max(1,t.height))}},avoidanceLimit:{get:function(){return this.$v},set:function(t){this.$v=Math.max(1,t)}},autoScrollInterval:{get:function(){return this.sp},set:function(t){var e=this.sp;e!==t&&(this.sp=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.vp},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.vp;e.C(t)||(this.vp=t=t.J(),this.Ya(),this.g("autoScrollRegion",e,t))}}}),d.Object.defineProperties(Pr,{licenseKey:{get:function(){return na.ic()},set:function(t){na.add(t.replace(/\s/g,""))}},version:{get:function(){return ra}}}),Pr.prototype.makeImageData=Pr.prototype.Kx,Pr.prototype.makeImage=Pr.prototype.Wz,Pr.prototype.cacheGroupExternalLinks=Pr.prototype.Du,Pr.prototype.addRenderer=Pr.prototype.Yr,Pr.prototype.makeSVG=Pr.prototype.av,Pr.prototype.makeSvg=Pr.prototype.zs,Pr.prototype.stopAutoScroll=Pr.prototype.tg,Pr.prototype.doAutoScroll=Pr.prototype.ds,Pr.prototype.isUnoccupied=Pr.prototype.Xj,Pr.prototype.raiseDiagramEvent=Pr.prototype.R,Pr.prototype.removeDiagramListener=Pr.prototype.am,Pr.prototype.addDiagramListener=Pr.prototype.Bj,Pr.prototype.findTreeRoots=Pr.prototype.zz,Pr.prototype.layoutDiagram=Pr.prototype.Uz,Pr.prototype.findTopLevelGroups=Pr.prototype.rz,Pr.prototype.findTopLevelNodesAndLinks=Pr.prototype.sz,Pr.prototype.ensureBounds=Pr.prototype.Va,Pr.prototype.findLinksByExample=Pr.prototype.hs,Pr.prototype.findNodesByExample=Pr.prototype.js,Pr.prototype.findLinkForData=Pr.prototype.Jc,Pr.prototype.findNodeForData=Pr.prototype.ii,Pr.prototype.findPartForData=Pr.prototype.Kc,Pr.prototype.findLinkForKey=Pr.prototype.findLinkForKey,Pr.prototype.findNodeForKey=Pr.prototype.Ub,Pr.prototype.findPartForKey=Pr.prototype.findPartForKey,Pr.prototype.rebuildParts=Pr.prototype.Ud,Pr.prototype.transformViewToDoc=Pr.prototype.Ms,Pr.prototype.transformRectDocToView=Pr.prototype.yA,Pr.prototype.transformDocToView=Pr.prototype.mp,Pr.prototype.centerRect=Pr.prototype.bs,Pr.prototype.scrollToRect=Pr.prototype.tv,Pr.prototype.scroll=Pr.prototype.scroll,Pr.prototype.highlightCollection=Pr.prototype.Kz,Pr.prototype.highlight=Pr.prototype.Jz,Pr.prototype.selectCollection=Pr.prototype.qA,Pr.prototype.select=Pr.prototype.select,Pr.prototype.updateAllRelationshipsFromData=Pr.prototype.pp,Pr.prototype.updateAllTargetBindings=Pr.prototype.updateAllTargetBindings,Pr.prototype.commit=Pr.prototype.commit,Pr.prototype.rollbackTransaction=Pr.prototype.Kf,Pr.prototype.commitTransaction=Pr.prototype.eb,Pr.prototype.startTransaction=Pr.prototype.Ea,Pr.prototype.raiseChanged=Pr.prototype.g,Pr.prototype.raiseChangedEvent=Pr.prototype.cb,Pr.prototype.removeChangedListener=Pr.prototype.gk,Pr.prototype.addChangedListener=Pr.prototype.Oe,Pr.prototype.removeModelChangedListener=Pr.prototype.lA,Pr.prototype.addModelChangedListener=Pr.prototype.Ww,Pr.prototype.findLayer=Pr.prototype.Qj,Pr.prototype.removeLayer=Pr.prototype.jA,Pr.prototype.addLayerAfter=Pr.prototype.Ey,Pr.prototype.addLayerBefore=Pr.prototype.Uw,Pr.prototype.addLayer=Pr.prototype.yl,Pr.prototype.moveParts=Pr.prototype.moveParts,Pr.prototype.copyParts=Pr.prototype.Kj,Pr.prototype.removeParts=Pr.prototype.Fs,Pr.prototype.remove=Pr.prototype.remove,Pr.prototype.add=Pr.prototype.add,Pr.prototype.clearDelayedGeometries=Pr.prototype.bx,Pr.prototype.setProperties=Pr.prototype.nm,Pr.prototype.attach=Pr.prototype.Cu,Pr.prototype.set=Pr.prototype.set,Pr.prototype.resetInputOptions=Pr.prototype.Ux,Pr.prototype.setInputOption=Pr.prototype.rA,Pr.prototype.getInputOption=Pr.prototype.Ol,Pr.prototype.resetRenderingHints=Pr.prototype.Vx,Pr.prototype.setRenderingHint=Pr.prototype.Zx,Pr.prototype.getRenderingHint=Pr.prototype.Gf,Pr.prototype.maybeUpdate=Pr.prototype.Yc,Pr.prototype.requestUpdate=Pr.prototype.Zb,Pr.prototype.delayInitialization=Pr.prototype.Yy,Pr.prototype.isUpdateRequested=Pr.prototype.Pz,Pr.prototype.invalidateDocumentBounds=Pr.prototype.Ya,Pr.prototype.findObjectsNear=Pr.prototype.ng,Pr.prototype.findPartsNear=Pr.prototype.nz,Pr.prototype.findObjectsIn=Pr.prototype.Cf,Pr.prototype.findPartsIn=Pr.prototype.ux,Pr.prototype.findObjectsAt=Pr.prototype.ji,Pr.prototype.findPartsAt=Pr.prototype.mz,Pr.prototype.findObjectAt=Pr.prototype.hc,Pr.prototype.findPartAt=Pr.prototype.Ml,Pr.prototype.focusObject=Pr.prototype.Az,Pr.prototype.alignDocument=Pr.prototype.Ly,Pr.prototype.zoomToRect=Pr.prototype.AA,Pr.prototype.zoomToFit=Pr.prototype.zoomToFit,Pr.prototype.diagramScroll=Pr.prototype.kx,Pr.prototype.focus=Pr.prototype.focus;var Bo=new ft,Fo=null,zo=void 0!==m.document,Ho=null,Vo="",Wo=new z(Pr,"None",0),Uo=new z(Pr,"Uniform",1),Go=new z(Pr,"UniformToFill",2),Ko=new z(Pr,"CycleAll",10),Yo=new z(Pr,"CycleNotDirected",11),Xo=new z(Pr,"CycleNotDirectedFast",12),qo=new z(Pr,"CycleNotUndirected",13),Zo=new z(Pr,"CycleDestinationTree",14),Jo=new z(Pr,"CycleSourceTree",15),Qo=new z(Pr,"DocumentScroll",1),$o=new z(Pr,"InfiniteScroll",2),ta=new z(Pr,"TreeParentCollapsed",21),ea=new z(Pr,"AllParentsCollapsed",22),ia=new z(Pr,"AnyParentsCollapsed",23),na=new Z,ra="2.3.7",oa="image",aa=null,sa=!1;function la(){this.yy=null,this.j="zz@orderNum","63ad05bbe23a1786468a4c741b6d2"===this._tk?this.rd=this.j=!0:this.rd=null}function ua(t,e){if(e.ib.setTransform(e.Sb,0,0,e.Sb,0,0),e.ib.xc(),null===t.rd)t:{e="f";var i=m[R("76a715b2f73f148a")][R("72ba13b5")];if(t.rd=!0,zo){var n=Pr[R("76a115b6ed251eaf4692")];if(n)for(var r=na.iterator;r.next()&&!(6>(n=R(n=r.value).split(R("39e9"))).length);){var o=R(n[1]).split(".");if("7da71ca0"!==n[4])break;var a=R(v[R("6cae19")]).split(".");if(o[0]>a[0]||o[0]===a[0]&&o[1]>=a[1]){var s=m[R("74a900bae4370f8b51")][R("6fbb13a1c2311e8a57")].toLowerCase();if(a=s[R("73a612b6fb191d")](R("3aad1ab6e022098b4dc4")),o=R(n[2]),-1<a&&(s=s[R("73a612b6fb191d")](o.toLowerCase()+"/"),t.rd=!(-1<s&&s<a),!t.rd))break;for(a=i[R("76ad18b4f73e")],s=i[R("73a612b6fb191d")](R("35e7"))+2;s<a;s++)e+=i[s];if(0>(a=e[R("73a612b6fb191d")](o))&&o!==R("7da71ca0ad381e90")&&(a=e[R("73a612b6fb191d")](R("76a715b2ef3e149757"))),0>a&&(a=e[R("73a612b6fb191d")](R("76a715b2ef3e149757"))),0>a&&(a=e[R("73a612b6fb191d")](R("2bfa41fdb3784bca12"))),0>a&&(a=i[R("73a612b6fb191d")](R("7baa19a6f76c1988428554"))),t.rd=!(0<=a&&a<e[R("73a612b6fb191d")](R("35"))||-1===e[R("73a612b6fb191d")](R("35"))),!t.rd)break;if(i[R("73a612b6fb191d")](R("7fb002b6ed25128b4da25b2e"))&&i[R("73a612b6fb191d")](R("75ba1beee63a1e875799507d"))&&(t.rd=!(-1<i[R("73a612b6fb191d")](o)),!t.rd))break;if("#"===o[0]){a=m.document.createElement("div");for(var l=n[0].replace(/[A-Za-z]/g,"");4>l.length;)l+="9";if(s=l,l=l.substr(l.length-4),n="",n+=["gsh","gsf"][parseInt(l.substr(0,1),10)%2],n+=["Header","Background","Display","Feedback"][parseInt(l.substr(0,1),10)%4],a[R("79a417a0f0181a8946")]=n,m.document[R("78a712aa")]){m.document[R("78a712aa")][R("7bb806b6ed32388c4a875b")](a),l=m.getComputedStyle(a).getPropertyValue(R("78a704b7e62456904c9b12701b6532a8"));var u=m.getComputedStyle(a).getPropertyValue(R("75b817b0ea2202"));if(m.document[R("78a712aa")][R("68ad1bbcf533388c4a875b")](a),l){if(a=m[R("77a902b0eb1b1e804a8a")],u==="0."+parseInt(s,10)%100||-1!==l.indexOf(parseInt(o[1]+o[2],16))&&-1!==l.indexOf(parseInt(o[3]+o[4],16))){t.rd=!1;break}if(a&&a(R("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches)for(n="."+n,o=0;o<document.styleSheets.length;o++)for(var h in a=document.styleSheets[o].rules||document.styleSheets[o].cssRules)if(n===a[h].selectorText){t.rd=!1;break t}}}else t.rd=null,t.rd=!1}}}else{for(h=i[R("76ad18b4f73e")],r=i[R("73a612b6fb191d")](R("35e7"))+2;r<h;r++)e+=i[r];i=e[R("73a612b6fb191d")](R("7da71ca0ad381e90")),t.rd=!(0<=i&&i<e[R("73a612b6fb191d")](R("35")))}}}return 0<t.rd&&t!==t.yy}function ha(t){this.j=void 0===t?new pt:t,this.o=new pt}Pr.className="Diagram",Pr.fromDiv=function(t){var e=t;return"string"===typeof t&&(e=m.document.getElementById(t)),e instanceof HTMLDivElement&&e.H instanceof Pr?e.H:null},Pr.inherit=function(t,e){function i(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},Pr.useDOM=function(t){zo=!!t&&void 0!==m.document},Pr.isUsingDOM=function(){return zo},Pr.None=Wo,Pr.Uniform=Uo,Pr.UniformToFill=Go,Pr.CycleAll=Ko,Pr.CycleNotDirected=Yo,Pr.CycleNotDirectedFast=Xo,Pr.CycleNotUndirected=qo,Pr.CycleDestinationTree=Zo,Pr.CycleSourceTree=Jo,Pr.DocumentScroll=Qo,Pr.InfiniteScroll=$o,Pr.TreeParentCollapsed=ta,Pr.AllParentsCollapsed=ea,Pr.AnyParentsCollapsed=ia,la.className="DiagramHelper",d.Object.defineProperties(ha.prototype,{point:{get:function(){return this.j},set:function(t){this.j=t}},shifted:{get:function(){return this.o},set:function(t){this.o=t}}});var ca,da,fa,pa,ga,ma,va,ya,ba,xa,wa="DraggingInfo";function ka(t,e,i){this.node=t,this.info=e,this.Su=i}function _a(){this.reset()}function Sa(t,e){if("string"===typeof t||m.Element&&t instanceof Element)var i=Pr.call(this,t)||this;else i=Pr.call(this)||this,e=t;return Ca(i),e&&i.nm(e),i}function Ca(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=$t,t.layout=new Hd}function Ma(t,e){if("string"===typeof t||m.Element&&t instanceof Element)var i=Pr.call(this,t)||this;else i=Pr.call(this)||this,e=t;var n=i;i.animationManager.isEnabled=!1,i.vb=!0,i.V=null,i.mn=!1,i.nn=!1,i.F=!0,i.u=!0,i.ga=0,i.o=!1,i.ol=null,i.Zx("drawShadows",!1),t=new wh;var r=new fu;return r.stroke="magenta",r.strokeWidth=2,r.fill="transparent",r.name="BOXSHAPE",t.selectable=!0,t.selectionAdorned=!1,t.selectionObjectName="BOXSHAPE",t.locationObjectName="BOXSHAPE",t.resizeObjectName="BOXSHAPE",t.cursor="move",t.add(r),i.j=t,i.allowCopy=!1,i.allowDelete=!1,i.allowSelect=!0,i.autoScrollRegion=new Xt(0,0,0,0),i.pa.h(0,0),i.toolManager.gb("Dragging",new Da,i.toolManager.mouseMoveTools),i.click=function(){var t=n.observed;if(null!==t){var e=t.viewportBounds,i=n.lastInput.documentPoint;t.position=new pt(i.x-e.width/2,i.y-e.height/2)}},i.Pf=function(){n.Ya(),Ta(n)},i.Vd=function(){null!==n.observed&&(n.Ya(),n.N())},i.Ha=function(){1>n.updateDelay?n.N():n.o||(n.o=!0,setTimeout((function(){return n.redraw()}),n.updateDelay))},i.Of=function(){null!==n.observed&&Ta(n)},i.autoScale=Uo,i.vb=!1,e&&Object.assign(i,e),i}function Pa(t){var e=t.observed;if(null!==e){var i=t.drawsTemporaryLayers,n=t.drawsGrid&&i,r=e.grid;n&&null!==r&&r.visible&&!isNaN(r.width)&&!isNaN(r.height)&&(vo(e,r=Ot.alloc().assign(t.viewportBounds).ad(e.viewportBounds)),Ot.free(r),Qr(e));var o=t.Ab;o.reset(),1!==t.scale&&o.scale(t.scale),0===t.position.x&&0===t.position.y||o.translate(-t.position.x,-t.position.y),(r=t.ib).scale(t.Sb,t.Sb),r.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),r.xc(),o=(e=e.Wa.s).length;for(var a=0;a<o;a++){var s=e[a],l=t;if(s.visible&&0!==s.opacity){var u=s.diagram.grid.part;if(!i&&s.isTemporary)n&&u.layer===s&&(s=Sr(s,r),u.fc(r,l),r.globalAlpha=s);else{for(var h=Sr(s,r),c=l.scale,d=Ot.alloc(),f=s.Pa.s,p=f.length,g=0;g<p;g++){var m=f[g];(n||m!==u)&&s.Oj(r,m,l,null,c,d,!1)}Ot.free(d),r.globalAlpha=h}}}}}function Ta(t){var e=t.box;if(null!==e){var i=t.observed;if(null!==i){t.Ec=!0,i=i.viewportBounds;var n=e.selectionObject,r=Nt.alloc();r.h(i.width,i.height),n.desiredSize=r,Nt.free(r),t=2/t.scale,n instanceof fu&&(n.strokeWidth=t),e.location=new pt(i.x-t/2,i.y-t/2),e.isSelected=!0}}}function Da(){Ti.call(this),this.j=null}function Na(){$(this),this.H=br,this.Ha=this.u=this.o=!0,this.F=this.V=this.nb=this.ga=!1,this.ij=this.j=null,this.Ib=1.05,this.Gt=NaN,this.qw=null,this.zu=NaN,this.xu=Gt,this.hb=!0,this.bg=null,this.ob=200}function Ia(t,e,i){if(e.isVisible())return i;if(e instanceof Kh)Ia(t,e.adornedPart,i);else if(e instanceof xc){var n=e.fromNode;null!==n&&Ia(t,n,i),null!==(e=e.toNode)&&Ia(t,e,i)}else e instanceof Xh&&(null!==(n=e.labeledLink)&&Ia(t,n,i),null!==(n=e.og())&&(n.isTreeExpanded||n.wasTreeExpanded||i.push(n),Ia(t,n,i))),null!==(e=e.containingGroup)&&(e.isSubGraphExpanded||e.wasSubGraphExpanded||i.push(e),Ia(t,e,i));return i}function Ea(t){var e=N();for(t=t.iterator;t.next();){var i=t.value;i instanceof xc||e.push(i)}t=new Q,i=e.length;for(var n=0;n<i;n++){for(var r=e[n],o=!0,a=0;a<i;a++)if(r.Qd(e[a])){o=!1;break}o&&t.add(r)}return I(e),t}function Aa(){$(this),this.m=30723,this.pb=1,this.bn="",this.Oa=this.Le=null,this.pa=new pt(NaN,NaN).freeze(),this.dd=Tt,this.Ab=new He,this.vh=new He,this.Mb=null,this.Aa=this.Ik=1,this.Lb=0,this.Jg=Ae,this.tc=new Ot(NaN,NaN,NaN,NaN).freeze(),this.Jb=new Ot(NaN,NaN,NaN,NaN).freeze(),this.dc=new Ot(0,0,NaN,NaN).freeze(),this.ba=this.Yn=this.Zn=null,this.qk=this.Kb=ke,this.zg=this.io=0,this.V=this.tb=this.Ch=this.A=this.Ua=null,this.rf=!1,this.jo=this.Mg=null}function Oa(t){null===t.A?t.A=new fs:t.A.mc&&(t.A=t.A.copy())}function La(t,e,i){var n=t.hh();if(null!==n)for(var r=t.localBindings.iterator;r.next();){var o=r.value,a=null;if(null!==o.sourceName){if(null===(a=Vf(o,n,t)))continue;o.qp(t,a,i,null)}else if(o.isToModel){var s=e.diagram;null===s||s.skipsModelSourceBindings||o.qp(t,s.model.modelData,i,n)}else{if(null===(s=n.data))continue;var l=e.diagram;null===l||l.skipsModelSourceBindings||o.qp(t,s,i,n)}a===t&&(null!==(s=n.gs(o.Ai))&&o.Kv(s,a,i))}}function Ra(t,e,i,n){return!1!==t.pickable&&(n.multiply(t.transform),i?t.Vc(e,n):t.eh(e,n))}function ja(t,e,i,n,r){if(t.Jb.h(e,i,n,r),!t.desiredSize.w()){var o=t.tc;e=(i=t.Jg).right+i.left;var a=i.top+i.bottom;switch(i=o.width+e,o=o.height+a,n+=e,r+=a,e=Xa(t,!0),i===n&&o===r&&(e=da),e){case da:(i>n||o>r)&&(ns(t,!0),t.measure(i>n?n:i,o>r?r:o,0,0));break;case ca:ns(t,!0),t.measure(n,r,0,0);break;case pa:ns(t,!0),t.measure(n,o,0,0);break;case ga:ns(t,!0),t.measure(i,r,0,0)}}}function Ba(t,e,i,n){var r=t.part,o=!1;return r&&e.Gf("drawShadows")&&(o=r.isShadowed),i.clipInsteadOfFill&&(o=!1),t.ne()&&o&&Ds(i),o&&!0===t.shadowVisible?Ds(i):o&&!1===t.shadowVisible&&Ts(i),r=t.panel,o&&(null!==r&&0!==(512&r.m)||null!==r&&(r.type===Ml.Auto||r.type===Ml.Spot)&&r.rb()!==t)&&null===t.shadowVisible&&Ts(i),i.Gl&&(e=e.computePixelRatio(),e="drop-shadow("+i.shadowOffsetX/e+"px "+i.shadowOffsetY/e+"px "+i.shadowBlur/e/2+"px "+i.shadowColor+")",null!==t.background&&n.Oa.setAttributeNS(null,"filter",e),null!==t.areaBackground&&n.pd.setAttributeNS(null,"filter",e)),o&&(null!==t.Oa||null!==t.areaBackground||null!==r&&0!==(512&r.m)||null!==r&&(r.type===Ml.Auto||r.type===Ml.Spot)&&r.rb()!==t)?(Ja(t,!0),null===t.shadowVisible&&Ts(i)):Ja(t,!1),o}function Fa(t,e,i,n,r){n.Gl&&(i=i.computePixelRatio(),t.Bv(e,"drop-shadow("+n.shadowOffsetX/i+"px "+n.shadowOffsetY/i+"px "+n.shadowBlur/i/2+"px "+n.shadowColor+")")),r&&0!==(512&t.m)===!0&&Ds(n),t.ne()&&Ts(n)}function za(t,e,i,n){Ga(t,e,t.areaBackground,!0,!0,i,n),t.areaBackground instanceof Ls&&t.areaBackground.type===Js?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.mg(t.areaBackground)):e.fillRect(n.x,n.y,n.width,n.height)}function Ha(t,e,i,n){var r=t.hq(),o=i.x,a=i.y,s=i.width+r,l=i.height+r;Ga(t,e,t.Oa,!0,!1,i,n),t.Oa instanceof Ls&&t.Oa.type===Js?(e.beginPath(),e.rect(o-r/2,a-r/2,s,l),e.mg(t.Oa)):e.fillRect(o-r/2,a-r/2,s,l)}function Va(t,e,i){for(var n=e.O.s,r=n.length,o=-1,a=0;a<r;a++)if(n[a]===t){o=a;break}if(-1!==(t=o))if(0===t)e.svg.pd?e.svg.pd.after(i):e.svg.Oa?e.svg.Oa.after(i):e.type===Ml.Table?null!==(e=0!==(e=e.svg.getElementsByClassName("gojs-ts")).length?e[0]:null)&&(e.innerHTML="",e.after(i)):e.svg.prepend(i);else{for(;0!==t&&!e.L(t-1).Rd();)t--;0===t?e.svg.prepend(i):null!==(t=e.L(t-1).svg)?t.after(i):e.svg.appendChild(i)}}function Wa(t,e){null!==(e=e.getAttribute("clip-path"))&&(null!==(t=t.svg.getElementById(e.split("#")[1].slice(0,-1)))&&t.remove())}function Ua(t){if(null!==t.svg){var e=t.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),i=t.svg.ownerDocument;if(null!==e)for(var n=(e=r(e)).next();!n.done;n=e.next())null!==(n=i.getElementById(n.value.split("#")[1].slice(0,-1)))&&n.remove();t.svg.remove()}}function Ga(t,e,i,n,r,o,a){if(null!==i){var s=1,l=1;if("string"===typeof i)n?e.fillStyle=i:e.strokeStyle=i;else if(i.type===qs)n?e.fillStyle=i.color:e.strokeStyle=i.color;else{var u=t.hq();if(s=o.width,l=o.height,r?(s=a.width,l=a.height):n||(s+=u,l+=u),(o=e instanceof Es)&&i.we&&(i.type===Qs||i.wk===s&&i.bt===l))var h=i.we;else{var c=0,d=0,f=0,p=0,g=0,m=0;if(m=g=0,r?(g=a.x,m=a.y):n||(g-=u/2,m-=u/2),c=i.start.x*s+i.start.offsetX,d=i.start.y*l+i.start.offsetY,f=i.end.x*s+i.end.offsetX,p=i.end.y*l+i.end.offsetY,c+=g,f+=g,d+=m,p+=m,i.type===Zs)h=e.createLinearGradient(c,d,f,p);else if(i.type===Js)m=isNaN(i.endRadius)?Math.max(s,l)/2:i.endRadius,isNaN(i.startRadius)?(g=0,m=Math.max(s,l)/2):g=i.startRadius,h=e.createRadialGradient(c,d,g,f,p,m);else if(i.type===Qs)try{h=e.createPattern(i.pattern,"repeat")}catch(y){h=null}if(i.type!==Qs&&null!==(r=i.colorStops))for(r=r.iterator;r.next();)h.addColorStop(r.key,r.value);if(o&&(i.we=h,null!==h&&(i.wk=s,i.bt=l),null===h&&i.type===Qs&&-1!==i.wk)){i.wk=-1;var v=t.diagram;null!==v&&-1===i.wk&&b((function(){v.redraw()}),600)}}n?e.fillStyle=h:e.strokeStyle=h}}}function Ka(t){if(0!==(2048&t.m)===!0){var e=t.Ab;if(e.reset(),!t.Jb.w()||!t.tc.w())return void ts(t,!1);if(e.translate(t.Jb.x-t.tc.x,t.Jb.y-t.tc.y),1!==t.scale||0!==t.angle){var i=t.naturalBounds;t.no(e,i.x,i.y,i.width,i.height)}ts(t,!1),es(t,!0)}0!==(4096&t.m)===!0&&(null===(e=t.panel)?(t.vh.set(t.Ab),t.Ik=t.scale,es(t,!1)):null!==e.me&&((i=t.vh).reset(),e.re()?i.multiply(e.vh):null!==e.panel&&i.multiply(e.panel.vh),i.multiply(t.Ab),t.Ik=t.scale*e.Ik,es(t,!1)))}function Ya(t){if(!rs(t)){var e=t.panel;null!==e?e.v():t.ne()&&(null!==(e=t.diagram)&&(e.Ce.add(t),t instanceof Xh&&t.zd(),e.Zb())),os(t,!0)}}function Xa(t,e){var i=t.stretch,n=t.panel;return null!==n&&n.type===Ml.Table?qa(t,n.Gb(t.row),n.Fb(t.column),e):null!==n&&n.type===Ml.Auto&&n.rb()===t?Za(t,ca,e):i===ma?null!==n?n.type===Ml.Spot&&n.rb()===t?Za(t,ca,e):Za(t,(i=n.defaultStretch)===ma?da:i,e):Za(t,da,e):Za(t,i,e)}function qa(t,e,i,n){var r=t.stretch;if(r!==ma)return Za(t,r,n);var o=r=null;switch(e.stretch){case ga:case ca:o=!0}switch(i.stretch){case pa:case ca:r=!0}return e=t.panel.defaultStretch,null===r&&(r=e===pa||e===ca),null===o&&(o=e===ga||e===ca),Za(t,!0===r&&!0===o?ca:!0===r?pa:!0===o?ga:da,n)}function Za(t,e,i){if(i)return e;if(e===da)return da;if((i=t.desiredSize).w())return da;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===pa)return da;if(e===ca)return ga}else{if(e===ga)return da;if(e===ca)return pa}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===ga)return da;if(e===ca)return pa}else{if(e===pa)return da;if(e===ca)return ga}return e}function Ja(t,e){t.m=e?512|t.m:-513&t.m}function Qa(t){return 0!==(1024&t.m)}function $a(t,e){t.m=e?1024|t.m:-1025&t.m}function ts(t,e){t.m=e?2048|t.m:-2049&t.m}function es(t,e){t.m=e?4096|t.m:-4097&t.m}function is(t){return 0!==(8192&t.m)}function ns(t,e){t.m=e?8192|t.m:-8193&t.m}function rs(t){return 0!==(16384&t.m)}function os(t,e){t.m=e?16384|t.m:-16385&t.m}function as(t){var e=t.part;if(e instanceof Xh&&(null!==t.portId||t===e.port)){var i=e.diagram;null===i||i.undoManager.isUndoingRedoing||Qh(e,t)}}function ss(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof Ml?t instanceof Xh?t.zd():t.qm(t,(function(t){as(t)})):as(t))}function ls(t,e){for(var i=1;i<arguments.length;++i);i=arguments;var n=null,r=null;if("function"===typeof t)r=t;else if("string"===typeof t){var o=ds.I(t);"function"===typeof o?C(n=o(i=P(arguments)))||w('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):r=m.go[t]}if(null===n&&(void 0!==r&&null!==r&&r.constructor||w("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),n=new r),r=1,n instanceof Pr&&1<i.length){o=n;var a=i[1];("string"===typeof a||a instanceof HTMLDivElement)&&(Ir(o,a),r++)}for(;r<i.length;r++)void 0===(o=i[r])?w("Undefined value at argument "+r+" for object being constructed by GraphObject.make: "+n):us(n,o);return n}function us(t,e){if("string"===typeof e)if(t instanceof Cu)t.text=e;else if(t instanceof fu)t.figure=e;else if(t instanceof nh)t.source=e;else if(t instanceof Ml)null!==(e=ru.I(e))&&(t.type=e);else if(t instanceof Ls){var i=H(Ls,e);null!==i?t.type=i:w("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof Ue?null!==(e=H(Ue,e))&&(t.type=e):t instanceof $e&&(null!==(e=H($e,e))&&(t.type=e));else if(e instanceof Aa)t instanceof Ml||w("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof su){var n;e.isRow&&"function"===typeof t.getRowDefinition?n=t.getRowDefinition(e.index):e.isRow||"function"!==typeof t.getColumnDefinition||(n=t.getColumnDefinition(e.index)),n instanceof su?lu(n,e):w("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof z)"function"===typeof t.qb&&t.qb(e);else if(e instanceof hl)t.type=e;else if(e instanceof Hf)t instanceof Aa||t instanceof su?t.bind(e):w("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof vr)t instanceof Aa?t.Hv(e):w("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof Qe)t instanceof Ue&&t.type===Ue.o?t.figures.add(e):w("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(e instanceof $e)t instanceof Qe?t.segments.add(e):w("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Nd)t instanceof Pr||t instanceof pc?t.layout=e:w("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(i=0;i<e.length;i++)us(t,e[i]);else if("object"===typeof e&&null!==e)if(t instanceof Ls){for(var r in i=new W,e)n=parseFloat(r),isNaN(n)?i[r]=e[r]:t.addColorStop(n,e[r]);io(t,i)}else if(t instanceof su){for(i in void 0!==e.row?((void 0===(r=e.row)||null===r||1/0===r||isNaN(r)||0>r)&&w("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+r),t.isRow=!0,t.index=r):void 0!==e.column&&((void 0===(r=e.column)||null===r||1/0===r||isNaN(r)||0>r)&&w("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+r),t.isRow=!1,t.index=r),r=new W,e)"row"!==i&&"column"!==i&&(r[i]=e[i]);io(t,r)}else io(t,e);else w('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function hs(t,e){ds.add(t,e)}function cs(t,e,i){void 0===i&&(i=null);var n=t[1];if("function"===typeof i?i(n):"string"===typeof n)return t.splice(1,1),n;if(void 0===e)throw Error("no "+("function"===typeof i?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}ha.className="DraggingInfo",ka.className="DraggingNodeInfoPair",_a.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Nt(NaN,NaN).freeze(),this.gridSnapCellSpot=Qt,this.gridSnapOrigin=new pt(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},_a.className="DraggingOptions",c(Sa,Pr),Sa.prototype.reset=function(){Pr.prototype.reset.call(this),Ca(this)},Sa.className="Palette",c(Ma,Pr),Ma.prototype.computePixelRatio=function(){return 1},Ma.prototype.redraw=function(){if(this.o&&1<=this.updateDelay){this.o=!1;var t=this.xa,e=this.ib;if(null!==t&&null!==e){if(no(this),null===this.ol){var i=new Is(null);i.width=t.width,i.height=t.height,this.ol=i}try{this.xa=this.ol,this.ib=this.xa.context,this.ib.Sc(!0),this.ib.setTransform(1,0,0,1,0,0),this.ib.clearRect(0,0,this.xa.width,this.xa.height),Pa(this)}finally{this.xa=t,this.ib=e}}}Pr.prototype.redraw.call(this)},Ma.prototype.fc=function(){if(null===this.Ka&&w("No div specified"),null===this.xa&&w("No canvas specified"),!(this.xa instanceof ys)&&(_h(this.box),this.Ec)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.pi){no(this);var e=this.xa;(t=this.ib).Sc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?Pa(this):null!==this.ol&&(t.drawImage(this.ol.La,0,0),(e=this.Ab).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Sb,this.Sb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.xc());for(var i=(e=this.Wa.s).length,n=0;n<i;n++)e[n].fc(t,this);this.Ec=this.td=!1}}},Ma.prototype.computeBounds=function(){var t=this.observed;if(null===t)return Gt;var e=t.documentBounds.copy();return e.ad(t.viewportBounds),e},Ma.prototype.invalidateViewport=function(){!0!==this.Ec&&(this.Ec=!0,this.Zb())},Ma.prototype.onViewportBoundsChanged=function(t,e,i,n){this.vb||(this.td=!0,this.N(),this.De=!0,this.Ya(),Ta(this),this.md.scale=i,this.md.position.x=t.x,this.md.position.y=t.y,this.md.bounds.assign(t),this.md.Hx=n,this.R("ViewportBoundsChanged",this.md,t))},d.Object.defineProperties(Ma.prototype,{observed:{get:function(){return this.V},set:function(t){var e=this.V;if(t instanceof Ma&&w("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.am("ViewportBoundsChanged",this.Pf),e.am("DocumentBoundsChanged",this.Vd),e.am("InvalidateDraw",this.Ha),e.am("AnimationFinished",this.Of)),this.V=t,null!==t&&(t.Bj("ViewportBoundsChanged",this.Pf),t.Bj("DocumentBoundsChanged",this.Vd),t.Bj("InvalidateDraw",this.Ha),t.Bj("AnimationFinished",this.Of),this.add(this.box)),this.Ya(),null===t){this.ol=null;var i=this.xa,n=this.ib;i&&n&&(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i.width,i.height))}else this.Ha(null),Ta(this),this.N();this.g("observed",e,t)}}},box:{get:function(){return this.j},set:function(t){var e=this.j;e!==t&&(this.j=t,this.remove(e),this.add(this.j),Ta(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t,this.redraw())}},drawsGrid:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.redraw())}},updateDelay:{get:function(){return this.ga},set:function(t){0>t&&(t=0),this.ga!==t&&(this.ga=t)}}}),Ma.className="Overview",c(Da,Ti),Da.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var i=t.lastInput;return!(!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.isTouchEvent&&i.timestamp-t.firstInput.timestamp<this.delay))&&(null===this.findDraggablePart()&&(i=e.viewportBounds,this.j=new pt(i.width/2,i.height/2),t=t.firstInput.documentPoint,e.position=new pt(t.x-this.j.x,t.y-this.j.y)),!0)},Da.prototype.doActivate=function(){this.j=null,Ti.prototype.doActivate.call(this)},Da.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},Da.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var i=t.box;if(null!==i){if(null===this.j){var n=t.firstInput.documentPoint;i=i.location,this.j=new pt(n.x-i.x,n.y-i.y)}t=t.lastInput.documentPoint,e.position=new pt(t.x-this.j.x,t.y-this.j.y)}}},Da.className="OverviewDraggingTool",Na.prototype.toString=function(){return"CommandHandler"},Na.prototype.We=function(t){this.H=t},Na.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,i=B?e.meta:e.control,n=e.shift,r=e.alt,o=e.key;!i||"C"!==o&&"Insert"!==o?i&&"X"===o||n&&"Del"===o?this.canCutSelection()&&this.cutSelection():i&&"V"===o||n&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===o||r&&n&&"Backspace"===o?this.canRedo()&&this.redo():i&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():i&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.allowVerticalScroll&&(i?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.allowVerticalScroll&&(i?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.allowHorizontalScroll&&(i?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.allowHorizontalScroll&&(i?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?n&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===o?n&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===o?i&&t.allowVerticalScroll?t.scroll("document","up"):!i&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===o?i&&t.allowVerticalScroll?t.scroll("document","down"):!i&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===o?this.canResetZoom()&&this.resetZoom():n&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===o?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():"F2"===o||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===o||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},Na.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},Na.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof bi&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},Na.prototype.canStopCommand=function(){return!0},Na.prototype.selectAll=function(){var t=this.diagram;t.N();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var i=t.nodes;i.next();)i.value.isSelected=!0;for(var n=t.links;n.next();)n.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},Na.prototype.canSelectAll=function(){return this.diagram.allowSelect},Na.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new Q,i=t.selection.iterator;i.next();)Uh(e,i.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,(function(t){return t.canDelete()}));t.Fs(e,!0),t.R("SelectionDeleted",e)}finally{t.eb("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Na.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},Na.prototype.copySelection=function(){var t=this.diagram,e=new Q;for(t=t.selection.iterator;t.next();)Uh(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,(function(t){return t.canCopy()}));this.copyToClipboard(e)},Na.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},Na.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Na.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},Na.prototype.copyToClipboard=function(t){var e=this.diagram,i=null;if(null===t)Ho=null,Vo="";else{i=e.model;var n=!1,r=!1,o=null;try{i.Sl()&&(n=i.Jj,i.Jj=this.copiesParentKey),i.Vj()&&(r=i.Ij,i.Ij=this.copiesGroupKey),o=e.Kj(t,null,!0)}finally{i.Sl()&&(i.Jj=n),i.Vj()&&(i.Ij=r),(i=new Z).addAll(o),Ho=i,Vo=e.model.dataFormat}}e.R("ClipboardChanged",i)},Na.prototype.pasteFromClipboard=function(){var t=new Q,e=Ho;if(null===e)return t;var i=this.diagram;if(Vo!==i.model.dataFormat)return t;var n=i.model,r=!1,o=!1,a=null;try{n.Sl()&&(r=n.Jj,n.Jj=this.copiesParentKey),n.Vj()&&(o=n.Ij,n.Ij=this.copiesGroupKey),a=i.Kj(e,i,!1)}finally{for(n.Sl()&&(n.Jj=r),n.Vj()&&(n.Ij=o),e=a.iterator;e.next();)i=e.value,n=e.key,i.location.w()||(n.location.w()?i.location=n.location:!i.position.w()&&n.position.w()&&(i.position=n.position)),t.add(i)}return t},Na.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.Ea("Paste");var i=this.pasteFromClipboard();0<i.count&&e.clearSelection(!0);for(var n=i.iterator;n.next();)n.value.isSelected=!0;if(null!==t){var r=e.computePartsBounds(e.selection);if(r.w())lo(e,this.computeEffectiveCollection(e.selection,e.Wm),new pt(t.x-r.centerX,t.y-r.centerY),e.Wm,!1)}e.R("ClipboardPasted",i)}finally{e.eb("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Na.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===Ho||0===Ho.count||Vo!==t.model.dataFormat)},Na.prototype.undo=function(){this.diagram.undoManager.undo()},Na.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canUndo())},Na.prototype.redo=function(){this.diagram.undoManager.redo()},Na.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canRedo())},Na.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===Wo&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},Na.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===Wo&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},Na.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===Wo&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},Na.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===Wo&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},Na.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},Na.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},Na.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Bc(),t.redraw();var i=t.position,n=t.scale;Kn(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&n===this.zu&&!isNaN(this.Gt)&&t.documentBounds.C(this.xu)?(t.scale=this.Gt,t.position=this.qw,this.zu=NaN,this.xu=Gt):(this.Gt=n,this.qw=i.copy(),t.zoomToFit(),this.zu=t.scale,this.xu=t.documentBounds.copy()),Yn(e)},Na.prototype.canZoomToFit=function(){return this.diagram.allowZoom},Na.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Va(),null===t){try{null!==this.bg&&(this.bg.next()?t=this.bg.value:this.bg=null)}catch(l){this.bg=null}null===t&&(0<e.highlighteds.count?this.bg=e.highlighteds.iterator:0<e.selection.count&&(this.bg=e.selection.iterator),null!==this.bg&&this.bg.next()&&(t=this.bg.value))}if(null!==t){var i=e.animationManager;Kn(i,"Scroll To Part");var n=this.scrollToPartPause;if(0<n){var r=Ia(this,t,[t]);if(1===r.length)e.Ea(),e.bs(t.actualBounds),e.eb("Scroll To Part");else{var o=function(){e.Ea();for(var t=r.pop();0<r.length&&t instanceof Xh&&t.isTreeExpanded&&(!(t instanceof pc)||t.isSubGraphExpanded);)t=r.pop();0<r.length?(t instanceof wh&&e.tv(t.actualBounds),t instanceof Xh&&!t.isTreeExpanded&&(t.isTreeExpanded=!0),t instanceof pc&&!t.isSubGraphExpanded&&(t.isSubGraphExpanded=!0)):(t instanceof wh&&e.bs(t.actualBounds),e.am("LayoutCompleted",a)),e.eb("Scroll To Part")},a=function(){b(o,(i.isEnabled?i.duration:0)+n)};e.Bj("LayoutCompleted",a),o()}}else{var s=e.position.copy();e.bs(t.actualBounds),s.Xa(e.position)&&i.Bc()}}},Na.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof wh)&&((0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&(t.allowHorizontalScroll&&t.allowVerticalScroll))},Na.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Collapse Tree"),Kn(e.animationManager,"Collapse Tree");var i=new Z;if(null!==t&&t.isTreeExpanded)t.collapseTree(),i.add(t);else if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof Xh&&r.isTreeExpanded&&(r.collapseTree(),i.add(r))}e.R("TreeCollapsed",i)}finally{e.eb("Collapse Tree")}},Na.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Xh&&t.isTreeExpanded))return!1;if(0<t.Oo().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Xh&&e.isTreeExpanded&&0<e.Oo().count)return!0;return!1},Na.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Expand Tree"),Kn(e.animationManager,"Expand Tree");var i=new Z;if(null===t||t.isTreeExpanded){if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof Xh&&!r.isTreeExpanded&&(r.expandTree(),i.add(r))}}else t.expandTree(),i.add(t);e.R("TreeExpanded",i)}finally{e.eb("Expand Tree")}},Na.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Xh)||t.isTreeExpanded)return!1;if(0<t.Oo().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Xh&&!e.isTreeExpanded&&0<e.Oo().count)return!0;return!1},Na.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Wj()){var i=this.archetypeGroupData;if(null!==i){var n=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Group");for(var r=new Z,o=t.selection.iterator;o.next();){var a=o.value;a.Wc()&&a.canGroup()&&r.add(a)}for(var s=new Z,l=r.iterator;l.next();){var u=l.value;o=!1;for(var h=r.iterator;h.next();)if(u.Qd(h.value)){o=!0;break}o||s.add(u)}if(0<s.count){var c=s.first().containingGroup;if(null!==c)for(;null!==c;){r=!1;for(var d=s.iterator;d.next();)if(!d.value.Qd(c)){r=!0;break}if(!r)break;c=c.containingGroup}if(i instanceof pc)Yl(i),null!==(n=i.copy())&&t.add(n);else if(e.Yu(i)){var f=e.copyNodeData(i);C(f)&&(e.xf(f),n=t.ii(f))}if(null!==n){null!==c&&this.isValidMember(c,n)&&(n.containingGroup=c);for(var p=s.iterator;p.next();){var g=p.value;this.isValidMember(n,g)&&(g.containingGroup=n)}t.clearSelection(!0),n.isSelected=!0}}t.R("SelectionGrouped",n)}finally{t.eb("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},Na.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Wj()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Wc()&&e.canGroup())return!0}return!1},Na.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof xc)return!1;if(null!==t){if(t===e||t.Qd(e))return!1;var i=t.memberValidation;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(i=this.memberValidation)||i(t,e)},Na.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.model;if(i.Wj())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.Ea("Ungroup");var n=new Z;if(null!==t)n.add(t);else for(var r=e.selection.iterator;r.next();){var o=r.value;o instanceof pc&&o.canUngroup()&&n.add(o)}var a=new Z;if(0<n.count){e.clearSelection(!0);for(var s=n.iterator;s.next();){var l=s.value;l.expandSubGraph();var u=l.containingGroup,h=null!==u&&null!==u.data?i.va(u.data):void 0;a.addAll(l.memberParts);for(var c=a.iterator;c.next();){var d=c.value;if(d.isSelected=!0,!(d instanceof xc)){var f=d.data;null!==f?i.kp(f,h):d.containingGroup=u}}e.remove(l)}}e.R("SelectionUngrouped",n,a)}finally{e.eb("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Na.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Wj())return!1;if(null!==t){if(!(t instanceof pc))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof pc&&e.canUngroup())return!0;return!1},Na.prototype.addTopLevelParts=function(t,e){var i=!0;for(t=Ea(t).iterator;t.next();){var n=t.value;null!==n.containingGroup&&(!e||this.isValidMember(null,n)?n.containingGroup=null:i=!1)}return i},Na.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Collapse SubGraph"),Kn(e.animationManager,"Collapse SubGraph");var i=new Z;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),i.add(t);else if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof pc&&r.isSubGraphExpanded&&(r.collapseSubGraph(),i.add(r))}e.R("SubGraphCollapsed",i)}finally{e.eb("Collapse SubGraph")}},Na.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof pc&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof pc&&e.isSubGraphExpanded)return!0;return!1},Na.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Expand SubGraph"),Kn(e.animationManager,"Expand SubGraph");var i=new Z;if(null===t||t.isSubGraphExpanded){if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof pc&&!r.isSubGraphExpanded&&(r.expandSubGraph(),i.add(r))}}else t.expandSubGraph(),i.add(t);e.R("SubGraphExpanded",i)}finally{e.eb("Expand SubGraph")}},Na.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof pc&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof pc&&!e.isSubGraphExpanded)return!0;return!1},Na.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.toolManager.findTool("TextEditing");if(null!==i){if(null===t){t=null;for(var n=e.selection.iterator;n.next();){var r=n.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.Ll((function(t){return t instanceof Cu&&t.editable}))}null!==t&&(e.currentTool=null,i.textBlock=t,e.currentTool=i)}},Na.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof Cu))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.Ll((function(t){return t instanceof Cu&&t.editable}))))return!0;return!1},Na.prototype.showContextMenu=function(t){var e=this.diagram,i=e.toolManager.findTool("ContextMenu");if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=i.findObjectWithContextMenu(t)))){var n=e.lastInput,r=null;t instanceof Aa?r=t.ka(ie):e.viewportBounds.ca(n.documentPoint)||(r=new pt((r=e.viewportBounds).x+r.width/2,r.y+r.height/2)),null!==r&&(n.viewPoint=e.mp(r),n.documentPoint=r,n.left=!1,n.right=!0,n.up=!0),e.currentTool=i,Sn(i,!1,t)}},Na.prototype.canShowContextMenu=function(t){var e=this.diagram,i=e.toolManager.findTool("ContextMenu");return null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==i.findObjectWithContextMenu(t))},Na.prototype.computeEffectiveCollection=function(t,e){var i=this.diagram,n=i.toolManager.findTool("Dragging"),r=i.currentTool===n;if(void 0===e&&(e=r?n.dragOptions:i.Wm),n=new ft,null===t)return n;for(var o=t.iterator;o.next();)so(i,n,o.value,r,e);if(null!==i.draggedLink&&e.dragsLink)return n;for(o=t.iterator;o.next();)(t=o.value)instanceof xc&&(null===(e=t.fromNode)||n.contains(e)?null===(e=t.toNode)||n.contains(e)||n.remove(t):n.remove(t));return n},d.Object.defineProperties(Na.prototype,{diagram:{get:function(){return this.H}},copiesClipboardData:{get:function(){return this.o},set:function(t){this.o=t}},copiesConnectedLinks:{get:function(){return this.u},set:function(t){this.u=t}},deletesConnectedLinks:{get:function(){return this.Ha},set:function(t){this.Ha=t}},copiesTree:{get:function(){return this.ga},set:function(t){this.ga=t}},deletesTree:{get:function(){return this.nb},set:function(t){this.nb=t}},copiesParentKey:{get:function(){return this.V},set:function(t){this.V=t}},copiesGroupKey:{get:function(){return this.F},set:function(t){this.F=t}},archetypeGroupData:{get:function(){return this.j},set:function(t){this.j=t}},memberValidation:{get:function(){return this.ij},set:function(t){this.ij=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Ib},set:function(t){1<t||w("zoomFactor must be larger than 1.0, not: "+t),this.Ib=t}},isZoomToFitRestoreEnabled:{get:function(){return this.hb},set:function(t){this.hb=t}},scrollToPartPause:{get:function(){return this.ob},set:function(t){this.ob=t}}}),Na.className="CommandHandler",Nr=function(){return new Na},Aa.prototype.cloneProtected=function(t){t.m=6144|this.m,t.pb=this.pb,t.bn=this.bn,t.Oa=this.Oa,t.pa.assign(this.pa),t.dd=this.dd.J(),null!==this.Mb?t.Mb=this.Mb.copy():t.Mb=null,t.Aa=this.Aa,t.Lb=this.Lb,t.Jg=this.Jg.J(),t.tc.assign(this.tc),t.Jb.assign(this.Jb),t.dc.assign(this.dc),t.Yn=this.Yn,null!==this.ba&&(t.ba=this.ba.copy()),t.Kb=this.Kb.J(),t.qk=this.qk.J(),t.io=this.io,t.zg=this.zg,null!==this.Ua&&(t.Ua=this.Ua.copy()),null!==this.A&&(t.A=this.A.mc?this.A:this.A.copy()),null!==this.Ch&&(t.Ch=P(this.Ch)),null!==this.tb&&(t.tb=this.tb.copy())},Aa.prototype.Tw=function(t){var e=this.Ch;if(M(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return}else this.Ch=e=[];e.push(t)},Aa.prototype.Af=function(t){t.Zn=null,t.Mg=null,t.v()},Aa.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Ch)for(var e=0;e<this.Ch.length;e++){var i=this.Ch[e];t[i]=this[i]}return t},Aa.prototype.copy=function(){return this.clone()},(e=Aa.prototype).qb=function(t){t.classType===xc?0===t.name.indexOf("Orient")?this.segmentOrientation=t:w("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===Aa&&(this.stretch=t)},e.toString=function(){return E(this.constructor)+"#"+et(this)},e.sh=function(){null!==this.A&&(this.A.mc=!0)},e.Uc=function(){if(null===this.ba){var t=new gs;t.Xi=Jt,t.yj=Jt,t.Vi=10,t.wj=10,t.Wi=0,t.xj=0,this.ba=t}},e.cb=function(t,e,i,n,r,o,a){var s=this.part;if(null!==s&&(s.fk(t,e,i,n,r,o,a),i===this&&t===di&&Qa(this)&&La(this,s,e),o=this.diagram,null===this.animationTriggers||null===o||!o.pi||o.undoManager.isUndoingRedoing||o.animationManager.Dm||null!==(t=this.animationTriggers.get(e))&&o.animationManager.isEnabled&&!o.animationManager.isTicking&&(null===this.jo&&(this.jo=new ft),a=0===o.undoManager.transactionLevel,t.startCondition===wr?a=!0:t.startCondition===kr&&(a=!1),a?(function(t,e){null!==(t=t.sk)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,o=new lr),null!==(a=this.jo.get(t))&&a.stop(),this.jo.add(t,o),o.uu=this,o.Lw=t,o.add(this,e,n,r),o.start()):(Kn(o.animationManager,"Trigger"),o.animationManager.defaultAnimation.add(this,e,n,r))),this instanceof Ml&&i===s&&0!==(16777216&s.m)&&null!==s.data))for(n=(i=this.O.s).length,r=0;r<n;r++)(s=i[r])instanceof Ml&&Al(s,(function(t){null!==t.data&&0!==(16777216&t.m)&&t.Ma(e)}))},e.gs=function(t){return this.bindingId===t?this:null},e.g=function(t,e,i){this.cb(di,t,this,e,i)},e.Fe=function(t,e,i,n){var r=this.tc;if(r.h(t,e,i,n),1!==this.Aa||0!==this.Lb){null===this.Mb&&(this.Mb=new He);var o=this.Mb;o.reset(),this.no(o,t,e,i,n),o.np(r)}},e.tx=function(t,e,i){if(!1===this.pickable)return!1;var n=this.naturalBounds;return e=t.Bf(e),i?bt(t.x,t.y,0,0,0,n.height)<=e||bt(t.x,t.y,0,n.height,n.width,n.height)<=e||bt(t.x,t.y,n.width,n.height,n.width,0)<=e||bt(t.x,t.y,n.width,0,0,0)<=e:t.xd(0,0)<=e&&t.xd(0,n.height)<=e&&t.xd(n.width,0)<=e&&t.xd(n.width,n.height)<=e},e.re=function(){return!0},e.ca=function(t){var e=pt.alloc();e.assign(t),this.transform.Ga(e);var i=this.actualBounds;if(!i.w())return pt.free(e),!1;var n=this.diagram;if(null!==n&&n.tq){var r=n.Ol("extraTouchThreshold"),o=n.Ol("extraTouchArea"),a=o/2,s=this.naturalBounds,l=1/(n=this.Df()*n.scale);if(s.width*n<r&&s.height*n<r)return t=Wt(i.x-a*l,i.y-a*l,i.width+o*l,i.height+o*l,e.x,e.y),pt.free(e),t}return r=!1,(this instanceof Kh||this instanceof fu?Wt(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.ca(e))&&(r=!(this.tb&&!this.tb.ca(e))&&(!(null===this.areaBackground||!i.ca(e))||(!(null===this.Oa||!this.dc.ca(t))||this.fh(t)))),pt.free(e),r},e.fh=function(t){var e=this.naturalBounds;return Wt(0,0,e.width,e.height,t.x,t.y)},e.Qe=function(t){if(0===this.angle)return this.actualBounds.Qe(t);var e=this.naturalBounds;e=Ot.allocAt(0,0,e.width,e.height);var i=this.transform,n=!1,r=pt.allocAt(t.x,t.y);return e.ca(i.Pd(r))&&(r.h(t.x,t.bottom),e.ca(i.Pd(r))&&(r.h(t.right,t.bottom),e.ca(i.Pd(r))&&(r.h(t.right,t.y),e.ca(i.Pd(r))&&(n=!0)))),pt.free(r),Ot.free(e),n},e.eh=function(t,e){if(void 0===e)return t.Qe(this.actualBounds);var i=this.naturalBounds,n=!1,r=pt.allocAt(0,0);return t.ca(e.Ga(r))&&(r.h(0,i.height),t.ca(e.Ga(r))&&(r.h(i.width,i.height),t.ca(e.Ga(r))&&(r.h(i.width,0),t.ca(e.Ga(r))&&(n=!0)))),pt.free(r),n},e.Vc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Vc(this.actualBounds);var i=this.naturalBounds,n=pt.allocAt(0,0),r=pt.allocAt(0,i.height),o=pt.allocAt(i.width,i.height),a=pt.allocAt(i.width,0),s=!1;if(t.ca(e.Ga(n))||t.ca(e.Ga(r))||t.ca(e.Ga(o))||t.ca(e.Ga(a)))s=!0;else{i=Ot.allocAt(0,0,i.width,i.height);var l=pt.allocAt(t.x,t.y);i.ca(e.Pd(l))?s=!0:(l.h(t.x,t.bottom),i.ca(e.Pd(l))?s=!0:(l.h(t.right,t.bottom),i.ca(e.Pd(l))?s=!0:(l.h(t.right,t.y),i.ca(e.Pd(l))&&(s=!0)))),pt.free(l),Ot.free(i),!s&&(We.rs(t,n,r)||We.rs(t,r,o)||We.rs(t,o,a)||We.rs(t,a,n))&&(s=!0)}return pt.free(n),pt.free(r),pt.free(o),pt.free(a),s},e.ka=function(t,e){if(void 0===e&&(e=new pt),t instanceof Re){var i=this.naturalBounds;e.h(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY)}else e.set(t);return this.me.Ga(e),e},e.mi=function(t){void 0===t&&(t=new Ot);var e=this.naturalBounds,i=this.me,n=pt.allocAt(0,0).transform(i);return t.h(n.x,n.y,0,0),n.h(e.width,0).transform(i),Vt(t,n.x,n.y,0,0),n.h(e.width,e.height).transform(i),Vt(t,n.x,n.y,0,0),n.h(0,e.height).transform(i),Vt(t,n.x,n.y,0,0),pt.free(n),t},e.li=function(){var t=this.me;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},e.Df=function(){if(0!==(4096&this.m)===!1)return this.Ik;var t=this.Aa;return null!==this.panel?t*this.panel.Df():t},e.ns=function(t,e){return void 0===e&&(e=new pt),e.assign(t),this.me.Pd(e),e},e.os=function(t,e,i){return this.Sj(t.x,t.y,e.x,e.y,i)},e.Sj=function(t,e,i,n,r){var o=this.transform,a=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*a,l=-o.m12*a,u=-o.m21*a,h=o.m11*a,c=a*(o.m21*o.dy-o.m22*o.dx),d=a*(o.m12*o.dx-o.m11*o.dy);return null!==this.areaBackground?(o=this.actualBounds,We.Ff(o.left,o.top,o.right,o.bottom,t,e,i,n,r)):(a=t*s+e*u+c,t=t*l+e*h+d,e=i*s+n*u+c,i=i*l+n*h+d,r.h(0,0),n=this.naturalBounds,i=We.Ff(0,0,n.width,n.height,a,t,e,i,r),r.transform(o),i)},Aa.prototype.measure=function(t,e,i,n){if(!1!==is(this)){var r=this.Jg,o=r.right+r.left;r=r.top+r.bottom,t=Math.max(t-o,0),e=Math.max(e-r,0),i=Math.max((i||0)-o,0),n=Math.max((n||0)-r,0),o=this.angle,r=this.desiredSize;var a=this.hq();90===o||270===o?(t=isFinite(r.height)?r.height+a:t,e=isFinite(r.width)?r.width+a:e):(t=isFinite(r.width)?r.width+a:t,e=isFinite(r.height)?r.height+a:e),r=i||0,a=n||0;var s=this instanceof Ml;switch(Xa(this,!0)){case da:a=r=0,s&&(e=t=1/0);break;case ca:isFinite(t)&&t>i&&(r=t),isFinite(e)&&e>n&&(a=e);break;case pa:isFinite(t)&&t>i&&(r=t),a=0,s&&(e=1/0);break;case ga:isFinite(e)&&e>n&&(a=e),r=0,s&&(t=1/0)}s=this.maxSize;var l=this.minSize;r>s.width&&l.width<s.width&&(r=s.width),a>s.height&&l.height<s.height&&(a=s.height),i=Math.max(r/this.scale,l.width),n=Math.max(a/this.scale,l.height),s.width<i&&(i=Math.min(l.width,i)),s.height<n&&(n=Math.min(l.height,n)),t=Math.min(s.width,t),e=Math.min(s.height,e),t=Math.max(i,t),e=Math.max(n,e),90!==o&&270!==o||(o=t,t=e,e=o,o=i,i=n,n=o),this.tc.ja(),this.Vl(t,e,i,n),this.tc.freeze(),this.tc.w()||w("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.tc.toString()),ns(this,!1)}},Aa.prototype.Vl=function(){},Aa.prototype.ne=function(){return!1},Aa.prototype.arrange=function(t,e,i,n,r){this.Sk();var o=Ot.alloc();o.assign(this.Jb),this.Jb.ja(),!1===rs(this)?this.Jb.h(t,e,i,n):this.dh(t,e,i,n),this.Jb.freeze(),this.tb=void 0===r?null:r,i=!1,void 0!==r?i=!0:(null!==(r=this.panel)&&Fl(r)&&(r=r.panel),null!==r&&(r=r.dc,n=this.measuredBounds,null!==this.areaBackground&&(n=this.Jb),i=e+n.height,n=t+n.width,i=!(0<=t+.05&&n<=r.width+.05&&0<=e+.05&&i<=r.height+.05),this instanceof Cu&&(t=this.naturalBounds,this.Iq>t.height||this.Cb>t.width))&&(i=!0)),this.m=i?256|this.m:-257&this.m,this.Jb.w()||w("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Jb.toString()),this.Wl(o,this.Jb),os(this,!1),Ot.free(o)},(e=Aa.prototype).dh=function(){},e.Wl=function(t,e){var i=this.part;null!==i&&null!==i.diagram&&(i.selectionObject!==this&&i.resizeObject!==this&&i.rotateObject!==this||jh(i,!0),this.N(),Bt(t,e)||(i.nh(),this.Pn(i)))},e.Pn=function(t){null!==this.portId&&(jh(t,!0),t instanceof Xh&&Qh(t,this))},e.fc=function(t,e){if(!function(t,e,i){if(!(e instanceof bs))return!1;if(!t.visible||0===t.opacity||t.ne()&&!t.isVisible())return null!==t.svg&&null!==t.svg.parentNode&&t.svg.remove(),!0;if(t.ne()&&t.isShadowed){var n=t.shadowOffset;e.Cv(n.x*i.scale*t.scale*i.Sb,n.y*i.scale*t.scale*i.Sb,t.shadowBlur),Ds(e),e.shadowColor=t.shadowColor}n=t.panel;var r=t.lk(e);if(t.ik(e,i,r))return null!==t.svg.parentElement?(t.ne()&&(e.ti=t.svg),!0):(t.ne()?(null!==e.ti?e.ti.after(t.svg):e.Nj.prepend(t.svg),e.ti=t.svg):n&&Va(t,n,t.svg),!0);t instanceof Cu&&(e.font=t.font),e.wd=null;var o=t.transform,a=t instanceof Ml;0!==(4096&t.m)===!0&&Ka(t);var s=t.Jb;if(e.Eb.ia=[1,0,0,1,0,0],e.o=!1,r&&(e.o=!0,t instanceof Ml&&Fl(t)?(Ms(e,1,0,0,1,0,0),t.svg=e.Ad):a?(Ms(e,o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),t.svg=e.Ad):Ms(e,1,0,0,1,0,0)),r=t.naturalBounds,null!==t.areaBackground){var l=o.copy().Rl();e.Eb.ia=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],za(t,e,r,s),e.Eb.ia=[1,0,0,1,0,0],e.wd.pd=e.Ad,e.wd.prepend(e.Ad)}a||(e.Eb.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy]),null!==t.background&&(t instanceof Ml&&Fl(t)?(e.Eb.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],Ha(t,e,r,s),e.Eb.ia=[1,0,0,1,0,0]):(e.Eb.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],Ha(t,e,r,s)),e.wd.Oa=e.Ad,e.wd.prepend(e.Ad)),o=Ba(t,i,e,e.wd),t.gh(e,i),a&&e.mh.pop(),e.o&&e.mh.pop(),r=e.Ev.es,l=a?t.svg:e.wd;var u=t.svg;return a||null===u||l===u||u.parentNode!==t.panel.svg?(t.svg=l,null!==r&&null===l&&(Ps(e),e.mh.pop()),null===l||(t.Yo(e,n,s,l),Fa(t,l,i,e,o),1!==e.globalAlpha&&l.setAttributeNS(null,"opacity",e.globalAlpha.toString()),""!==t.filter&&l.setAttributeNS(null,"filter",t.filter),t.ne()?(e.ti?e.ti.after(l):e.Nj.prepend(l),e.ti=l):null!==n&&Va(t,n,l),null!==r&&r(t,l)),!0):(t.svg.replaceWith(l),t.svg=l,null!==l&&t.Yo(e,n,s,l),Wa(e,u),!0)}(this,t,e)&&this.visible){var i=this.opacity;if(0!==i){var n=1;1!==i&&(n=t.globalAlpha,t.globalAlpha=n*i);var r="";""!==this.filter&&(r=t.filter,t.filter=this.filter);var o=this instanceof Ml&&Fl(this),a=this.Jb;if(o){var s=this.Jb,l=this.dc,u=this.areaBackground,h=this.Oa;null===u&&null===h||t.xc(),null!==u&&(Ga(this,t,u,!0,!0,l,s),u instanceof Ls&&u.type===Js?(t.beginPath(),t.rect(s.x,s.y,s.width,s.height),t.mg(u)):t.fillRect(s.x,s.y,s.width,s.height)),null!==h&&(Ga(this,t,h,!0,!1,l,s),h instanceof Ls&&h.type===Js?(t.beginPath(),t.rect(s.x,s.y,s.width,s.height),t.mg(h)):t.fillRect(s.x,s.y,s.width,s.height)),this.gh(t,e)}if(!o&&(o||0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y))){o=this.transform,s=this.panel,0!==(4096&this.m)===!0&&Ka(this),l=!1;var c,d=0;if((u=this.part)&&e.Gf("drawShadows")&&(l=u.isShadowed)&&(h=u.shadowOffset,d=Math.max(h.y,h.x)*e.scale*e.Sb),h=this.ne(),!(c=e.$i||!h)){var f,p=this.naturalBounds,g=(c=this.vh).m11,m=c.m21,v=c.dx,y=c.m12,b=c.m22,x=c.dy,w=f=0;c=f*g+w*m+v;var k=f*y+w*b+x,_=(f=p.width+d)*g+(w=0)*m+v;f=f*y+w*b+x,w=Math.min(c,_);var S=Math.min(k,f),C=Math.max(c+0,_)-w,M=Math.max(k+0,f)-S;c=w,k=S,_=(f=p.width+d)*g+(w=p.height+d)*m+v,f=f*y+w*b+x,w=Math.min(c,_),S=Math.min(k,f),C=Math.max(c+C,_)-w,M=Math.max(k+M,f)-S,c=w,k=S,_=(f=0)*g+(w=p.height+d)*m+v,f=f*y+w*b+x,w=Math.min(c,_),S=Math.min(k,f),C=Math.max(c+C,_)-w,M=Math.max(k+M,f)-S,c=w,k=S,p=(d=e.viewportBounds).x,g=d.y,c=!(c>d.width+p||p>C+c||k>d.height+g||g>M+k)}if(c){if(c=0!==(256&this.m),t.clipInsteadOfFill&&(c=!1),this instanceof Cu&&(t.font=this.font),c){if(k=s.re()?s.naturalBounds:s.actualBounds,C=Math.max(a.x,k.x),M=Math.max(a.y,k.y),d=Math.min(a.right,k.right)-C,p=Math.min(a.bottom,k.bottom)-M,null!==(g=this.tb)&&(C=g.x,M=g.y,d=g.width,p=g.height),C>a.width+a.x||a.x>k.width+k.x)return 1!==i&&(t.globalAlpha=n),void(""!==this.filter&&(t.filter=r));t.save(),t.beginPath(),t.rect(C,M,d,p),t.clip()}if(h){if(!u.isVisible())return 1!==i&&(t.globalAlpha=n),void(""!==this.filter&&(t.filter=r));l&&(k=u.shadowOffset,t.Cv(k.x*e.scale*this.scale*e.Sb,k.y*e.scale*this.scale*e.Sb,u.shadowBlur),Ds(t),t.shadowColor=u.shadowColor)}l&&!0===this.shadowVisible?Ds(t):l&&!1===this.shadowVisible&&Ts(t),u=this.naturalBounds,null!==this.areaBackground&&(t.xc(),za(this,t,u,a)),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),l&&(null!==s&&0!==(512&s.m)||null!==s&&(s.type===Ml.Auto||s.type===Ml.Spot)&&s.rb()!==this)&&null===this.shadowVisible&&Ts(t),null!==this.Oa&&(t.xc(),Ha(this,t,u,a)),l&&(null!==this.Oa||null!==this.areaBackground||null!==s&&0!==(512&s.m)||null!==s&&(s.type===Ml.Auto||s.type===Ml.Spot)&&s.rb()!==this)?(Ja(this,!0),null===this.shadowVisible&&Ts(t)):Ja(this,!1),this.gh(t,e),l&&0!==(512&this.m)===!0&&Ds(t),h&&l&&Ts(t),c&&(t.restore(),t.Sc(this instanceof Ml)),o.ts()||(e=1/(o.m11*o.m22-o.m12*o.m21),t.transform(o.m22*e,-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy)))}}1!==i&&(t.globalAlpha=n),""!==this.filter&&(t.filter=r)}}},e.Bv=function(){},e.Yo=function(t,e,i,n){var r=0!==(256&this.m);if(t.clipInsteadOfFill&&(r=!1),r){var o=e.re()?e.naturalBounds:e.actualBounds;e=Math.max(i.x,o.x),r=Math.max(i.y,o.y);var a=Math.min(i.right,o.right)-e;i=Math.min(i.bottom,o.bottom)-r,null!==(o=this.tb)&&(e=o.x,r=o.y,a=o.width,i=o.height);var s=null;null!==(o=n.getAttribute("clip-path"))&&(s=t.svg.getElementById(o.split("#")[1].slice(0,-1))),null===s?(o="CLIP"+st++,(s=t.Sd("clipPath",{id:o})).appendChild(t.Sd("rect",{x:e,y:r,width:a,height:i})),t.svg.appendChild(s),n.setAttributeNS(null,"clip-path","url(#"+o+")")):((t=s.firstElementChild).setAttribute("x",e.toString()),t.setAttribute("y",r.toString()),t.setAttribute("width",a.toString()),t.setAttribute("height",i.toString()))}else n.removeAttributeNS(null,"clip-path"),Wa(t,n)},e.gh=function(){},e.lv=function(){this.rf=!0},e.ik=function(t,e,i){if(this.rf)return this.lv(),this.rf=!1;var n=this.svg;if(null===n)return!1;if(!this.visible)return n.remove(),!1;if("g"!==n.nodeName&&i||"g"===n.nodeName&&!i)return!1;var r=this.transform;if(this instanceof Ml&&Fl(this)||i&&this instanceof nh||(!i||this instanceof Ml?n.setAttributeNS(null,"transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")"):n.lastElementChild.setAttributeNS(null,"transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")")),"1"===(i=t.globalAlpha.toString())?n.removeAttribute("opacity"):n.setAttributeNS(null,"opacity",i),""===this.filter?n.removeAttribute("filter"):n.setAttributeNS(null,"filter",this.filter),t.Eb.ia=[1,0,0,1,0,0],null!==this.areaBackground||void 0!==n.pd){if(i=n.pd,null===this.areaBackground)n.pd.remove(),n.pd=void 0;else{var o=r.copy().Rl();t.Eb.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],za(this,t,this.naturalBounds,this.actualBounds),t.Eb.ia=[1,0,0,1,0,0],n.pd?n.pd.replaceWith(t.Ad):n.prepend(t.Ad),n.pd=t.Ad}i&&Ns(t,i)}return null===this.background&&void 0===n.Oa||(i=n.Oa,null===this.background?(Ns(t,n.Oa),n.Oa.remove(),n.Oa=void 0):(t.Eb.ia=[r.m11,r.m12,r.m21,r.m22,r.dx,r.dy],Ha(this,t,this.naturalBounds,this.actualBounds),n.Oa?(Ns(t,n.Oa),n.Oa.replaceWith(t.Ad)):n.prepend(t.Ad),n.Oa=t.Ad),i&&Ns(t,i)),this.Yo(t,this.panel,this.actualBounds,n),Fa(this,n,e,t,r=Ba(this,e,t,n)),!0},e.lk=function(t){if(null!==this.background||null!==this.areaBackground)return!0;var e=0!==(256&this.m);return t.clipInsteadOfFill&&(e=!1),!!e},e.qg=function(t){if(t instanceof Ml)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},e.Rd=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.Rd()},e.If=function(){for(var t=this instanceof Ml?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},e.no=function(t,e,i,n,r){if(1!==this.Aa&&t.scale(this.Aa),0!==this.Lb){var o=pt.alloc();o.yi(e,i,n,r,ie),t.rotate(this.Lb,o.x,o.y),pt.free(o)}},e.v=function(t){if(!is(this)){void 0===t&&(t=!1),ns(this,!0),os(this,!0);var e=this.panel;null===e||t||e.v()}},e.Uj=function(){is(this)||(ns(this,!0),os(this,!0))},e.Sk=function(){0!==(2048&this.m)===!1&&(ts(this,!0),es(this,!0))},e.Wu=function(){es(this,!0)},e.N=function(){var t=this.part;null!==t&&t.N()},e.Gj=function(){this.svg=null},e.wi=function(t){this.Le=t,null!==this.svg&&this.svg.remove()},e.yv=function(){},e.xv=function(t){return this.pa=t,Ya(this),!0},e.mm=function(t,e){this.pa.x===t&&this.pa.y===e||(this.pa.h(t,e),this.Sk())},e.hq=function(){return 0},e.bind=function(t,e,i,n){var r=null;return(r="string"===typeof t?new Hf(t,e,i,n):t).vd=this,null!==(t=this.hh())&&Kl(t)&&w("Cannot add a Binding to a template that has already been copied: "+r),null===this.localBindings&&(this.localBindings=new Z),this.localBindings.add(r),this},e.set=function(t){return Object.assign(this,t),this},e.Cu=function(t){return us(this,t),this},e.apply=function(t){return t(this),this},e.nm=function(t){return io(this,t),this},e.qz=function(){return this.hh()},e.hh=function(){for(var t=this instanceof Ml?this:this.panel;null!==t;){if(null!==t.allBindings)return t;t=t.panel}return null},e.Hv=function(t){return t.vd=this,null===this.animationTriggers&&(this.animationTriggers=new ft),this.animationTriggers.add(t.propertyName,t),this},d.Object.defineProperties(Aa.prototype,{bindingId:{get:function(){return null!==this.A?this.A.xp:-1},set:function(t){this.bindingId!==t&&(null===this.A&&(this.A=new fs),this.A.xp=t)}},localBindings:{get:function(){return null!==this.A?this.A.se:null},set:function(t){this.localBindings!==t&&(null===this.A&&(this.A=new fs),this.A.se=t)}},srcBindings:{get:function(){return null!==this.A?this.A.wm:null},set:function(t){this.srcBindings!==t&&(null===this.A&&(this.A=new fs),this.A.wm=t)}},shadowVisible:{get:function(){return null!==this.A?this.A.Ci:null},set:function(t){var e=this.shadowVisible;e!==t&&(Oa(this),this.A.Ci=t,this.N(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.A?this.A.Ib:null},set:function(t){var e=this.enabledChanged;e!==t&&(Oa(this),this.A.Ib=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return null!==this.Ua?this.Ua.nr:Yc},set:function(t){var e=this.segmentOrientation;e!==t&&(null===this.Ua&&(this.Ua=new ps),this.Ua.nr=t,this.v(),this.g("segmentOrientation",e,t),t===Yc&&(this.angle=0))}},segmentIndex:{get:function(){return null!==this.Ua?this.Ua.u:-1/0},set:function(t){t=Math.round(t);var e=this.segmentIndex;e!==t&&(null===this.Ua&&(this.Ua=new ps),this.Ua.u=t,this.v(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return null!==this.Ua?this.Ua.o:0},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.segmentFraction;e!==t&&(null===this.Ua&&(this.Ua=new ps),this.Ua.o=t,this.v(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return null!==this.Ua?this.Ua.F:it},set:function(t){var e=this.segmentOffset;e.C(t)||(t=t.J(),null===this.Ua&&(this.Ua=new ps),this.Ua.F=t,this.v(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return null!==this.A?this.A.gg:ma},set:function(t){var e=this.stretch;e!==t&&(Oa(this),this.A.gg=t,this.v(),this.g("stretch",e,t))}},name:{get:function(){return null!==this.A?this.A.wa:""},set:function(t){var e=this.name;e!==t&&(Oa(this),this.A.wa=t,null!==this.part&&(this.part.Rh=null),this.g("name",e,t))}},opacity:{get:function(){return this.pb},set:function(t){var e=this.pb;e!==t&&((0>t||1<t)&&_(t,"0 <= value <= 1",Aa,"opacity"),this.pb=t,this.g("opacity",e,t),t=this.diagram,e=this.part,null!==t&&null!==e&&t.N(Th(e,e.actualBounds)))}},filter:{get:function(){return this.bn},set:function(t){var e=this.bn;e!==t&&(this.bn=t,this.g("filter",e,t),t=this.diagram,e=this.part,null!==t&&null!==e&&t.N(Th(e,e.actualBounds)))}},visible:{get:function(){return 0!==(1&this.m)},set:function(t){var e=0!==(1&this.m);e!==t&&(this.m^=1,this.g("visible",e,t),null!==(e=this.panel)?e.v():this.ne()&&this.Yb(t),this.N(),ss(this))}},pickable:{get:function(){return 0!==(2&this.m)},set:function(t){var e=0!==(2&this.m);e!==t&&(this.m^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!==(4&this.m)},set:function(t){var e=0!==(4&this.m);e!==t&&(this.m^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!==(8&this.m)},set:function(t){var e=0!==(8&this.m);e!==t&&(this.m^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!==(16&this.m)},set:function(t){var e=0!==(16&this.m);e!==t&&(this.m^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!==(32&this.m)},set:function(t){var e=0!==(32&this.m);e!==t&&(this.m^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!==(64&this.m)},set:function(t){var e=0!==(64&this.m);e!==t&&(this.m^=64,this.v(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!==(128&this.m)},set:function(t){var e=0!==(128&this.m);e!==t&&(this.m^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return null!==this.A?this.A.pd:null},set:function(t){var e=this.areaBackground;e!==t&&(null!==t&&Ys(t,"GraphObject.areaBackground"),t instanceof Ls&&t.freeze(),Oa(this),this.A.pd=t,this.N(),this.g("areaBackground",e,t))}},background:{get:function(){return this.Oa},set:function(t){var e=this.Oa;e!==t&&(null!==t&&Ys(t,"GraphObject.background"),t instanceof Ls&&t.freeze(),this.Oa=t,this.N(),this.g("background",e,t))}},part:{get:function(){if(this.ne())return this;if(null!==this.Mg)return this.Mg;var t;for(t=this.panel;t;){if(t instanceof wh)return this.Mg=t;t=t.panel}return null}},svg:{get:function(){return this.V},set:function(t){this.V=t}},panel:{get:function(){return this.Le}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.pa},set:function(t){var e=t.x,i=t.y,n=this.pa,r=n.x;n=n.y,(r===e||isNaN(r)&&isNaN(e))&&(n===i||isNaN(n)&&isNaN(i))?this.yv():(t=t.copy(),this.xv(t,r,n)&&this.g("position",new pt(r,n),t))}},actualBounds:{get:function(){return this.Jb}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&(0>=t&&w("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Aa=t,this.v(),this.g("scale",e,t))}},angle:{get:function(){return this.Lb},set:function(t){var e=this.Lb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Lb=t,ss(this),this.v(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.dd},set:function(t){var e=t.width,i=t.height,n=this.dd,r=n.width,o=n.height;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))||(this.dd=t=t.J(),this.v(),this instanceof fu&&this.pc(),this.g("desiredSize",n,t),Qa(this)&&(null!==(t=this.part)&&(La(this,t,"width"),La(this,t,"height"))))}},width:{get:function(){return this.dd.width},set:function(t){var e=this.dd.width;e===t||isNaN(e)&&isNaN(t)||(e=this.dd,this.dd=t=new Nt(t,this.dd.height).freeze(),this.v(),this instanceof fu&&this.pc(),this.g("desiredSize",e,t),Qa(this)&&(null!==(t=this.part)&&La(this,t,"width")))}},height:{get:function(){return this.dd.height},set:function(t){var e=this.dd.height;e===t||isNaN(e)&&isNaN(t)||(e=this.dd,this.dd=t=new Nt(this.dd.width,t).freeze(),this.v(),this instanceof fu&&this.pc(),this.g("desiredSize",e,t),Qa(this)&&(null!==(t=this.part)&&La(this,t,"height")))}},minSize:{get:function(){return null!==this.A?this.A.u:kt},set:function(t){var e=this.minSize;e.C(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),Oa(this),this.A.u=t,this.v(),this.g("minSize",e,t))}},maxSize:{get:function(){return null!==this.A?this.A.o:Pt},set:function(t){var e=this.maxSize;e.C(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),Oa(this),this.A.o=t,this.v(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.tc}},naturalBounds:{get:function(){return this.dc}},margin:{get:function(){return this.Jg},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.Jg;e.C(t)||(this.Jg=t=t.J(),this.v(),this.g("margin",e,t))}},transform:{get:function(){return 0!==(2048&this.m)===!0&&Ka(this),this.Ab}},me:{get:function(){return 0!==(4096&this.m)===!0&&Ka(this),this.vh}},animationTriggers:{get:function(){return null!==this.A?this.A.hb:null},set:function(t){this.animationTriggers!==t&&(Oa(this),this.A.hb=t)}},reshapingBehavior:{get:function(){return null!==this.A?this.A.Pf:da},set:function(t){this.reshapingBehavior!==t&&(Oa(this),this.A.Pf=t)}},alignment:{get:function(){return this.Kb},set:function(t){var e=this.Kb;e.C(t)||(t.Lc()&&!t.Wb()&&w("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.Kb=t=t.J(),Ya(this),this.g("alignment",e,t))}},column:{get:function(){return this.zg},set:function(t){t=Math.round(t);var e=this.zg;e!==t&&(0>t&&_(t,">= 0",Aa,"column"),this.zg=t,this.v(),this.g("column",e,t),null!==this.svg&&this.svg.remove())}},columnSpan:{get:function(){return null!==this.A?this.A.ob:1},set:function(t){t=Math.round(t);var e=this.columnSpan;e!==t&&(1>t&&_(t,">= 1",Aa,"columnSpan"),Oa(this),this.A.ob=t,this.v(),this.g("columnSpan",e,t))}},row:{get:function(){return this.io},set:function(t){t=Math.round(t);var e=this.io;e!==t&&(0>t&&_(t,">= 0",Aa,"row"),this.io=t,this.v(),this.g("row",e,t),null!==this.svg&&this.svg.remove())}},rowSpan:{get:function(){return null!==this.A?this.A.Bi:1},set:function(t){t=Math.round(t);var e=this.rowSpan;e!==t&&(1>t&&_(t,">= 1",Aa,"rowSpan"),Oa(this),this.A.Bi=t,this.v(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return null!==this.A?this.A.Di:null},set:function(t){var e=this.spanAllocation;e!==t&&(Oa(this),this.A.Di=t,this.v(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.qk},set:function(t){var e=this.qk;e.C(t)||(this.qk=t=t.J(),this.v(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.Yn},set:function(t){var e=this.Yn;if(e!==t){var i=this.part;null===i||i instanceof Xh||w("Cannot set portID on a Link: "+t),null!==e&&null!==i&&ac(i,this),this.Yn=t,null!==t&&null!==i&&(i.Se=!0,oc(i,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.ba?this.ba.yj:Jt},set:function(t){var e=this.toSpot;e.C(t)||(t=t.J(),this.Uc(),this.ba.yj=t,this.g("toSpot",e,t),as(this))}},toEndSegmentLength:{get:function(){return null!==this.ba?this.ba.wj:10},set:function(t){var e=this.toEndSegmentLength;e!==t&&(0>t&&_(t,">= 0",Aa,"toEndSegmentLength"),this.Uc(),this.ba.wj=t,this.g("toEndSegmentLength",e,t),as(this))}},toShortLength:{get:function(){return null!==this.ba?this.ba.xj:0},set:function(t){var e=this.toShortLength;e!==t&&(this.Uc(),this.ba.xj=t,this.g("toShortLength",e,t),as(this))}},toLinkable:{get:function(){return null!==this.ba?this.ba.Qr:null},set:function(t){var e=this.toLinkable;e!==t&&(this.Uc(),this.ba.Qr=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.ba?this.ba.Rr:1/0},set:function(t){var e=this.toMaxLinks;e!==t&&(0>t&&_(t,">= 0",Aa,"toMaxLinks"),this.Uc(),this.ba.Rr=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.ba?this.ba.Xi:Jt},set:function(t){var e=this.fromSpot;e.C(t)||(t=t.J(),this.Uc(),this.ba.Xi=t,this.g("fromSpot",e,t),as(this))}},fromEndSegmentLength:{get:function(){return null!==this.ba?this.ba.Vi:10},set:function(t){var e=this.fromEndSegmentLength;e!==t&&(0>t&&_(t,">= 0",Aa,"fromEndSegmentLength"),this.Uc(),this.ba.Vi=t,this.g("fromEndSegmentLength",e,t),as(this))}},fromShortLength:{get:function(){return null!==this.ba?this.ba.Wi:0},set:function(t){var e=this.fromShortLength;e!==t&&(this.Uc(),this.ba.Wi=t,this.g("fromShortLength",e,t),as(this))}},fromLinkable:{get:function(){return null!==this.ba?this.ba.eq:null},set:function(t){var e=this.fromLinkable;e!==t&&(this.Uc(),this.ba.eq=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.ba?this.ba.fq:1/0},set:function(t){var e=this.fromMaxLinks;e!==t&&(0>t&&_(t,">= 0",Aa,"fromMaxLinks"),this.Uc(),this.ba.fq=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return null!==this.A?this.A.j:""},set:function(t){var e=this.cursor;e!==t&&(Oa(this),this.A.j=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.A?this.A.yh:null},set:function(t){var e=this.click;e!==t&&(Oa(this),this.A.yh=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.A?this.A.Eh:null},set:function(t){var e=this.doubleClick;e!==t&&(Oa(this),this.A.Eh=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.A?this.A.Ah:null},set:function(t){var e=this.contextClick;e!==t&&(Oa(this),this.A.Ah=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.A?this.A.Mh:null},set:function(t){var e=this.mouseEnter;e!==t&&(Oa(this),this.A.Mh=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.A?this.A.Ph:null},set:function(t){var e=this.mouseLeave;e!==t&&(Oa(this),this.A.Ph=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.A?this.A.Qh:null},set:function(t){var e=this.mouseOver;e!==t&&(Oa(this),this.A.Qh=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.A?this.A.Oh:null},set:function(t){var e=this.mouseHover;e!==t&&(Oa(this),this.A.Oh=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.A?this.A.Nh:null},set:function(t){var e=this.mouseHold;e!==t&&(Oa(this),this.A.Nh=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.A?this.A.Of:null},set:function(t){var e=this.mouseDragEnter;e!==t&&(Oa(this),this.A.Of=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.A?this.A.Vd:null},set:function(t){var e=this.mouseDragLeave;e!==t&&(Oa(this),this.A.Vd=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.A?this.A.Lh:null},set:function(t){var e=this.mouseDrop;e!==t&&(Oa(this),this.A.Lh=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.A?this.A.V:null},set:function(t){var e=this.actionDown;e!==t&&(Oa(this),this.A.V=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.A?this.A.ga:null},set:function(t){var e=this.actionMove;e!==t&&(Oa(this),this.A.ga=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.A?this.A.Ha:null},set:function(t){var e=this.actionUp;e!==t&&(Oa(this),this.A.Ha=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.A?this.A.F:null},set:function(t){var e=this.actionCancel;e!==t&&(Oa(this),this.A.F=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.A?this.A.$h:null},set:function(t){var e=this.toolTip;e!==t&&(Oa(this),this.A.$h=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.A?this.A.Bh:null},set:function(t){var e=this.contextMenu;e!==t&&(Oa(this),this.A.Bh=t,this.g("contextMenu",e,t))}}}),Aa.prototype.trigger=Aa.prototype.Hv,Aa.prototype.findBindingPanel=Aa.prototype.hh,Aa.prototype.findTemplateBinder=Aa.prototype.qz,Aa.prototype.setProperties=Aa.prototype.nm,Aa.prototype.apply=Aa.prototype.apply,Aa.prototype.attach=Aa.prototype.Cu,Aa.prototype.set=Aa.prototype.set,Aa.prototype.isEnabledObject=Aa.prototype.If,Aa.prototype.isVisibleObject=Aa.prototype.Rd,Aa.prototype.isContainedBy=Aa.prototype.qg,Aa.prototype.getNearestIntersectionPoint=Aa.prototype.os,Aa.prototype.getLocalPoint=Aa.prototype.ns,Aa.prototype.getDocumentScale=Aa.prototype.Df,Aa.prototype.getDocumentAngle=Aa.prototype.li,Aa.prototype.getDocumentBounds=Aa.prototype.mi,Aa.prototype.getDocumentPoint=Aa.prototype.ka,Aa.prototype.intersectsRect=Aa.prototype.Vc,Aa.prototype.containedInRect=Aa.prototype.eh,Aa.prototype.containsRect=Aa.prototype.Qe,Aa.prototype.containsPoint=Aa.prototype.ca,Aa.prototype.raiseChanged=Aa.prototype.g,Aa.prototype.raiseChangedEvent=Aa.prototype.cb,Aa.prototype.addCopyProperty=Aa.prototype.Tw;var ds=null;function fs(){this.mc=!1,this.wa="",this.xp=-1,this.nb=this.wm=this.se=null,this.j="",this.hb=this.Di=this.Ib=this.Bh=this.$h=this.F=this.Ha=this.ga=this.V=this.Lh=this.Vd=this.Of=this.Nh=this.Oh=this.Qh=this.Ph=this.Mh=this.Ah=this.Eh=this.yh=null,this.u=kt,this.o=Pt,this.gg=ma,this.ob=this.Bi=1,this.Pf=da,this.Oc=this.Ci=this.pd=null,this.Nc="category"}function ps(){this.u=-1/0,this.o=0,this.F=it,this.nr=Yc,this.j=this.V="None"}function gs(){this.yj=this.Xi=ke,this.xj=this.Wi=this.wj=this.Vi=NaN,this.Qr=this.eq=null,this.Rr=this.fq=1/0}function ms(){this.ia=[1,0,0,1,0,0]}function vs(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.gx=[],this.pattern=null}function ys(t,e,i){this.ownerDocument=t=void 0===e?m.document:e,this.bA="http://www.w3.org/2000/svg",void 0!==t&&(this.La=this.Sd("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",this.La.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.La.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.es=null,this.context=new bs(this,i)}function bs(t,e){this.Ev=t,this.svg=t.La,this.stack=[],this.mh=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.Gl=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Ug=this.yr=this.xr=0,this.wd=this.Ad=null,this.path=[],this.Xl={},this.zt=!1,this.Xg=null,this.uj=0,this.Eb=new ms,this.j=Ps(this),this.Nj=Ps(this,"gojs-diagram"),this.Fl=this.ti=null;var i=st++,n=this.Sd("clipPath",{id:"mainClip"+i});n.appendChild(this.Sd("rect",{x:0,y:0,width:t.width,height:t.height})),this.uw=n,this.svg.appendChild(this.j),this.j.appendChild(this.Nj),this.svg.appendChild(n),this.j.setAttributeNS(null,"clip-path","url(#mainClip"+i+")"),this.dA={},this.isTemporary=!!e,this.filter="",this.ak=null}function xs(t,e,i,n,r,o,a){void 0===t.Nj?Ms(t,e,i,n,r,o,a):t.Nj.setAttribute("transform","matrix("+e+", "+i+", "+n+", "+r+", "+o+", "+a+")")}function ws(t,e,i,n){"fill"===e?ks(t,i):"stroke"===e&&Ss(t,i),null!==n&&(t=n.ia,i.transform="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")")}function ks(t,e){t.fillStyle instanceof vs?e.fill=Cs(t,t.fillStyle,!0):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),e.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",e["fill-opacity"]=t[4]):e.fill=t.fillStyle}function _s(t,e,i){i=i?"fill":"stroke",t.fillStyle instanceof vs?e.setAttributeNS(null,"fill",Cs(t,t.fillStyle,!0)):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),e.setAttributeNS(null,i,"rgb("+t[1]+","+t[2]+","+t[3]+")"),e.setAttributeNS(null,i+"-opacity",t[4])):e.setAttributeNS(null,i,t.fillStyle)}function Ss(t,e){if(t.strokeStyle instanceof vs)e.stroke=Cs(t,t.strokeStyle,!1);else if(/^rgba\(/.test(t.strokeStyle)){var i=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle);e.stroke="rgb("+i[1]+","+i[2]+","+i[3]+")",e["stroke-opacity"]=i[4]}else e.stroke=t.strokeStyle;e["stroke-width"]=t.lineWidth,e["stroke-linecap"]=t.lineCap,e["stroke-linejoin"]=t.lineJoin,e["stroke-miterlimit"]=t.miterLimit,t.zt&&(e["stroke-dasharray"]=t.Xg.toString(),e["stroke-dashoffset"]=t.uj)}function Cs(t,e,i){var n="";if(null!==(n=null!==t.Fl?t.Fl.getAttribute(i?"fill":"stroke"):null)&&-1!==n.indexOf("GRAD")?(n=n.split("#")[1].slice(0,-1),t.svg.getElementById(n).remove()):n="GRAD"+st++,"linear"===e.type)i=t.Sd("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:n,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");i=t.Sd("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:n})}var r=e.gx;e=r.length;for(var o=[],a=0;a<e;a++){var s=r[a],l=s.color;s={offset:s.offset,"stop-color":l},/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),s["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",s["stop-opacity"]=l[4]),o.push(s)}for(o.sort((function(t,e){return t.offset>e.offset?1:-1})),r=0;r<e;r++)i.appendChild(t.Sd("stop",o[r]));return t.svg.appendChild(i),"url(#"+n+")"}function Ms(t,e,i,n,r,o,a){var s=new ms;s.ia=[e,i,n,r,o,a],ws(t,"g",e={},s),s=t.addElement("g",e),t.mh.push(s)}function Ps(t,e){var i={};return e&&(i.class=e),e=t.addElement("g",i),t.mh.push(e),e}function Ts(t){t.Gl=!1,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Ds(t){t.Gl=!0,t.shadowOffsetX=t.xr,t.shadowOffsetY=t.yr,t.shadowBlur=t.Ug}function Ns(t,e){null!==(e=e.getAttribute("fill"))&&(1!==(e=e.split("#")).length&&(null!==(e=t.svg.getElementById(e[1].slice(0,-1)))&&1===t.svg.innerHTML.match(new RegExp(e.id,"g")).length&&e.remove()))}function Is(t,e,i,n){this.ownerDocument=e=void 0===e?m.document:e,this.es=null,(e=e.createElement("canvas")).tabIndex=0,this.La=e,this.La.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Es(e,i,n),e.H=t}function Es(t,e,i){this.Z=t.getContext?t.getContext("2d",e):null,null===this.Z&&w("Browser does not support HTML Canvas Element"),this.Zs=this.at=this.$s="",this.Hm=!1,this.Ug=this.yr=this.xr=0,this.Gl=!1,this.Cl=new He,this.isTemporary=!!i}Aa.className="GraphObject",ds=new ft,hs("Button",(function(){function t(t,e){return null!==t.diagram.hc(t.documentPoint,(function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t}),(function(t){return t===e}))}var e=ls(Ml,Ml.Auto,{isActionable:!0,enabledChanged:function(t,e){if(t instanceof Ml){var i=t.fb("ButtonBorder");null!==i&&(i.fill=e?t._buttonFillNormal:t._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},ls(fu,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new Re(0,0,2.76142374915397,2.761423749153969),spot2:new Re(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(t,e){if(e.If()&&e instanceof Ml&&(t=e.fb("ButtonBorder"))instanceof fu){var i=e._buttonFillOver;e._buttonFillNormal=t.fill,t.fill=i,i=e._buttonStrokeOver,e._buttonStrokeNormal=t.stroke,t.stroke=i}},e.mouseLeave=function(t,e){e.If()&&e instanceof Ml&&((t=e.fb("ButtonBorder"))instanceof fu&&(t.fill=e._buttonFillNormal,t.stroke=e._buttonStrokeNormal))},e.actionDown=function(t,e){if(e.If()&&e instanceof Ml&&null!==e._buttonFillPressed&&0===t.button){var i=e.fb("ButtonBorder");if(i instanceof fu){var n=(t=t.diagram).skipsUndoManager;t.skipsUndoManager=!0;var r=e._buttonFillPressed;e._buttonFillOver=i.fill,i.fill=r,r=e._buttonStrokePressed,e._buttonStrokeOver=i.stroke,i.stroke=r,t.skipsUndoManager=n}}},e.actionUp=function(e,i){if(i.If()&&i instanceof Ml&&null!==i._buttonFillPressed&&0===e.button){var n=i.fb("ButtonBorder");if(n instanceof fu){var r=e.diagram,o=r.skipsUndoManager;r.skipsUndoManager=!0,t(e,i)?(n.fill=i._buttonFillOver,n.stroke=i._buttonStrokeOver):(n.fill=i._buttonFillNormal,n.stroke=i._buttonStrokeNormal),r.skipsUndoManager=o}}},e.actionCancel=function(e,i){if(i.If()&&i instanceof Ml&&null!==i._buttonFillPressed){var n=i.fb("ButtonBorder");if(n instanceof fu){var r=e.diagram,o=r.skipsUndoManager;r.skipsUndoManager=!0,t(e,i)?(n.fill=i._buttonFillOver,n.stroke=i._buttonStrokeOver):(n.fill=i._buttonFillNormal,n.stroke=i._buttonStrokeNormal),r.skipsUndoManager=o}}},e.actionMove=function(e,i){if(i.If()&&i instanceof Ml&&null!==i._buttonFillPressed){var n=e.diagram;if(0===n.firstInput.button&&(n.currentTool.standardMouseOver(),t(e,i)&&(e=i.fb("ButtonBorder"))instanceof fu)){var r=n.skipsUndoManager;n.skipsUndoManager=!0;var o=i._buttonFillPressed;e.fill!==o&&(e.fill=o),o=i._buttonStrokePressed,e.stroke!==o&&(e.stroke=o),n.skipsUndoManager=r}}},e})),hs("TreeExpanderButton",(function(){var t=ls("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},ls(fu,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Ct},new Hf("figure","isTreeExpanded",(function(t,e){return e=e.panel,t?e._treeExpandedFigure:e._treeCollapsedFigure})).ap()),{visible:!1},new Hf("visible","isTreeLeaf",(function(t){return!t})).ap());return t.click=function(t,e){if((e=e.part)instanceof Kh&&(e=e.adornedPart),e instanceof Xh){var i=e.diagram;if(null!==i){if(i=i.commandHandler,e.isTreeExpanded){if(!i.canCollapseTree(e))return}else if(!i.canExpandTree(e))return;t.handled=!0,e.isTreeExpanded?i.collapseTree(e):i.expandTree(e)}}},t})),hs("SubGraphExpanderButton",(function(){var t=ls("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},ls(fu,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Ct},new Hf("figure","isSubGraphExpanded",(function(t,e){return e=e.panel,t?e._subGraphExpandedFigure:e._subGraphCollapsedFigure})).ap()));return t.click=function(t,e){if((e=e.part)instanceof Kh&&(e=e.adornedPart),e instanceof pc){var i=e.diagram;if(null!==i){if(i=i.commandHandler,e.isSubGraphExpanded){if(!i.canCollapseSubGraph(e))return}else if(!i.canExpandSubGraph(e))return;t.handled=!0,e.isSubGraphExpanded?i.collapseSubGraph(e):i.expandSubGraph(e)}}},t})),hs("ToolTip",(function(){return ls(Kh,Ml.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new pt(0,3),shadowBlur:5},ls(fu,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new Re(0,0,4,6),spot2:new Re(1,1,-4,-4)}))})),hs("ContextMenu",(function(){return ls(Kh,Ml.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new pt(0,3),shadowBlur:5},new Hf("background","",(function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"})))})),hs("ContextMenuButton",(function(){var t=ls("Button");t.stretch=pa;var e=t.fb("ButtonBorder");return e instanceof fu&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new Re(0,0,2,3),e.spot2=new Re(1,1,-2,-2)),t})),hs("PanelExpanderButton",(function(t){var e=cs(t,"COLLAPSIBLE"),i=ls("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},ls(fu,{name:"ButtonIcon",strokeWidth:2},new Hf("geometryString","visible",(function(t){return t?i._buttonExpandedFigure:i._buttonCollapsedFigure})).ap(e)));return(t=i.fb("ButtonBorder"))instanceof fu&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),i.click=function(t,i){var n=i.diagram;if(null!==n&&!n.isReadOnly){var r=i.hh();null===r&&(r=i.part),null!==r&&(null!==(i=r.fb(e))&&(t.handled=!0,n.Ea("Collapse/Expand Panel"),i.visible=!i.visible,n.eb("Collapse/Expand Panel")))}},i})),hs("CheckBoxButton",(function(t){var e=cs(t);return(t=ls("Button",{desiredSize:new Nt(14,14)},ls(fu,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:ca,geometryStretch:fa,visible:!1},""!==e?new Hf("visible",e).Lx():[]))).click=function(t,i){if(i instanceof Ml){var n=t.diagram;if(!(null===n||n.isReadOnly||""!==e&&n.model.isReadOnly)){t.handled=!0;var r=i.fb("ButtonIcon");n.Ea("checkbox"),r.visible=!r.visible,"function"===typeof i._doClick&&i._doClick(t,i),n.eb("checkbox")}}},t})),hs("CheckBox",(function(t){t=ls("CheckBoxButton",t=cs(t),{name:"Button",isActionable:!1,margin:new Xt(0,1,0,0)});var e=ls(Ml,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:new Xt(1),_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e})),Aa.None=da=new z(Aa,"None",0),Aa.Default=ma=new z(Aa,"Default",0),Aa.Vertical=ga=new z(Aa,"Vertical",4),Aa.Horizontal=pa=new z(Aa,"Horizontal",5),Aa.Fill=ca=new z(Aa,"Fill",3),Aa.Uniform=fa=new z(Aa,"Uniform",1),Aa.UniformToFill=va=new z(Aa,"UniformToFill",2),Aa.FlipVertical=ya=new z(Aa,"FlipVertical",1),Aa.FlipHorizontal=ba=new z(Aa,"FlipHorizontal",2),Aa.FlipBoth=xa=new z(Aa,"FlipBoth",3),Aa.make=ls,Aa.getBuilders=function(){var t,e=new ft;for(t in ds)if(t!==t.toLowerCase()){var i=ds.I(t);"function"===typeof i&&e.add(t,i)}return e.freeze(),e},Aa.defineBuilder=hs,Aa.build=function(t,e,i){for(var n=[],r=2;r<arguments.length;++r)n[r-2]=arguments[r];if("function"===typeof(r=ds.I(t))&&(n=r([t].concat(n)))instanceof Aa)return e&&n.set(e),n;w('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')},Aa.takeBuilderArgument=cs,fs.prototype.copy=function(){var t=new fs;return t.wa=this.wa,t.xp=this.xp,t.se=this.se,t.nb=this.nb,t.j=this.j,t.yh=this.yh,t.Eh=this.Eh,t.Ah=this.Ah,t.Mh=this.Mh,t.Ph=this.Ph,t.Qh=this.Qh,t.Oh=this.Oh,t.Nh=this.Nh,t.Of=this.Of,t.Vd=this.Vd,t.Lh=this.Lh,t.V=this.V,t.ga=this.ga,t.Ha=this.Ha,t.F=this.F,t.$h=this.$h,t.Bh=this.Bh,t.Ib=this.Ib,t.Di=this.Di,t.hb=this.hb,t.u=this.u.J(),t.o=this.o.J(),t.gg=this.gg,t.Bi=this.Bi,t.ob=this.ob,t.Pf=this.Pf,t.pd=this.pd,t.Ci=this.Ci,t.Oc=this.Oc,t.Nc=this.Nc,t},ps.prototype.copy=function(){var t=new ps;return t.u=this.u,t.o=this.o,t.F=this.F.J(),t.nr=this.nr,t.V=this.V,t.j=this.j,t},ps.className="LinkElementSettings",gs.prototype.copy=function(){var t=new gs;return t.Xi=this.Xi.J(),t.yj=this.yj.J(),t.Vi=this.Vi,t.wj=this.wj,t.Wi=this.Wi,t.xj=this.xj,t.eq=this.eq,t.Qr=this.Qr,t.fq=this.fq,t.Rr=this.Rr,t},gs.className="LinkSettings",ms.prototype.copy=function(){var t=new ms;return t.ia[0]=this.ia[0],t.ia[1]=this.ia[1],t.ia[2]=this.ia[2],t.ia[3]=this.ia[3],t.ia[4]=this.ia[4],t.ia[5]=this.ia[5],t},ms.prototype.translate=function(t,e){this.ia[4]+=this.ia[0]*t+this.ia[2]*e,this.ia[5]+=this.ia[1]*t+this.ia[3]*e},ms.prototype.scale=function(t,e){this.ia[0]*=t,this.ia[1]*=t,this.ia[2]*=e,this.ia[3]*=e},ms.prototype.rotate=function(t,e,i){if(360<=t?t-=360:0>t&&(t+=360),0!==t){if(this.translate(e,i),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));var r=this.ia[1]*t+this.ia[3]*n,o=this.ia[0]*-n+this.ia[2]*t,a=this.ia[1]*-n+this.ia[3]*t;this.ia[0]=this.ia[0]*t+this.ia[2]*n,this.ia[1]=r,this.ia[2]=o,this.ia[3]=a,this.translate(-e,-i)}},ms.className="STransform",vs.prototype.addColorStop=function(t,e){this.gx.push({offset:t,color:e})},vs.className="SGradient",ys.prototype.resize=function(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=i+"px",this.style.height=n+"px",this.La.setAttributeNS(null,"width",i+"px"),this.La.setAttributeNS(null,"height",n+"px"),this.La.setAttributeNS(null,"viewBox","0 0 "+i+" "+n),this.context.uw.firstElementChild.setAttributeNS(null,"width",i+"px"),this.context.uw.firstElementChild.setAttributeNS(null,"height",n+"px"),!0)},ys.prototype.Sd=function(t,e,i){if(t=this.ownerDocument.createElementNS(this.bA,t),C(e))for(var n in e)t.setAttributeNS("href"===n?"http://www.w3.org/1999/xlink":"",n,e[n]);return void 0!==i&&(t.textContent=i),t},ys.prototype.getBoundingClientRect=function(){return this.La.getBoundingClientRect()},ys.prototype.focus=function(){this.La.focus()},ys.prototype.mx=function(){this.ownerDocument=null},d.Object.defineProperties(ys.prototype,{width:{get:function(){return this.La.width.baseVal.value},set:function(t){this.La.setAttribute("width",t+"px")}},height:{get:function(){return this.La.height.baseVal.value},set:function(t){this.La.setAttribute("height",t+"px")}},style:{get:function(){return this.La.style}}}),ys.className="SVGSurface",(e=bs.prototype).arc=function(t,e,i,n,r,o,a,s){var l=2*Math.PI,u=l-1e-6,h=i*Math.cos(n),c=i*Math.sin(n),d=t+h,f=e+c,p=o?0:1;n=o?n-r:r-n,(1e-6<Math.abs(a-d)||1e-6<Math.abs(s-f))&&this.path.push(["L",d,+f]),0>n&&(n=n%l+l),n>u?(this.path.push(["A",i,i,0,1,p,t-h,e-c]),this.path.push(["A",i,i,0,1,p,d,f])):1e-6<n&&this.path.push(["A",i,i,0,+(n>=Math.PI),p,t+i*Math.cos(r),e+i*Math.sin(r)])},e.beginPath=function(){this.path=[],this.Xl={stroke:"none",fill:"none"}},e.Re=function(t){this.addPath(this.path,this.Eb,t||0)},e.bezierCurveTo=function(t,e,i,n,r,o){this.path.push(["C",t,e,i,n,r,o])},e.clearRect=function(){},e.clip=function(){this.Xl.clipPath=!0},e.closePath=function(){this.path.push(["z"])},e.createLinearGradient=function(t,e,i,n){var r=new vs("linear");return r.x1=t,r.y1=e,r.x2=i,r.y2=n,r},e.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var i=this.dA;if(i[e])return"url(#"+i[e]+")";var n="PATTERN"+st++,r={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Sd("pattern",{width:t.width,height:t.height,id:n,patternUnits:"userSpaceOnUse"})).appendChild(this.Sd(oa,r)),this.svg.appendChild(t),i[e]=n,"url(#"+n+")"},e.createRadialGradient=function(t,e,i,n,r,o){var a=new vs("radial");return a.x1=t,a.y1=e,a.r1=i,a.x2=n,a.y2=r,a.r2=o,a},e.drawImage=function(t,e,i,n,r,o,a,s,l){var u="";t instanceof HTMLCanvasElement&&(u=t.toDataURL()),t instanceof HTMLImageElement&&(u=t.getAttribute("src"));var h=t instanceof HTMLImageElement?t.naturalWidth:t.width;t=t instanceof HTMLImageElement?t.naturalHeight:t.height,void 0===n&&(o=e,a=i,s=n=h,l=r=t),n=n||0,r=r||0,o=o||0,a=a||0,s=s||0,l=l||0;var c={x:0,y:0,width:h||n,height:t||r,href:u};We.$(n,s)&&We.$(r,l)?-1===u.toLowerCase().indexOf(".svg")&&-1===u.toLowerCase().indexOf("data:image/svg")&&(c.preserveAspectRatio="xMidYMid slice"):c.preserveAspectRatio="none",s/=n,l/=r,0===o&&0===a||this.Eb.translate(o,a),1===s&&1===l||this.Eb.scale(s,l),0===e&&0===i||this.Eb.translate(-e,-i),0===e&&0===i&&n===h&&r===t||(n+=e,r+=i,c["clip-path"]="path('M "+e+","+i+" L "+n+" "+i+" L "+n+" "+r+" L "+e+" "+r+" z')"),ws(this,oa,c,this.Eb),this.addElement(oa,c)},e.fill=function(t){t&&(this.Xl["fill-rule"]="evenodd"),ks(this,this.Xl)},e.mg=function(t,e){this.clipInsteadOfFill?this.clip():this.fill(e)},e.fillRect=function(t,e,i,n){ws(this,"fill",t={x:(t=[t,e,i,n])[0],y:t[1],width:t[2],height:t[3]},this.Eb),this.addElement("rect",t)},e.ox=function(t,e,i,n){ws(this,"fill",t={x:t,y:e,width:i,height:n},this.Eb),ks(this,t),this.svg.prepend(this.Sd("rect",t))},e.fillText=function(t,e,i){t=[t,e,i],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),ws(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.Eb),this.addElement("text",e,t[0])},e.lineTo=function(t,e){this.path.push(["L",t,e])},e.moveTo=function(t,e){this.path.push(["M",t,e])},e.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},e.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},e.restore=function(){this.Eb=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign,this.ak=t.ak},e.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,ak:this.ak});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Eb.copy())},e.setTransform=function(t,e,i,n,r,o){1===t&&0===e&&0===i&&1===n&&0===r&&0===o||Ms(this,t,e,i,n,r,o)},e.scale=function(t,e){this.Eb.scale(t,e)},e.translate=function(t,e){this.Eb.translate(t,e)},e.transform=function(){},e.xc=function(){},e.stroke=function(){Ss(this,this.Xl)},e.hk=function(){this.clipInsteadOfFill||this.stroke()},e.Sd=function(t,e,i){return this.Ev.Sd(t,e,i)},e.addElement=function(t,e,i){return t=this.Sd(t,e,i),null!==this.wd?this.wd.appendChild(t):this.wd=t,this.Ad=t},e.addPath=function(t,e,i){for(var n=[],r=0;r<t.length;r++){var o=P(t[r]),a=[o.shift()];if("A"===a[0])a.push(o.shift()+","+o.shift(),o.shift(),o.shift()+","+o.shift(),o.shift()+","+o.shift());else for(;o.length;)a.push(o.shift()+","+o.shift());n.push(a.join(" "))}if(n=n.join(" "),(t=this.Xl).clipPath)0<this.mh.length&&this.mh[this.mh.length-1].setAttributeNS(null,"clip-path",'path("'+n+'")');else if(t.d=n,ws(this,"",t,e),null!==this.Fl)if("g"!==(e=this.Fl).nodeName)for(var s in t)"transform"!==s&&e.setAttributeNS(null,s,t[s]);else for(var l in s=e.getElementsByTagName("path"),t)"transform"!==l&&s[i].setAttributeNS(null,l,t[l]);else this.addElement("path",t)},e.Cv=function(t,e,i){this.xr=t,this.yr=e,this.Ug=i},e.fs=function(t,e){this.zt=!0,this.Xg=t,this.uj=e},e.cs=function(){this.zt=!1},e.Sc=function(){},e.Yx=function(){},bs.prototype.rotate=function(t){this.Eb.rotate(57.2958*t,0,0)},bs.prototype.getImageData=function(){return null},bs.prototype.measureText=function(){return null},bs.prototype.Es=function(t){null!==t.svg&&t.svg.parentNode===this.Nj&&t.svg.remove()},bs.className="SVGContext",Pr.prototype.zs=function(t){this.pj.contains("SVG")||this.Yr("SVG",new ys(this,m.document));var e=new ys(this,m.document,!0);void 0===t&&(t=new W);var i=this;return Ro(this,(function(t,n){return t=null!==(t=jo(i,t,"SVG",e))?t.svg:null,"function"===typeof n?(n(t),null):t}),t)},Pr.prototype.makeSvg=Pr.prototype.zs,Pr.prototype.av=function(t){return this.zs(t)},Pr.prototype.makeSVG=Pr.prototype.av,Is.prototype.resize=function(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=i+"px",this.style.height=n+"px",!0)},Is.prototype.toDataURL=function(t,e){return this.La.toDataURL(t,e)},Is.prototype.getBoundingClientRect=function(){return this.La.getBoundingClientRect()},Is.prototype.focus=function(){this.La.focus()},Is.prototype.mx=function(){this.ownerDocument=this.La.H=null},d.Object.defineProperties(Is.prototype,{width:{get:function(){return this.La.width},set:function(t){this.La.width=t}},height:{get:function(){return this.La.height},set:function(t){this.La.height=t}},style:{get:function(){return this.La.style}}}),Is.className="CanvasSurface",(e=Es.prototype).Yx=function(t){this.Z.imageSmoothingEnabled=t},e.arc=function(t,e,i,n,r,o){this.Z.arc(t,e,i,n,r,o)},e.beginPath=function(){this.Z.beginPath()},e.Re=function(){},e.bezierCurveTo=function(t,e,i,n,r,o){this.Z.bezierCurveTo(t,e,i,n,r,o)},e.clearRect=function(t,e,i,n){this.xc(),this.Z.clearRect(t,e,i,n)},e.clip=function(){this.Z.clip()},e.closePath=function(){this.Z.closePath()},e.createLinearGradient=function(t,e,i,n){return this.Z.createLinearGradient(t,e,i,n)},e.createPattern=function(t,e){return this.Z.createPattern(t,e)},e.createRadialGradient=function(t,e,i,n,r,o){return this.Z.createRadialGradient(t,e,i,n,r,o)},e.drawImage=function(t,e,i,n,r,o,a,s,l){void 0===n?this.Z.drawImage(t,e,i):this.Z.drawImage(t,e,i,n,r,o,a,s,l)},e.fill=function(t){this.Z.fill(t?"evenodd":"nonzero")},e.fillRect=function(t,e,i,n){this.Z.fillRect(t,e,i,n)},e.ox=function(t,e,i,n){this.Z.fillRect(t,e,i,n)},e.fillText=function(t,e,i){this.Z.fillText(t,e,i)},e.getImageData=function(t,e,i,n){return this.Z.getImageData(t,e,i,n)},e.lineTo=function(t,e){this.Z.lineTo(t,e)},e.measureText=function(t){return this.Z.measureText(t)},e.moveTo=function(t,e){this.Z.moveTo(t,e)},e.quadraticCurveTo=function(t,e,i,n){this.Z.quadraticCurveTo(t,e,i,n)},e.rect=function(t,e,i,n){this.Z.rect(t,e,i,n)},e.restore=function(){this.Z.restore()},e.save=function(){this.xc(),this.Z.save()},Es.prototype.rotate=function(t){this.Cl.rotate(57.2958*t,0,0)},(e=Es.prototype).setTransform=function(t,e,i,n,r,o){this.Cl.setTransform(t,e,i,n,r,o)},e.scale=function(t,e){this.Cl.scale(t,e)},e.translate=function(t,e){this.Cl.translate(t,e)},e.stroke=function(){this.Z.stroke()},e.transform=function(t,e,i,n,r,o){if(1!==t||0!==e||0!==i||1!==n||0!==r||0!==o){var a=this.Cl,s=a.m11*t+a.m21*e;t=a.m12*t+a.m22*e,e=a.m11*i+a.m21*n,i=a.m12*i+a.m22*n,a.dx=a.m11*r+a.m21*o+a.dx,a.dy=a.m12*r+a.m22*o+a.dy,a.m11=s,a.m12=t,a.m21=e,a.m22=i}},e.xc=function(){var t=this.Cl;this.Z.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)},e.mg=function(t,e){if(t instanceof Ls&&t.type===Js){var i=t.wk;(t=t.bt)>i?(this.scale(i/t,1),this.translate((t-i)/2,0)):i>t&&(this.scale(1,t/i),this.translate(0,(i-t)/2)),this.Hm?this.clip():this.fill(e),t>i?(this.translate(-(t-i)/2,0),this.scale(1/(i/t),1)):i>t&&(this.translate(0,-(i-t)/2),this.scale(1,1/(t/i)))}else this.Hm?this.clip():this.fill(e)},e.hk=function(){this.Hm||this.stroke()},e.Cv=function(t,e,i){this.xr=t,this.yr=e,this.Ug=i},e.fs=function(t,e){var i=this.Z;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=e)},e.cs=function(){var t=this.Z;void 0!==t.setLineDash&&(t.setLineDash(As),t.lineDashOffset=0)},e.Sc=function(t){t&&(this.$s=""),this.Zs=this.at=""},e.Es=function(){},d.Object.defineProperties(Es.prototype,{fillStyle:{get:function(){return this.Z.fillStyle},set:function(t){this.Zs!==t&&(this.Zs=this.Z.fillStyle=t)}},font:{get:function(){return this.Z.font},set:function(t){this.$s!==t&&(this.$s=this.Z.font=t)}},globalAlpha:{get:function(){return this.Z.globalAlpha},set:function(t){this.Z.globalAlpha=t}},lineCap:{get:function(){return this.Z.lineCap},set:function(t){this.Z.lineCap=t}},lineDashOffset:{get:function(){return this.Z.lineDashOffset},set:function(t){this.Z.lineDashOffset=t}},lineJoin:{get:function(){return this.Z.lineJoin},set:function(t){this.Z.lineJoin=t}},lineWidth:{get:function(){return this.Z.lineWidth},set:function(t){this.Z.lineWidth=t}},miterLimit:{get:function(){return this.Z.miterLimit},set:function(t){this.Z.miterLimit=t}},shadowBlur:{get:function(){return this.Z.shadowBlur},set:function(t){this.Z.shadowBlur=t}},shadowColor:{get:function(){return this.Z.shadowColor},set:function(t){this.Z.shadowColor=t}},shadowOffsetX:{get:function(){return this.Z.shadowOffsetX},set:function(t){this.Z.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Z.shadowOffsetY},set:function(t){this.Z.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Z.strokeStyle},set:function(t){this.at!==t&&(this.at=this.Z.strokeStyle=t)}},textAlign:{get:function(){return this.Z.textAlign},set:function(t){this.Z.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Z.imageSmoothingEnabled},set:function(t){this.Z.imageSmoothingEnabled=t}},filter:{get:function(){return this.Z.filter},set:function(t){this.Z.filter=""===t?"none":t}},clipInsteadOfFill:{get:function(){return this.Hm},set:function(t){this.Hm=t}}});var As=Object.freeze([]);function Os(){this.F=this.o=this.u=this.j=0}function Ls(t,e){ul||(Xs(),ul=!0),$(this),this._isFrozen=!1,void 0===t?(this.na=qs,this.vk="black"):"string"===typeof t?(this.na=qs,this.vk=t):(this.na=t,this.vk="black"),(t=this.na)===Zs?(this.Md=$t,this.Jk=oe):this.Jk=this.Md=t===Js?ie:Jt,this.Dr=0,this.Up=NaN,this.we=this.$q=this.ve=null,this.bt=this.wk=0,e&&Object.assign(this,e)}function Rs(t,e,i){return e=void 0===e||"number"!==typeof e?.2:e,i=void 0===i?$s:i,Hs(t),zs(e,i)}function js(t,e,i){return e=void 0===e||"number"!==typeof e?.2:e,i=void 0===i?$s:i,Hs(t),zs(-e,i)}function Bs(t,e,i){Hs(t),t=ol.j;var n=ol.u,r=ol.o,o=ol.F;return Hs(e),void 0===i&&(i=.5),"rgba("+Math.round((ol.j-t)*i+t)+", "+Math.round((ol.u-n)*i+n)+", "+Math.round((ol.o-r)*i+r)+", "+Math.round((ol.F-o)*i+o)+")"}function Fs(t){return!!t&&(t instanceof Ls?t.Gx():(Hs(t),128>(299*ol.j+587*ol.u+114*ol.o)/1e3))}function zs(t,e){switch(e){case $s:e=100*Ws(ol.j);var i=100*Ws(ol.u),n=100*Ws(ol.o);return sl.j=.4124564*e+.3575761*i+.1804375*n,sl.u=.2126729*e+.7151522*i+.072175*n,sl.o=.0193339*e+.119192*i+.9503041*n,sl.F=ol.F,e=Gs(sl.j/nl[0]),i=Gs(sl.u/nl[1]),n=Gs(sl.o/nl[2]),ll.j=116*i-16,ll.u=500*(e-i),ll.o=200*(i-n),ll.F=sl.F,ll.j=Math.min(100,Math.max(0,ll.j+100*t)),e=(t=(ll.j+16)/116)-ll.o/200,sl.j=nl[0]*Ks(ll.u/500+t),sl.u=nl[1]*(ll.j>il*el?Math.pow(t,3):ll.j/il),sl.o=nl[2]*Ks(e),sl.F=ll.F,t=-.969266*sl.j+1.8760108*sl.u+.041556*sl.o,e=.0556434*sl.j+-.2040259*sl.u+1.0572252*sl.o,ol.j=255*Us((3.2404542*sl.j+-1.5371385*sl.u+-.4985314*sl.o)/100),ol.u=255*Us(t/100),ol.o=255*Us(e/100),ol.F=sl.F,ol.j=Math.round(ol.j),255<ol.j?ol.j=255:0>ol.j&&(ol.j=0),ol.u=Math.round(ol.u),255<ol.u?ol.u=255:0>ol.u&&(ol.u=0),ol.o=Math.round(ol.o),255<ol.o?ol.o=255:0>ol.o&&(ol.o=0),"rgba("+ol.j+", "+ol.u+", "+ol.o+", "+ol.F+")";case tl:return Vs(),al.o=Math.min(100,Math.max(0,al.o+100*t)),"hsla("+al.j+", "+al.u+"%, "+al.o+"%, "+al.F+")";default:w("Unknown color space: "+e)}}function Hs(t){ul||(Xs(),ul=!0);var e=rl;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var i=e.fillStyle;e.fillStyle=t,e.fillStyle!==i?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,ol.j=t[0],ol.u=t[1],ol.o=t[2],ol.F=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,ol.j=0,ol.u=0,ol.o=0,ol.F=1)}}function Vs(){var t=ol.j/255,e=ol.u/255,i=ol.o/255,n=Math.max(t,e,i),r=Math.min(t,e,i),o=n-r;if(r=(n+r)/2,0===o)var a=t=0;else{switch(n){case t:a=(e-i)/o%6;break;case e:a=(i-t)/o+2;break;case i:a=(t-e)/o+4}0>(a*=60)&&(a+=360),t=o/(1-Math.abs(2*r-1))}al.j=Math.round(a),al.u=Math.round(100*t),al.o=Math.round(100*r),al.F=ol.F}function Ws(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Us(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Gs(t){return t>el?Math.pow(t,1/3):(il*t+16)/116}function Ks(t){var e=t*t*t;return e>el?e:(116*t-16)/il}function Ys(t,e){"string"!==typeof t&&(t instanceof Ls||w("Value for "+e+" must be a color string or a Brush, not "+t))}function Xs(){rl=zo?new Is(null,void 0,{willReadFrequently:!0}).context:null}Es.className="CanvasSurfaceContext",Os.className="ColorNumbers",Ls.prototype.copy=function(){var t=new Ls;return t.na=this.na,t.vk=this.vk,t.Md=this.Md.J(),t.Jk=this.Jk.J(),t.Dr=this.Dr,t.Up=this.Up,null!==this.ve&&(t.ve=this.ve.copy()),t.$q=this.$q,t},(e=Ls.prototype).freeze=function(){return this._isFrozen=!0,null!==this.ve&&this.ve.freeze(),this},e.ja=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,null!==this.ve&&this.ve.ja(),this},e.qb=function(t){t.classType===Ls&&(this.type=t)},e.toString=function(){var t="Brush(";if(this.type===qs)t+=this.color;else if(t=this.type===Zs?t+"Linear ":this.type===Js?t+"Radial ":this.type===Qs?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},e.addColorStop=function(t,e){return this._isFrozen&&k(this),("number"!==typeof t||!isFinite(t)||1<t||0>t)&&_(t,"0 <= loc <= 1",Ls,"addColorStop:loc"),null===this.ve&&(this.ve=new ft),this.ve.add(t,e),this.na===qs&&(this.type=Zs),this.we=null,this},e.Vz=function(t,e){if(this._isFrozen&&k(this),t=void 0===t||"number"!==typeof t?.2:t,e=void 0===e?$s:e,this.type===qs)Hs(this.color),this.color=zs(t,e);else if((this.type===Zs||this.type===Js)&&null!==this.colorStops)for(var i=this.colorStops.iterator;i.next();)Hs(i.value),this.addColorStop(i.key,zs(t,e));return this},e.Xy=function(t,e){if(this._isFrozen&&k(this),t=void 0===t||"number"!==typeof t?.2:t,e=void 0===e?$s:e,this.type===qs)Hs(this.color),this.color=zs(-t,e);else if((this.type===Zs||this.type===Js)&&null!==this.colorStops)for(var i=this.colorStops.iterator;i.next();)Hs(i.value),this.addColorStop(i.key,zs(-t,e));return this},e.Gx=function(){if(this.type===qs)return Fs(this.color);if((this.type===Zs||this.type===Js)&&null!==this.colorStops){var t=this.colorStops;if(this.type===Js)return Fs(t.first().value);if(null!==t.get(.5))return Fs(t.get(.5));if(2===t.count)return Fs(Bs((t=t.Fa())[0].value,t[1].value));for(var e=t.iterator,i=-1,n=-1,r=1,o=1;e.next();){var a=e.key,s=Math.abs(.5-e.key);r>o&&s<r?(i=a,r=s):o>=r&&s<o&&(n=a,o=s)}return i>n&&(o=i,i=n,n=o,o=r),r=n-i,Fs(Bs(t.get(i),t.get(n),1-o/r))}return!1},d.Object.defineProperties(Ls.prototype,{type:{get:function(){return this.na},set:function(t){this._isFrozen&&k(this,t),this.na=t,this.start.Lc()&&(t===Zs?this.start=$t:t===Js&&(this.start=ie)),this.end.Lc()&&(t===Zs?this.end=oe:t===Js&&(this.end=ie)),this.we=null}},color:{get:function(){return this.vk},set:function(t){this._isFrozen&&k(this,t),this.vk=t,this.we=null}},start:{get:function(){return this.Md},set:function(t){this._isFrozen&&k(this,t),this.Md=t.J(),this.we=null}},end:{get:function(){return this.Jk},set:function(t){this._isFrozen&&k(this,t),this.Jk=t.J(),this.we=null}},startRadius:{get:function(){return this.Dr},set:function(t){this._isFrozen&&k(this,t),0>t&&_(t,">= zero",Ls,"startRadius"),this.Dr=t,this.we=null}},endRadius:{get:function(){return this.Up},set:function(t){this._isFrozen&&k(this,t),0>t&&_(t,">= zero",Ls,"endRadius"),this.Up=t,this.we=null}},colorStops:{get:function(){return this.ve},set:function(t){this._isFrozen&&k(this,t),this.ve=t,this.we=null}},pattern:{get:function(){return this.$q},set:function(t){this._isFrozen&&k(this,t),this.$q=t,this.we=null}}}),Ls.prototype.isDark=Ls.prototype.Gx,Ls.prototype.darkenBy=Ls.prototype.Xy,Ls.prototype.lightenBy=Ls.prototype.Vz,Ls.prototype.addColorStop=Ls.prototype.addColorStop;var qs,Zs,Js,Qs,$s,tl,el=216/24389,il=24389/27,nl=[95.047,100,108.883],rl=null,ol=new Os,al=new Os,sl=new Os,ll=new Os,ul=!1;function hl(){this.wa="Base"}function cl(){this.wa="Base"}function dl(){this.wa="Base"}function fl(){this.wa="Base"}function pl(){this.wa="Base"}function gl(t,e,i){var n=null;if(t instanceof Ml&&""!==t.Ze&&((n=t.fb(t.Ze))===t&&(n=null)),null!==n)for(i&&t.arrange(0,0,e.width,e.height),e.assign(n.actualBounds),n=n.panel;n!==t;)n.transform.np(e),n=n.panel}function ml(){this.wa="Base"}function vl(){this.wa="Base",this.name="Table"}function yl(){this.wa="Base"}function bl(){this.wa="Base"}function xl(){this.wa="Base"}function wl(){this.wa="Base"}function kl(t,e,i,n){if(0>e)return t%e===i;if(t%e!==i)return!1;e=n.length;for(var r=0;r<e;r++)if(t%n[r]===i)return!1;return!0}function _l(){this.wa="Base"}function Sl(t,e,i,n){if(!1!==is(n)){var r=n.strokeWidth;0===r&&t instanceof Kh&&t.type===Ml.Link&&t.adornedObject instanceof fu&&(r=t.adornedObject.strokeWidth),r*=n.Aa,t instanceof xc&&null!==t.ta?(t=t.geometry.bounds,n.Fe(t.x-r/2,t.y-r/2,t.width+r,t.height+r)):t instanceof Kh&&null!==t.adornedPart.ta?(t=t.adornedPart.ta.bounds,n.Fe(t.x-r/2,t.y-r/2,t.width+r,t.height+r)):n.Fe(-r/2,-r/2,e+r,i+r),(r=n.desiredSize).w()||null===n.ta?n.dc.h(0,0,r.width,r.height):n.dc.assign(n.ta.bounds),ns(n,!1)}}function Cl(){this.wa="Base"}function Ml(t,e){if(Aa.call(this),this.na=null,void 0===t)this.na=Ml.Position;else if("string"===typeof t){var i=ru.I(t);null!==i&&(this.na=i)}else t instanceof hl?this.na=t:t&&(this.na=Ml.Position,e=t);null===this.na&&w("Panel type not specified or PanelLayout not loaded: "+t),this.m=4194304|this.m|(this.na===Ml.Grid?1048576:0),this.O=new Z,this.yb=Ae,this.Tm=ke,this.Uf=ma,this.Zg=null,this.Ze="",this.ig=new Ot(NaN,NaN,NaN,NaN),this.T=this.F=null,this.xo=fa,this.jn=Mt,this.kn=it,this.ub=this.ra=null,this.zn=NaN,this.ee=this.Hh=null,e&&Object.assign(this,e)}function Pl(t,e){e.lineCap="butt";var i=0<t.rowCount?t.rowDefs:null,n=0<t.columnCount?t.colDefs:null;null!==i&&Dl(t,e,!0,i,!0),null!==n&&Dl(t,e,!1,n,!0),null!==i&&Tl(t,e,!0,i),null!==n&&Tl(t,e,!1,n),null!==i&&Dl(t,e,!0,i,!1),null!==n&&Dl(t,e,!1,n,!1)}function Tl(t,e,i,n){for(var r=n.length,o=t.actualBounds,a=t.naturalBounds,s=!0,l=0;l<r;l++){var u=n[l];if(void 0!==u&&0!==u.actual)if(s)s=!1;else{if(i){if(u.position>a.height)continue}else if(u.position>a.width)continue;var h=u.separatorStrokeWidth;isNaN(h)&&(h=i?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var c=u.separatorStroke;if(null===c&&(c=i?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),0!==h&&null!==c){Ga(t,e,c,!1,!1,a,o),c=!1;var d=u.separatorDashArray;null===d&&(d=i?t.defaultRowSeparatorDashArray:t.defaultColumnSeparatorDashArray),null!==d&&(c=!0,e.fs(d,0)),e.beginPath(),d=u.position+h,i?d>a.height&&(h-=d-a.height):d>a.width&&(h-=d-a.width),u=u.position+h/2,e.lineWidth=h,h=t.yb,i?(u+=h.top,d=a.width-h.right,e.moveTo(h.left,u),e.lineTo(d,u)):(u+=h.left,d=a.height-h.bottom,e.moveTo(u,h.top),e.lineTo(u,d)),e.stroke(),e.Re(),c&&e.cs()}}}}function Dl(t,e,i,n,r){for(var o=n.length,a=t.actualBounds,s=t.naturalBounds,l=Nl(t,!0),u=Nl(t,!1),h=0;h<o;h++){var c=n[h];if(void 0!==c&&null!==c.background&&c.coversSeparators!==r&&0!==c.actual){var d=i?a.height:a.width;if(!(c.position>d)){var f=c.Tc(),p=c.separatorStrokeWidth;isNaN(p)&&(p=i?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var g=c.separatorStroke;null===g&&(g=i?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),null!==g&&c.index!==(i?l:u)||(p=0),f-=p,(p=c.position+p)+(f+=c.actual)>d&&(f=d-p),0>=f||(d=t.yb,Ga(t,e,c.background,!0,!1,s,a),i?e.fillRect(d.left,p+d.top,a.width-(d.left+d.right),f):e.fillRect(p+d.left,d.top,f,a.height-(d.top+d.bottom)))}}}}function Nl(t,e){for(var i=e?t.rowCount:t.columnCount,n=0;n<i;n++){var r=e?t.rowDefs[n]:t.colDefs[n];if(void 0!==r)return r.index}return 0}function Il(t){return"LineV"===t||"BarV"===t}function El(t){return null!==t.part?t.part.locationObject:null}function Al(t,e){Ol(t,t,e)}function Ol(t,e,i){i(e);for(var n=(e=e.O.s).length,r=0;r<n;r++){var o=e[r];o instanceof Ml&&Ol(t,o,i)}}function Ll(t,e){Rl(t,t,e)}function Rl(t,e,i){if(i(e),e instanceof Ml)for(var n=(e=e.O.s).length,r=0;r<n;r++)Rl(t,e[r],i)}function jl(t,e,i){if(i(e))return e;if(e instanceof Ml)for(var n=(e=e.O.s).length,r=0;r<n;r++){var o=jl(t,e[r],i);if(null!==o)return o}return null}function Bl(t){for(var e=(t=t.O.s).length,i=0,n=0;n<e;n++){var r=t[n];r instanceof Ml?i=Math.max(i,Bl(r)):r instanceof fu&&(i=Math.max(i,r.hg/2*r.strokeMiterLimit*r.Df()))}return i}function Fl(t){return t.type===Ml.TableRow||t.type===Ml.TableColumn}function zl(t,e,i,n){for(var r=t.O.s,o=r.length;o--;){var a=r[o];if(a.visible){var s=a.actualBounds,l=t.naturalBounds;s.x>l.width||s.y>l.height||0>s.x+s.width||0>s.y+s.height||(a instanceof Ml&&zl(a,e,i,n),null!==e&&(a=e(a)),null===a||null!==i&&!i(a)||n.add(a))}}}function Hl(t){var e=null;return t instanceof fu&&((e=t.spot1)===ke&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=Qt),e}function Vl(t){var e=null;return t instanceof fu&&((e=t.spot2)===ke&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=ae),e}function Wl(t,e){t.m=e?16777216|t.m:-16777217&t.m}function Ul(t,e,i){var n=t.rowDefs;if(!(0>e)){if(n[e]=i instanceof su?i:void 0,!i)for(e=n.length-1;0<=e&&void 0===n[e--];)n.length--;t.v()}}function Gl(t,e,i){var n=t.colDefs;if(!(0>e)){if(n[e]=i instanceof su?i:void 0,!i)for(e=n.length-1;0<=e&&void 0===n[e--];)n.length--;t.v()}}function Kl(t){return null!==(t=t.allBindings)&&t._isFrozen}function Yl(t){var e=t.allBindings;if(null===e)null!==t.data&&w("Template cannot have .data be non-null: "+t),t.allBindings=e=new Z;else if(e._isFrozen)return;var i=new Z;Wl(t,!1),t.qm(t,(function(t,n){n.sh();var r=n.localBindings;if(null!==r)for($a(n,!1),r=r.iterator;r.next();){var o=r.value;o.mode===Gf&&$a(n,!0);var a=o.sourceName;null!==a&&("/"===a&&Wl(t,!0),null!==(a=Vf(o,t,n))&&(i.add(a),null===a.srcBindings&&(a.srcBindings=new Z),a.srcBindings.add(o))),e.add(o)}if(n instanceof Ml&&n.type===Ml.Table){if(0<n.rowCount)for(r=(t=n.rowDefs).length,o=0;o<r;o++)if(void 0!==(a=t[o])&&null!==a.$d)for(var s=a.$d.iterator;s.next();){var l=s.value;l.vd=a,l.to=2,l.ul=a.index,e.add(l)}if(0<n.columnCount)for(t=(n=n.colDefs).length,r=0;r<t;r++)if(void 0!==(o=n[r])&&null!==o.$d)for(a=o.$d.iterator;a.next();)(s=a.value).vd=o,s.to=1,s.ul=o.index,e.add(s)}}));for(var n=i.iterator;n.next();){var r=n.value;if(null!==r.srcBindings){$a(r,!0);for(var o=r.srcBindings.iterator;o.next();){var a=o.value;null===r.localBindings&&(r.localBindings=new Z),r.localBindings.add(a)}}r.srcBindings=null}for(n=e.iterator;n.next();)if(null!==(o=(r=n.value).vd)){r.vd=null;var s=r.targetProperty,l=s.indexOf(".");0<l&&o instanceof Ml&&(a=s.substring(0,l),s=s.substr(l+1),null!==(l=o.fb(a))?(o=l,r.targetProperty=s):S('Warning: unable to find GraphObject named "'+a+'" for Binding: '+r.toString())),o instanceof su?(a=et(o.panel),r.Ai=void 0===a?-1:a,o.panel.bindingId=r.Ai):o instanceof Aa?(a=et(o),r.Ai=void 0===a?-1:a,o.bindingId=r.Ai):w("Unknown type of binding target: "+o)}e.freeze(),t instanceof wh&&t.Wc()&&t.Va()}function Xl(t){if(t.type===Ml.Spot||t.type===Ml.Auto)return Math.min(t.O.length,1);if(t.type===Ml.Link){for(var e=(t=t.O).length,i=0;i<e;i++){var n=t.L(i);if(!(n instanceof fu&&n.isPanelMain))break}return i}return t.type===Ml.Table&&0<t.O.length&&((t=t.O.L(0)).isPanelMain&&t instanceof Ml&&Fl(t))?1:0}function ql(t,e){var i=Xl(t);if(null===e||0===e.length)for(;t.O.length>i;)t.oc(t.O.length-1,!1);else if(t.O.length<=i){i=e.length;for(var n=0;n<i;n++)Zl(t,e[n],n,!0)}else{n=i;for(var r=0;r<e.length;r++,n++){var o=e[r],a=n<t.O.length?t.O.L(n):null;if(a instanceof Ml){if(a.data!==o){var s=Ql(t,a.data),l=Ql(t,o),u=l!==s;u||(s=$l(t,s),u=$l(t,l)!==s),u?(t.oc(n,!1),Zl(t,o,r,!1)):a.data=o}}else Zl(t,o,r,!1)}for(;n<t.O.length;)t.oc(n,!1);t.Zg=null,Jl(t,i,0),is(t)||t.v(),t.graduatedIntervals=null,t.If()||tu(t,t,!1),null!==(e=t.part)&&(e.Rh=null,e.$f=NaN,t.Se&&e instanceof Xh&&(e.Se=!0),e.Se&&e instanceof Xh&&(e.vc=null))}}function Zl(t,e,i,n){if(!(void 0===e||null===e||0>i)){var r=Ql(t,e);if(null!==(r=$l(t,r))){if(Yl(r),0!==(16777216&(r=r.copy()).m)){var o=t.hh();null!==o&&Wl(o,!0)}"object"===typeof e&&(null===t.ee&&(t.ee=new ft),t.ee.add(e,r)),o=i+Xl(t),t.Hb(o,r),n&&(r.ub=e,Jl(t,o,i),r.ub=null),r.data=e}}}function Jl(t,e,i){for(t=t.O;e<t.length;){var n=t.L(e);if(n instanceof Ml){var r=e,o=i;n.type===Ml.TableRow?n.row=r:n.type===Ml.TableColumn&&(n.column=r),n.itemIndex=o}e++,i++}}function Ql(t,e){if(null===e)return"";if("function"===typeof(t=t.itemCategoryProperty))t=t(e);else{if("string"!==typeof t||"object"!==typeof e)return"";if(""===t)return"";t=jf(e,t)}return void 0===t?"":"string"===typeof t?t:void w("Panel.getCategoryForItemData found a non-string category for "+e+": "+t)}function $l(t,e){var i=t.itemTemplateMap,n=null;return null!==i&&(n=i.I(e)),null===n&&(null!==i&&(n=i.I("")),null===n&&(iu||(iu=!0,S('No item template Panel found for category "'+e+'" on '+t),S("  Using default item template."),t=new Ml,(e=new Cu).bind(new Hf("text","",A)),t.add(e),nu=t),n=nu)),n}function tu(t,e,i){var n=e.enabledChanged;if(null!==n&&n(e,i),e instanceof Ml){n=(e=e.O.s).length;for(var r=0;r<n;r++){var o=e[r];i&&o instanceof Ml&&!o.isEnabled||tu(t,o,i)}}}function eu(t,e){e.name=t,ru.add(t,e)}Ls.className="Brush",Ls.Solid=qs=new z(Ls,"Solid",0),Ls.Linear=Zs=new z(Ls,"Linear",1),Ls.Radial=Js=new z(Ls,"Radial",2),Ls.Pattern=Qs=new z(Ls,"Pattern",4),Ls.Lab=$s=new z(Ls,"Lab",5),Ls.HSL=tl=new z(Ls,"HSL",6),Ls.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var i=Math.abs(e-t);e=Math.floor(t+Math.random()*i).toString(16);var n=Math.floor(t+Math.random()*i).toString(16);return t=Math.floor(t+Math.random()*i).toString(16),2>e.length&&(e="0"+e),2>n.length&&(n="0"+n),2>t.length&&(t="0"+t),"#"+e+n+t},Ls.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;ul||(Xs(),ul=!0);var e=rl;if(null===e)return!0;e.fillStyle="#000000";var i=e.fillStyle;return e.fillStyle=t,e.fillStyle!==i||(e.fillStyle="#FFFFFF",i=e.fillStyle,e.fillStyle=t,e.fillStyle!==i)},Ls.lighten=function(t){return Rs(t)},Ls.lightenBy=Rs,Ls.darken=function(t){return js(t)},Ls.darkenBy=js,Ls.mix=Bs,Ls.isDark=Fs,hl.prototype.measure=function(){},hl.prototype.Yz=function(t,e,i,n,r){t.measure(e,i,n,r)},hl.prototype.arrange=function(){},hl.prototype.Ny=function(t,e,i,n,r,o){t.arrange(e,i,n,r,o)},hl.prototype.hA=function(t){t.Uj()},hl.prototype.fc=function(){},d.Object.defineProperties(hl.prototype,{name:{get:function(){return this.wa},set:function(t){this.wa=t}},classType:{get:function(){return Ml}}}),hl.prototype.remeasureObject=hl.prototype.hA,hl.prototype.arrangeElement=hl.prototype.Ny,hl.prototype.measureElement=hl.prototype.Yz,hl.className="PanelLayout",c(cl,hl),cl.prototype.measure=function(t,e,i,n,r,o,a){var s=n.length;t=El(t);for(var l=0;l<s;l++){var u=n[l];if(u.visible||u===t){var h=u.margin,c=h.right+h.left;h=h.top+h.bottom,u.measure(e,i,o,a);var d=u.measuredBounds;c=Math.max(d.width+c,0),h=Math.max(d.height+h,0),d=u.position.x;var f=u.position.y;isFinite(d)||(d=0),isFinite(f)||(f=0),u instanceof fu&&u.isGeometryPositioned&&(d-=u=u.strokeWidth/2,f-=u),Vt(r,d,f,c,h)}}},cl.prototype.arrange=function(t,e,i){var n=e.length,r=t.padding;for(t=i.x-r.left,i=i.y-r.top,r=0;r<n;r++){var o=e[r],a=o.measuredBounds,s=o.margin,l=o.position.x,u=o.position.y;if(l=isNaN(l)?-t:l-t,u=isNaN(u)?-i:u-i,o instanceof fu&&o.isGeometryPositioned){var h=o.strokeWidth/2;l-=h,u-=h}o.visible&&o.arrange(l+s.left,u+s.top,a.width,a.height)}},c(dl,hl),dl.prototype.measure=function(t,e,i,n,r,o,a){var s=n.length;e=N(),o=El(t);for(var l=0;l<s;l++){var u=n[l];if(u.visible||u===o){var h=Xa(u,!1);if(h!==da&&h!==pa)e.push(u);else{u.measure(1/0,i,0,a),h=u.margin,u=u.measuredBounds;var c=Math.max(u.height+h.top+h.bottom,0);r.width+=Math.max(u.width+h.right+h.left,0),r.height=Math.max(r.height,c)}}}for(n=e.length,t.desiredSize.height?i=Math.min(t.desiredSize.height,t.maxSize.height):0!==r.height&&(i=Math.min(r.height,t.maxSize.height)),t=0;t<n;t++)((l=e[t]).visible||l===o)&&(s=(h=l.margin).right+h.left,h=h.top+h.bottom,l.measure(1/0,i,0,a),l=l.measuredBounds,h=Math.max(l.height+h,0),r.width+=Math.max(l.width+s,0),r.height=Math.max(r.height,h));I(e)},dl.prototype.arrange=function(t,e,i){for(var n=e.length,r=t.padding,o=r.top,a=t.isOpposite,s=a?i.width:r.left,l=0;l<n;l++){var u=o,h=e[l];if(h.visible){var c=h.measuredBounds,d=h.margin,f=d.top+d.bottom,p=o+r.bottom,g=c.height,m=Xa(h,!1);(isNaN(h.desiredSize.height)&&m===ca||m===ga)&&(g=Math.max(i.height-f-p,0)),f=g+f+p,(p=h.alignment).Wb()&&(p=t.defaultAlignment),p.sb()||(p=ie),a&&(s-=c.width+d.left+d.right),h.arrange(s+p.offsetX+d.left,u+p.offsetY+d.top+(i.height*p.y-f*p.y),c.width,g),a||(s+=c.width+d.left+d.right)}}},c(fl,hl),fl.prototype.measure=function(t,e,i,n,r,o){var a=n.length;i=N();for(var s=El(t),l=0;l<a;l++){var u=n[l];if(u.visible||u===s){var h=Xa(u,!1);if(h!==da&&h!==ga)i.push(u);else{var c=u.margin;h=c.right+c.left,c=c.top+c.bottom,u.measure(e,1/0,o,0),u=u.measuredBounds,Lt(r,Math.max(r.width,Math.max(u.width+h,0)),r.height+Math.max(u.height+c,0))}}}if(0!==(n=i.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==r.width&&(e=Math.min(r.width,t.maxSize.width)),t=0;t<n;t++)((l=i[t]).visible||l===s)&&(a=(u=l.margin).right+u.left,u=u.top+u.bottom,l.measure(e,1/0,o,0),l=l.measuredBounds,u=Math.max(l.height+u,0),r.width=Math.max(r.width,Math.max(l.width+a,0)),r.height+=u);I(i)}},fl.prototype.arrange=function(t,e,i){for(var n=e.length,r=t.padding,o=r.left,a=t.isOpposite,s=a?i.height:r.top,l=0;l<n;l++){var u=o,h=e[l];if(h.visible){var c=h.measuredBounds,d=h.margin,f=d.left+d.right,p=o+r.right,g=c.width,m=Xa(h,!1);(isNaN(h.desiredSize.width)&&m===ca||m===pa)&&(g=Math.max(i.width-f-p,0)),f=g+f+p,(p=h.alignment).Wb()&&(p=t.defaultAlignment),p.sb()||(p=ie),a&&(s-=c.height+d.bottom+d.top),h.arrange(u+p.offsetX+d.left+(i.width*p.x-f*p.x),s+p.offsetY+d.top,g,c.height),a||(s+=c.height+d.bottom+d.top)}}},c(pl,hl),pl.prototype.measure=function(t,e,i,n,r,o,a){var s=n.length,l=t.rb(),u=l.margin,h=u.right+u.left,c=u.top+u.bottom;l.measure(e,i,o,a);var d=l.measuredBounds;o=d.width,a=d.height;var f=Math.max(o+h,0),p=Math.max(a+c,0),g=t.isClipping,m=Ot.allocAt(-u.left,-u.top,f,p),v=Ot.allocAt(0,0,o,a);gl(l,v,!0),o=v.width,a=v.height;for(var y=!0,b=El(t),x=0;x<s;x++){var w=n[x];d=e;var k=i;if(w!==l&&(w.visible||w===b)){var _=(u=w.margin).left,S=u.top;switch(f=u.right+u.left,p=u.top+u.bottom,u=Xa(w,!1)){case ca:d=o,k=a,S=_=p=f=0;break;case pa:d=o,_=f=0;break;case ga:k=a,S=p=0}w.measure(d,k,0,0),d=w.measuredBounds,f=Math.max(d.width+f,0),p=Math.max(d.height+p,0),(u=w.alignment).Wb()&&(u=t.defaultAlignment),u.sb()||(u=ie);var C=w.alignmentFocus;if(C.Wb()&&(C=ie),k=null,w instanceof Ml&&""!==w.Ze&&((k=w.fb(w.Ze))===w&&(k=null)),_=v.x-_,S=v.y-S,null!==k){for(w.arrange(0,0,d.width,d.height),d=k.actualBounds,d=pt.allocAt(d.x+(C.x*d.width-C.offsetX),d.y+(C.y*d.height-C.offsetY)),k=k.panel;k!==w;)k.transform.Ga(d),k=k.panel;_+=u.x*o+u.offsetX-d.x,S+=u.y*a+u.offsetY-d.y,pt.free(d)}else _+=u.x*o+u.offsetX-(C.x*d.width+C.offsetX),S+=u.y*a+u.offsetY-(C.y*d.height+C.offsetY);y?(y=!1,r.h(_,S,f,p)):Vt(r,_,S,f,p)}}switch(y?r.assign(m):g?r.Uu(v.x,v.y,v.width,v.height):Vt(r,m.x,m.y,m.width,m.height),Ot.free(m),Ot.free(v),(u=l.stretch)===ma&&(u=Xa(l,!1)),u){case da:return;case ca:if(!isFinite(e)&&!isFinite(i))return;break;case pa:if(!isFinite(e))return;break;case ga:if(!isFinite(i))return}for(o=(d=l.measuredBounds).width,a=d.height,f=Math.max(o+h,0),p=Math.max(a+c,0),u=l.margin,gl(l,v=Ot.allocAt(-u.left,-u.top,f,p),!0),o=v.width,a=v.height,e=0;e<s;e++)(i=n[e])===l||!i.visible&&i!==b||(f=(u=i.margin).right+u.left,p=u.top+u.bottom,d=i.measuredBounds,f=Math.max(d.width+f,0),p=Math.max(d.height+p,0),(h=i.alignment).Wb()&&(h=t.defaultAlignment),h.sb()||(h=ie),(i=i.alignmentFocus).Wb()&&(i=ie),y?(y=!1,r.h(h.x*o+h.offsetX-(i.x*d.width+i.offsetX)-u.left,h.y*a+h.offsetY-(i.y*d.height+i.offsetY)-u.top,f,p)):Vt(r,h.x*o+h.offsetX-(i.x*d.width+i.offsetX)-u.left,h.y*a+h.offsetY-(i.y*d.height+i.offsetY)-u.top,f,p));y?r.assign(m):g?r.Uu(v.x,v.y,v.width,v.height):Vt(r,m.x,m.y,m.width,m.height),Ot.free(v)},pl.prototype.arrange=function(t,e,i){var n=e.length,r=t.rb(),o=r.measuredBounds,a=o.width,s=o.height,l=t.padding;o=l.left,l=l.top;var u=o-i.x,h=l-i.y;for(r.arrange(u,h,a,s),gl(r,a=Ot.allocAt(0,0,a,s),!1),s=0;s<n;s++){var c=e[s];if(c!==r){var d=(u=c.measuredBounds).width,f=u.height;(h=c.alignment).Wb()&&(h=t.defaultAlignment),h.sb()||(h=ie);var p=c.alignmentFocus;if(p.Wb()&&(p=ie),u=null,c instanceof Ml&&""!==c.Ze&&((u=c.fb(c.Ze))===c&&(u=null)),null!==u){var g=u.actualBounds;for(p=pt.allocAt(g.x+(p.x*g.width-p.offsetX),g.y+(p.y*g.height-p.offsetY)),u=u.panel;u!==c;)u.transform.Ga(p),u=u.panel;u=h.x*a.width+h.offsetX-p.x,h=h.y*a.height+h.offsetY-p.y,pt.free(p)}else u=h.x*a.width+h.offsetX-(p.x*d+p.offsetX),h=h.y*a.height+h.offsetY-(p.y*f+p.offsetY);u+=a.x-i.x,h+=a.y-i.y,c.visible&&c.arrange(o+u,l+h,d,f)}}Ot.free(a)},c(ml,hl),ml.prototype.measure=function(t,e,i,n,r,o,a){var s=n.length,l=t.rb(),u=l.margin,h=e,c=i,d=u.right+u.left,f=u.top+u.bottom;l.measure(e,i,o,a),u=l.measuredBounds;var p=0,g=null;l instanceof fu&&(p=(g=l).strokeWidth*g.scale);var m=Math.max(u.width+d,0);u=Math.max(u.height+f,0);var v=Hl(l),y=v.x*m+v.offsetX;v=v.y*u+v.offsetY;var b=Vl(l),x=b.x*m+b.offsetX;for(b=b.y*u+b.offsetY,isFinite(e)&&(h=Math.max(Math.abs(y-x)-p,0)),isFinite(i)&&(c=Math.max(Math.abs(v-b)-p,0)),(p=Nt.alloc()).h(0,0),t=El(t),b=0;b<s;b++)(v=n[b])===l||!v.visible&&v!==t||(m=(u=v.margin).right+u.left,y=u.top+u.bottom,v.measure(h,c,0,0),u=v.measuredBounds,m=Math.max(u.width+m,0),u=Math.max(u.height+y,0),p.h(Math.max(m,p.width),Math.max(u,p.height)));if(1===s)r.width=m,r.height=u,Nt.free(p);else{switch(v=Hl(l),s=n=0,(b=Vl(l)).x!==v.x&&b.y!==v.y&&(n=p.width/Math.abs(b.x-v.x),s=p.height/Math.abs(b.y-v.y)),Nt.free(p),p=0,null!==g&&(p=g.strokeWidth*g.scale,mu(g)===fa&&(n=s=Math.max(n,s))),n+=Math.abs(v.offsetX)+Math.abs(b.offsetX)+p,s+=Math.abs(v.offsetY)+Math.abs(b.offsetY)+p,(g=l.stretch)===ma&&(g=Xa(l,!1)),g){case da:a=o=0;break;case ca:isFinite(e)&&(n=e),isFinite(i)&&(s=i);break;case pa:isFinite(e)&&(n=e),a=0;break;case ga:o=0,isFinite(i)&&(s=i)}l.Uj(),l.measure(n,s,o,a),r.width=l.measuredBounds.width+d,r.height=l.measuredBounds.height+f}},ml.prototype.arrange=function(t,e){var i=e.length,n=t.rb(),r=n.measuredBounds,o=Ot.alloc();o.h(0,0,1,1);var a=n.margin,s=a.left;a=a.top;var l=t.padding,u=l.left;l=l.top,n.arrange(u+s,l+a,r.width,r.height);var h=Hl(n),c=Vl(n),d=h.y*r.height+h.offsetY,f=c.x*r.width+c.offsetX;for(c=c.y*r.height+c.offsetY,o.x=h.x*r.width+h.offsetX,o.y=d,Vt(o,f,c,0,0),o.x+=s+u,o.y+=a+l,r=0;r<i;r++)(s=e[r])!==n&&(u=s.measuredBounds,a=s.margin,l=Math.max(u.width+a.right+a.left,0),h=Math.max(u.height+a.top+a.bottom,0),(d=s.alignment).Wb()&&(d=t.defaultAlignment),d.sb()||(d=ie),l=o.width*d.x+d.offsetX-l*d.x+a.left+o.x,a=o.height*d.y+d.offsetY-h*d.y+a.top+o.y,s.visible&&(Wt(o.x,o.y,o.width,o.height,l,a,u.width,u.height)?s.arrange(l,a,u.width,u.height):s.arrange(l,a,u.width,u.height,new Ot(o.x,o.y,o.width,o.height))));Ot.free(o)},c(vl,hl),vl.prototype.measure=function(t,e,i,n,r){for(var o=n.length,a=N(),s=N(),l=0;l<o;l++){var u=n[l],h=u instanceof Ml?u:null;if(null!==h&&Fl(h)&&u.visible){s.push(h);for(var c=h.O.s,d=c.length,f=0;f<d;f++){var p=c[f];h.type===Ml.TableRow?p.row=u.row:h.type===Ml.TableColumn&&(p.column=u.column),a.push(p)}}else a.push(u)}0===(o=a.length)&&(t.Gb(0),t.Fb(0));for(var g=[],m=0;m<o;m++){var v=a[m];v.visible&&(ns(v,!0),os(v,!0),g[v.row]||(g[v.row]=[]),g[v.row][v.column]||(g[v.row][v.column]=[]),g[v.row][v.column].push(v))}I(a);var y=N(),b=N(),x=N(),w={count:0},k={count:0},_=e,S=i,C=t.rowDefs,M=t.colDefs,P=null;o=C.length;for(var T=0;T<o;T++)void 0!==(P=C[T])&&(P.actual=0);o=M.length;for(var D=0;D<o;D++)void 0!==(P=M[D])&&(P.actual=0);for(var E=g.length,A=0,O=0;O<E;O++)g[O]&&(A=Math.max(A,g[O].length));var L=Math.min(t.topIndex,E-1),R=Math.min(t.leftIndex,A-1),j=0;E=g.length;for(var B=El(t),F=0;F<E;F++)if(g[F]){A=g[F].length;var z=t.Gb(F);z.actual=0;for(var H=z.nc=0;H<A;H++)if(g[F][H]){var V=t.Fb(H);void 0===y[H]&&(V.actual=0,V.nc=0,y[H]=!0);for(var W=g[F][H],U=W.length,G=0;G<U;G++){var K=W[G];if(K.visible||K===B){var Y=1<K.rowSpan||1<K.columnSpan;Y&&(F<L||H<R||b.push(K));var X=K.margin,q=X.right+X.left,Z=X.top+X.bottom,J=qa(K,z,V,!1),Q=K.desiredSize,$=!isNaN(Q.height),tt=!isNaN(Q.width)&&$;if(Y||J===da||tt||F<L||H<R||(void 0!==w[H]||J!==ca&&J!==pa||(w[H]=-1,w.count++),void 0!==k[F]||J!==ca&&J!==ga||(k[F]=-1,k.count++),x.push(K)),K.measure(1/0,1/0,0,0),!(F<L||H<R)){var et=K.measuredBounds,it=Math.max(et.width+q,0),nt=Math.max(et.height+Z,0);if(1===K.rowSpan&&(J===da||J===pa)){var rt=(P=t.Gb(F)).Tc();(j=Math.max(nt-P.actual,0))+rt>S&&(j=Math.max(S-rt,0));var ot=0===P.oa;P.nc=P.nc+j,P.actual=P.oa+j,S=Math.max(S-(j+(ot?rt:0)),0)}if(1===K.columnSpan&&(J===da||J===ga)){var at=(P=t.Fb(H)).Tc();(j=Math.max(it-P.actual,0))+at>_&&(j=Math.max(_-at,0));var st=0===P.oa;P.nc=P.nc+j,P.actual=P.oa+j,_=Math.max(_-(j+(st?at:0)),0)}Y&&K.Uj()}}}}}I(y);var lt=0,ut=0;o=t.columnCount;for(var ht=0;ht<o;ht++){var ct=M[ht];void 0!==ct&&(lt+=isNaN(ct.Gc)?ct.nc:ct.Gc,0!==ct.nc&&(lt+=ct.Tc()))}o=t.rowCount;for(var dt=0;dt<o;dt++){var ft=C[dt];void 0!==ft&&(ut+=isNaN(ft.Gc)?ft.nc:ft.Gc,0!==ft.nc&&(ut+=ft.Tc()))}_=Math.max(e-lt,0);var pt=S=Math.max(i-ut,0),gt=_;o=x.length;for(var mt=0;mt<o;mt++){var vt=x[mt],yt=t.Gb(vt.row),bt=t.Fb(vt.column),xt=vt.measuredBounds,wt=vt.margin,kt=wt.right+wt.left,_t=wt.top+wt.bottom;w[vt.column]=0===bt.nc&&void 0!==w[vt.column]?Math.max(xt.width+kt,w[vt.column]):null,k[vt.row]=0===yt.nc&&void 0!==k[vt.row]?Math.max(xt.height+_t,k[vt.row]):null}var St,Ct=0,Mt=0;for(St in k)"count"!==St&&(Ct+=k[St]);for(St in w)"count"!==St&&(Mt+=w[St]);for(var Pt=Nt.alloc(),Tt=0;Tt<o;Tt++){var Dt=x[Tt];if(Dt.visible||Dt===B){var It=t.Gb(Dt.row),Et=t.Fb(Dt.column),At=0;isFinite(Et.width)?At=Et.width:(At=isFinite(_)&&null!==w[Dt.column]?0===Mt?Et.actual+_:w[Dt.column]/Mt*gt:null!==w[Dt.column]?_:Et.actual||_,At=Math.max(0,At-Et.Tc()));var Ot=0;switch(isFinite(It.height)?Ot=It.height:(Ot=isFinite(S)&&null!==k[Dt.row]?0===Ct?It.actual+S:k[Dt.row]/Ct*pt:null!==k[Dt.row]?S:It.actual||S,Ot=Math.max(0,Ot-It.Tc())),Pt.h(Math.max(Et.minimum,Math.min(At,Et.maximum)),Math.max(It.minimum,Math.min(Ot,It.maximum))),J=qa(Dt,It,Et,!1)){case pa:Pt.height=Math.max(Pt.height,It.actual+S);break;case ga:Pt.width=Math.max(Pt.width,Et.actual+_)}var Lt=Dt.margin,Rt=Lt.right+Lt.left,jt=Lt.top+Lt.bottom;Dt.Uj(),Dt.measure(Pt.width,Pt.height,Et.minimum,It.minimum);var Bt=Dt.measuredBounds,Ft=Math.max(Bt.width+Rt,0),zt=Math.max(Bt.height+jt,0);isFinite(_)&&(Ft=Math.min(Ft,Pt.width)),isFinite(S)&&(zt=Math.min(zt,Pt.height));var Ht=0;Ht=It.actual,It.actual=Math.max(It.actual,zt),It.nc=Math.max(It.nc,zt),j=It.actual-Ht,S=Math.max(S-j,0),null===k[Dt.row]&&(pt=Math.max(pt-j,0)),Ht=Et.actual,Et.actual=Math.max(Et.actual,Ft),Et.nc=Math.max(Et.nc,Ft),j=Et.actual-Ht,_=Math.max(_-j,0),null===w[Dt.column]&&(gt=Math.max(gt-j,0))}}I(x);var Vt=Nt.alloc(),Wt=N(),Ut=N();if(0!==(o=b.length))for(var Gt=0;Gt<E;Gt++)if(g[Gt]){A=g[Gt].length;var Kt=t.Gb(Gt);Wt[Gt]=Kt.actual;for(var Yt=0;Yt<A;Yt++)if(g[Gt][Yt]){var Xt=t.Fb(Yt);Ut[Yt]=Xt.actual}}for(var qt=0;qt<o;qt++){var Zt=b[qt];if(Zt.visible||Zt===B){var Jt=t.Gb(Zt.row),Qt=t.Fb(Zt.column);switch(Pt.h(Math.max(Qt.minimum,Math.min(e,Qt.maximum)),Math.max(Jt.minimum,Math.min(i,Jt.maximum))),J=qa(Zt,Jt,Qt,!1)){case ca:0!==Ut[Qt.index]&&(Pt.width=Math.min(Pt.width,Ut[Qt.index])),0!==Wt[Jt.index]&&(Pt.height=Math.min(Pt.height,Wt[Jt.index]));break;case pa:0!==Ut[Qt.index]&&(Pt.width=Math.min(Pt.width,Ut[Qt.index]));break;case ga:0!==Wt[Jt.index]&&(Pt.height=Math.min(Pt.height,Wt[Jt.index]))}isFinite(Qt.width)&&(Pt.width=Qt.width),isFinite(Jt.height)&&(Pt.height=Jt.height),Vt.h(0,0);for(var $t=Qt.minimum,te=Jt.minimum,ee=1;ee<Zt.rowSpan&&!(Zt.row+ee>=t.rowCount);ee++)P=t.Gb(Zt.row+ee),j=0,j=J===ca||J===ga?Math.max(P.minimum,0===Wt[Zt.row+ee]?P.maximum:Math.min(Wt[Zt.row+ee],P.maximum)):Math.max(P.minimum,isNaN(P.Gc)?P.maximum:Math.min(P.Gc,P.maximum)),Vt.height+=j,te+=P.minimum;for(var ie=1;ie<Zt.columnSpan&&!(Zt.column+ie>=t.columnCount);ie++)P=t.Fb(Zt.column+ie),j=0,j=J===ca||J===pa?Math.max(P.minimum,0===Ut[Zt.column+ie]?P.maximum:Math.min(Ut[Zt.column+ie],P.maximum)):Math.max(P.minimum,isNaN(P.Gc)?P.maximum:Math.min(P.Gc,P.maximum)),Vt.width+=j,$t+=P.minimum;Pt.width+=Vt.width,Pt.height+=Vt.height;var ne=Zt.margin,re=ne.right+ne.left,oe=ne.top+ne.bottom;Zt.measure(Pt.width,Pt.height,$t,te);for(var ae=Zt.measuredBounds,se=Math.max(ae.width+re,0),le=Math.max(ae.height+oe,0),ue=0,he=0;he<Zt.rowSpan&&!(Zt.row+he>=t.rowCount);he++)ue+=(P=t.Gb(Zt.row+he)).total||0;if(ue<le){var ce=le-ue,de=le-ue;if(null!==Zt.spanAllocation)for(var fe=Zt.spanAllocation,pe=0;pe<Zt.rowSpan&&!(0>=ce)&&!(Zt.row+pe>=t.rowCount);pe++){var ge=(P=t.Gb(Zt.row+pe)).oa||0,me=fe(Zt,P,de);P.actual=Math.min(P.maximum,ge+me),P.oa!==ge&&(ce-=P.oa-ge)}for(;0<ce;){var ve=P.oa||0;if(isNaN(P.height)&&P.maximum>ve&&(P.actual=Math.min(P.maximum,ve+ce),P.oa!==ve&&(ce-=P.oa-ve)),0===P.index)break;P=t.Gb(P.index-1)}}for(var ye=0,be=0;be<Zt.columnSpan&&!(Zt.column+be>=t.columnCount);be++)ye+=(P=t.Fb(Zt.column+be)).total||0;if(ye<se){var xe=se-ye,we=se-ye;if(null!==Zt.spanAllocation)for(var ke=Zt.spanAllocation,_e=0;_e<Zt.columnSpan&&!(0>=xe)&&!(Zt.column+_e>=t.columnCount);_e++){var Se=(P=t.Fb(Zt.column+_e)).oa||0,Ce=ke(Zt,P,we);P.actual=Math.min(P.maximum,Se+Ce),P.oa!==Se&&(xe-=P.oa-Se)}for(;0<xe;){var Me=P.oa||0;if(isNaN(P.width)&&P.maximum>Me&&(P.actual=Math.min(P.maximum,Me+xe),P.oa!==Me&&(xe-=P.oa-Me)),0===P.index)break;P=t.Fb(P.index-1)}}}}I(b),Nt.free(Vt),Nt.free(Pt),void 0!==Wt&&I(Wt),void 0!==Ut&&I(Ut);var Pe=0,Te=0,De=t.desiredSize,Ne=t.maxSize;J=Xa(t,!0);var Ie=ut=lt=0,Ee=0;o=t.columnCount;for(var Ae=0;Ae<o;Ae++)void 0!==M[Ae]&&(P=t.Fb(Ae),isFinite(P.width)?(Ie+=P.width,Ie+=P.Tc()):uu(P)===cu?(Ie+=P.oa,Ie+=P.Tc()):0!==P.oa&&(lt+=P.oa,lt+=P.Tc()));Pe=isFinite(De.width)?Math.min(De.width,Ne.width):J!==da&&isFinite(e)?e:lt,Pe=Math.max(Pe,t.minSize.width),Pe=Math.max(Pe-Ie,0);for(var Oe=0===lt?1:Math.max(Pe/lt,1),Le=0;Le<o;Le++)void 0!==M[Le]&&(P=t.Fb(Le),isFinite(P.width)||uu(P)===cu||(P.actual=P.oa*Oe),P.position=r.width,0!==P.oa&&(r.width+=P.oa,r.width+=P.Tc()));o=t.rowCount;for(var Re=0;Re<o;Re++)void 0!==C[Re]&&(P=t.Gb(Re),isFinite(P.height)?(Ee+=P.height,Ee+=P.Tc()):uu(P)===cu?(Ee+=P.oa,Ee+=P.Tc()):0!==P.oa&&(ut+=P.oa,ut+=P.Tc()));Te=isFinite(De.height)?Math.min(De.height,Ne.height):J!==da&&isFinite(i)?i:ut,Te=Math.max(Te,t.minSize.height),Te=Math.max(Te-Ee,0);for(var je=0===ut?1:Math.max(Te/ut,1),Be=0;Be<o;Be++)void 0!==C[Be]&&(P=t.Gb(Be),isFinite(P.height)||uu(P)===cu||(P.actual=P.oa*je),P.position=r.height,0!==P.oa&&(r.height+=P.oa,r.height+=P.Tc()));o=s.length;for(var Fe=0;Fe<o;Fe++){var ze=s[Fe],He=0,Ve=0;ze.type===Ml.TableRow?(He=r.width,Ve=(P=t.Gb(ze.row)).actual):(He=(P=t.Fb(ze.column)).actual,Ve=r.height),ze.measuredBounds.h(0,0,He,Ve),ns(ze,!1)}I(s),t.inRowsCols=g},vl.prototype.arrange=function(t,e,i){var n=e.length,r=t.padding,o=r.left;r=r.top;var a=t.inRowsCols;if(null!==a){for(var s,l,u=a.length,h=0,c=0;c<u;c++)a[c]&&(h=Math.max(h,a[c].length));l=t.rowDefs,s=t.colDefs;var d=c=0,f=Math.min(t.topIndex,u-1);if(0<l.length){for(;f!==u&&(void 0===l[f]||0===l[f].oa);)f++;c=-l[f=Math.max(Math.min(f,u-1),0)].position}var p=Math.min(t.leftIndex,h-1);if(0<s.length){for(;p!==h&&(void 0===s[p]||0===s[p].oa);)p++;d=-s[p=Math.max(Math.min(p,h-1),0)].position}for(var g=0,m=0;g!==u&&void 0===l[g];)g++;for(;m!==u&&void 0===s[m];)m++;h=t.part,t.Gb(g),t.Fb(m);for(var v=0;v<e.length;v++){var y=e[v];if(y instanceof Ml&&y.visible&&Fl(y)){if(y.type===Ml.TableRow){s=t.Gb(y.row);var b=t.Fb(m)}else s=t.Gb(g),b=t.Fb(y.column);l=s.position+c+r,0!==s.oa&&(l+=s.Io(Math.max(g,f))),s=b.position+d+o,0!==b.oa&&(s+=b.Io(Math.max(m,p))),b=y.measuredBounds,y.Sk(),y.actualBounds.ja();var x=y.actualBounds,w=Ot.allocAt(x.x,x.y,x.width,x.height);x.x=y.type===Ml.TableRow?o:s,x.y=y.type===Ml.TableColumn?r:l,x.width=b.width,x.height=b.height,y.actualBounds.freeze(),os(y,!1),Bt(w,x)||null===h||(h.nh(),y.Pn(h)),Ot.free(w)}}for(v=Nt.alloc(),y=0;y<u;y++)if(a[y])for(h=a[y].length,l=(b=t.Gb(y)).position+c+r,0!==b.oa&&(l+=b.Io(Math.max(g,f))),x=0;x<h;x++)if(a[y][x]){s=(w=t.Fb(x)).position+d+o,0!==w.oa&&(s+=w.Io(Math.max(m,p)));for(var k=a[y][x],_=k.length,S=0;S<_;S++){var C=k[S],M=C.measuredBounds;v.h(0,0);for(var P=1;P<C.rowSpan&&!(y+P>=t.rowCount);P++){var T=t.Gb(y+P);0!==T.oa&&(v.height+=T.total)}for(P=1;P<C.columnSpan&&!(x+P>=t.columnCount);P++)0!==(T=t.Fb(x+P)).oa&&(v.width+=T.total);var D=w.oa+v.width,N=b.oa+v.height;P=s,T=l;var I=D,E=N,A=s,O=l,L=D,R=N;s+D>i.width&&(L=Math.max(i.width-s,0)),l+N>i.height&&(R=Math.max(i.height-l,0));var j=C.alignment;if(j.Wb()){(j=t.defaultAlignment).sb()||(j=ie);var B=j.x,F=j.y,z=j.offsetX;j=j.offsetY;var H=w.alignment,V=b.alignment;H.sb()&&(B=H.x,z=H.offsetX),V.sb()&&(F=V.y,j=V.offsetY)}else B=j.x,F=j.y,z=j.offsetX,j=j.offsetY;(isNaN(B)||isNaN(F))&&(F=B=.5,j=z=0),H=M.width,V=M.height;var W=C.margin,U=W.left+W.right,G=W.top+W.bottom,K=qa(C,b,w,!1);!isNaN(C.desiredSize.width)||K!==ca&&K!==pa||(H=Math.max(D-U,0)),!isNaN(C.desiredSize.height)||K!==ca&&K!==ga||(V=Math.max(N-G,0)),D=C.maxSize,N=C.minSize,H=Math.min(D.width,H),V=Math.min(D.height,V),H=Math.max(N.width,H),D=(V=Math.max(N.height,V))+G,P+=I*B-(H+U)*B+z+W.left,T+=E*F-D*F+j+W.top,C.visible&&(Wt(A,O,L,R,P,T,M.width,M.height)?C.arrange(P,T,H,V):C.arrange(P,T,H,V,new Ot(A,O,L,R)))}}for(Nt.free(v),t=0;t<n;t++)null!==(o=(i=e[t])instanceof Ml?i:null)&&Fl(o)&&(o=i.actualBounds,i.naturalBounds.ja(),i.naturalBounds.h(0,0,o.width,o.height),i.naturalBounds.freeze())}},c(yl,hl),yl.prototype.measure=function(){},yl.prototype.arrange=function(){},c(bl,hl),bl.prototype.measure=function(){},bl.prototype.arrange=function(){},c(xl,hl),xl.prototype.measure=function(t,e,i,n,r,o,a){1<n.length&&w("Viewbox Panel cannot contain more than one GraphObject."),(n=n[0]).Aa=1,n.Uj(),n.measure(1/0,1/0,o,a);var s=n.measuredBounds,l=n.margin,u=l.right+l.left;if(l=l.top+l.bottom,isFinite(e)||isFinite(i)){var h=n.scale,c=s.width;s=s.height;var d=Math.max(e-u,0),f=Math.max(i-l,0),p=1;t.viewboxStretch===fa?0!==c&&0!==s&&(p=Math.min(d/c,f/s)):0!==c&&0!==s&&(p=Math.max(d/c,f/s)),0===p&&(p=1e-4),n.Aa*=p,h!==n.scale&&(ns(n,!0),n.measure(1/0,1/0,o,a))}s=n.measuredBounds,r.width=isFinite(e)?e:Math.max(s.width+u,0),r.height=isFinite(i)?i:Math.max(s.height+l,0)},xl.prototype.arrange=function(t,e,i){var n=(e=e[0]).measuredBounds,r=e.margin,o=Math.max(n.width+(r.right+r.left),0);r=Math.max(n.height+(r.top+r.bottom),0);var a=e.alignment;a.Wb()&&(a=t.defaultAlignment),a.sb()||(a=ie),e.arrange(i.width*a.x-o*a.x+a.offsetX,i.height*a.y-r*a.y+a.offsetY,n.width,n.height)},c(wl,hl),wl.prototype.measure=function(){},wl.prototype.arrange=function(){},wl.prototype.fc=function(t,e,i){0>=(i=t.Df()*i.scale)&&(i=1);var n=t.gridCellSize,r=n.width;n=n.height;var o=t.naturalBounds,a=t.actualBounds,s=o.width,l=o.height,u=Math.ceil(s/r),h=Math.ceil(l/n),c=t.gridOrigin,d=c.x;c=c.y,e.save(),e.beginPath(),e.rect(0,0,s,l),e.clip(),e.Re();for(var f=[],p=t.O.s,g=p.length,m=0;m<g;m++){var v=p[m],y=[];if(f.push(y),v.visible){var b=v.interval;if(!(0>b)){v=Il(v.figure);for(var x=0;x<g;x++)if(x!==m){var w=p[x];w.visible&&Il(w.figure)===v&&((w=w.interval)>b&&y.push(w))}}}}for(g=(p=t.O.s).length,m=0;m<g;m++){var k=p[m];if(k.visible&&(y=k.interval||1,!(2>r*(v=Math.abs(y))*i))){if(b=k.segmentIndex,isFinite(b)&&!isNaN(b)||(b=0),0>b&&(b=v-Math.min(-b,v)),b=Math.round(b%v),x=1,1!==(v=k.opacity)){if(0===v)continue;x=e.globalAlpha,e.globalAlpha=x*v}w=f[m];var _=!1,S=k.strokeDashArray;if(null!==S&&(_=!0,e.fs(S,k.strokeDashOffset)),"LineV"===k.figure&&null!==k.stroke&&0<k.strokeWidth){for(e.lineWidth=k.strokeWidth,Ga(t,e,k.stroke,!1,!1,o,a),e.beginPath(),S=k=Math.floor((d-r)/r);S<=k+u;S++){var C=S*r+d;0<=C&&C<=s&&kl(S,y,b,w)&&(e.moveTo(C,0),e.lineTo(C,l))}e.stroke(),e.Re()}else if("LineH"===k.figure&&null!==k.stroke&&0<k.strokeWidth){for(e.lineWidth=k.strokeWidth,Ga(t,e,k.stroke,!1,!1,o,a),e.beginPath(),S=k=Math.floor((c-n)/n);S<=k+h;S++)0<=(C=S*n+c)&&C<=l&&kl(S,y,b,w)&&(e.moveTo(0,C),e.lineTo(s,C));e.stroke(),e.Re()}else if("BarV"===k.figure&&null!==k.fill)for(Ga(t,e,k.fill,!0,!1,o,a),k=k.width,isNaN(k)&&(k=r),C=S=Math.floor((d-r)/r);C<=S+u;C++){var M=C*r+d;0<=M+k&&M<=s&&kl(C,y,b,w)&&e.fillRect(M,0,k,l)}else if("BarH"===k.figure&&null!==k.fill)for(Ga(t,e,k.fill,!0,!1,o,a),k=k.height,isNaN(k)&&(k=n),C=S=Math.floor((c-n)/n);C<=S+h;C++)0<=(M=C*n+c)+k&&M<=l&&kl(C,y,b,w)&&e.fillRect(0,M,s,k);_&&e.cs(),1!==v&&(e.globalAlpha=x)}}e.restore(),e.Sc(!1)},c(_l,hl),_l.prototype.measure=function(t,e,i,n,r){var o=n.length;if(t instanceof Kh||t instanceof xc){var a=null,s=null;if(t instanceof xc&&(a=t),t instanceof Kh&&(a=(s=t).adornedPart,null===t.j&&(t.j=[])),a instanceof xc){var l=a;if(0===o)Lt(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var u=t instanceof Kh?null:a.path;e=a.routeBounds,(i=t.ig).h(0,0,e.width,e.height);var h=l.points,c=a.pointsCount;null!==s?s.Tl(!1):null!==a&&a.Tl(!1),s=e.width;var d=e.height,f=t.j;if(f.length=0,null!==u){Sl(t,s,d,u);var p=u.measuredBounds;i.ad(p),f.push(p)}p=He.alloc();for(var g=pt.alloc(),m=pt.alloc(),v=0;v<o;v++){var y=n[v];if(y!==u)if(y.isPanelMain&&y instanceof fu){Sl(t,s,d,y);var b=y.measuredBounds;i.ad(b),f.push(b)}else if(2>c)y.measure(1/0,1/0,0,0),b=y.measuredBounds,i.ad(b),f.push(b);else{var x=y.segmentIndex,w=y.segmentFraction,k=y.alignmentFocus;k.Lc()&&(k=ie);var _=y.segmentOrientation,S=y.segmentOffset;if(isNaN(x)){var C=l.ta;b=N(),C.Qu(w,b);var M=pt.allocAt(b[0],b[1]);if(M.add(l.i(0)),C.type===Ue.j?M.offset(-C.startX,-C.startY):null!==(C=C.figures.first())&&M.offset(-C.startX,-C.startY),C=b[2],_!==Yc){var P=l.computeAngle(y,_,C);y.Lb=P}P=M.x-e.x;var T=M.y-e.y;pt.free(M),I(b)}else if(x<-c||x>=c)b=pt.alloc(),l.ug(),l.computeMidPoint(b),C=l.midAngle,_!==Yc&&(P=l.computeAngle(y,_,C),y.Lb=P),P=b.x-e.x,T=b.y-e.y,pt.free(b);else{if(P=0,0<=x?(T=h.L(x),b=x<c-1?h.L(x+1):T):(P=c+x,T=h.L(P),b=0<P?h.L(P-1):T),T.Xa(b)){0<=x?(C=0<x?h.L(x-1):T,P=x<c-2?h.L(x+2):b):(C=P<c-1?h.L(P+1):T,P=1<P?h.L(P-2):b),M=C.Bf(T);var D=b.Bf(P);C=M>D+10?0<=x?C.ab(T):T.ab(C):D>M+10?0<=x?b.ab(P):P.ab(b):0<=x?C.ab(P):P.ab(C)}else C=0<=x?T.ab(b):b.ab(T);_!==Yc&&(P=l.computeAngle(y,_,C),y.Lb=P),P=T.x+(b.x-T.x)*w-e.x,T=T.y+(b.y-T.y)*w-e.y}y.measure(1/0,1/0,0,0),b=y.measuredBounds,M=y.naturalBounds;var E=0;y instanceof fu&&(E=y.strokeWidth),D=M.width+E;var A=M.height+E;p.reset(),p.translate(-b.x,-b.y),p.scale(y.scale,y.scale),p.rotate(_===Yc?y.angle:C,D/2,A/2),_!==ed&&_!==od||p.rotate(90,D/2,A/2),_!==id&&_!==ad||p.rotate(-90,D/2,A/2),_===sd&&(45<C&&135>C||225<C&&315>C)&&p.rotate(-C,D/2,A/2),M=new Ot(0,0,D,A),g.xi(M,k),p.Ga(g),k=-g.x+E/2*y.scale,y=-g.y+E/2*y.scale,m.assign(S),E=isNaN(S.x);var O=isNaN(S.y);if(E||O){D=D/2+3,A=A/2+3;var L=45<=C&&135>=C,R=225<=C&&315>=C;_===Yc&&(L||R)?(m.x=O?D:S.y,m.y=E?A:S.x,L?0<=x||isNaN(x)&&.5>w||!E||(m.y=-A):R&&((0<=x||isNaN(x)&&.5>w)&&E&&(m.y=-A),O&&(m.x=-D))):(E&&(m.x=0<=x||isNaN(x)&&.5>w?D:-D),O&&(m.y=-A),m.rotate(C))}else m.rotate(C);P+=m.x,T+=m.y,M.set(b),M.h(P+k,T+y,b.width,b.height),f.push(M),i.ad(M)}}if(null!==a)for(n=a.labelNodes;n.next();)n.value.measure(1/0,1/0);t.ig=i,t.position.h(e.x+i.x,e.y+i.y),Lt(r,i.width||0,i.height||0),He.free(p),pt.free(g),pt.free(m)}}}},_l.prototype.arrange=function(t,e){var i=e.length;if(t instanceof Kh||t instanceof xc){var n=t,r=null;t instanceof Kh&&(n=(r=t).adornedPart);var o=t instanceof Kh?null:n.path,a=t.j;if(0!==a.length){var s=0;if(null!==o&&s<a.length){var l=a[s];s++,o.arrange(l.x-t.ig.x,l.y-t.ig.y,l.width,l.height)}for(l=0;l<i;l++){var u=e[l];if(u!==o&&s<a.length){var h=a[s];s++,u.arrange(h.x-t.ig.x,h.y-t.ig.y,h.width,h.height)}}}if(2<=(i=(e=n.points).count)&&t instanceof xc)for(o=t.labelNodes;o.next();){var c=t;s=(a=o.value).segmentIndex,l=a.segmentFraction;var d=a.alignmentFocus;if(u=a.segmentOrientation,h=a.segmentOffset,isNaN(s)){var f=c.ta,p=N();f.Qu(l,p);var g=pt.allocAt(p[0],p[1]);g.add(c.i(0)),f.type===Ue.j||(f=f.figures.first()),g.offset(-f.startX,-f.startY),f=p[2],u!==Yc&&(c=c.computeAngle(a,u,f),a.angle=c),c=g.x;var m=g.y;pt.free(g),I(p)}else if(s<-i||s>=i)m=p=pt.alloc(),(f=c).ug(),f.computeMidPoint(m),f=c.midAngle,u!==Yc&&(c=c.computeAngle(a,u,f),a.angle=c),c=p.x,m=p.y,pt.free(p);else{if(g=0,0<=s?(p=e.s[s],m=s<i-1?e.s[s+1]:p):(g=i+s,p=e.s[g],m=0<g?e.s[g-1]:p),p.Xa(m)){0<=s?(f=0<s?e.s[s-1]:p,g=s<i-2?e.s[s+2]:m):(f=g<i-1?e.s[g+1]:p,g=1<g?e.s[g-2]:m);var v=f.Bf(p),y=m.Bf(g);f=v>y+10?0<=s?f.ab(p):p.ab(f):y>v+10?0<=s?m.ab(g):g.ab(m):0<=s?f.ab(g):g.ab(f)}else f=0<=s?p.ab(m):m.ab(p);u!==Yc&&(c=c.computeAngle(a,u,f),a.angle=c),c=p.x+(m.x-p.x)*l,m=p.y+(m.y-p.y)*l}if(d.vs())a.location=new pt(c,m);else{d.Lc()&&(d=ie),(p=He.alloc()).reset(),p.scale(a.scale,a.scale),p.rotate(a.angle,0,0);var b=a.naturalBounds;g=Ot.allocAt(0,0,b.width,b.height),(v=pt.alloc()).xi(g,d),p.Ga(v),d=-v.x,y=-v.y;var x=b.width,w=b.height;(b=pt.alloc()).assign(h);var k=isNaN(h.x),_=isNaN(h.y);if(k||_){x=x/2+3,w=w/2+3;var S=45<=f&&135>=f,C=225<=f&&315>=f;u===Yc&&(S||C)?(b.x=_?x:h.y,b.y=k?w:h.x,S?0<=s||isNaN(s)&&.5>l||!k||(b.y=-w):C&&((0<=s||isNaN(s)&&.5>l)&&k&&(b.y=-w),_&&(b.x=-x))):(k&&(b.x=0<=s||isNaN(s)&&.5>l?x:-x),_&&(b.y=-w),b.rotate(f))}else b.rotate(f);c+=b.x,m+=b.y,p.np(g),d+=g.x,y+=g.y,s=pt.allocAt(c+d,m+y),a.move(s),pt.free(s),pt.free(b),pt.free(v),Ot.free(g),He.free(p)}}null!==r?r.Tl(!1):n.Tl(!1),n=Ph(t),t.location.h(t.position.x+n.x,t.position.y+n.y),pt.free(n)}},c(Cl,hl),Cl.prototype.measure=function(t,e,i,n,r,o,a){var s=t.rb();t.graduatedBounds=[];var l=s.margin,u=l.right+l.left,h=l.top+l.bottom;s.measure(e,i,o,a);var c=s.measuredBounds,d=new Ot(-l.left,-l.top,Math.max(c.width+u,0),Math.max(c.height+h,0));t.graduatedBounds.push(d),r.assign(d);for(var f=s.geometry,p=s.strokeWidth,g=f.flattenedSegments,m=f.flattenedLengths,v=f.flattenedTotalLength,y=g.length,b=0,x=0,w=N(),k=0;k<y;k++){var _=g[k],S=[];x=b=0;for(var C=_.length,M=0;M<C;M+=2){var P=_[M],T=_[M+1];if(0!==M){var D=180*Math.atan2(T-x,P-b)/Math.PI;0>D&&(D+=360),S.push(D)}b=P,x=T}w.push(S)}if(null===t.graduatedIntervals){for(var E=[],A=t.O.s,O=A.length,L=0;L<O;L++){var R=A[L],j=[];if(E.push(j),R.visible){var B=R.interval;if(!(0>B))for(var F=0;F<O;F++)if(F!==L){var z=A[F];if(z.visible&&R.constructor===z.constructor){var H=z.interval;H>B&&j.push(H)}}}}t.graduatedIntervals=E}var V=t.graduatedIntervals,W=t.O.s,U=W.length,G=0,K=0,Y=v;t.graduatedMarks=[];for(var X,q=0;q<U;q++){var Z=W[q];if(X=[],Z.visible&&Z!==s){var J=Math.abs(Z.interval),Q=t.graduatedTickUnit;if(!(2>Q*J*v/t.graduatedRange&&null===Z.graduatedSkip)){var $=m[0][0],tt=0,et=0;K=v*Z.graduatedStart-1e-4,Y=v*Z.graduatedEnd+1e-4;var it=Q*J,nt=t.graduatedTickBase;if(nt<t.graduatedMin){var rt=(t.graduatedMin-nt)/it;nt+=(rt=0===rt%1?rt:Math.floor(rt+1))*it}else nt>t.graduatedMin+it&&(nt-=Math.floor((nt-t.graduatedMin)/it)*it);for(var ot=V[q],at=nt,st=1e-6*t.graduatedMax,lt=1;nt<=t.graduatedMax+st;lt++){t:{for(var ut=ot.length,ht=0;ht<ut;ht++){var ct=(nt-t.graduatedTickBase)%(ot[ht]*t.graduatedTickUnit),dt=1e-6*t.graduatedTickUnit;if(ct<dt&&ct>-dt){var ft=!1;break t}}ft=!0}if(ft&&(nt>t.graduatedMax&&(nt=t.graduatedMax),null===Z.graduatedSkip||Z instanceof Cu&&!Z.graduatedSkip(nt,Z)||Z instanceof fu&&!Z.graduatedSkip(nt,Z))&&((G=(nt-t.graduatedMin)*v/t.graduatedRange)>v&&(G=v),K<=G&&G<=Y)){for(var gt=w[tt][et],mt=m[tt][et];tt<m.length;){for(;G>$&&et<m[tt].length-1;)et++,gt=w[tt][et],$+=mt=m[tt][et];if(G<=$)break;et=0,gt=w[++tt][et],$+=mt=m[tt][et]}var vt=g[tt],yt=vt[2*et],bt=vt[2*et+1],xt=(G-($-mt))/mt,wt=new pt(yt+(vt[2*et+2]-yt)*xt+p/2-f.bounds.x,bt+(vt[2*et+3]-bt)*xt+p/2-f.bounds.y);wt.scale(s.scale,s.scale);t:{var kt=gt,_t=w[tt];if(!(.5005>xt&&.4995<xt)){var St=kt;if(.5>xt?0<et?St=_t[et-1]:We.$(vt[0],vt[vt.length-2])&&We.$(vt[1],vt[vt.length-1])&&(St=_t[_t.length-1]):.5<xt&&(et+1<_t.length?St=_t[et+1]:We.$(vt[0],vt[vt.length-2])&&We.$(vt[1],vt[vt.length-1])&&(St=_t[0])),kt!==St){var Ct=Math.abs(kt-St);if(180<Ct&&(kt<St?kt+=360:St+=360,Ct=Math.abs(kt-St)),5e-4>xt||.9995<xt){gt=(kt+St)/2%360;break t}if(10>Ct){var Mt=1-Math.abs(.5-xt);gt=(kt*Mt+St*(1-Mt))%360;break t}}}gt=kt}if(Z instanceof Cu){var Pt="";null!==Z.graduatedFunction?Pt=null!==(Pt=Z.graduatedFunction(nt,Z))&&void 0!==Pt?Pt.toString():"":Pt=(+nt.toFixed(2)).toString(),""!==Pt&&X.push({Zl:wt,angle:gt,text:Pt})}else X.push({Zl:wt,angle:gt})}nt=at+lt*it}}}t.graduatedMarks.push(X)}I(w);var Tt=t.graduatedMarks;if(null!==Tt)for(var Dt=n.length,Nt=0;Nt<Dt;Nt++){var It=n[Nt],Et=Tt[Nt];if(It.visible&&It!==s&&0!==Et.length){if(It instanceof fu){var At=t,Lt=r,Rt=It.alignmentFocus;Rt.Lc()&&(Rt=$t);var jt=It.angle;It.Lb=0,It.measure(1/0,1/0,0,0),It.Lb=jt;var Bt=It.measuredBounds,Ft=Bt.width,zt=Bt.height,Ht=Ot.allocAt(0,0,Ft,zt),Wt=pt.alloc();Wt.xi(Ht,Rt),Ot.free(Ht);for(var Ut=-Wt.x,Gt=-Wt.y,Kt=new Ot,Yt=Et.length,Xt=0;Xt<Yt;Xt++)for(var qt=Et[Xt],Zt=qt.Zl.x,Jt=qt.Zl.y,Qt=qt.angle,te=0;4>te;te++){switch(te){case 0:Wt.h(Ut,Gt);break;case 1:Wt.h(Ut+Ft,Gt);break;case 2:Wt.h(Ut,Gt+zt);break;case 3:Wt.h(Ut+Ft,Gt+zt)}Wt.rotate(Qt+It.angle),Wt.offset(Zt,Jt),0===Xt&&0===te?Kt.h(Wt.x,Wt.y,0,0):Kt.Xe(Wt),Wt.offset(-Zt,-Jt),Wt.rotate(-Qt-It.angle)}pt.free(Wt),null!==At.graduatedBounds&&At.graduatedBounds.push(Kt),Vt(Lt,Kt.x,Kt.y,Kt.width,Kt.height)}else if(It instanceof Cu){var ee=t,ie=r;null===ee.temporaryTextBlock&&(ee.temporaryTextBlock=new Cu);var ne=ee.temporaryTextBlock;Pu(ne,It);var re=It.alignmentFocus;re.Lc()&&(re=$t);for(var oe=It.segmentOrientation,ae=It.segmentOffset,se=new Ot,le=0,ue=0,he=0,ce=0,de=0,fe=Et.length,pe=0;pe<fe;pe++){var ge=Et[pe];le=ge.Zl.x,ue=ge.Zl.y,he=ge.angle,de=ce=It.angle,oe!==Yc&&(de=oe===td||oe===rd?he+It.angle:he,ce=xc.computeAngle(oe,de)),ne.Lb=ce,ne.text=ge.text||"",ne.measure(1/0,1/0,0,0);var me=ne.measuredBounds,ve=ne.naturalBounds,ye=ve.width,be=ve.height,xe=He.alloc();xe.reset(),xe.translate(-me.x,-me.y),xe.scale(ne.scale,ne.scale),xe.rotate(de,ye/2,be/2),oe!==ed&&oe!==od||xe.rotate(90,ye/2,be/2),oe!==id&&oe!==ad||xe.rotate(-90,ye/2,be/2),oe===sd&&(45<he&&135>he||225<he&&315>he)&&xe.rotate(-he,ye/2,be/2);var we=Ot.allocAt(0,0,ye,be),ke=pt.alloc();ke.xi(we,re),xe.Ga(ke);var _e=-ke.x,Se=-ke.y,Ce=pt.alloc();Ce.assign(ae),isNaN(Ce.x)&&(Ce.x=ye/2+3),isNaN(Ce.y)&&(Ce.y=-(be/2+3)),Ce.rotate(he);var Me=new Ot(le+=Ce.x+_e,ue+=Ce.y+Se,me.width,me.height),Pe=new Ot(me.x,me.y,me.width,me.height),Te=new Ot(ve.x,ve.y,ve.width,ve.height);ge.Sz=ce,ge.lineCount=ne.lineCount,ge.lines=[ne.Cb,ne.Ih,ne.cf,ne.Ke,ne.Pc,ne.$b,ne.ye],ge.actualBounds=Me,ge.measuredBounds=Pe,ge.naturalBounds=Te,0===pe?se.assign(Me):se.ad(Me),pt.free(Ce),pt.free(ke),Ot.free(we),He.free(xe)}null!==ee.graduatedBounds&&ee.graduatedBounds.push(se),Vt(ie,se.x,se.y,se.width,se.height)}ns(It,!1)}}},Cl.prototype.arrange=function(t,e,i){if(null!==t.graduatedBounds){var n=t.rb(),r=t.graduatedMarks;if(null!==r){var o=t.graduatedBounds,a=0,s=o[a];a++,null!==n&&n.arrange(s.x-i.x,s.y-i.y,s.width,s.height);for(var l=e.length,u=0;u<l;u++){var h=e[u];s=r[u],h.visible&&h!==n&&0!==s.length&&(s=o[a],a++,h.arrange(s.x-i.x,s.y-i.y,s.width,s.height))}t.graduatedBounds=null}}},Cl.prototype.fc=function(t,e,i){var n=i.$i;i.$i=!0;var r=t.naturalBounds,o=r.width,a=r.height;r=e instanceof bs,e.save(),e.beginPath(),e.rect(-1,-1,o+1,a+1),e.clip(),e.Re(),(o=t.rb()).fc(e,i),0>=(a=t.Df()*i.scale)&&(a=1);for(var s=o.actualBounds,l=t.O.s,u=t.graduatedMarks,h=l.length,c=0;c<h;c++){var d=l[c],f=u[c],p=f.length;if(d.visible&&d!==o&&0!==f.length)if(d instanceof fu){if(!(2>t.graduatedTickUnit*d.interval*o.geometry.flattenedTotalLength/t.graduatedRange*a&&null===d.graduatedSkip)){var g=d.measuredBounds,m=d.strokeWidth*d.scale,v=d.alignmentFocus;v.Lc()&&(v=$t);for(var y=0;y<p;y++){var b=f[y].Zl,x=f[y].angle,w=v,k=d.Ab;k.reset(),k.translate(b.x+s.x,b.y+s.y),k.rotate(x+d.angle,0,0),k.translate(-g.width*w.x+w.offsetX+m/2,-g.height*w.y+w.offsetY+m/2),k.scale(d.scale,d.scale),ts(d,!1),d.vh.set(d.Ab),d.Ik=d.scale,es(d,!1),d.fc(e,i),r&&(t.svg.appendChild(d.svg),d.svg=null),d.Ab.reset()}}}else if(d instanceof Cu)for(null===t.temporaryTextBlock&&(t.temporaryTextBlock=new Cu),Pu(g=t.temporaryTextBlock,d),m=0;m<p;m++)(v=f[m]).actualBounds&&v.measuredBounds&&v.naturalBounds&&(g.ec=v.text||"",g.Lb=v.Sz||0,g.Fc=v.lineCount||0,void 0!==(y=v.lines)&&(g.Cb=y[0],g.Ih=y[1],g.cf=y[2],g.Ke=y[3],g.Pc=y[4],g.$b=y[5],g.ye=y[6]),v.naturalBounds&&(g.dc=v.naturalBounds),v.actualBounds&&(y=v.actualBounds,g.arrange(y.x,y.y,y.width,y.height)),y=v.actualBounds,g.arrange(y.x,y.y,y.width,y.height),b=v.measuredBounds,v=v.naturalBounds,(x=g.Ab).reset(),x.translate(y.x+s.x,y.y+s.y),x.translate(-b.x,-b.y),g.no(x,v.x,v.y,v.width,v.height),ts(g,!1),g.vh.set(g.Ab),g.Ik=g.scale,es(g,!1),g.Mg=d.part,g.Le=d.panel,g.fc(e,i),g.Le=null,g.Mg=null,r&&(t.svg.appendChild(g.svg),g.svg=null))}i.$i=n,e.restore(),e.Sc(!0)},c(Ml,Aa),Ml.prototype.cloneProtected=function(t){Aa.prototype.cloneProtected.call(this,t),t.na=this.na,t.yb=this.yb.J(),t.Tm=this.Tm.J(),t.Uf=this.Uf,t.Ze=this.Ze,t.ig.assign(this.ig),null!==this.T&&(t.T=this.T.copy(t)),t.xo=this.xo,t.jn=this.jn.J(),t.kn=this.kn.J(),null!==this.ra&&(t.ra=this.ra.copy()),t.ub=this.ub,t.zn=this.zn,t.Hh=this.Hh},Ml.prototype.Af=function(t){Aa.prototype.Af.call(this,t),t.O=this.O;for(var e=t.O.s,i=e.length,n=0;n<i;n++)e[n].Le=t;t.Zg=null},Ml.prototype.copy=function(){var t=Aa.prototype.copy.call(this);if(null!==t){for(var e=this.O.s,i=e.length,n=0;n<i;n++){var r=e[n].copy();r.wi(t),r.Mg=null;var o=t.O,a=o.count;if(o.Hb(a,r),null!==(o=t.part)){o.Rh=null,null!==r.portId&&o instanceof Xh&&(o.Se=!0);var s=t.diagram;null!==s&&s.undoManager.isUndoingRedoing||o.cb(fi,"elements",t,null,r,null,a)}}return t}return null},(e=Ml.prototype).toString=function(){return"Panel("+this.type.name+")#"+et(this)},e.Pn=function(t){Aa.prototype.Pn.call(this,t);for(var e=this.O.s,i=e.length,n=0;n<i;n++)e[n].Pn(t)},e.gh=function(t,e){if(this.na===Ml.Grid)t.xc(),this.na.fc(this,t,e);else if(this.na===Ml.Graduated)t.xc(),this.na.fc(this,t,e);else{if(this.na===Ml.Table)if(t.xc(),t instanceof bs){var i=t.wd;t.wd=Ps(t,"gojs-ts"),Pl(this,t),t.mh.pop(),t.wd=i}else Pl(this,t);(i=this.isClipping&&this.na===Ml.Spot)&&t.save();for(var n=this.rb(),r=this.O.s,o=r.length,a=0;a<o;a++){var s=r[a];i&&s===n&&(t.clipInsteadOfFill=!0),s.fc(t,e),i&&s===n&&(t.clipInsteadOfFill=!1)}i&&(t.restore(),t.Sc(!0))}},e.lv=function(){for(var t=this.O.s,e=t.length,i=0;i<e;i++)t[i].lv();this.rf=!0},e.ik=function(t,e,i){if(!Aa.prototype.ik.call(this,t,e,i))return!1;if(this.type===Ml.Table)null!==(i=0!==(i=this.svg.getElementsByClassName("gojs-ts")).length?i[0]:null)&&(i.innerHTML=""),t.wd=i,Pl(this,t),t.wd=null;else if(this.na===Ml.Grid||this.na===Ml.Graduated)return this.svg.innerHTML="",this.svg.remove(),!1;for(var n=(i=this.O.s).length,r=0;r<n;r++)i[r].fc(t,e);return!0},e.lk=function(){return!0},e.Yo=function(t,e,i,n){if(!this.isClipping)if(this.ne()&&null!==t.ak){t=t.ak,e=this.O.s;for(var r=0,o=0,a=0;a<e.length;a++){var s=e[a].actualBounds;r=0===a?s.x:Math.min(s.x,r),o=0===a?s.y:Math.min(s.y,o)}n.setAttributeNS(null,"clip-path","path('M "+(t.x-i.x-r)+","+(t.y-i.y-o)+" l "+t.width+" 0 l 0 "+t.height+" l -"+t.width+" 0 z')")}else Aa.prototype.Yo.call(this,t,e,i,n)},e.Sj=function(t,e,i,n,r){var o=this.re(),a=this.transform,s=1/(a.m11*a.m22-a.m12*a.m21),l=a.m22*s,u=-a.m12*s,h=-a.m21*s,c=a.m11*s,d=s*(a.m21*a.dy-a.m22*a.dx),f=s*(a.m12*a.dx-a.m11*a.dy);if(null!==this.areaBackground)return a=this.actualBounds,We.Ff(a.left,a.top,a.right,a.bottom,t,e,i,n,r);if(null!==this.background)return o=t*l+e*h+d,s=t*u+e*c+f,t=i*l+n*h+d,l=i*u+n*c+f,r.h(0,0),i=this.naturalBounds,o=We.Ff(0,0,i.width,i.height,o,s,t,l,r),r.transform(a),o;o||(l=1,h=u=0,c=1,f=d=0),s=t*l+e*h+d,t=t*u+e*c+f,l=i*l+n*h+d,i=i*u+n*c+f,r.h(l,i),n=(l-s)*(l-s)+(i-t)*(i-t),u=!1,f=(c=this.O.s).length,h=pt.alloc(),d=null,e=1/0;var p=null,g=this.isClipping&&this.na===Ml.Spot;g&&(p=pt.alloc(),(u=(d=this.rb()).Sj(s,t,l,i,p))&&(e=(s-p.x)*(s-p.x)+(t-p.y)*(t-p.y)));for(var m=0;m<f;m++){var v=c[m];v.visible&&v!==d&&v.Sj(s,t,l,i,h)&&(u=!0,(v=(s-h.x)*(s-h.x)+(t-h.y)*(t-h.y))<n&&(n=v,r.set(h)))}return g&&(e>n&&r.set(p),pt.free(p)),pt.free(h),o&&r.transform(a),u},e.Gj=function(){for(var t=this.O.s,e=t.length,i=0;i<e;i++)t[i].Gj();Aa.prototype.Gj.call(this)},e.v=function(t){if(!is(this)){Aa.prototype.v.call(this,t),t=null,this.na!==Ml.Auto&&this.na!==Ml.Link||(t=this.rb());for(var e=this.O.s,i=e.length,n=0;n<i;n++){var r=e[n];if((r===t||r.isPanelMain)&&r.v(!0),!r.desiredSize.w()){var o=Xa(r,!1);(r instanceof bc||r instanceof Ml||r instanceof Cu||o!==da)&&r.v(!0)}}}},e.Uj=function(){if(!is(this)){ns(this,!0),os(this,!0);for(var t=this.O.s,e=t.length,i=0;i<e;i++)t[i].Uj()}},e.Sk=function(){if(0!==(2048&this.m)===!1){ts(this,!0),es(this,!0);for(var t=this.O.s,e=t.length,i=0;i<e;i++)t[i].Wu()}},e.Wu=function(){es(this,!0);for(var t=this.O.s,e=t.length,i=0;i<e;i++)t[i].Wu()},e.Vl=function(t,e,i,n){var r=this.ig;r.h(0,0,0,0);var o=this.desiredSize,a=this.minSize;void 0===i&&(i=a.width,n=a.height),i=Math.max(i,a.width),n=Math.max(n,a.height);var s=this.maxSize;isNaN(o.width)||(t=Math.min(o.width,s.width)),isNaN(o.height)||(e=Math.min(o.height,s.height)),t=Math.max(i,t),e=Math.max(n,e);var l=this.yb;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);var u=this.O.s;0!==u.length&&this.na.measure(this,t,e,u,r,i,n),t=r.width+l.left+l.right,l=r.height+l.top+l.bottom,isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(l=o.height),t=Math.min(s.width,t),l=Math.min(s.height,l),t=Math.max(a.width,t),l=Math.max(a.height,l),Lt(r,t=Math.max(i,t),l=Math.max(n,l)),Lt(this.naturalBounds,t,l),this.Fe(0,0,t,l)},e.rb=function(){if(null===this.Zg){var t=this.O.s,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(!0===n.isPanelMain)return this.Zg=n}this.Zg=t[0]}return this.Zg},e.dh=function(t,e,i,n){var r=this.O.s;if(this.actualBounds.h(t,e,i,n),0!==r.length){if(!this.desiredSize.w()){t=Xa(this,!0);var o=this.measuredBounds;e=o.width,o=o.height;var a=this.Jg,s=a.left+a.right;switch(a=a.top+a.bottom,e===i&&o===n&&(t=da),t){case da:(e>i||o>n)&&(this.v(),this.measure(e>i?i:e,o>n?n:o,0,0));break;case ca:this.v(!0),this.measure(i+s,n+a,0,0);break;case pa:this.v(!0),this.measure(i+s,o+a,0,0);break;case ga:this.v(!0),this.measure(e+s,n+a,0,0)}}this.na.arrange(this,r,this.ig)}},e.fh=function(t){var e=this.naturalBounds,i=El(this);if(Wt(0,0,e.width,e.height,t.x,t.y)){for(var n=(e=this.O.s).length,r=pt.allocAt(0,0);n--;){var o=e[n];if((o.visible||o===i)&&(yt(r.set(t),o.transform),o.ca(r)))return pt.free(r),!0}return pt.free(r),null!==this.Oa||null!==this.areaBackground}return!1},e.gs=function(t){if(this.bindingId===t)return this;for(var e=this.O.s,i=e.length,n=0;n<i;n++){var r=e[n].gs(t);if(null!==r)return r}return null},e.qm=function(t,e){if(e(this,t),t instanceof Ml)for(var i=(t=t.O.s).length,n=0;n<i;n++)this.qm(t[n],e)},e.Ll=function(t){return jl(this,this,t)},e.fb=function(t){if(this.name===t)return this;var e=this.O.s,i=e.length;null===this.Hh&&null===this.itemTemplateMap||(i=Xl(this));for(var n=0;n<i;n++){var r=e[n];if(r instanceof Ml){var o=r.fb(t);if(null!==o)return o}if(r.name===t)return r}return null},e.re=function(){return!(this.type===Ml.TableRow||this.type===Ml.TableColumn)},e.hc=function(t,e,i){if(!1===this.pickable)return null;if(void 0===e&&(e=null),void 0===i&&(i=null),rs(this))return null;var n=this.naturalBounds,r=1/this.Df(),o=this.re(),a=o?t:yt(pt.allocAt(t.x,t.y),this.transform),s=this.diagram,l=10,u=5;if(null!==s&&(u=(l=s.Ol("extraTouchArea"))/2),Wt(-u*r,-u*r,n.width+l*r,n.height+l*r,a.x,a.y)){if(!this.isAtomic){var h=(r=this.O.s).length;if(s=pt.alloc(),u=(l=this.isClipping&&this.na===Ml.Spot)?this.rb():null,l&&(u.re()?yt(s.set(t),u.transform):s.set(t),!u.ca(s)))return pt.free(s),o||pt.free(a),null;for(var c=El(this);h--;){var d=r[h];if((d.visible||d===c)&&(d.re()?yt(s.set(t),d.transform):s.set(t),!l||d!==u)){var f=null;if(d instanceof Ml?f=d.hc(s,e,i):!0===d.pickable&&d.ca(s)&&(f=d),null!==f&&(null!==e&&(f=e(f)),null!==f&&(null===i||i(f))))return pt.free(s),o||pt.free(a),f}}pt.free(s)}return null===this.background&&null===this.areaBackground?(o||pt.free(a),null):(t=Wt(0,0,n.width,n.height,a.x,a.y)?this:null,o||pt.free(a),t)}return o||pt.free(a),null},e.ji=function(t,e,i,n){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var r=this.naturalBounds,o=this.re(),a=o?t:yt(pt.allocAt(t.x,t.y),this.transform);if(r=Wt(0,0,r.width,r.height,a.x,a.y),Fl(this)||r){if(!this.isAtomic){for(var s=this.O.s,l=s.length,u=pt.alloc(),h=El(this);l--;){var c=s[l];if(c.visible||c===h){c.re()?yt(u.set(t),c.transform):u.set(t);var d=c;(null!==(c=c instanceof Ml?c:null)?c.ji(u,e,i,n):d.ca(u))&&!1!==d.pickable&&(null!==e&&(d=e(d)),null===d||null!==i&&!i(d)||n.add(d))}}pt.free(u)}return o||pt.free(a),r&&(null!==this.background||null!==this.areaBackground)}return o||pt.free(a),!1},e.Cf=function(t,e,i,n,r,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var a=o;if(void 0===o&&(a=He.alloc()).reset(),a.multiply(this.transform),this.eh(t,a))return zl(this,e,i,r),void 0===o&&He.free(a),!0;if(this.Vc(t,a)){if(!this.isAtomic)for(var s=El(this),l=this.O.s,u=l.length;u--;){var h=l[u];if(h.visible||h===s){var c=h.actualBounds,d=this.naturalBounds;c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height||(c=h,h=h instanceof Ml?h:null,(d=He.alloc()).set(a),(null!==h?h.Cf(t,e,i,n,r,d):Ra(c,t,n,d))&&(null!==e&&(c=e(c)),null===c||null!==i&&!i(c)||r.add(c)),He.free(d))}}return void 0===o&&He.free(a),n}return void 0===o&&He.free(a),!1},e.ng=function(t,e,i,n,r,o){if(!1===this.pickable)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var a=this.naturalBounds,s=this.re(),l=s?t:yt(pt.allocAt(t.x,t.y),this.transform),u=s?e:yt(pt.allocAt(e.x,e.y),this.transform),h=l.Bf(u),c=0<l.x&&l.x<a.width&&0<l.y&&l.y<a.height||bt(l.x,l.y,0,0,0,a.height)<=h||bt(l.x,l.y,0,a.height,a.width,a.height)<=h||bt(l.x,l.y,a.width,a.height,a.width,0)<=h||bt(l.x,l.y,a.width,0,0,0)<=h;if(a=l.xd(0,0)<=h&&l.xd(0,a.height)<=h&&l.xd(a.width,0)<=h&&l.xd(a.width,a.height)<=h,s||(pt.free(l),pt.free(u)),c){if(!this.isAtomic){l=pt.alloc(),u=pt.alloc(),h=El(this);for(var d=this.O.s,f=d.length;f--;){var p=d[f];if(p.visible||p===h){var g=p.actualBounds,m=this.naturalBounds;s&&(g.x>m.width||g.y>m.height||0>g.x+g.width||0>g.y+g.height)||(p.re()?(g=p.transform,yt(l.set(t),g),yt(u.set(e),g)):(l.set(t),u.set(e)),g=p,(null!==(p=p instanceof Ml?p:null)?p.ng(l,u,i,n,r,o):g.tx(l,u,r))&&(null!==i&&(g=i(g)),null===g||null!==n&&!n(g)||o.add(g)))}}pt.free(l),pt.free(u)}return r?c:a}return!1},e.add=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];for(i=0;i<e.length;i++)this.Hb(this.O.count,e[i]);return this},e.L=function(t){return this.O.L(t)},e.Hb=function(t,e){e instanceof wh&&w("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.qg(e))&&(this===e&&w("Cannot make a Panel contain itself: "+this.toString()),w("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.panel;if(null!==i&&i!==this&&w("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==Ml.Grid||e instanceof fu||w("Can only add Shapes to a Grid Panel, not: "+e),this.na!==Ml.Graduated||e instanceof fu||e instanceof Cu||w("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.wi(this),e.Mg=null,null!==this.itemArray){var n=e.data;null!==n&&"object"===typeof n&&(null===this.ee&&(this.ee=new ft),this.ee.add(n,e))}var r=this.O;if(n=-1,i===this){for(var o=-1,a=this.O.s,s=a.length,l=0;l<s;l++)if(a[l]===e){o=l;break}if(-1!==o){if(o===t||o+1>=r.count&&t>=r.count)return;r.mb(o),n=o}else w("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Hb(t,e),(0===t||e.isPanelMain)&&(this.Zg=null),is(this)||this.v(),e.v(!1),(null!==e.portId||e instanceof Ml&&!0===e.Se)&&(this.Se=!0),this.graduatedIntervals=null,this.If()||tu(this,e,!1),null!==(i=this.part)&&(i.Rh=null,i.$f=NaN,this.Se&&i instanceof Xh&&(i.Se=!0),i.Se&&i instanceof Xh&&(i.vc=null),null!==(r=this.diagram)&&r.undoManager.isUndoingRedoing||(-1!==n&&i.cb(pi,"elements",this,e,null,n,null),i.cb(fi,"elements",this,null,e,null,t)))},e.remove=function(t){for(var e=this.O.s,i=e.length,n=-1,r=0;r<i;r++)if(e[r]===t){n=r;break}-1!==n&&this.oc(n,!0)},e.mb=function(t){0<=t&&this.oc(t,!0)},e.oc=function(t,e){var i=this.O,n=i.L(t);if(n.Mg=null,n.wi(null),null!==this.ee){var r=n.data;"object"===typeof r&&this.ee.remove(r)}i.mb(t),ns(this,!1),this.v(),this.Zg===n&&(this.Zg=null),this.graduatedIntervals=null;var o=this.part;null!==o&&(o.Rh=null,o.$f=NaN,o.Vb(),o instanceof Xh&&(n instanceof Ml?n.qm(n,(function(t,i){ac(o,i,e)})):ac(o,n,e)),null!==(i=this.diagram)&&i.undoManager.isUndoingRedoing||o.cb(pi,"elements",this,n,null,t,null))},e.Gb=function(t){0>t&&_(t,">= 0",Ml,"getRowDefinition:idx"),t=Math.round(t);var e=this.rowDefs;if(void 0===e[t]){var i=new su;i.wi(this),i.isRow=!0,i.index=t,e[t]=i,this.cb(fi,"rowdefs",this,null,i,null,t)}return e[t]},e.nA=function(t){if(0>t&&_(t,">= 0",Ml,"removeRowDefinition:idx"),0!==this.rowCount){t=Math.round(t);var e=this.rowDefs,i=e[t];if(i){e[t]=void 0;for(var n=e.length-1;0<=n&&void 0===e[n--];)e.length--;this.cb(pi,"rowdefs",this,i,null,t,null),this.v()}}},e.Fb=function(t){0>t&&_(t,">= 0",Ml,"getColumnDefinition:idx"),t=Math.round(t);var e=this.colDefs;if(void 0===e[t]){var i=new su;i.wi(this),i.isRow=!1,i.index=t,e[t]=i,this.cb(fi,"coldefs",this,null,i,null,t)}return e[t]},e.iA=function(t){if(0>t&&_(t,">= 0",Ml,"removeColumnDefinition:idx"),0!==this.columnCount){t=Math.round(t);var e=this.colDefs,i=e[t];if(i){e[t]=void 0;for(var n=e.length-1;0<=n&&void 0===e[n--];)e.length--;this.cb(pi,"coldefs",this,i,null,t,null),this.v()}}},e.Iy=function(t){var e=null;return t.isRow?e=this.Gb(t.index):t.isRow||(e=this.Fb(t.index)),e&&lu(e,t),this},e.Jy=function(t,e){return(t=this.Gb(t))&&lu(t,new su(e)),this},e.Dy=function(t,e){return(t=this.Fb(t))&&lu(t,new su(e)),this},e.oz=function(t){if(0>t||this.type!==Ml.Table||0===this.rowCount)return-1;for(var e=0,i=this.rowDefs,n=i.length,r=this.topIndex;r<n;r++){var o=i[r];if(void 0!==o&&t<(e+=o.total))break}return r},e.gz=function(t){if(0>t||this.type!==Ml.Table||0===this.columnCount)return-1;for(var e=0,i=this.colDefs,n=i.length,r=this.leftIndex;r<n;r++){var o=i[r];if(void 0!==o&&t<(e+=o.total))break}return r},e.Gz=function(t,e){if(void 0===e&&(e=new pt(NaN,NaN)),this.type!==Ml.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var i=this.rb();return i.geometry.Pu((t-this.graduatedMin)/this.graduatedRange,e),i.transform.Ga(e)},e.Hz=function(t){if(this.type!==Ml.Graduated)return NaN;var e=this.rb();return e.transform.Pd(t),e.geometry.xx(t)*this.graduatedRange+this.graduatedMin},e.Vy=function(t){void 0===t&&(t=!1);var e=this.copy();return Ll(e,(function(t){t instanceof Ml&&(t.allBindings=null,t.ub=null);var e=t.localBindings;null!==e&&(t.localBindings=null,e.each((function(e){t.bind(e.copy())}))),null!==(e=t.animationTriggers)&&(t.animationTriggers=null,e.each((function(e){t.Hv(e.value.copy())})))})),t&&Yl(e),e},e.Ma=function(t){var e=this.allBindings;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var i=e.value,n=i.sourceProperty;if((""===t||""===n||n===t)&&(n=i.targetProperty,null!==i.converter||""!==n)){n=this.data;var r=i.sourceName;if(null!==r){if(""===r)n=this;else if("/"===r)n=this;else if("."===r)n=this;else if(".."===r)n=this;else if(null===(n=this.fb(r)))continue}else if(i.isToModel){if(null===(n=this.diagram))continue;n=n.model.modelData}var o=this,a=i.Ai;if(-1!==a){if(null===(o=this.gs(a)))continue}else null!==i.vd&&(o=i.vd);if("/"===r?n=o.part:"."===r?n=o:".."===r&&(n=o.panel),0!==(r=i.to)){if(!(o instanceof Ml))continue;1===r?o=o.Fb(i.ul):2===r&&(o=o.Gb(i.ul))}void 0!==o&&i.Kv(o,n)}}},e.sx=function(t){return void 0===t||null===t||null===this.ee?null:this.ee.I(t)},e.mv=function(){for(var t=Xl(this);this.O.length>t;)this.oc(this.O.length-1,!1);ql(this,this.itemArray)},d.Object.defineProperties(Ml.prototype,{type:{get:function(){return this.na},set:function(t){var e=this.na;e!==t&&(this.na=t,this.isAtomic=this.na===Ml.Grid,this.v(),this.g("type",e,t))}},elements:{get:function(){return this.O.iterator}},naturalBounds:{get:function(){return this.dc}},padding:{get:function(){return this.yb},set:function(t){"number"===typeof t?(0>t&&_(t,">= 0",Ml,"padding"),t=new Xt(t)):(0>t.left&&_(t.left,">= 0",Ml,"padding:value.left"),0>t.right&&_(t.right,">= 0",Ml,"padding:value.right"),0>t.top&&_(t.top,">= 0",Ml,"padding:value.top"),0>t.bottom&&_(t.bottom,">= 0",Ml,"padding:value.bottom"));var e=this.yb;e.C(t)||(this.yb=t=t.J(),this.v(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Tm},set:function(t){var e=this.Tm;e.C(t)||(this.Tm=t=t.J(),this.v(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.v(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return null!==this.T?this.T.Op:Ae},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.defaultSeparatorPadding;e.C(t)||(t=t.J(),null===this.T&&(this.T=new au),this.T.Op=t,this.v(),this.g("defaultSeparatorPadding",e,t))}},defaultRowSeparatorStroke:{get:function(){return null!==this.T?this.T.ga:null},set:function(t){var e=this.defaultRowSeparatorStroke;e!==t&&(null===t||"string"===typeof t||t instanceof Ls)&&(t instanceof Ls&&t.freeze(),null===this.T&&(this.T=new au),this.T.ga=t,this.N(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.Ha:1},set:function(t){var e=this.defaultRowSeparatorStrokeWidth;e!==t&&isFinite(t)&&0<=t&&(null===this.T&&(this.T=new au),this.T.Ha=t,this.v(),this.g("defaultRowSeparatorStrokeWidth",e,t))}},defaultRowSeparatorDashArray:{get:function(){return null!==this.T?this.T.V:null},set:function(t){var e=this.defaultRowSeparatorDashArray;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"===typeof o&&0<=o&&isFinite(o)||w("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}null===this.T&&(this.T=new au),this.T.V=t,this.N(),this.g("defaultRowSeparatorDashArray",e,t)}}},defaultColumnSeparatorStroke:{get:function(){return null!==this.T?this.T.u:null},set:function(t){var e=this.defaultColumnSeparatorStroke;e!==t&&(null===t||"string"===typeof t||t instanceof Ls)&&(t instanceof Ls&&t.freeze(),null===this.T&&(this.T=new au),this.T.u=t,this.N(),this.g("defaultColumnSeparatorStroke",e,t))}},defaultColumnSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.F:1},set:function(t){var e=this.defaultColumnSeparatorStrokeWidth;e!==t&&isFinite(t)&&0<=t&&(null===this.T&&(this.T=new au),this.T.F=t,this.v(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}},defaultColumnSeparatorDashArray:{get:function(){return null!==this.T?this.T.o:null},set:function(t){var e=this.defaultColumnSeparatorDashArray;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"===typeof o&&0<=o&&isFinite(o)||w("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}null===this.T&&(this.T=new au),this.T.o=t,this.N(),this.g("defaultColumnSeparatorDashArray",e,t)}}},inRowsCols:{get:function(){return null!==this.T?this.T.nb:null},set:function(t){null===this.T&&(this.T=new au),this.T.nb=t}},viewboxStretch:{get:function(){return this.xo},set:function(t){var e=this.xo;e!==t&&(this.xo=t,this.v(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.jn},set:function(t){var e=this.jn;if(!e.C(t)){t.w()&&0!==t.width&&0!==t.height||w("Invalid Panel.gridCellSize: "+t),this.jn=t.J();var i=this.diagram;null!==i&&this===i.grid&&vo(i),this.N(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.kn},set:function(t){var e=this.kn;if(!e.C(t)){t.w()||w("Invalid Panel.gridOrigin: "+t),this.kn=t.J();var i=this.diagram;null!==i&&this===i.grid&&vo(i),this.N(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return null!==this.ra?this.ra.iq:0},set:function(t){var e=this.graduatedMin;e!==t&&(null===this.ra&&(this.ra=new ou),this.ra.iq=t,this.v(),this.g("graduatedMin",e,t),Qa(this)&&(null!==(t=this.part)&&La(this,t,"graduatedRange")))}},graduatedMax:{get:function(){return null!==this.ra?this.ra.F:100},set:function(t){var e=this.graduatedMax;e!==t&&(null===this.ra&&(this.ra=new ou),this.ra.F=t,this.v(),this.g("graduatedMax",e,t),Qa(this)&&(null!==(t=this.part)&&La(this,t,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return null!==this.ra?this.ra.ga:10},set:function(t){var e=this.graduatedTickUnit;e!==t&&0<t&&(null===this.ra&&(this.ra=new ou),this.ra.ga=t,this.v(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return null!==this.ra?this.ra.V:0},set:function(t){var e=this.graduatedTickBase;e!==t&&(null===this.ra&&(this.ra=new ou),this.ra.V=t,this.v(),this.g("graduatedTickBase",e,t))}},graduatedMarks:{get:function(){return null!==this.ra?this.ra.u:null},set:function(t){null!==this.ra?this.ra.u=t:null!==t&&(this.ra=new ou,this.ra.u=t)}},graduatedBounds:{get:function(){return null!==this.ra?this.ra.j:null},set:function(t){null!==this.ra?this.ra.j=t:null!==t&&(this.ra=new ou,this.ra.j=t)}},graduatedIntervals:{get:function(){return null!==this.ra?this.ra.o:null},set:function(t){null!==this.ra?this.ra.o=t:null!==t&&(this.ra=new ou,this.ra.o=t)}},temporaryTextBlock:{get:function(){return null!==this.ra?this.ra.Zh:null},set:function(t){null!==this.ra?this.ra.Zh=t:null!==t&&(this.ra=new ou,this.ra.Zh=t)}},panelLayoutState:{get:function(){return this.F},set:function(t){this.F=t}},Se:{get:function(){return 0!==(8388608&this.m)},set:function(t){0!==(8388608&this.m)!==t&&(this.m^=8388608)}},rowDefs:{get:function(){return null===this.T&&(this.T=new au),this.T.Oc}},rowCount:{get:function(){return null===this.T?0:this.rowDefs.length}},colDefs:{get:function(){return null===this.T&&(this.T=new au),this.T.Nc}},columnCount:{get:function(){return null===this.T?0:this.colDefs.length}},rowSizing:{get:function(){return null!==this.T?this.T.ob:du},set:function(t){var e=this.rowSizing;e!==t&&(null===this.T&&(this.T=new au),this.T.ob=t,this.v(),this.g("rowSizing",e,t))}},columnSizing:{get:function(){return null!==this.T?this.T.j:du},set:function(t){var e=this.columnSizing;e!==t&&(null===this.T&&(this.T=new au),this.T.j=t,this.v(),this.g("columnSizing",e,t))}},topIndex:{get:function(){return null!==this.T?this.T.Ib:0},set:function(t){var e=this.topIndex;e!==t&&((!isFinite(t)||0>t)&&w("Panel.topIndex must be greater than zero and a real number, not: "+t),null===this.T&&(this.T=new au),this.T.Ib=t,this.v(),this.g("topIndex",e,t))}},leftIndex:{get:function(){return null!==this.T?this.T.hb:0},set:function(t){var e=this.leftIndex;e!==t&&((!isFinite(t)||0>t)&&w("Panel.leftIndex must be greater than zero and a real number, not: "+t),null===this.T&&(this.T=new au),this.T.hb=t,this.v(),this.g("leftIndex",e,t))}},data:{get:function(){return this.ub},set:function(t){var e=this.ub;if(e!==t){var i=this instanceof wh&&!(this instanceof Kh);Yl(this),this.ub=t;var n=this.diagram;null!==n&&(i?(i=n.partManager,this instanceof xc?(null!==e&&i.af.remove(e),null!==t&&i.af.add(t,this)):this instanceof wh&&(null!==e&&i.bf.remove(e),null!==t&&i.bf.add(t,this))):null!==(i=this.panel)&&null!==i.ee&&(null!==e&&i.ee.remove(e),null!==t&&i.ee.add(t,this))),this.g("data",e,t),null!==n&&n.undoManager.isUndoingRedoing||null!==t&&this.Ma()}}},itemIndex:{get:function(){return this.zn},set:function(t){var e=this.zn;e!==t&&(this.zn=t,this.g("itemIndex",e,t))}},allBindings:{get:function(){return null!==this.A?this.A.nb:null},set:function(t){this.localBindings!==t&&(null===this.A&&(this.A=new fs),this.A.nb=t)}},itemArray:{get:function(){return this.Hh},set:function(t){var e=this.Hh;if(e!==t||null!==t&&function(t,e){for(var i=(t=t.O.s).length,n=e.length,r=0,o=null;r<i&&!((o=t[r])instanceof Ml&&null!==o.data);)o=t[++r];if(i-r!==n)return!0;if(null===o)return 0<n;for(var a=0;r<i&&a<n;){if(!((o=t[r])instanceof Ml)||o.data!==e[a])return!0;r++,a++}return!1}(this,t)){var i=this.diagram;e!==t&&(null!==i&&null!==e&&rf(i.partManager,this,i),this.Hh=t,null!==i&&null!==t&&nf(i.partManager,this)),this.g("itemArray",e,t),null!==i&&i.undoManager.isUndoingRedoing||ql(this,t)}}},itemTemplate:{get:function(){return null===this.itemTemplateMap?null:this.itemTemplateMap.I("")},set:function(t){if(null===this.itemTemplateMap){if(null===t)return;this.itemTemplateMap=new ft}var e=this.itemTemplateMap.I("");e!==t&&((t instanceof wh||t.isPanelMain)&&w("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.mv())}},itemTemplateMap:{get:function(){return null!==this.A?this.A.Oc:null},set:function(t){var e=this.itemTemplateMap;if(e!==t){for(var i=t.iterator;i.next(););Oa(this),this.A.Oc=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.mv()}}},itemCategoryProperty:{get:function(){return null!==this.A?this.A.Nc:"category"},set:function(t){var e=this.itemCategoryProperty;e!==t&&(Oa(this),this.A.Nc=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!==(1048576&this.m)},set:function(t){var e=0!==(1048576&this.m);e!==t&&(this.m^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!==(2097152&this.m)},set:function(t){var e=0!==(2097152&this.m);e!==t&&(this.m^=2097152,this instanceof pc&&(this.tb=null),this.v(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!==(33554432&this.m)},set:function(t){var e=0!==(33554432&this.m);e!==t&&(this.m^=33554432,this.v(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!==(4194304&this.m)},set:function(t){var e=0!==(4194304&this.m);if(e!==t){var i=null===this.panel||this.panel.If();this.m^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||i&&tu(this,this,t)}}},alignmentFocusName:{get:function(){return this.Ze},set:function(t){var e=this.Ze;e!==t&&(this.Ze=t,this.v(),this.g("alignmentFocusName",e,t))}}}),d.Object.defineProperties(Ml,{Position:{get:function(){return ru.I("Position")}},Horizontal:{get:function(){return ru.I("Horizontal")}},Vertical:{get:function(){return ru.I("Vertical")}},Spot:{get:function(){return ru.I("Spot")}},Auto:{get:function(){return ru.I("Auto")}},Table:{get:function(){return ru.I("Table")}},Viewbox:{get:function(){return ru.I("Viewbox")}},TableRow:{get:function(){return ru.I("TableRow")}},TableColumn:{get:function(){return ru.I("TableColumn")}},Link:{get:function(){return ru.I("Link")}},Grid:{get:function(){return ru.I("Grid")}},Graduated:{get:function(){return ru.I("Graduated")}}}),Ml.prototype.rebuildItemElements=Ml.prototype.mv,Ml.prototype.findItemPanelForData=Ml.prototype.sx,Ml.prototype.updateTargetBindings=Ml.prototype.Ma,Ml.prototype.copyTemplate=Ml.prototype.Vy,Ml.prototype.graduatedValueForPoint=Ml.prototype.Hz,Ml.prototype.graduatedPointForValue=Ml.prototype.Gz,Ml.prototype.findColumnForLocalX=Ml.prototype.gz,Ml.prototype.findRowForLocalY=Ml.prototype.oz,Ml.prototype.addColumnDefinition=Ml.prototype.Dy,Ml.prototype.addRowDefinition=Ml.prototype.Jy,Ml.prototype.addRowColumnDefinition=Ml.prototype.Iy,Ml.prototype.removeColumnDefinition=Ml.prototype.iA,Ml.prototype.getColumnDefinition=Ml.prototype.Fb,Ml.prototype.removeRowDefinition=Ml.prototype.nA,Ml.prototype.getRowDefinition=Ml.prototype.Gb,Ml.prototype.removeAt=Ml.prototype.mb,Ml.prototype.remove=Ml.prototype.remove,Ml.prototype.insertAt=Ml.prototype.Hb,Ml.prototype.elt=Ml.prototype.L,Ml.prototype.add=Ml.prototype.add,Ml.prototype.findObject=Ml.prototype.fb,Ml.prototype.findInVisualTree=Ml.prototype.Ll,Ml.prototype.walkVisualTreeFrom=Ml.prototype.qm,Ml.prototype.findMainElement=Ml.prototype.rb;var iu=!1,nu=null,ru=new ft;function ou(){this.iq=0,this.F=100,this.ga=10,this.V=0,this.Zh=this.o=this.j=this.u=null}function au(){this.Oc=[],this.Nc=[],this.j=this.ob=du,this.hb=this.Ib=0,this.Op=Ae,this.Ha=1,this.V=this.ga=null,this.F=1,this.nb=this.o=this.u=null}function su(t){$(this),this.Le=null,this.rq=!0,this.Za=0,this.Gc=NaN,this.jj=0,this.hj=1/0,this.Kb=ke,this.pa=this.nc=this.oa=0,this.$d=null,this.oo=hu,this.gg=ma,this.lo=this.cg=null,this.mo=NaN,this.Oa=this.tj=null,this.Pm=!1,t&&(Object.assign(this,t),void 0!==t.column?(this.isRow=!1,this.index=t.column):void 0!==t.row&&(this.isRow=!0,this.index=t.row))}function lu(t,e){e.isRow?t.height=e.height:t.width=e.width,t.minimum=e.minimum,t.maximum=e.maximum,t.alignment=e.alignment,t.stretch=e.stretch,t.sizing=e.sizing,t.cg=null===e.separatorPadding?null:e.separatorPadding.J(),t.separatorStroke=e.separatorStroke,t.separatorStrokeWidth=e.separatorStrokeWidth,t.tj=null,e.separatorDashArray&&(t.tj=P(e.separatorDashArray)),t.background=e.background,t.coversSeparators=e.coversSeparators,t.$d=e.$d}function uu(t){if(t.sizing===hu){var e=t.Le;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}Ml.className="Panel",Ml.definePanelLayout=eu,eu("Position",new cl),eu("Vertical",new fl),eu("Auto",new ml),eu("Link",new _l),ou.prototype.copy=function(){var t=new ou;return t.iq=this.iq,t.F=this.F,t.ga=this.ga,t.V=this.V,t.u=this.u,t.j=this.j,t.o=this.o,t.Zh=this.Zh,t},ou.className="GradPanelSettings",au.prototype.copy=function(t){for(var e=new au,i=this.Oc,n=i.length,r=e.Oc,o=0;o<n;o++)if(void 0!==i[o]){var a=i[o].copy();a.wi(t),r[o]=a}for(n=(i=this.Nc).length,r=e.Nc,o=0;o<n;o++)void 0!==i[o]&&((a=i[o].copy()).wi(t),r[o]=a);return e.ob=this.ob,e.j=this.j,e.Ib=this.Ib,e.hb=this.hb,e.Op=this.Op.J(),e.Ha=this.Ha,e.ga=this.ga,e.V=this.V,e.F=this.F,e.u=this.u,e.o=this.o,e.nb=this.nb,e},au.className="TablePanelSettings",su.prototype.copy=function(){var t=new su;return t.rq=this.rq,t.Za=this.Za,t.Gc=this.Gc,t.jj=this.jj,t.hj=this.hj,t.Kb=this.Kb,t.oa=this.oa,t.nc=this.nc,t.pa=this.pa,t.gg=this.gg,t.oo=this.oo,null===this.cg?t.cg=null:t.cg=this.cg.J(),t.lo=this.lo,t.mo=this.mo,t.tj=null,null!==this.tj&&(t.separatorDashArray=P(this.separatorDashArray)),t.Oa=this.Oa,t.Pm=this.Pm,t.$d=this.$d,t},(e=su.prototype).qb=function(t){t.classType===su&&(this.sizing=t)},e.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+et(this)},e.wi=function(t){this.Le=t},e.Io=function(t){var e=0,i=this.Le;if(this.index!==t&&(null===(t=this.separatorStroke)&&null!==i&&(t=this.isRow?i.defaultRowSeparatorStroke:i.defaultColumnSeparatorStroke),null!==t&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==i?this.isRow?i.defaultRowSeparatorStrokeWidth:i.defaultColumnSeparatorStrokeWidth:0))),null===(t=this.cg)){if(null===i)return e;t=i.defaultSeparatorPadding}return e+(this.isRow?t.top:t.left)},e.Tc=function(){var t=0,e=this.Le,i=0,n=this.isRow;if(null!==e&&e.type===Ml.Table)for(var r=n?e.rowDefs.length:e.colDefs.length,o=0;o<r;o++){var a=n?e.rowDefs[o]:e.colDefs[o];if(void 0!==a&&0!==a.oa){i=a.index;break}}if(this.index!==i&&(null===(i=this.separatorStroke)&&null!==e&&(i=n?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==i&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?n?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(n=this.cg)){if(null===e)return t;n=e.defaultSeparatorPadding}return t+(this.isRow?n.top+n.bottom:n.left+n.right)},e.Ob=function(t,e,i){var n=this.Le;if(null!==n&&(n.cb(di,t,this,e,i,void 0,void 0),null!==this.$d&&(null!==(e=n.diagram)&&!e.skipsModelSourceBindings&&(null!==(n=n.hh())&&null!==(e=n.data)))))for(i=this.$d.iterator;i.next();)i.value.qp(this,e,t,n)},e.bind=function(t,e,i,n){var r=null;return(r="string"===typeof t?new Hf(t,e,i,n):t).vd=this,null!==(t=this.panel)&&(null!==(e=t.hh())&&Kl(e)&&w("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+r+" on "+t)),null===this.$d&&(this.$d=new Z),this.$d.add(r),this},d.Object.defineProperties(su.prototype,{panel:{get:function(){return this.Le}},isRow:{get:function(){return this.rq},set:function(t){this.rq=t}},index:{get:function(){return this.Za},set:function(t){this.Za=t}},height:{get:function(){return this.Gc},set:function(t){var e=this.Gc;e!==t&&(0>t&&_(t,">= 0",su,"height"),this.Gc=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("height",e,t))}},width:{get:function(){return this.Gc},set:function(t){var e=this.Gc;e!==t&&(0>t&&_(t,">= 0",su,"width"),this.Gc=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("width",e,t))}},minimum:{get:function(){return this.jj},set:function(t){var e=this.jj;e!==t&&((0>t||!isFinite(t))&&_(t,">= 0",su,"minimum"),this.jj=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("minimum",e,t))}},maximum:{get:function(){return this.hj},set:function(t){var e=this.hj;e!==t&&(0>t&&_(t,">= 0",su,"maximum"),this.hj=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("maximum",e,t))}},alignment:{get:function(){return this.Kb},set:function(t){var e=this.Kb;e.C(t)||(this.Kb=t.J(),null!==this.panel&&this.panel.v(),this.Ob("alignment",e,t))}},stretch:{get:function(){return this.gg},set:function(t){var e=this.gg;e!==t&&(this.gg=t,null!==this.panel&&this.panel.v(),this.Ob("stretch",e,t))}},separatorPadding:{get:function(){return this.cg},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.cg;null!==t&&null!==e&&e.C(t)||(null!==t&&(t=t.J()),this.cg=t,null!==this.panel&&this.panel.v(),this.Ob("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.lo},set:function(t){var e=this.lo;e!==t&&(null!==t&&Ys(t,"RowColumnDefinition.separatorStroke"),t instanceof Ls&&t.freeze(),this.lo=t,null!==this.panel&&this.panel.v(),this.Ob("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.mo},set:function(t){var e=this.mo;e!==t&&(this.mo=t,null!==this.panel&&this.panel.v(),this.Ob("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.tj},set:function(t){var e=this.tj;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"===typeof o&&0<=o&&isFinite(o)||w("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.tj=t,null!==this.panel&&this.panel.N(),this.Ob("separatorDashArray",e,t)}}},background:{get:function(){return this.Oa},set:function(t){var e=this.Oa;e!==t&&(null!==t&&Ys(t,"RowColumnDefinition.background"),t instanceof Ls&&t.freeze(),this.Oa=t,null!==this.panel&&this.panel.N(),this.Ob("background",e,t))}},coversSeparators:{get:function(){return this.Pm},set:function(t){var e=this.Pm;e!==t&&(this.Pm=t,null!==this.panel&&this.panel.N(),this.Ob("coversSeparators",e,t))}},sizing:{get:function(){return this.oo},set:function(t){var e=this.oo;e!==t&&(this.oo=t,null!==this.panel&&this.panel.v(),this.Ob("sizing",e,t))}},actual:{get:function(){return this.oa},set:function(t){this.oa=isNaN(this.Gc)?Math.max(Math.min(this.hj,t),this.jj):Math.max(Math.min(this.hj,this.Gc),this.jj)}},measured:{get:function(){return this.nc},set:function(t){this.nc=t}},total:{get:function(){return this.oa+this.Tc()}},position:{get:function(){return this.pa},set:function(t){this.pa=t}}}),su.prototype.computeEffectiveSpacing=su.prototype.Tc,su.prototype.computeEffectiveSpacingTop=su.prototype.Io;var hu=new z(su,"Default",0),cu=new z(su,"None",1),du=new z(su,"ProportionalExtra",2);function fu(t,e){Aa.call(this),this.Nd=this.ta=null,this.an="None",this.wc=this.Ui="black",this.hg=1,this.Na=this.Xg=null,this.Vn=this.Un=NaN,this.fa=null,"string"===typeof t?this.figure=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}function pu(t){null===t.Na?t.Na=new Su:t.Na.mc&&(t.Na=t.Na.copy())}function gu(t,e,i,n){var r=i.length;if(!(4>r)){var o=n.measuredBounds,a=Math.max(1,o.width);o=o.height;for(var s,l,u,h,c,d,f=i[0],p=i[1],g=0,m=N(),v=2;v<r;v+=2)0===(u=(s=i[v])-f)&&(u=.001),h=(f=(l=i[v+1])-p)/u,c=Math.atan2(f,u),d=Math.sqrt(u*u+f*f),m.push([u,c,h,d]),g+=d,f=s,p=l;f=i[0],p=i[1],u=n.measuredBounds.width,n instanceof fu&&(u-=n.strokeWidth),1>u&&(u=1),r=i=u,l=0!==(s=a/2),u=(d=m[v=0])[0],c=d[1],h=d[2],d=d[3];for(var y=0;.1<=g;){if(0===y&&(l?(r=i,r-=s,g-=s,l=!1):r=i,0===r&&(r=1)),r>g)return void I(m);r>d?(y=r-d,r=d):y=0;var b=Math.sqrt(r*r/(1+h*h));if(0>u&&(b=-b),f+=b,p+=h*b,t.translate(f,p),t.rotate(c),t.translate(-a/2,-o/2),0===y&&n.gh(t,e),t.translate(a/2,o/2),t.rotate(-c),t.translate(-f,-p),g-=r,d-=r,0!==y){if(++v===m.length)return void I(m);u=(d=m[v])[0],c=d[1],h=d[2],d=d[3],r=y}}I(m)}}function mu(t){var e=t.geometryStretch;return null!==t.Nd?e===ma?ca:e:e===ma?_u[t.figure].defaultStretch:e}function vu(t,e,i,n,r){return(e=(t=i.x-t)*t+(e=i.y-e)*e)<n?(r.x=i.x,r.y=i.y,e):n}function yu(t,e,i,n,r,o,a,s,l){if(We.$(t,i)&&We.$(e,n)||We.$(r,a)&&We.$(o,s))return!1;var u=!1,h=(r-a)*(e-n)-(o-s)*(t-i);return 0!==h&&(l.x=((r*s-o*a)*(t-i)-(r-a)*(t*n-e*i))/h,l.y=((r*s-o*a)*(e-n)-(o-s)*(t*n-e*i))/h,(t>i?t-i:i-t)<(e>n?e-n:n-e)?(t=e<n?e:n,e=e<n?n:e,(l.y>t||We.$(l.y,t))&&(l.y<e||We.$(l.y,e))&&(u=!0)):(e=t<i?t:i,t=t<i?i:t,(l.x>e||We.$(l.x,e))&&(l.x<t||We.$(l.x,t))&&(u=!0)),u)}function bu(t,e,i,n){if(!t.os(e,i,n))return!1;t=e.x,e=e.y;var r=i.x,o=i.y;return i=n.x,n=n.y,t===r?(e<o?(t=e,e=o):t=o,n>=t&&n<=e):(t<r?(n=t,t=r):n=r,i>=n&&i<=t)}function xu(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=td,"None"!==t.toArrow?(t.segmentIndex=-1,t.alignmentFocus=De):"None"!==t.fromArrow&&(t.segmentIndex=0,t.alignmentFocus=new Re(1-De.x,De.y)))}function wu(t){var e=ku[t];if(void 0===e){var i=t.toLowerCase();if("none"===i)return"None";if(void 0===(e=ku[i])){var n,r=null;for(n in We.um)if(n.toLowerCase()===i){r=n;break}if(null!==r)return t=Ue.parse(We.um[r],!1),ku[r]=t,i!==r&&(ku[i]=r),r}}return"string"===typeof e?e:e instanceof Ue?t:null}su.className="RowColumnDefinition",su.Default=hu,su.None=cu,su.ProportionalExtra=du,c(fu,Aa),fu.prototype.cloneProtected=function(t){Aa.prototype.cloneProtected.call(this,t),t.ta=this.ta,t.Nd=this.Nd,t.an=this.an,t.Ui=this.Ui,t.wc=this.wc,t.hg=this.hg,null!==this.Xg&&(t.Xg=P(this.Xg)),null!==this.Na&&(t.Na=this.Na.mc?this.Na:this.Na.copy()),t.Un=this.Un,t.Vn=this.Vn,null!==this.fa&&(t.fa=this.fa.copy())},(e=fu.prototype).sh=function(){Aa.prototype.sh.call(this),null!==this.Na&&(this.Na.mc=!0)},e.qb=function(t){t===da||t===fa||t===va||t===ma?this.geometryStretch=t:Aa.prototype.qb.call(this,t)},e.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+et(this)},e.gh=function(t,e){var i=this.wc,n=this.Ui;if(null!==i||null!==n){var r=this.ta;if(null!==r){t.xc();var o=this.actualBounds,a=this.naturalBounds;null!==n&&Ga(this,t,n,!0,!1,a,o);var s=this.part,l=this.hg;if(null===i||0!==l||null===s||!this.isPanelMain&&s.rb()!==this||(l=s.type===Ml.Link&&s instanceof Kh&&"Selection"===s.category&&s.adornedObject instanceof fu&&s.adornedPart.rb()===s.adornedObject?s.adornedObject.strokeWidth:0),0===l&&(i=null),null!==i&&0!==l&&(Ga(this,t,i,!1,!1,a,o),t.lineWidth=l,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit),o=!1,s&&e.Gf("drawShadows")&&(o=s.isShadowed),!1===t.Gl&&(o=!1),s=!0,null===i||null!==n&&"transparent"!==n||(s=!1),a=!1,null!==(l=this.strokeDashArray)&&(a=!0,t.fs(l,this.strokeDashOffset)),r.type===Ue.j)t.beginPath(),t.moveTo(r.startX,r.startY),t.lineTo(r.endX,r.endY),null!==i&&t.hk(),t.Re();else if(r.type===Ue.u){var u=r.startX;l=r.startY;var h=r.endX,c=r.endY;r=Math.min(u,h);var d=Math.min(l,c);u=Math.abs(h-u),l=Math.abs(c-l),t.beginPath(),t.rect(r,d,u,l),null!==n&&t.mg(n),null!==i&&(s&&o&&Ts(t),t.hk(),s&&o&&Ds(t)),t.Re()}else if(r.type===Ue.F)u=r.startX,l=r.startY,h=r.endX,c=r.endY,r=Math.abs(h-u)/2,d=Math.abs(c-l)/2,u=Math.min(u,h)+r,l=Math.min(l,c)+d,t.beginPath(),t.moveTo(u,l-d),t.bezierCurveTo(u+We.vg*r,l-d,u+r,l-We.vg*d,u+r,l),t.bezierCurveTo(u+r,l+We.vg*d,u+We.vg*r,l+d,u,l+d),t.bezierCurveTo(u-We.vg*r,l+d,u-r,l+We.vg*d,u-r,l),t.bezierCurveTo(u-r,l-We.vg*d,u-We.vg*r,l-d,u,l-d),t.closePath(),null!==n&&t.mg(n),null!==i&&(s&&o&&Ts(t),t.hk(),s&&o&&Ds(t)),t.Re();else if(r.type===Ue.o)for(l=(r=r.figures).length,d=0;d<l;d++){u=r.s[d],t.beginPath(),t.moveTo(u.startX,u.startY),c=(h=u.segments.s).length;for(var f=null,p=0;p<c;p++){var g=h[p];switch(g.type){case ii:t.moveTo(g.endX,g.endY);break;case ni:t.lineTo(g.endX,g.endY);break;case ri:t.bezierCurveTo(g.point1X,g.point1Y,g.point2X,g.point2Y,g.endX,g.endY);break;case oi:t.quadraticCurveTo(g.point1X,g.point1Y,g.endX,g.endY);break;case ai:if(g.radiusX===g.radiusY){var m=Math.PI/180;t.arc(g.point1X,g.point1Y,g.radiusX,g.startAngle*m,(g.startAngle+g.sweepAngle)*m,0>g.sweepAngle,null!==f?f.endX:u.startX,null!==f?f.endY:u.startY)}else if(0===(m=(f=ti(g,u)).length))t.lineTo(g.centerX,g.centerY);else for(var v=0;v<m;v++){var y=f[v];0===v&&t.lineTo(y[0],y[1]),t.bezierCurveTo(y[2],y[3],y[4],y[5],y[6],y[7])}break;case si:if(v=m=0,null!==f&&f.type===ai){if(0===(y=(f=ti(f,u)).length)){t.lineTo(g.endX,g.endY);break}null!==(f=f[y-1]||null)&&(m=f[6],v=f[7])}else m=null!==f?f.endX:u.startX,v=null!==f?f.endY:u.startY;if(0===(m=(f=ei(g,u,m,v)).length)){t.lineTo(g.endX,g.endY);break}for(v=0;v<m;v++)y=f[v],t.bezierCurveTo(y[2],y[3],y[4],y[5],y[6],y[7]);break;default:w("Segment not of valid type: "+g.type)}g.isClosed&&t.closePath(),f=g}h=u.isFilled,o?u.isShadowed?(!0===h&&"transparent"!==n&&null!==n&&t.mg(n,u.isEvenOdd),null!==i&&(h&&s&&Ts(t),t.hk(),h&&s&&Ds(t))):(Ts(t),h&&"transparent"!==n&&null!==n&&t.mg(n,u.isEvenOdd),null!==i&&t.hk(),Ds(t)):(h&&null!==n&&t.mg(n,u.isEvenOdd),null!==i&&t.hk()),t.Re(d)}if(a&&t.cs(),null!==this.pathPattern){if((i=this.pathPattern).measure(1/0,1/0),n=i.measuredBounds,i.arrange(0,0,n.width,n.height),o=this.geometry,t.save(),t.beginPath(),n=N(),o.type===Ue.j)n.push(o.startX),n.push(o.startY),n.push(o.endX),n.push(o.endY),gu(t,e,n,i);else if(o.type===Ue.o)for(o=o.figures.iterator;o.next();){for(s=o.value,n.length=0,n.push(s.startX),n.push(s.startY),l=a=s.startX,d=r=s.startY,h=(u=s.segments.s).length,c=0;c<h;c++){switch((p=u[c]).type){case ii:gu(t,e,n,i),n.length=0,n.push(p.endX),n.push(p.endY),l=a=p.endX,d=r=p.endY;break;case ni:n.push(p.endX),n.push(p.endY),a=p.endX,r=p.endY;break;case ri:We.Pe(a,r,p.point1X,p.point1Y,p.point2X,p.point2Y,p.endX,p.endY,.5,n),a=p.endX,r=p.endY;break;case oi:We.bp(a,r,p.point1X,p.point1Y,p.endX,p.endY,.5,n),a=p.endX,r=p.endY;break;case ai:if(0===(f=(g=ti(p,s)).length)){n.push(p.centerX),n.push(p.centerY),a=p.centerX,r=p.centerY;break}for(m=0;m<f;m++)v=g[m],We.Pe(a,r,v[2],v[3],v[4],v[5],v[6],v[7],.5,n),a=v[6],r=v[7];break;case si:if(0===(f=(g=ei(p,s,a,r)).length)){n.push(p.endX),n.push(p.endY),a=p.endX,r=p.endY;break}for(m=0;m<f;m++)v=g[m],We.Pe(a,r,v[2],v[3],v[4],v[5],v[6],v[7],.5,n),a=v[6],r=v[7];break;default:w("Segment not of valid type: "+p.type)}p.isClosed&&(n.push(l),n.push(d),gu(t,e,n,i))}gu(t,e,n,i)}else if(o.type===Ue.u)n.push(o.startX),n.push(o.startY),n.push(o.endX),n.push(o.startY),n.push(o.endX),n.push(o.endY),n.push(o.startX),n.push(o.endY),n.push(o.startX),n.push(o.startY),gu(t,e,n,i);else if(o.type===Ue.F){if((r=new Qe).startX=o.endX,r.startY=(o.startY+o.endY)/2,(a=new $e(ai)).startAngle=0,a.sweepAngle=360,a.centerX=(o.startX+o.endX)/2,a.centerY=(o.startY+o.endY)/2,a.radiusX=Math.abs(o.startX-o.endX)/2,a.radiusY=Math.abs(o.startY-o.endY)/2,r.add(a),0===(s=(o=ti(a,r)).length))n.push(a.centerX),n.push(a.centerY);else for(a=r.startX,r=r.startY,l=0;l<s;l++)d=o[l],We.Pe(a,r,d[2],d[3],d[4],d[5],d[6],d[7],.5,n),a=d[6],r=d[7];gu(t,e,n,i)}I(n),t.restore(),t.Sc(!1)}}}},e.ik=function(t,e,i){return!(!Aa.prototype.ik.call(this,t,e,i)||null===this.wc&&null===this.Ui||null===this.ta||null!==this.pathPattern)&&(t.Fl=this.svg,this.gh(t,e),t.Fl=null,!0)},e.lk=function(t){return null!==this.geometry&&1<this.geometry.figures.length||null!==this.pathPattern||Aa.prototype.lk.call(this,t)},e.Bv=function(t,e){if("g"!==t.nodeName)t.setAttributeNS(null,"filter",e);else{t=t.getElementsByTagName("path");for(var i=0;i<t.length;i++)t[i].setAttributeNS(null,"filter",e)}},e.ka=function(t,e){if(void 0===e&&(e=new pt),t instanceof Re){t.Lc()&&w("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var i=this.naturalBounds,n=this.strokeWidth;e.h(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY)}else e.set(t);return this.me.Ga(e),e},e.mi=function(t){void 0===t&&(t=new Ot);var e=this.naturalBounds,i=this.me;e=Ot.allocAt(e.x,e.y,e.width,e.height);var n=this.strokeWidth;return e.Ac(n/2,n/2),n=pt.allocAt(e.x,e.y).transform(i),t.h(n.x,n.y,0,0),n.h(e.right,e.y).transform(i),Vt(t,n.x,n.y,0,0),n.h(e.right,e.bottom).transform(i),Vt(t,n.x,n.y,0,0),n.h(e.x,e.bottom).transform(i),Vt(t,n.x,n.y,0,0),Ot.free(e),pt.free(n),t},e.fh=function(t,e){var i=this.geometry;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.bounds,r=this.strokeWidth/2;i.type!==Ue.j||e||(r+=2);var o=Ot.alloc();if(o.assign(n),o.Ac(r+2,r+2),!o.ca(t))return Ot.free(o),!1;if(n=r+1e-4,i.type===Ue.j)return null!==this.stroke&&(n=(i.endX-i.startX)*(t.x-i.startX)+(i.endY-i.startY)*(t.y-i.startY),!(0>(i.startX-i.endX)*(t.x-i.endX)+(i.startY-i.endY)*(t.y-i.endY)||0>n)&&(Ot.free(o),We.Xb(i.startX,i.startY,i.endX,i.endY,r,t.x,t.y)));if(i.type===Ue.u){e=i.startX;var a=i.startY,s=i.endX;if(i=i.endY,o.x=Math.min(e,s),o.y=Math.min(a,i),o.width=Math.abs(s-e),o.height=Math.abs(i-a),null===this.fill){if(o.Ac(-n,-n),o.ca(t))return Ot.free(o),!1;o.Ac(n,n)}return null!==this.stroke&&o.Ac(r,r),t=o.ca(t),Ot.free(o),t}if(i.type===Ue.F){a=i.startX,r=i.startY,s=i.endX;var l=i.endY;if(i=Math.min(a,s),e=Math.min(r,l),a=Math.abs(s-a)/2,r=Math.abs(l-r)/2,i=t.x-(i+a),e=t.y-(e+r),null===this.fill){if(r-=n,0>=(a-=n)||0>=r||1>=i*i/(a*a)+e*e/(r*r))return Ot.free(o),!1;a+=n,r+=n}return null!==this.stroke&&(a+=n,r+=n),Ot.free(o),!(0>=a||0>=r)&&1>=i*i/(a*a)+e*e/(r*r)}if(i.type===Ue.o)return Ot.free(o),null===this.fill?qe(i,t.x,t.y,r):Ye(i,t,r,1<this.strokeWidth,e);w("Unknown Geometry type: "+i.type)},e.Vl=function(t,e,i,n){var r=this.desiredSize,o=this.hg;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Nd)var a=this.geometry.bounds;else{var s=this.figure,l=_u[s];if(void 0===l){var u=We.Ye[s];"string"===typeof u&&(u=We.Ye[u]),"function"===typeof u?(l=u(null,100,100),_u[s]=l):w("Unsupported Figure: "+s)}a=l.bounds}s=a.width,l=a.height,u=a.width;var h=a.height;switch(Xa(this,!0)){case da:n=i=0;break;case ca:u=Math.max(t-o,0),h=Math.max(e-o,0);break;case pa:u=Math.max(t-o,0),n=0;break;case ga:i=0,h=Math.max(e-o,0)}isFinite(r.width)&&(u=r.width),isFinite(r.height)&&(h=r.height);var c=this.maxSize,d=this.minSize;switch(i=Math.max(i-o,d.width),n=Math.max(n-o,d.height),u=Math.min(c.width,u),h=Math.min(c.height,h),u=isFinite(u)?Math.max(i,u):Math.max(s,i),h=isFinite(h)?Math.max(n,h):Math.max(l,n),i=mu(this)){case da:break;case ca:s=u,l=h;break;case fa:i=Math.min(u/s,h/l),isFinite(i)||(i=1),s*=i,l*=i;break;default:w(i+" is not a valid geometryStretch.")}null!==this.Nd?(0===s&&(s=.001),0===l&&(l=.001),n=s/(a=(i=null!==this.Nd?this.Nd:this.ta).bounds).width,a=l/a.height,isFinite(n)||(n=1),isFinite(a)||(a=1),this.ta=1===n&&1===a?i:i.copy().scale(n,a)):null!==this.ta&&We.$(this.ta.Qk,t-o)&&We.$(this.ta.Pk,e-o)||(this.ta=fu.makeGeometry(this,s,l)),a=this.ta.bounds,1/0===t||1/0===e?this.Fe(a.x-o/2,a.y-o/2,0===t&&0===s?0:a.width+o,0===e&&0===l?0:a.height+o):this.Fe(-o/2,-o/2,u+o,h+o),r.w()?(u=r.width,h=r.height,u=Math.min(c.width,u),h=Math.min(c.height,h),u=Math.max(d.width,u),h=Math.max(d.height,h),this.dc.h(0,0,u,h)):this.dc.assign(a)},e.dh=function(t,e,i,n){ja(this,t,e,i,n)},e.os=function(t,e,i){return this.Sj(t.x,t.y,e.x,e.y,i)},e.Sj=function(t,e,i,n,r){var o=this.transform,a=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*a,l=-o.m12*a,u=-o.m21*a,h=o.m11*a,c=a*(o.m21*o.dy-o.m22*o.dx),d=a*(o.m12*o.dx-o.m11*o.dy);o=t*s+e*u+c,a=t*l+e*h+d,s=i*s+n*u+c,l=i*l+n*h+d,c=this.hg/2,null===(u=this.ta)&&(this.measure(1/0,1/0),u=this.ta);var f=u.bounds;if(h=!1,u.type===Ue.j)if(1.5>=this.strokeWidth)h=We.Ue(u.startX,u.startY,u.endX,u.endY,o,a,s,l,r);else{if(u.startX===u.endX?(n=c,h=0):(e=(u.endY-u.startY)/(u.endX-u.startX),n=(h=c/Math.sqrt(1+e*e))*e),e=N(),t=new pt,We.Ue(u.startX+n,u.startY+h,u.endX+n,u.endY+h,o,a,s,l,t)&&e.push(t),t=new pt,We.Ue(u.startX-n,u.startY-h,u.endX-n,u.endY-h,o,a,s,l,t)&&e.push(t),t=new pt,We.Ue(u.startX+n,u.startY+h,u.startX-n,u.startY-h,o,a,s,l,t)&&e.push(t),t=new pt,We.Ue(u.endX+n,u.endY+h,u.endX-n,u.endY-h,o,a,s,l,t)&&e.push(t),0===(s=e.length))return I(e),!1;for(h=!0,l=1/0,n=0;n<s;n++)(i=((t=e[n]).x-o)*(t.x-o)+(t.y-a)*(t.y-a))<l&&(l=i,r.x=t.x,r.y=t.y);I(e)}else if(u.type===Ue.u)h=We.Ff(f.x-c,f.y-c,f.x+f.width+c,f.y+f.height+c,o,a,s,l,r);else if(u.type===Ue.F){t:if(0===(e=Ot.allocAt(f.x,f.y,f.width,f.height).Ac(c,c)).width)h=We.Ue(e.x,e.y,e.x,e.y+e.height,o,a,s,l,r);else if(0===e.height)h=We.Ue(e.x,e.y,e.x+e.width,e.y,o,a,s,l,r);else{if(t=e.width/2,u=e.height/2,n=e.x+t,h=e.y+u,i=9999,o!==s&&(i=(a-l)/(o-s)),9999>Math.abs(i)){if(0>t*t*i*i+u*u-(l=a-h-i*(o-n))*l){r.x=NaN,r.y=NaN,h=!1;break t}s=(-t*t*i*l+t*u*(c=Math.sqrt(t*t*i*i+u*u-l*l)))/(u*u+t*t*i*i)+n,t=(-t*t*i*l-t*u*c)/(u*u+t*t*i*i)+n,u=i*(s-n)+l+h,l=i*(t-n)+l+h,Math.abs((o-s)*(o-s))+Math.abs((a-u)*(a-u))<Math.abs((o-t)*(o-t))+Math.abs((a-l)*(a-l))?(r.x=s,r.y=u):(r.x=t,r.y=l)}else{if(s=u*u,0>(s-=s/(t*t)*(l=o-n)*l)){r.x=NaN,r.y=NaN,h=!1;break t}s=h+(l=Math.sqrt(s)),l=h-l,Math.abs(s-a)<Math.abs(l-a)?(r.x=o,r.y=s):(r.x=o,r.y=l)}h=!0}Ot.free(e)}else if(u.type===Ue.o){d=pt.alloc();var p=s-o,g=l-a,m=p*p+g*g,v=o,y=a;if(0<m&&f.contains(v,y)&&(d.x=v,d.y=y,this.ca(d)))for(0!==p&&.5>Math.abs(p)?(g*=.5/p,p=.5):0!==g&&.5>Math.abs(g)&&(p*=.5/g,g=.5),v-=p,y-=g;f.contains(v,y);)v-=p,y-=g;for(r.x=s,r.y=l,g=0;g<u.figures.count;g++)for(var b=u.figures.s[g],x=b.isFilled?v:o,k=b.isFilled?y:a,_=b.segments,S=f=b.startX,C=p=b.startY,M=0;M<_.count;M++){var P=_.s[M],T=P.type,D=P.endX,E=P.endY,A=!1;switch(T){case ii:S=D,C=E;break;case ni:A=yu(f,p,D,E,x,k,s,l,d);break;case ri:A=We.Eo(f,p,P.point1X,P.point1Y,P.point2X,P.point2Y,D,E,x,k,s,l,.6,d);break;case oi:A=We.Eo(f,p,f+2/3*(P.point1X-f),p+2/3*(P.point1Y-p),D+2/3*(P.point1X-D),E+2/3*(P.point1Y-E),D,E,x,k,s,l,.6,d);break;case ai:case si:var O=(T=P.type===ai?ti(P,b):ei(P,b,f,p)).length;if(0===O){A=yu(f,p,P.type===ai?P.centerX:P.endX,P.type===ai?P.centerY:P.endY,x,k,s,l,d);break}for(E=null,D=0;D<O;D++){if(E=T[D],0===D&&yu(f,p,E[0],E[1],x,k,s,l,d)){var L=vu(x,k,d,m,r);L<m&&(m=L,h=!0)}We.Eo(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],x,k,s,l,.6,d)&&((L=vu(x,k,d,m,r))<m&&(m=L,h=!0))}D=E[6],E=E[7];break;default:w("Unknown Segment type: "+T)}f=D,p=E,A&&((A=vu(x,k,d,m,r))<m&&(m=A,h=!0)),P.isClosed&&(yu(f,p,D=S,E=C,x,k,s,l,d)&&((P=vu(x,k,d,m,r))<m&&(m=P,h=!0)))}o=i-t,a=n-e,0!==(s=Math.sqrt(o*o+a*a))&&(o/=s,a/=s),r.x-=o*c,r.y-=a*c,pt.free(d)}else w("Unknown Geometry type: "+u.type);return!!h&&(this.transform.Ga(r),!0)},e.eh=function(t,e){if(void 0===e)return t.Qe(this.actualBounds);var i=this.ta;null===i&&(this.measure(1/0,1/0),i=this.ta),i=i.bounds;var n=this.strokeWidth/2,r=!1,o=pt.alloc();return o.h(i.x-n,i.y-n),t.ca(e.Ga(o))&&(o.h(i.x-n,i.bottom+n),t.ca(e.Ga(o))&&(o.h(i.right+n,i.bottom+n),t.ca(e.Ga(o))&&(o.h(i.right+n,i.y-n),t.ca(e.Ga(o))&&(r=!0)))),pt.free(o),r},e.Vc=function(t,e){if(this.eh(t,e)||void 0===e&&(e=this.transform,t.Qe(this.actualBounds)))return!0;var i=He.alloc();i.set(e),i.Rl();var n=t.left,r=t.right,o=t.top;t=t.bottom;var a=pt.alloc();if(a.h(n,o),i.Ga(a),this.fh(a,!0))return pt.free(a),!0;if(a.h(r,o),i.Ga(a),this.fh(a,!0))return pt.free(a),!0;if(a.h(n,t),i.Ga(a),this.fh(a,!0))return pt.free(a),!0;if(a.h(r,t),i.Ga(a),this.fh(a,!0))return pt.free(a),!0;var s=pt.alloc(),l=pt.alloc();return i.set(e),i.bv(this.transform),i.Rl(),s.x=r,s.y=o,s.transform(i),a.x=n,a.y=o,a.transform(i),e=!1,bu(this,a,s,l)?e=!0:(a.x=r,a.y=t,a.transform(i),bu(this,a,s,l)?e=!0:(s.x=n,s.y=t,s.transform(i),bu(this,a,s,l)?e=!0:(a.x=n,a.y=o,a.transform(i),bu(this,a,s,l)&&(e=!0)))),pt.free(a),He.free(i),pt.free(s),pt.free(l),e},e.tx=function(t,e,i){function n(t,e){for(var i=t.length,n=0;n<i;n+=2)if(e.xd(t[n],t[n+1])>r)return!0;return!1}if(i&&null!==this.fill&&this.fh(t,!0))return!0;var r=t.Bf(e),o=r;if(1.5<this.strokeWidth&&(r=this.strokeWidth/2+Math.sqrt(r),r*=r),null===(e=this.ta)&&(this.measure(1/0,1/0),null===(e=this.ta)))return!1;if(!i){var a=e.bounds,s=a.x,l=a.y,u=a.x+a.width;if(a=a.y+a.height,xt(t.x,t.y,s,l)<=r&&xt(t.x,t.y,u,l)<=r&&xt(t.x,t.y,s,a)<=r&&xt(t.x,t.y,u,a)<=r)return!0}if(s=e.startX,l=e.startY,u=e.endX,a=e.endY,e.type===Ue.j){if(i=(s-u)*(t.x-u)+(l-a)*(t.y-a),bt(t.x,t.y,s,l,u,a)<=(0<=(u-s)*(t.x-s)+(a-l)*(t.y-l)&&0<=i?r:o))return!0}else{if(e.type===Ue.u)return e=!1,i&&(e=bt(t.x,t.y,s,l,s,a)<=r||bt(t.x,t.y,s,l,u,l)<=r||bt(t.x,t.y,u,l,u,a)<=r||bt(t.x,t.y,s,a,u,a)<=r),e;if(e.type===Ue.F){e=t.x-(s+u)/2,o=t.y-(l+a)/2;var h=Math.abs(u-s)/2,c=Math.abs(a-l)/2;if(0===h||0===c)return bt(t.x,t.y,s,l,u,a)<=r;if(!i)return!(xt(e,o,-h,0)>=r||xt(e,o,0,-c)>=r||xt(e,o,0,c)>=r||xt(e,o,h,0)>=r);if((t=We.az(h,c,e,o))*t<=r)return!0}else if(e.type===Ue.o){if(o=(u=e.bounds).x,s=u.y,l=u.x+u.width,u=u.y+u.height,t.x>l&&t.x<o&&t.y>u&&t.y<s&&bt(t.x,t.y,o,s,o,u)>r&&bt(t.x,t.y,o,s,l,s)>r&&bt(t.x,t.y,l,u,o,u)>r&&bt(t.x,t.y,l,u,l,s)>r)return!1;if(o=Math.sqrt(r),!i){for(i=e.figures,e=0;e<i.count;e++){if(a=(o=i.s[e]).startX,h=o.startY,t.xd(a,h)>r)return!1;for(l=(s=o.segments.s).length,u=0;u<l;u++)switch(c=s[u],c.type){case ii:case ni:if(a=c.endX,h=c.endY,t.xd(a,h)>r)return!1;break;case ri:var d=N();if(We.Pe(a,h,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.8,d),a=n(d,t),I(d),a)return!1;if(a=c.endX,h=c.endY,t.xd(a,h)>r)return!1;break;case oi:if(d=N(),We.bp(a,h,c.point1X,c.point1Y,c.endX,c.endY,.8,d),a=n(d,t),I(d),a)return!1;if(a=c.endX,h=c.endY,t.xd(a,h)>r)return!1;break;case ai:case si:var f=(d=c.type===ai?ti(c,o):ei(c,o,a,h)).length;if(0===f){if(a=c.type===ai?c.centerX:c.endX,h=c.type===ai?c.centerY:c.endY,t.xd(a,h)>r)return!1;break}c=null;for(var p=N(),g=0;g<f;g++)if(c=d[g],p.length=0,We.Pe(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.8,p),n(p,t))return I(p),!1;I(p),null!==c&&(a=c[6],h=c[7]);break;default:w("Unknown Segment type: "+c.type)}}return!0}if(null===this.fill?qe(e,t.x,t.y,o):Ye(e,t,o,!0,!1))return!0}}return!1},e.pc=function(){this.ta=null},e.hq=function(){return this.hg},fu.makeGeometry=function(t,e,i){if("None"!==t.toArrow)var n=ku[t.toArrow];else"None"!==t.fromArrow?n=ku[t.fromArrow]:("string"===typeof(n=We.Ye[t.figure])&&(n=We.Ye[n]),void 0===n&&w("Unknown Shape.figure: "+t.figure),(n=n(t,e,i)).Qk=e,n.Pk=i);if(null===n){var r=We.Ye.Rectangle;"function"===typeof r&&(n=r(t,e,i))}return n},d.Object.defineProperties(fu.prototype,{geometry:{get:function(){return null!==this.ta?this.ta:this.Nd},set:function(t){var e=this.ta,i=this.Nd;if(e!==t){this.Nd=this.ta=null!==t?t.freeze():null;var n=this.part;null!==n&&(n.$f=NaN),this.v(),this.g("geometry",e||i,t),Qa(this)&&(null!==(t=this.part)&&La(this,t,"geometryString"))}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=Ue.parse(t)).normalize();this.geometry=t,this.position=t=pt.allocAt(-e.x,-e.y),pt.free(t)}},isGeometryPositioned:{get:function(){return 0!==(1048576&this.m)},set:function(t){var e=0!==(1048576&this.m);e!==t&&(this.m^=1048576,this.v(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.Ui},set:function(t){var e=this.Ui;e!==t&&(null!==t&&Ys(t,"Shape.fill"),t instanceof Ls&&t.freeze(),this.Ui=t,this.N(),this.g("fill",e,t))}},stroke:{get:function(){return this.wc},set:function(t){var e=this.wc;e!==t&&(null!==t&&Ys(t,"Shape.stroke"),t instanceof Ls&&t.freeze(),this.wc=t,this.N(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.hg},set:function(t){var e=this.hg;if(e!==t)if(0<=t){this.hg=t,this.v();var i=this.part;null!==i&&(i.$f=NaN),this.g("strokeWidth",e,t)}else _(t,"value >= 0",fu,"strokeWidth:value")}},strokeCap:{get:function(){return null!==this.Na?this.Na.Er:"butt"},set:function(t){var e=this.strokeCap;e!==t&&("string"!==typeof t||"butt"!==t&&"round"!==t&&"square"!==t?_(t,'"butt", "round", or "square"',fu,"strokeCap"):(pu(this),this.Na.Er=t,this.N(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return null!==this.Na?this.Na.Fr:"miter"},set:function(t){var e=this.strokeJoin;e!==t&&("string"!==typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?_(t,'"miter", "bevel", or "round"',fu,"strokeJoin"):(pu(this),this.Na.Fr=t,this.N(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return null!==this.Na?this.Na.Gr:10},set:function(t){var e=this.strokeMiterLimit;if(e!==t&&1<=t){pu(this),this.Na.Gr=t,this.N();var i=this.part;null!==i&&(i.$f=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.Xg},set:function(t){var e=this.Xg;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];0<=o&&isFinite(o)||w("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.Xg=t,this.N(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return null!==this.Na?this.Na.uj:0},set:function(t){var e=this.strokeDashOffset;e!==t&&0<=t&&(pu(this),this.Na.uj=t,this.N(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.an},set:function(t){var e=this.an;if(e!==t){var i=We.Ye[t];"function"===typeof i?i=t:(i=We.Ye[t.toLowerCase()])||w("Unknown Shape.figure: "+t),e!==i&&(null!==(t=this.part)&&(t.$f=NaN),this.an=i,this.Nd=null,this.pc(),this.v(),this.g("figure",e,i))}}},toArrow:{get:function(){return null!==this.Ua?this.Ua.V:"None"},set:function(t){var e=this.toArrow;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=wu(t);null===i?w("Unknown Shape.toArrow: "+t):e!==i&&(null===this.Ua&&(this.Ua=new ps),this.Ua.V=i,this.Nd=null,this.pc(),this.v(),xu(this),this.g("toArrow",e,i))}}},fromArrow:{get:function(){return null!==this.Ua?this.Ua.j:"None"},set:function(t){var e=this.fromArrow;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=wu(t);null===i?w("Unknown Shape.fromArrow: "+t):e!==i&&(null===this.Ua&&(this.Ua=new ps),this.Ua.j=i,this.Nd=null,this.pc(),this.v(),xu(this),this.g("fromArrow",e,i))}}},spot1:{get:function(){return null!==this.Na?this.Na.eg:ke},set:function(t){var e=this.spot1;e.C(t)||(t=t.J(),pu(this),this.Na.eg=t,this.v(),this.g("spot1",e,t))}},spot2:{get:function(){return null!==this.Na?this.Na.fg:ke},set:function(t){var e=this.spot2;e.C(t)||(t=t.J(),pu(this),this.Na.fg=t,this.v(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.Un},set:function(t){var e=this.Un;e!==t&&(this.Un=t,this.pc(),this.v(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.Vn},set:function(t){var e=this.Vn;e!==t&&(this.Vn=t,this.pc(),this.v(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){return this.dc}},pathPattern:{get:function(){return null!==this.Na?this.Na.Zq:null},set:function(t){var e=this.pathPattern;e!==t&&(pu(this),this.Na.Zq=t,this.N(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return null!==this.Na?this.Na.gq:ma},set:function(t){var e=this.geometryStretch;e!==t&&(pu(this),this.Na.gq=t,this.v(),this.g("geometryStretch",e,t))}},interval:{get:function(){return null!==this.fa?this.fa.Rk:1},set:function(t){var e=this.interval;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){null===this.fa&&(this.fa=new ih),this.fa.Rk=t;var i=this.diagram;null!==i&&this.panel===i.grid&&vo(i),this.v(),null!==(i=this.panel)&&(i.graduatedIntervals=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(t){var e=this.graduatedStart;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ih),this.fa.u=t,this.v(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(t){var e=this.graduatedEnd;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ih),this.fa.j=t,this.v(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.o:null},set:function(t){var e=this.graduatedSkip;e!==t&&(null===this.fa&&(this.fa=new ih),this.fa.o=t,this.v(),this.g("graduatedSkip",e,t))}}}),fu.prototype.intersectsRect=fu.prototype.Vc,fu.prototype.containedInRect=fu.prototype.eh,fu.prototype.getNearestIntersectionPoint=fu.prototype.os,fu.prototype.getDocumentBounds=fu.prototype.mi,fu.prototype.getDocumentPoint=fu.prototype.ka;var ku=new W,_u=new W;function Su(){this.mc=!1,this.Er="butt",this.Fr="miter",this.Gr=10,this.uj=0,this.Zq=null,this.gq=ma,this.fg=this.eg=ke}function Cu(t,e){return Aa.call(this),th||($u=zo?new Is(null).context:null,th=!0),this.m|=2097152,this.ec="",this.wc="black",this.ze="13px sans-serif",this.Iq=this.Cb=this.Fc=0,this.da=this.fa=this.Gm=this.Lt=this.Mt=null,this.Ih=0,this.cf=null,this.Ke=0,this.ye=this.$b=this.Pc=null,"string"===typeof t?this.text=t:t&&Object.assign(this,t),e&&Object.assign(this,e),this}function Mu(t){null===t.da?t.da=new eh:t.da.mc&&(t.da=t.da.copy())}function Pu(t,e){t.m=6144|e.m,t.pb=e.opacity,t.Oa=e.background,t.areaBackground=e.areaBackground,t.dd=e.desiredSize.J(),t.minSize=e.minSize.J(),t.maxSize=e.maxSize.J(),null!==e.Mb?t.Mb=e.Mb.copy():t.Mb=null,t.Aa=e.scale,t.Lb=e.angle,t.stretch=e.stretch,t.Jg=e.margin.J(),t.Kb=e.alignment.J(),t.qk=e.alignmentFocus.J(),t.segmentFraction=e.segmentFraction,t.segmentOffset=e.segmentOffset.J(),t.segmentOrientation=e.segmentOrientation,null!==e.tb&&(t.tb=e.tb.copy()),t.shadowVisible=e.shadowVisible,t.ec=e.ec,t.wc=e.wc,t.ze=e.ze,null!==t.fa&&(t.fa=e.fa.copy()),null!==e.da&&(t.da=e.da.mc?e.da:e.da.copy()),t.Ih=e.Ih}function Tu(t,e,i){null===t.ye?(t.ye=e,t.Cb=i):(null!==t.$b&&null!==t.Pc||(t.$b=[],t.Pc=[],t.$b.push(t.ye),t.Pc.push(t.Cb)),t.$b.push(e),t.Pc.push(i))}function Du(t,e,i,n){var r=t.formatting===Uu;r&&(e=e.trim());var o=0,a=t.ze,s=t.spacingAbove+t.spacingBelow;s=Math.max(0,Eu(t)+s);var l=t.overflow===Wu?Au(a):0;if(t.Fc>=t.maxLines)null!==n&&n.h(0,s);else if(a=e,t.wrap===Bu){t.Ke=1;var u=Iu(e);if(0===l||u<=i)t.Cb=Math.max(t.Cb,u),Tu(t,e,t.Cb),null!==n&&n.h(u,s);else{for(u=Iu((o=Nu(t,a))+(e=Nu(t,a=a.substr(o.length))));0<e.length&&u<=i;)u=(o+=e)+(e=Nu(t,a=a.substr(e.length))),r&&(u=u.trim()),u=Iu(u);for(r&&(e=e.trim()),o+=e,i=Math.max(1,i-l);Iu(o)>i&&1<o.length;)o=o.substr(0,o.length-1);var h=Iu(o+=Ju);t.Cb=h,Tu(t,o,h),null!==n&&n.h(h,s)}}else{for(l=0,0===a.length&&(l=1,Tu(t,a,0));0<a.length;){for(e=Nu(t,a),a=a.substr(e.length);Iu(e)>i;){var c=1;for(u=Iu(e.substr(0,c)),h=0;u<=i;)c++,h=u,u=Iu(e.substr(0,c));if(1===c){var d=u;o=Math.max(o,u)}else d=h,o=Math.max(o,h);if(1>--c&&(c=1),Tu(t,e.substr(0,c),d),l++,e=e.substr(c),t.Fc+l>t.maxLines)break}for(u=Iu(e+(h=Nu(t,a)));0<h.length&&u<=i;)u=(e+=h)+(h=Nu(t,a=a.substr(h.length))),r&&(u=u.trim()),u=Iu(u);if(r&&(e=e.trim()),""!==e&&("\xad"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"\u2010"),0===h.length?(c=u,o=Math.max(o,u)):(c=h=Iu(e),o=Math.max(o,h)),Tu(t,e,c),l++,t.Fc+l>t.maxLines))break}t.Ke=Math.min(t.maxLines,l),t.Cb=Math.max(t.Cb,o),null!==n&&n.h(t.Cb,s*t.Ke)}}function Nu(t,e){if(t.wrap===Hu)return e.substr(0,1);for(var i=e.length,n=0,r=Ku;n<i&&!r.test(e.charAt(n));)n++;for(t.formatting===Gu&&(i=Math.min(i,n+1));n<i&&r.test(e.charAt(n));)n++;return n>=e.length?e:e.substr(0,n)}function Iu(t){return null===$u?8*t.length:$u.measureText(t).width}function Eu(t){if(null!==t.cf)return t.cf;var e=t.ze;if(null===$u){var i=16;return t.cf=i}return void 0!==Yu[e]&&5e3>Xu?i=Yu[e]:(i=1.3*$u.measureText("M").width,Yu[e]=i,Xu++),t.cf=i}function Au(t){if(null===$u)return 6;if(void 0!==qu[t]&&5e3>Zu)var e=qu[t];else e=$u.measureText(Ju).width,qu[t]=e,Zu++;return e}function Ou(t,e){var i=t.ec.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),n=t.spacingAbove+t.spacingBelow;if(n=Math.max(0,Eu(t)+n),0===i.length)return t.Cb=0,t.Fc=1,n;if(!t.isMultiline){var r=i.indexOf("\n",0);0<=r&&(i=i.substr(0,r))}r=0;for(var o,a=t.Fc=0,s=!1;!s;){if(-1===(o=i.indexOf("\n",a))&&(o=i.length,s=!0),a<=o){if(a=i.substr(a,o-a),t.wrap!==Bu){t.Ke=0;var l=Nt.alloc();Du(t,a,e,l),r+=l.height,Nt.free(l),t.Fc+=t.Ke}else Du(t,a,e,null),r+=n,t.Fc++;t.Fc===t.maxLines&&(s=!0)}a=o+1}return t.Iq=r}fu.className="Shape",fu.getFigureGenerators=function(){var t,e=new ft;for(t in We.Ye)t!==t.toLowerCase()&&e.add(t,We.Ye[t]);return e.freeze(),e},fu.defineFigureGenerator=function(t,e){var i=t.toLowerCase(),n=We.Ye;n[t]=e,n[i]=t},fu.getArrowheadGeometries=function(){var t=new ft;for(n in We.um)if(void 0===ku[n]){var e=Ue.parse(We.um[n],!1);ku[n]=e,(e=n.toLowerCase())!==n&&(ku[e]=n)}for(var i in ku)if(i!==i.toLowerCase()){var n=ku[i];n instanceof Ue&&t.add(i,n)}return t.freeze(),t},fu.defineArrowheadGeometry=function(t,e){var i=null;i="string"===typeof e?Ue.parse(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||w("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var n=ku;n[t]=i,n[e]=t},Su.prototype.copy=function(){var t=new Su;return t.Er=this.Er,t.Fr=this.Fr,t.Gr=this.Gr,t.uj=this.uj,t.Zq=this.Zq,t.gq=this.gq,t.eg=this.eg.J(),t.fg=this.fg.J(),t},c(Cu,Aa),Cu.prototype.cloneProtected=function(t){Aa.prototype.cloneProtected.call(this,t),t.ec=this.ec,t.wc=this.wc,t.ze=this.ze,t.Fc=this.Fc,t.Cb=this.Cb,t.Iq=this.Iq,t.Mt=this.Mt,t.Lt=this.Lt,t.Gm=this.Gm,null!==this.fa&&(t.fa=this.fa.copy()),null!==this.da&&(t.da=this.da.mc?this.da:this.da.copy()),t.Ih=this.Ih,t.cf=this.cf,t.Ke=this.Ke,t.Pc=this.Pc,t.$b=this.$b,t.ye=this.ye},(e=Cu.prototype).sh=function(){Aa.prototype.sh.call(this),null!==this.da&&(this.da.mc=!0)},e.qb=function(t){t.classType===Cu?this.wrap=t:Aa.prototype.qb.call(this,t)},e.toString=function(){return 22<this.ec.length?'TextBlock("'+this.ec.substring(0,20)+'"...)':'TextBlock("'+this.ec+'")'},e.v=function(){Aa.prototype.v.call(this),this.Lt=this.Mt=null},e.gh=function(t,e){if(null!==this.wc&&0!==this.ec.length&&null!==this.ze){var i=this.naturalBounds,n=this.actualBounds,r=i.width,o=i.height,a=Eu(this),s=t.textAlign=this.textAlign,l=e.tn;"start"===s?s=l?"right":"left":"end"===s&&(s=l?"left":"right"),l=this.isUnderline;var u=this.isStrikethrough;Ga(this,t,this.wc,!0,!1,i,n),(l||u)&&Ga(this,t,this.wc,!1,!1,i,n),n=0,i=!1;var h=this.me,c=h.dx-(a*h.m21+h.dx);h=h.dy-(a*h.m22+h.dy);var d=e.scale;switch(8>(c*c+h*h)*d*d&&(i=!0),e.ib!==t&&(i=!1),e.ib instanceof bs&&(i=!1),!1===e.Gf("textGreeking")&&(i=!1),e=this.spacingAbove,c=this.spacingBelow,this.flip){case ba:t.translate(r,0),t.scale(-1,1);break;case ya:t.translate(0,o),t.scale(1,-1);break;case xa:t.translate(r,o),t.scale(-1,-1)}if(t.xc(),o>(d=(e+a+c)*(h=this.Fc))&&(n=(n=this.verticalAlignment).y*o-n.y*d+n.offsetY),1===h&&null!==this.ye)(c=this.Cb)>r&&(c=r),this.Oj(this.ye,t,0,n+e,r,a,c,i,s,l,u);else if(null!==this.Pc&&null!==this.$b)for(d=0;d<h;d++){var f=this.Pc[d];f>r&&(f=r),n+=e,this.Oj(this.$b[d],t,0,n,r,a,f,i,s,l,u),n+=a+c}switch(this.flip){case ba:t.scale(-1,1),t.translate(-r,0);break;case ya:t.scale(1,-1),t.translate(0,-o);break;case xa:t.scale(-1,-1),t.translate(-r,-o)}}},e.Oj=function(t,e,i,n,r,o,a,s,l,u,h){var c=0;if(s)"left"===l?c=0:"right"===l?c=r-a:"center"===l&&(c=(r-a)/2),e.fillRect(i+c,n+.25*o,a,1);else{if("left"===l?c=0:"right"===l?c=r:"center"===l&&(c=r/2),r=null!==Ru?Ru(this,o):.75*o,e.fillText(t,i+c,n+r),0===(t=o/20|0)&&(t=1),"right"===l?c-=a:"center"===l&&(c-=a/2),u){l=i+c,u=n+(s=null!==ju?ju(this,o):.8*o),r=i+c+a,s=n+s;var d=t;e.beginPath(),e.lineWidth=d,e.moveTo(l,u),e.lineTo(r,s),e.stroke(),e.Re(),e instanceof bs&&e.Ad.classList.add("gojs-td")}h&&(h=n+o-o/2.2|0,0!==t%2&&(h+=.5),n=i+c,o=h,i=i+c+a,a=h,c=t,e.beginPath(),e.lineWidth=c,e.moveTo(n,o),e.lineTo(i,a),e.stroke(),e.Re(),e instanceof bs&&e.Ad.classList.add("gojs-td"))}},e.ik=function(t,e,i){if(!Aa.prototype.ik.call(this,t,e,i))return!1;if(Ga(this,t,this.wc,!0,!1,this.naturalBounds,this.actualBounds),i){if(0===this.svg.getElementsByTagName("text").length)return!0;for(e=this.svg.getElementsByClassName("gojs-td"),i=0;i<e.length;i++)_s(t,e[i],!1)}else(e=this.svg).innerHTML=this.text,_s(t,e,!0);return!0},e.lk=function(t){return!!(1<this.lineCount||this.isUnderline||this.isStrikethrough)||Aa.prototype.lk.call(this,t)},e.Bv=function(t,e){if("g"!==t.nodeName)t.setAttributeNS(null,"filter",e);else{t=t.getElementsByTagName("text");for(var i=0;i<t.length;i++)t[i].setAttributeNS(null,"filter",e)}},e.Vl=function(t,e,i,n){var r=this.Fc;this.Ih=t;var o,a=this.ze;if(null!==$u&&Qu!==a&&(Qu=$u.font=a),this.Cb=this.Ke=0,this.ye=this.$b=this.Pc=this.cf=null,isNaN(this.desiredSize.width)){if(0===(a=this.ec.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)a=0;else if(this.isMultiline){for(var s=o=0,l=!1;!l;){var u=a.indexOf("\n",s);-1===u&&(u=a.length,l=!0),s=a.substr(s,u-s),this.formatting===Uu&&(s=s.trim()),o=Math.max(o,Iu(s)),s=u+1}a=o}else 0<=(o=a.indexOf("\n",0))&&(a=a.substr(0,o)),a=Iu(a);a=Math.min(a,t/this.scale),a=Math.max(8,a)}else a=this.desiredSize.width;if(null!==this.panel&&(a=Math.min(a,this.panel.maxSize.width)),o=Ou(this,a),l=o=isNaN(this.desiredSize.height)?Math.min(o,e/this.scale):this.desiredSize.height,0!==this.Cb&&null!==this.Pc&&null!==this.$b&&this.overflow===Wu&&(e=this.ze,e=this.overflow===Wu?Au(e):0,u=this.spacingAbove+this.spacingBelow,u=Math.max(0,Eu(this)+u),!((l=Math.min(this.maxLines-1,Math.max(Math.floor(l/u+.01)-1,0)))+1>=this.$b.length))){for(u=this.$b[l],e=Math.max(1,t-e);Iu(u)>e&&1<u.length;)u=u.substr(0,u.length-1);e=Iu(u+=Ju),this.$b[l]=u,this.$b=this.$b.slice(0,l+1),this.Pc[l]=e,this.Pc=this.Pc.slice(0,l+1),this.Ke=this.$b.length,this.Cb=Math.max(this.Cb,e),this.Fc=this.Ke,1===this.Fc&&(this.ye=this.$b[0])}(this.wrap===Fu||isNaN(this.desiredSize.width))&&(a=isNaN(t)?this.Cb:Math.min(t,this.Cb),isNaN(this.desiredSize.width)&&(a=Math.max(8,a))),a=Math.max(i,a),o=Math.max(n,o),Lt(this.dc,a,o),this.Fe(0,0,a,o),null!==this.svg&&r!==this.Fc&&(this.rf=!0)},e.dh=function(t,e,i,n){ja(this,t,e,i,n)},d.Object.defineProperties(Cu.prototype,{font:{get:function(){return this.ze},set:function(t){var e=this.ze;e!==t&&(this.ze=t,this.cf=null,this.v(),this.g("font",e,t))}},text:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==(t=null!==t&&void 0!==t?t.toString():"")&&(this.ec=t,this.v(),this.g("text",e,t),this.rf=!0)}},textAlign:{get:function(){return null!==this.da?this.da.Lr:"start"},set:function(t){var e=this.textAlign;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(Mu(this),this.da.Lr=t,this.N(),this.g("textAlign",e,t))}},flip:{get:function(){return null!==this.da?this.da.Xf:da},set:function(t){var e=this.flip;e!==t&&(Mu(this),this.da.Xf=t,this.N(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return null!==this.da?this.da.Vr:Ce},set:function(t){var e=this.verticalAlignment;e.C(t)||(t=t.J(),Mu(this),this.da.Vr=t,Ya(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.dc.w()){var t=Nt.alloc();Du(this,this.ec,999999,t);var e=t.width;Nt.free(t),t=Ou(this,e);var i=this.desiredSize;isNaN(i.width)||(e=i.width),isNaN(i.height)||(t=i.height),Lt(this.dc,e,t)}return this.dc}},isMultiline:{get:function(){return 0!==(2097152&this.m)},set:function(t){var e=0!==(2097152&this.m);e!==t&&(this.m^=2097152,this.v(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return 0!==(4194304&this.m)},set:function(t){var e=0!==(4194304&this.m);e!==t&&(this.m^=4194304,this.rf=!0,this.N(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return 0!==(8388608&this.m)},set:function(t){var e=0!==(8388608&this.m);e!==t&&(this.m^=8388608,this.rf=!0,this.N(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return null!==this.da?this.da.Xr:zu},set:function(t){var e=this.wrap;e!==t&&(Mu(this),this.da.Xr=t,this.v(),this.g("wrap",e,t))}},overflow:{get:function(){return null!==this.da?this.da.Xq:Vu},set:function(t){var e=this.overflow;e!==t&&(Mu(this),this.da.Xq=t,this.v(),this.g("overflow",e,t))}},stroke:{get:function(){return this.wc},set:function(t){var e=this.wc;e!==t&&(null!==t&&Ys(t,"TextBlock.stroke"),t instanceof Ls&&t.freeze(),this.wc=t,this.N(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Fc}},lineHeight:{get:function(){return Eu(this)}},editable:{get:function(){return 0!==(1048576&this.m)},set:function(t){var e=0!==(1048576&this.m);e!==t&&(this.m^=1048576,this.g("editable",e,t))}},textEditor:{get:function(){return null!==this.da?this.da.Nr:null},set:function(t){var e=this.textEditor;e!==t&&(Mu(this),this.da.Nr=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return null!==this.da?this.da.Dd:null},set:function(t){var e=this.errorFunction;e!==t&&(Mu(this),this.da.Dd=t,this.g("errorFunction",e,t))}},interval:{get:function(){return null!==this.fa?this.fa.Rk:1},set:function(t){var e=this.interval;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){null===this.fa&&(this.fa=new ih),this.fa.Rk=t,this.v();var i=this.panel;null!==i&&(i.graduatedIntervals=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(t){var e=this.graduatedStart;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ih),this.fa.u=t,this.v(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(t){var e=this.graduatedEnd;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ih),this.fa.j=t,this.v(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return null!==this.fa?this.fa.F:null},set:function(t){var e=this.graduatedFunction;e!==t&&(null===this.fa&&(this.fa=new ih),this.fa.F=t,this.v(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.o:null},set:function(t){var e=this.graduatedSkip;e!==t&&(null===this.fa&&(this.fa=new ih),this.fa.o=t,this.v(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return null!==this.da?this.da.vj:null},set:function(t){var e=this.textValidation;e!==t&&(Mu(this),this.da.vj=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return null!==this.da?this.da.Mr:null},set:function(t){var e=this.textEdited;e!==t&&(Mu(this),this.da.Mr=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return null!==this.da?this.da.Ar:0},set:function(t){var e=this.spacingAbove;e!==t&&(Mu(this),this.da.Ar=t,this.v(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return null!==this.da?this.da.Br:0},set:function(t){var e=this.spacingBelow;e!==t&&(Mu(this),this.da.Br=t,this.v(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return null!==this.da?this.da.cq:Uu},set:function(t){var e=this.formatting;e!==t&&(Mu(this),this.da.cq=t,this.v(),this.g("formatting",e,t))}},maxLines:{get:function(){return null!==this.da?this.da.Gq:1/0},set:function(t){var e=this.maxLines;e!==t&&(0>=(t=Math.floor(t))&&_(t,"> 0",Cu,"maxLines"),Mu(this),this.da.Gq=t,this.v(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Pc?this.Pc:[this.Cb],arrText:null!==this.$b?this.$b:[this.ye],maxLineWidth:this.Cb,fontHeight:this.cf}}},choices:{get:function(){return this.Gm},set:function(t){var e=this.Gm;e!==t&&(this.Gm=t,this.g("choices",e,t))}}});var Lu,Ru=null,ju=null,Bu=new z(Cu,"None",0),Fu=new z(Cu,"WrapFit",1),zu=new z(Cu,"WrapDesiredSize",2),Hu=new z(Cu,"WrapBreakAll",3),Vu=new z(Cu,"OverflowClip",0),Wu=new z(Cu,"OverflowEllipsis",1),Uu=new z(Cu,"FormatTrim",0),Gu=new z(Cu,"FormatNone",0),Ku=/[ \u200b\u00ad]/,Yu=new W,Xu=0,qu=new W,Zu=0,Ju="...",Qu="",$u=null,th=!1;function eh(){this.mc=!1,this.Dd=null,this.Xf=da,this.cq=Uu,this.Gq=1/0,this.Xq=Vu,this.Br=this.Ar=0,this.Lr="start",this.vj=this.Nr=this.Mr=null,this.Vr=Ce,this.Xr=zu}function ih(){this.Rk=1,this.u=0,this.j=1,this.o=this.F=null}function nh(t,e){Aa.call(this),this.Dg=null,this.qo="",this.Wg=Kt,this.Lk=ca,this.Yg=this.Dd=null,this.Kk=ie,this.Xf=da,this.tl=null,this.qn=!1,this.en=!0,this.Zk=!1,this.pl=null,"string"===typeof t?this.source=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}function rh(t){void 0===t&&(t=""),""!==t?Lu[t]&&(delete Lu[t],ah--):(Lu=new W,ah=0)}function oh(t,e){e.ty||(e.Cq=function(i){e.pq=!0,e.ln=!1;var n=e.Ag.copy();if(null!==n&&void 0!==n){for(n=n.iterator;n.next();){var r=n.value;r.N();var o=e.getAttribute("src")||"",a=r.Ng.I(o);if(null!==a)for(var s=a.length,l=0;l<s;l++)o=a[l],r.Xn.add(o),o.rf=!0,r.Zb(),e.hn&&(void 0===e.du&&(e.du=i),null!==o.Yg&&o.Yg(o,i))}e.Ag.clear()}t.desiredSize.w()||(ns(t,!1),t.v())},e.Vp=function(t){e.ln=t;var i=e.Ag.copy();if(null!==i&&void 0!==i){for(i=i.iterator;i.next();){var n=i.value,r=e.getAttribute("src")||"",o=n.Ng.I(r);if(null!==o){n=o.length,r=N();for(var a=0;a<n;a++)r.push(o[a]);if(e.hn)for(a=0;a<n;a++)null!==(o=r[a]).Dd&&o.Dd(o,t);I(r)}}e.Ag.clear()}},e.addEventListener("load",e.Cq),e.addEventListener("error",e.Vp),e.ty=!0)}Cu.className="TextBlock",eh.prototype.copy=function(){var t=new eh;return t.Dd=this.Dd,t.Xf=this.Xf,t.cq=this.cq,t.Gq=this.Gq,t.Xq=this.Xq,t.Ar=this.Ar,t.Br=this.Br,t.Lr=this.Lr,t.Mr=this.Mr,t.Nr=this.Nr,t.vj=this.vj,t.Vr=this.Vr,t.Xr=this.Xr,t},Cu.getEllipsis=function(){return Ju},Cu.setEllipsis=function(t){Ju=t,qu=new W,Zu=0},Cu.getBaseline=function(){return Ru},Cu.setBaseline=function(t){Ru=t},Cu.getUnderline=function(){return ju},Cu.setUnderline=function(t){ju=t},Cu.isValidFont=function(t){if(th||($u=zo?new Is(null).context:null,th=!0),null===$u)return!0;var e=$u.font;if(t===e||"10px sans-serif"===t)return!0;$u.font="10px sans-serif",$u.font=t;var i=$u.font;if("10px sans-serif"!==i)return $u.font=e,!0;$u.font="19px serif";var n=$u.font;return $u.font=t,i=$u.font,$u.font=e,i!==n},Cu.FormatNone=Gu,Cu.FormatTrim=Uu,Cu.None=Bu,Cu.OverflowClip=Vu,Cu.OverflowEllipsis=Wu,Cu.WrapBreakAll=Hu,Cu.WrapDesiredSize=zu,Cu.WrapFit=Fu,ih.prototype.copy=function(){var t=new ih;return t.Rk=this.Rk,t.u=this.u,t.j=this.j,t.F=this.F,t.o=this.o,t},ih.className="GradElementSettings",c(nh,Aa),nh.prototype.cloneProtected=function(t){Aa.prototype.cloneProtected.call(this,t),t.qo=this.qo,t.element=this.Dg,t.Wg=this.Wg.J(),t.Lk=this.Lk,t.Xf=this.Xf,t.Dd=this.Dd,t.Yg=this.Yg,t.Kk=this.Kk.J(),t.en=this.en,t.pl=this.pl},nh.prototype.qb=function(t){t===da||t===fa||t===va?this.imageStretch=t:Aa.prototype.qb.call(this,t)},nh.prototype.toString=function(){return"Picture("+this.source+")#"+et(this)},nh.prototype.gA=function(){if(""!==this.source){rh(this.source);var t=this.source;this.source="",this.source=t}},nh.prototype.redraw=function(){this.N()},nh.prototype.gh=function(t,e){var i=this.Dg;if(null!==i){var n=i.getAttribute("src");if(!(i instanceof HTMLImageElement&&(null===n||""===n)||i.ln instanceof Event&&t instanceof Es)){var r=t instanceof bs;n=this.naturalBounds;var o=0,a=0,s=this.qn,l=s?+i.width:i.naturalWidth;if(s=s?+i.height:i.naturalHeight,void 0===l&&i.videoWidth&&(l=i.videoWidth),void 0===s&&i.videoHeight&&(s=i.videoHeight),l=l||n.width,s=s||n.height,0!==l&&0!==s){var u=l,h=s;this.sourceRect.w()&&(o=this.Wg.x,a=this.Wg.y,l=this.Wg.width,s=this.Wg.height);var c=l,d=s,f=this.Lk,p=this.Kk;switch(f){case da:if(this.sourceRect.w())break;c>=n.width&&(o=o+p.offsetX+(c*p.x-n.width*p.x)),d>=n.height&&(a=a+p.offsetY+(d*p.y-n.height*p.y)),l=Math.min(n.width,c),s=Math.min(n.height,d);break;case ca:c=n.width,d=n.height;break;case fa:case va:f===fa?(c*=f=Math.min(n.height/d,n.width/c),d*=f):f===va&&(d*=f=Math.max(n.height/d,n.width/c),(c*=f)>=n.width&&(o=(o+p.offsetX+(c*p.x-n.width*p.x)/c)*l),d>=n.height&&(a=(a+p.offsetY+(d*p.y-n.height*p.y)/d)*s),l*=1/(c/n.width),s*=1/(d/n.height),c=n.width,d=n.height)}var g=c*(f=this.Df()*e.scale)*d*f,m=l*s/g,v=i.__goCache;f=null;var y=sh;if(!r){if(i.pq&&void 0!==v&&4<g&&m>y*y)for(null===v.gi&&(uh(v,4,u,h,i),uh(v,16,u,h,i)),u=(r=v.gi).length,h=0;h<u&&r[h].ratio*r[h].ratio<m;h++)f=r[h];if(!e.Xm){if(null===this.tl)if(null===this.Dg)this.tl=!1;else{r=new Is(null).context;try{r.drawImage(this.Dg,0,0)}catch(b){this.en=!1}try{r.getImageData(0,0,1,1).data[3]&&(this.tl=!1),this.tl=!1}catch(b){this.tl=!0}}if(this.tl)return}}switch(r=c<n.width?p.offsetX+(n.width*p.x-c*p.x):0,p=d<n.height?p.offsetY+(n.height*p.y-d*p.y):0,this.flip){case ba:t.translate(Math.min(n.width,c),0),t.scale(-1,1);break;case ya:t.translate(0,Math.min(n.height,d)),t.scale(1,-1);break;case xa:t.translate(Math.min(n.width,c),Math.min(n.height,d)),t.scale(-1,-1)}if(t.xc(),e.Gf("pictureRatioOptimization")&&!e.$i&&void 0!==v&&null!==f&&1!==f.ratio){t.save(),e=f.ratio;try{t.drawImage(f.source,o/e,a/e,Math.min(f.source.width,l/e),Math.min(f.source.height,s/e),r,p,Math.min(n.width,c),Math.min(n.height,d))}catch(b){this.en=!1}t.restore()}else try{t.drawImage(i,o,a,l,s,r,p,Math.min(n.width,c),Math.min(n.height,d))}catch(b){this.en=!1}switch(this.flip){case ba:t.scale(-1,1),t.translate(-Math.min(n.width,c),0);break;case ya:t.scale(1,-1),t.translate(0,-Math.min(n.height,d));break;case xa:t.scale(-1,-1),t.translate(-Math.min(n.width,c),-Math.min(n.height,d))}}}}},nh.prototype.Vl=function(t,e,i,n){var r=this.desiredSize,o=Xa(this,!0),a=this.Dg,s=this.qn,l=0,u=0;(s||!this.Zk&&a&&a.complete)&&(this.Zk=!0),null===a?(isFinite(r.width)||(t=0),isFinite(r.height)||(e=0)):(l=s?+a.width:a.naturalWidth,u=s?+a.height:a.naturalHeight),isFinite(r.width)||o===ca||o===pa?(isFinite(t)||(this.sourceRect.w()?t=this.sourceRect.width:null!==a&&(t=l)),i=0):null!==a&&!1!==this.Zk&&(t=this.sourceRect.w()?this.sourceRect.width:l),isFinite(r.height)||o===ca||o===ga?(isFinite(e)||(this.sourceRect.w()?e=this.sourceRect.height:null!==a&&(e=u)),n=0):null!==a&&!1!==this.Zk&&(e=this.sourceRect.w()?this.sourceRect.height:u),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.maxSize,o=this.minSize,i=Math.max(i||0,o.width),n=Math.max(n||0,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),null===a||a.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),Lt(this.dc,t,e),this.Fe(0,0,t,e)},nh.prototype.dh=function(t,e,i,n){ja(this,t,e,i,n)},d.Object.defineProperties(nh.prototype,{element:{get:function(){return this.Dg},set:function(t){var e=this.Dg;if(e!==t){this.qn=t instanceof HTMLCanvasElement;var i=t instanceof HTMLImageElement;null===t||i||t instanceof HTMLVideoElement||this.qn||w("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var n=this.diagram;null!==n&&wo(n,this),this.Dg=t,null!==t&&i&&void 0===t.Ag&&(t.Ag=new Q),null!==n&&i&&xo(n,this),null!==t&&(this.qn||!0===t.complete?(t.hn&&(t.ln instanceof Event&&null!==this.Dd?this.Dd(this,t.ln):!0===t.pq&&!t.ln&&null!==this.Yg&&t.du&&this.Yg(this,t.du)),t.pq=!0,this.desiredSize.w()||(ns(this,!1),this.v())):i&&oh(this,t)),this.g("element",e,t),this.N()}}},source:{get:function(){return this.qo},set:function(t){var e=this.qo;if(e!==t){this.qo=t;var i=Lu;if(zo){var n=null;if(void 0!==i[t])n=i[t];else if(""!==t){30<ah&&(rh(),i=Lu),(n=x("img")).hn=!0,oh(this,n);var r=this.pl;null!==r&&(n.crossOrigin=r(this)),n.src=t,i[t]=n,ah++}this.element=n,null!==n&&void 0===n.__goCache&&(n.__goCache=new lh),this.v(),this.N()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.pl},set:function(t){if(this.pl!==t&&(this.pl=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"===typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.Wg},set:function(t){var e=this.Wg;e.C(t)||(this.Wg=t=t.J(),this.N(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.Lk},set:function(t){var e=this.Lk;e!==t&&(this.Lk=t,this.N(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Xf},set:function(t){var e=this.Xf;e!==t&&(this.Xf=t,this.N(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.Kk},set:function(t){var e=this.Kk;e.C(t)||(this.Kk=t=t.J(),this.N(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.Dd},set:function(t){var e=this.Dd;e!==t&&(this.Dd=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.Yg},set:function(t){var e=this.Yg;e!==t&&(this.Yg=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.dc}}}),nh.prototype.redraw=nh.prototype.redraw,nh.prototype.reloadSource=nh.prototype.gA;var ah=0,sh=4;function lh(){this.gi=null}function uh(t,e,i,n,r){null===t.gi&&(t.gi=[]);var o=new Is(null),a=o.context,s=1/e;o.width=i/e,o.height=n/e,0!==o.width&&0!==o.height&&(e=new hh(o.La,e),i=1,0<t.gi.length&&(r=(i=t.gi[t.gi.length-1]).source,i=i.ratio),a.setTransform(s*i,0,0,s*i,0,0),a.xc(),a.drawImage(r,0,0),t.gi.push(e))}function hh(t,e){this.source=t,this.ratio=e}function ch(){this.ls=new Ue,this.lc=null}function dh(t,e,i,n,r,o){t.lc=new Qe,t.lc.startX=e,t.lc.startY=i,t.lc.isFilled=n,t.lc.isEvenOdd=o||!1,t.ls.figures.add(t.lc),void 0!==r&&(t.lc.isShadowed=r)}function fh(t){var e=t.lc.segments.length;0<e&&t.lc.segments.L(e-1).close()}function ph(t,e,i,n,r,o,a){var s;void 0===s&&(s=!1);var l=new $e(ri);l.point1X=e,l.point1Y=i,l.point2X=n,l.point2Y=r,l.endX=o,l.endY=a,s&&l.close(),t.lc.segments.add(l)}function gh(t,e,i,n,r){var o;void 0===o&&(o=!1);var a=new $e(oi);a.point1X=e,a.point1Y=i,a.endX=n,a.endY=r,o&&a.close(),t.lc.segments.add(a)}function mh(t,e,i,n,r,o,a,s){var l;void 0===l&&(l=!1),e=new $e(si,a,s,e,i,n,r,o),l&&e.close(),t.lc.segments.add(e)}function vh(t){var e=yh;return null!==e?(yh=null,e.reset(t),e):((e=new ch).reset(t),e)}nh.className="Picture",Lu=new W,nh.clearCache=rh,lh.className="PictureCacheArray",hh.className="PictureCacheInstance",ch.prototype.reset=function(t){null!==t?(t.ja(),this.ls=t,t.figures.clear()):this.ls=new Ue,this.lc=null},ch.prototype.moveTo=function(t,e,i){void 0===i&&(i=!1);var n=new $e(ii);n.endX=t,n.endY=e,i&&n.close(),this.lc.segments.add(n)},ch.prototype.lineTo=function(t,e,i){void 0===i&&(i=!1);var n=new $e(ni);n.endX=t,n.endY=e,i&&n.close(),this.lc.segments.add(n)},ch.prototype.arcTo=function(t,e,i,n,r,o,a){void 0===o&&(o=0),void 0===a&&(a=!1);var s=new $e(ai);s.startAngle=t,s.sweepAngle=e,s.centerX=i,s.centerY=n,s.radiusX=r,s.radiusY=0!==o?o:r,a&&s.close(),this.lc.segments.add(s)};var yh=null;function bh(t,e){var i=t.toLowerCase(),n=We.Ye;n[t]=e,n[i]=t}function xh(){this.mc=!1,this.qr=this.Ip=this.wq=null,this.sr="",this.cr=this.lq=this.rr=null,this.er="",this.dr=Tt,this.fr=null,this.gr="",this.ir=ke,this.Dq="",this.Eq=Qt,this.Mq=nt,this.Hq=rt,this.Sp=null,this.zq=127,this.wr=ot,this.vr="gray",this.Ug=4}function wh(t,e){void 0===t||t instanceof hl||"string"===typeof t?Ml.call(this,t):(Ml.call(this),t&&(e=t)),this.G=2408959,this.Tf="",this.P=null,this.Ig="",this.Qf=this.Tg=null,this.ec="",this.zh=this.Hg=null,this.ie=new pt(NaN,NaN).freeze(),this.mf=null,this.Ao=NaN,this.tw=-1,this.sy=new Ot,this.Rh=null,this.$f=NaN,e&&Object.assign(this,e)}function kh(t){null===t.P?t.P=new xh:t.P.mc&&(t.P=t.P.copy())}function _h(t){0!==(16384&t.G)!==!1&&(t.updateAdornments(),t.G&=-16385)}function Sh(t){if(!1===Lh(t)){Rh(t,!0),t.Sk();var e=t.diagram;null!==e&&(e.Ce.add(t),e.Zb())}}function Ch(t){if(t.G|=2097152,!1!==Lh(t)){var e=t.position,i=t.location;i.w()&&e.w()||Nh(t,e,i),i=t.Jb;var n=Ot.alloc().assign(i);i.ja(),i.x=e.x,i.y=e.y,i.freeze(),t.Wl(n,i),Ot.free(n),Rh(t,!1)}}function Mh(t,e,i,n){void 0===n&&(n=new pt),i=i.Lc()?ie:i;var r=e.naturalBounds;if(n.h(r.width*i.x+i.offsetX,r.height*i.y+i.offsetY),null===e||e===t)return n;for(e.transform.Ga(n),e=e.panel;null!==e&&e!==t;)e.transform.Ga(n),e=e.panel;return null!==t.Mb&&t.Mb.Ga(n),n.offset(-t.tc.x,-t.tc.y),n}function Ph(t){var e=pt.alloc(),i=t.locationObject,n=i.naturalBounds,r=i instanceof fu?i.strokeWidth:0;if(e.yi(0,0,n.width+r,n.height+r,t.locationSpot),i!==t)for(e.offset(-r/2,-r/2),i.transform.Ga(e),i=i.panel;null!==i&&i!==t;)i.transform.Ga(e),i=i.panel;return null!==t.Mb&&t.Mb.Ga(e),e.offset(-t.tc.x,-t.tc.y),e}function Th(t,e){var i=t.sy;isNaN(t.$f)&&(t.$f=Bl(t));var n=t.$f,r=2*n;if(!t.isShadowed)return i.h(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x,r=e.y;var o=e.width;e=e.height;var a=t.shadowBlur;return o+=a,e+=a,n-=a/2,r-=a/2,0<(t=t.shadowOffset).x?o+=t.x:(n+=t.x,o-=t.x),0<t.y?e+=t.y:(r+=t.y,e-=t.y),i.h(n-1,r-1,o+2,e+2),i}function Dh(t,e,i,n,r){null===e||t instanceof Kh||(e=e.animationManager).zb&&qn(e,t,new pt(n,r),i)}function Nh(t,e,i){var n=Ph(t),r=t.diagram,o=i.w(),a=e.w();o&&a?0!==(2097152&t.G)?Ih(t,e,i,r,n):Eh(t,e,i,r,n):o?Ih(t,e,i,r,n):a&&Eh(t,e,i,r,n),t.G|=2097152,pt.free(n),t.Sk()}function Ih(t,e,i,n,r){var o=e.x,a=e.y;e.h(i.x-r.x,i.y-r.y),null!==n&&((n=(i=n.animationManager).defaultAnimation.isAnimating)||!i.zb||t instanceof Kh||qn(i,t,new pt(o,a),e),n||e.x===o&&e.y===a||t.g("position",new pt(o,a),e.copy()))}function Eh(t,e,i,n,r){var o=i.copy();i.h(e.x+r.x,e.y+r.y),i.C(o)||null===n||t.g("location",o,i.copy())}function Ah(t,e,i){jh(t,!1),t instanceof Xh&&Oo(i,t),t.layer.isTemporary||e||i.Ya(),e=t.Jb;var n=i.viewportBounds;n.w()?Bh(t)?(Ht(e,n)||t.Bd(!1),t.updateAdornments()):t.isVisible()&&e.Vc(n)?(t.Bd(!0),t.updateAdornments()):t.Vb():i.td=!0}function Oh(t,e,i,n){e.constructor===t.constructor||Gh||(Gh=!0,S('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),S("  Old class: "+E(t.constructor)+", new class: "+E(e.constructor)+", part: "+t.toString())),t.Ej();var r=t.data;i=t.layerName;var o=t.isSelected,a=t.isHighlighted,s=!0,l=!0,u=!1;t instanceof Xh&&(s=t.isTreeLeaf,l=t.isTreeExpanded,u=t.wasTreeExpanded),e.Af(t),e.cloneProtected(t),t.Tf=n,null!==t.svg&&(t.svg.remove(),t.svg=null,t.rf=!0),t.v(),t.N(),n=!0,null!==(e=t.diagram)&&(n=e.skipsUndoManager,e.skipsUndoManager=!0),t.ub=r,t.G=o?4096|t.G:-4097&t.G,t.G=a?524288|t.G:-524289&t.G,t instanceof Xh&&(t.U=s?4|t.U:-5&t.U,t.U=l?1|t.U:-2&t.U,t.U=u?2|t.U:-3&t.U),null!==r&&t.Ma(),(r=t.layerName)!==i&&(t.Ig=i,t.layerName=r),null!==e&&(e.skipsUndoManager=n),t.Wc()&&t.D(64)}function Lh(t){return 0!==(32768&t.G)}function Rh(t,e){t.G=e?32768|t.G:-32769&t.G}function jh(t,e){t.G=e?65536|t.G:-65537&t.G}function Bh(t){return 0!==(131072&t.G)}function Fh(t,e){t.G=e?1048576|t.G:-1048577&t.G}function zh(t,e){var i=e.containingGroup;return null!==i?1+zh(t,i):e instanceof Xh&&null!==(e=e.labeledLink)?zh(t,e):0}function Hh(t,e){var i=e.containingGroup;return null!==i||e instanceof Xh&&null!==(i=e.labeledLink)?Hh(t,i):e}function Vh(t,e,i){if(e===i||null===i)return!1;var n=e.containingGroup;return!(null===n||n!==i&&!Vh(t,n,i))||e instanceof Xh&&null!==(e=e.labeledLink)&&Vh(t,e,i)}function Wh(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.isTemporary)}function Uh(t,e,i,n,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof Kh))if(t.add(e),e instanceof Xh){if(i&&e instanceof pc)for(var a=e.memberParts;a.next();)Uh(t,a.value,i,n,r,o);if(!1!==r)for(a=e.linksConnected;a.next();){var s=a.value;if(!t.contains(s)){var l=s.fromNode,u=s.toNode;l=null===l||t.contains(l),u=null===u||t.contains(u),(r?l&&u:l||u)&&Uh(t,s,i,n,r,o)}}if(1<n)for(e=e.Ou();e.next();)Uh(t,e.value,i,n-1,r,o)}else if(e instanceof xc)for(e=e.labelNodes;e.next();)Uh(t,e.value,i,n,r,o)}ch.className="StreamGeometryContext",bh("Rectangle",(function(t,e,i){t="r"+e+","+i;var n=We.Mf[t];return void 0!==n||((n=new Ue(Ue.u)).endX=e,n.endY=i,We.Nf<We.vm&&(We.Mf[t]=n,We.Nf++)),n})),bh("Square",(function(t,e,i){t="s"+e+","+i;var n=We.Mf[t];return void 0!==n||((n=new Ue(Ue.u)).endX=e,n.endY=i,n.defaultStretch=fa,We.Nf<We.vm&&(We.Mf[t]=n,We.Nf++)),n})),bh("RoundedRectangle",(function(t,e,i){t=t?t.parameter1:NaN,(isNaN(t)||0>t)&&(t=5),t=Math.min(t,e/3);var n="rr"+e+","+i+","+(t=Math.min(t,i/3)),r=We.Mf[n];if(void 0!==r)return r;var o=t*We.vg;return r=(new Ue).add(new Qe(t,0,!0).add(new $e(ni,e-t,0)).add(new $e(ri,e,t,e-o,0,e,o)).add(new $e(ni,e,i-t)).add(new $e(ri,e-t,i,e,i-o,e-o,i)).add(new $e(ni,t,i)).add(new $e(ri,0,i-t,o,i,0,i-o)).add(new $e(ni,0,t)).add(new $e(ri,t,0,0,o,o,0).close())),1<o&&(r.spot1=new Re(0,0,o,o),r.spot2=new Re(1,1,-o,-o)),We.Nf<We.vm&&(We.Mf[n]=r,We.Nf++),r})),bh("Border","RoundedRectangle"),bh("Ellipse",(function(t,e,i){t="e"+e+","+i;var n=We.Mf[t];return void 0!==n||((n=new Ue(Ue.F)).endX=e,n.endY=i,n.spot1=Ie,n.spot2=Ee,We.Nf<We.vm&&(We.Mf[t]=n,We.Nf++)),n})),bh("Circle",(function(t,e,i){t="c"+e+","+i;var n=We.Mf[t];return void 0!==n||((n=new Ue(Ue.F)).endX=e,n.endY=i,n.spot1=Ie,n.spot2=Ee,n.defaultStretch=fa,We.Nf<We.vm&&(We.Mf[t]=n,We.Nf++)),n})),bh("TriangleRight",(function(t,e,i){return(new Ue).add(new Qe(0,0).add(new $e(ni,e,.5*i)).add(new $e(ni,0,i).close())).pm(0,.25,.5,.75)})),bh("TriangleDown",(function(t,e,i){return(new Ue).add(new Qe(0,0).add(new $e(ni,e,0)).add(new $e(ni,.5*e,i).close())).pm(.25,0,.75,.5)})),bh("TriangleLeft",(function(t,e,i){return(new Ue).add(new Qe(e,i).add(new $e(ni,0,.5*i)).add(new $e(ni,e,0).close())).pm(.5,.25,1,.75)})),bh("TriangleUp",(function(t,e,i){return(new Ue).add(new Qe(e,i).add(new $e(ni,0,i)).add(new $e(ni,.5*e,0).close())).pm(.25,.5,.75,1)})),bh("Triangle","TriangleUp"),bh("Diamond",(function(t,e,i){return(new Ue).add(new Qe(.5*e,0).add(new $e(ni,0,.5*i)).add(new $e(ni,.5*e,i)).add(new $e(ni,e,.5*i).close())).pm(.25,.25,.75,.75)})),bh("LineH",(function(t,e,i){return(t=new Ue(Ue.j)).startX=0,t.startY=i/2,t.endX=e,t.endY=i/2,t})),bh("LineV",(function(t,e,i){return(t=new Ue(Ue.j)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=i,t})),bh("None","Rectangle"),bh("BarH","Rectangle"),bh("BarV","Rectangle"),bh("MinusLine","LineH"),bh("PlusLine",(function(t,e,i){return(new Ue).add(new Qe(0,i/2,!1).add(new $e(ni,e,i/2)).add(new $e(ii,e/2,0)).add(new $e(ni,e/2,i)))})),bh("XLine",(function(t,e,i){return(new Ue).add(new Qe(0,i,!1).add(new $e(ni,e,0)).add(new $e(ii,0,0)).add(new $e(ni,e,i)))})),bh("LineRight",(function(t,e,i){return(new Ue).add(new Qe(.25*e,0,!1).add(new $e(ni,.75*e,.5*i)).add(new $e(ni,.25*e,i)))})),bh("LineDown",(function(t,e,i){return(new Ue).add(new Qe(0,.25*i,!1).add(new $e(ni,.5*e,.75*i)).add(new $e(ni,e,.25*i)))})),bh("LineLeft",(function(t,e,i){return(new Ue).add(new Qe(.75*e,0,!1).add(new $e(ni,.25*e,.5*i)).add(new $e(ni,.75*e,i)))})),bh("LineUp",(function(t,e,i){return(new Ue).add(new Qe(0,.75*i,!1).add(new $e(ni,.5*e,.25*i)).add(new $e(ni,e,.75*i)))})),We.um={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},xh.prototype.copy=function(){var t=new xh;return t.wq=this.wq,t.Ip=this.Ip,t.qr=this.qr,t.sr=this.sr,t.rr=this.rr,t.lq=this.lq,t.cr=this.cr,t.er=this.er,t.dr=this.dr.J(),t.fr=this.fr,t.gr=this.gr,t.ir=this.ir.J(),t.Dq=this.Dq,t.Eq=this.Eq.J(),t.Mq=this.Mq.J(),t.Hq=this.Hq.J(),t.Sp=this.Sp,t.zq=this.zq,t.wr=this.wr.J(),t.vr=this.vr,t.Ug=this.Ug,t},c(wh,Ml),wh.prototype.cloneProtected=function(t){Ml.prototype.cloneProtected.call(this,t),t.G=-4097&this.G|49152,t.Tf=this.Tf,null!==this.P&&(t.P=this.P.mc?this.P:this.P.copy()),t.Ig=this.Ig,t.Qf=null,t.ec=this.ec,t.ie.assign(this.ie),t.Ao=this.Ao},(e=wh.prototype).Af=function(t){Ml.prototype.Af.call(this,t),t.nh(),t.Tg=null,t.mf=null,t.Rh=null},e.toString=function(){var t=E(this.constructor)+"#"+et(this);return null!==this.data&&(t+="("+A(this.data)+")"),t},e.sh=function(){Ml.prototype.sh.call(this),null!==this.P&&(this.P.mc=!0)},e.fk=function(t,e,i,n,r,o,a){var s=this.diagram;null!==s&&(t===fi&&"elements"===e?r instanceof Ml?Al(r,(function(t){nf(s.partManager,t),bo(s,t)})):xo(s,r):t===pi&&"elements"===e&&(r instanceof Ml?Al(r,(function(t){rf(s.partManager,t,s)})):wo(s,r)),s.cb(t,e,i,n,r,o,a))},e.Ma=function(t){if(Ml.prototype.Ma.call(this,t),null!==this.data){for(var e=this.O.s,i=e.length,n=0;n<i;n++){var r=e[n];r instanceof Ml&&Al(r,(function(t){null!==t.data&&t.Ma()}))}for(e=this.adornments;e.next();)e.value.Ma(t)}},wh.prototype.updateRelationshipsFromData=function(){var t;null!==this.data&&(null===(t=this.diagram)||void 0===t||t.partManager.updateRelationshipsFromData(this))},wh.prototype.Pj=function(t){var e=this.Qf;return null===e?null:e.I(t)},wh.prototype.ah=function(t,e){if(null!==e){var i=null,n=this.Qf;if(null!==n&&(i=n.I(t)),i!==e){if(null!==i){var r=i.diagram;null!==r&&r.remove(i)}null===n&&(this.Qf=n=new ft),e.Tf!==t&&(e.category=t),n.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&(null!==(t=t.hh())&&(e.data=t.data)))}}},wh.prototype.Jf=function(t){var e=this.Qf;if(null!==e){var i=e.I(t);if(null!==i){var n=i.diagram;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.Qf=null)}},wh.prototype.Ej=function(){var t=this.Qf;if(null!==t){var e=N();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var i=0;i<t;i++)this.Jf(e[i]);I(e)}},wh.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var i=e.value;i.v(),i.placeholder&&i.placeholder.v()}t:{if(this.isSelected&&this.selectionAdorned&&(null!==(e=this.selectionObject)&&this.actualBounds.w()&&this.isVisible()&&e.Rd()&&e.actualBounds.w())){if(null===(i=this.Pj("Selection"))){if(null===(i=this.selectionAdornmentTemplate)&&(i=this.oh()?t.linkSelectionAdornmentTemplate:this instanceof pc?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(i instanceof Kh))break t;Yl(i),null!==(i=i.copy())&&(this.oh()&&this.selectionObject===this.path&&(i.type=Ml.Link),i.adornedObject=e)}if(null!==i){i.type===Ml.Link&&i.v(),this.ah("Selection",i);break t}}this.Jf("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each((function(e){e.isEnabled&&e.updateAdornments(t)})),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ma()}},wh.prototype.Vb=function(){var t=this.diagram;null!==t&&(t.td=!0,0!==(16384&this.G)!==!0&&(this.G|=16384))},wh.prototype.Fe=function(t,e,i,n){var r=this.tc;r.h(t,e,i,n),null===this.Mb&&(this.Mb=new He);var o=this.Mb;o.reset(),this.no(o,t,e,i,n),this.Mb=o,o.ts()||o.np(r)},wh.prototype.no=function(t,e,i,n,r){if(1!==this.Aa&&t.scale(this.Aa),0!==this.Lb){var o=ie;this.locationSpot.sb()&&(o=this.locationSpot);var a=pt.alloc();if(this.locationObject!==this)for(i=(e=this.locationObject).naturalBounds,a.yi(i.x,i.y,i.width,i.height,o),null!==e.Mb&&e.Mb.Ga(a),a.offset(-e.measuredBounds.x,-e.measuredBounds.y),o=e.panel;null!==o&&o!==this;)null!==o.Mb&&o.Mb.Ga(a),a.offset(-o.measuredBounds.x,-o.measuredBounds.y),o=o.panel;else a.yi(e,i,n,r,o);t.rotate(this.Lb,a.x,a.y),pt.free(a)}},wh.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},wh.prototype.moveTo=function(t,e,i){t=pt.allocAt(t,e),this.move(t,i),pt.free(t)},wh.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.fv(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},wh.prototype.Yb=function(t){var e=this.diagram;t?(this.D(4),this.Vb(),null!==e&&e.Ce.add(this)):(this.D(8),this.Ej()),this.nh(),null!==e&&(e.Ya(),e.N())},wh.prototype.fb=function(t){if(this.name===t)return this;var e=this.Rh;if(null===e&&(this.Rh=e=new ft),null!==e.I(t))return e.I(t);var i=Ml.prototype.fb.call(this,t);return null!==i?(e.set(t,i),i):(e.set(t,null),null)},wh.prototype.mi=function(t){return void 0===t&&(t=new Ot),t.assign(this.actualBounds)},wh.prototype.Va=function(){this.measure(1/0,1/0),this.arrange()},wh.prototype.arrange=function(){if(!1===rs(this))Ch(this);else{os(this,!1);var t=this.Jb,e=Ot.alloc();e.assign(t);var i=Bh(this);this.dh(0,0,this.tc.width,this.tc.height);var n=this.position;Nh(this,n,this.location),t.ja(),t.x=n.x,t.y=n.y,t.freeze(),this.Wl(e,t),e.C(t)?this.Bd(i):!this.Wc()||We.B(e.width,t.width)&&We.B(e.height,t.height)||0<=this.tw&&this.D(16),Ot.free(e),Rh(this,!1)}},(e=wh.prototype).Wl=function(t,e){var i=this.diagram;if(null!==i){var n=!1;if(!1===i.Zi&&t.w()){var r=Ot.alloc();r.assign(i.documentBounds),r.Dv(i.padding),t.x>r.x&&t.y>r.y&&t.right<r.right&&t.bottom<r.bottom&&e.x>r.x&&e.y>r.y&&e.right<r.right&&e.bottom<r.bottom&&(n=!0),Ot.free(r)}0!==(65536&this.G)!==!0&&t.C(e)||Ah(this,n,i),i.N(),!t.w()&&!e.w()||Bt(t,e)||(this instanceof Xh&&!i.undoManager.isUndoingRedoing&&this.zd(),this.nh())}},e.xv=function(t,e,i){if(this.oh()||!t.w())return!1;var n=this.diagram;return null!==n&&Dh(this,n,t,e,i),this.pa=t,this.G&=-2097153,!this.ie.w()||null!==n&&!n.animationManager.isTicking&&n.undoManager.isUndoingRedoing||(n=this.ie,this.ie=new pt(n.x+(t.x-e),n.y+(t.y-i)),this.g("location",n,this.ie.copy())),!1===Lh(this)&&!1===rs(this)&&(Sh(this),Ch(this)),!0},e.mm=function(t,e,i){var n=this.ie,r=this.pa;if(i){if(n.x===t&&n.y===e)return;Lh(this)||rs(this)?r.h(NaN,NaN):r.h(r.x+t-n.x,r.y+e-n.y),n.h(t,e)}else{if(r.x===t&&r.y===e)return;n.h(n.x+t-r.x,n.y+e-r.y),r.h(t,e)}Sh(this)},e.yv=function(){this.G&=-2097153,Sh(this)},e.si=function(){return!0},e.Wc=function(){return!0},e.oh=function(){return!1},e.ne=function(){return!0},wh.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},wh.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},wh.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},wh.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},wh.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},wh.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},wh.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},wh.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},wh.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(e=wh.prototype).Bd=function(t){this.G=t?131072|this.G:-131073&this.G},e.nh=function(){var t=this.containingGroup;null!==t&&(t.v(),null!==t.placeholder&&t.placeholder.v(),t.zd())},e.N=function(){var t=this.diagram;null!==t&&!rs(this)&&!Lh(this)&&this.isVisible()&&this.Jb.w()&&t.N(Th(this,this.Jb))},e.v=function(){Ml.prototype.v.call(this);var t=this.diagram;null!==t&&(t.Ce.add(this),this instanceof Xh&&null!==this.labeledLink&&Ya(this.labeledLink),t.Zb(!0))},e.To=function(t){t||null!==(t=this.zh)&&gc(t,this)},e.Uo=function(t){t||null!==(t=this.zh)&&mc(t,this)},e.Lj=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&(null!==(e=e.model)&&e.cm(t))}},e.pz=function(){return zh(this,this)},e.uz=function(){return Hh(this,this)},e.Qd=function(t){return t instanceof pc&&Vh(this,this,t)},e.px=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof pc&&Fh(e,!0),e instanceof Xh){var i=e.labeledLink;null!==i&&(e=i)}e=e.containingGroup}for(i=null,e=t;null!==e;){if(0!==(1048576&e.G)){i=e;break}e instanceof Xh&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup}for(e=this;null!==e;)e instanceof pc&&Fh(e,!1),e instanceof Xh&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup;return i},wh.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof Xh&&this.isLinkLabel)},wh.prototype.D=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!==(t&this.layoutConditions)){var e=this.layer;null!==e&&e.isTemporary||this instanceof Xh&&this.isLinkLabel?e=!1:e=null===(e=this.diagram)||!e.undoManager.isUndoingRedoing}else e=!1;if(e)if(null!==(e=this.zh)){var i=e.layout;null!==i?i.D():e.D(t)}else null!==(t=this.diagram)&&(null!==(t=t.layout)&&t.D())},d.Object.defineProperties(wh.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.va(this.data)}},adornments:{get:function(){return null===this.Qf?K:this.Qf.iteratorValues}},layer:{get:function(){return this.Hg}},diagram:{get:function(){var t=this.Hg;return null===t||void 0===t?null:t.diagram}},layerName:{get:function(){return this.Ig},set:function(t){var e=this.Ig;if(e!==t){var i=this.diagram;if((null===i||null!==i.Qj(t)&&!i.partManager.addsToTemporaryLayer)&&(this.Ig=t,null!==i&&i.Ya(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&(null!==(i=e.diagram)&&(null!==(t=i.Qj(t))&&t!==e)))){var n=e.oc(-1,this,!0);if(0<=n&&i.cb(pi,"parts",e,this,null,n,!0),n=t.oi(99999999,this,!0),e.visible!==t.visible&&this.Yb(t.visible),0<=n&&i.cb(fi,"parts",t,null,this,!0,n),null!==(n=this.layerChanged)){var r=i.aa;i.aa=!0,n(this,e,t),i.aa=r}}}}},layerChanged:{get:function(){return null!==this.P?this.P.wq:null},set:function(t){var e=this.layerChanged;e!==t&&(kh(this),this.P.wq=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.Ao},set:function(t){var e=this.Ao;if(e!==t){this.Ao=t;var i=this.layer;null!==i&&Mr(i,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.N()}}},locationObject:{get:function(){if(null===this.mf){var t=this.locationObjectName;""!==t?(t=this.fb(t),this.mf=null!==t?t:this):this instanceof Kh&&this.type!==Ml.Link&&null!==this.placeholder?this.mf=this.placeholder:this.mf=this}return this.mf.visible?this.mf:this}},minLocation:{get:function(){return null!==this.P?this.P.Mq:nt},set:function(t){var e=this.minLocation;e.C(t)||(t=t.J(),kh(this),this.P.Mq=t,this.g("minLocation",e,t))}},maxLocation:{get:function(){return null!==this.P?this.P.Hq:rt},set:function(t){var e=this.maxLocation;e.C(t)||(t=t.J(),kh(this),this.P.Hq=t,this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return null!==this.P?this.P.Dq:""},set:function(t){var e=this.locationObjectName;e!==t&&(kh(this),this.P.Dq=t,this.mf=null,this.v(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return null!==this.P?this.P.Eq:Qt},set:function(t){var e=this.locationSpot;e.C(t)||(t=t.J(),kh(this),this.P.Eq=t,this.v(),this.g("locationSpot",e,t))}},location:{get:function(){return this.ie},set:function(t){var e=t.x,i=t.y,n=this.ie;if(!(n.x===e||isNaN(n.x)&&isNaN(e))||!(n.y===i||isNaN(n.y)&&isNaN(i))){if(e=t=t.copy(),this.oh())e=!1;else{if(this.ie=e,this.G|=2097152,!1===rs(this)&&(Sh(this),(i=this.pa).w())){var r=this.diagram;if(null===r||r.animationManager.isTicking||!r.undoManager.isUndoingRedoing){var o=i.copy();i.h(i.x+(e.x-n.x),i.y+(e.y-n.y)),Dh(this,r,i,o.x,o.y),this.g("position",o,i.copy())}}e=!0}e&&this.g("location",n,t.copy())}}},category:{get:function(){return this.Tf},set:function(t){var e=this.Tf;if(e!==t){null!==this.svg&&(this.svg.remove(),this.rf=!0);var i=this.diagram,n=this.data,r=null;if(null!==i&&null!==n&&!(this instanceof Kh)){var o=i.model.undoManager;o.isEnabled&&!o.isUndoingRedoing&&(r=this.clone()).O.addAll(this.O)}this.Tf=t,this.g("category",e,t),null===i||null===n||this instanceof Kh?this instanceof Kh&&(null!==(r=this.adornedPart)&&(null!==(t=r.Qf)&&t.remove(e),r.ah(this.category,this))):(o=i.model).undoManager.isUndoingRedoing||(this.oh()?(i.partManager.setLinkCategoryForData(n,t),null!==(i=i.partManager.findLinkTemplateForCategory(t))&&(Yl(i),null!==(i=i.copy())&&Oh(this,i,e,t))):(null!==o&&o.jm(n,t),null!==(i=$d(i.partManager,n,t))&&(Yl(i),null===(i=i.copy())||i instanceof xc||(n=this.location.copy(),Oh(this,i,e,t),this.location.w()||(this.location=n)))),null!==r&&((e=this.clone()).O.addAll(this.O),this.g("self",r,e)))}}},self:{get:function(){return this},set:function(t){Oh(this,t,this.category,t.category)}},copyable:{get:function(){return 0!==(1&this.G)},set:function(t){var e=0!==(1&this.G);e!==t&&(this.G^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!==(2&this.G)},set:function(t){var e=0!==(2&this.G);e!==t&&(this.G^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!==(4&this.G)},set:function(t){var e=0!==(4&this.G);e!==t&&(this.G^=4,this.g("textEditable",e,t),this.Vb())}},groupable:{get:function(){return 0!==(8&this.G)},set:function(t){var e=0!==(8&this.G);e!==t&&(this.G^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!==(16&this.G)},set:function(t){var e=0!==(16&this.G);e!==t&&(this.G^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!==(32&this.G)},set:function(t){var e=0!==(32&this.G);e!==t&&(this.G^=32,this.g("selectionAdorned",e,t),this.Vb())}},isInDocumentBounds:{get:function(){return 0!==(64&this.G)},set:function(t){var e=0!==(64&this.G);if(e!==t){this.G^=64;var i=this.diagram;null!==i&&i.Ya(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!==(128&this.G)},set:function(t){var e=0!==(128&this.G);e!==t&&(this.G^=128,this.g("isLayoutPositioned",e,t),this.D(t?4:8))}},selectable:{get:function(){return 0!==(256&this.G)},set:function(t){var e=0!==(256&this.G);e!==t&&(this.G^=256,this.g("selectable",e,t),this.Vb())}},reshapable:{get:function(){return 0!==(512&this.G)},set:function(t){var e=0!==(512&this.G);e!==t&&(this.G^=512,this.g("reshapable",e,t),this.Vb())}},resizable:{get:function(){return 0!==(1024&this.G)},set:function(t){var e=0!==(1024&this.G);e!==t&&(this.G^=1024,this.g("resizable",e,t),this.Vb())}},rotatable:{get:function(){return 0!==(2048&this.G)},set:function(t){var e=0!==(2048&this.G);e!==t&&(this.G^=2048,this.g("rotatable",e,t),this.Vb())}},isSelected:{get:function(){return 0!==(4096&this.G)},set:function(t){var e=0!==(4096&this.G);if(e!==t){var i=this.diagram;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.maxSelectionCount)){this.G^=4096;var n=!1;if(null!==i){n=i.skipsUndoManager,i.skipsUndoManager=!0;var r=i.selection;r.ja(),t?r.add(this):r.remove(this),r.freeze()}this.g("isSelected",e,t),this.Vb(),null!==(t=this.selectionChanged)&&t(this),null!==i&&(i.Zb(),i.skipsUndoManager=n)}}}},isHighlighted:{get:function(){return 0!==(524288&this.G)},set:function(t){var e=0!==(524288&this.G);if(e!==t){this.G^=524288;var i=this.diagram;null!==i&&((i=i.highlighteds).ja(),t?i.add(this):i.remove(this),i.freeze()),this.g("isHighlighted",e,t),this.N(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!==(8192&this.G)},set:function(t){var e=0!==(8192&this.G);e!==t&&(this.G^=8192,this.g("isShadowed",e,t),this.N())}},isAnimated:{get:function(){return 0!==(262144&this.G)},set:function(t){var e=0!==(262144&this.G);e!==t&&(this.G^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return null!==this.P?this.P.lq:null},set:function(t){var e=this.highlightedChanged;e!==t&&(kh(this),this.P.lq=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return null!==this.P?this.P.sr:""},set:function(t){var e=this.selectionObjectName;e!==t&&(kh(this),this.P.sr=t,this.Tg=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return null!==this.P?this.P.qr:null},set:function(t){var e=this.selectionAdornmentTemplate;e!==t&&(kh(this),this.P.qr=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.Tg){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.fb(t),this.Tg=null!==t?t:this):this instanceof xc?(t=this.path,this.Tg=null!==t?t:this):this.Tg=this}return this.Tg}},selectionChanged:{get:function(){return null!==this.P?this.P.rr:null},set:function(t){var e=this.selectionChanged;e!==t&&(kh(this),this.P.rr=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return null!==this.P?this.P.cr:null},set:function(t){var e=this.resizeAdornmentTemplate;e!==t&&(kh(this),this.P.cr=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return null!==this.P?this.P.er:""},set:function(t){var e=this.resizeObjectName;e!==t&&(kh(this),this.P.er=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.fb(t))?t:this}},resizeCellSize:{get:function(){return null!==this.P?this.P.dr:Tt},set:function(t){var e=this.resizeCellSize;e.C(t)||(t=t.J(),kh(this),this.P.dr=t,this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return null!==this.P?this.P.fr:null},set:function(t){var e=this.rotateAdornmentTemplate;e!==t&&(kh(this),this.P.fr=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return null!==this.P?this.P.gr:""},set:function(t){var e=this.rotateObjectName;e!==t&&(kh(this),this.P.gr=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.fb(t))?t:this}},rotationSpot:{get:function(){return null!==this.P?this.P.ir:ke},set:function(t){var e=this.rotationSpot;e.C(t)||(t=t.J(),kh(this),this.P.ir=t,this.g("rotationSpot",e,t))}},text:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==t&&(this.ec=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.zh},set:function(t){if(this.Wc()){var e=this.zh;if(e!==t){null===t||this!==t&&!t.Qd(this)||(this===t&&w("Cannot make a Group a member of itself: "+this.toString()),w("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.D(2);var i=this.diagram;if(null!==e?mc(e,this):this instanceof pc&&null!==i&&i.ai.remove(this),this.zh=t,null!==t?gc(t,this):this instanceof pc&&null!==i&&i.ai.add(this),this.D(1),null!==i&&i.aa){var n=this.data,r=i.model;if(null!==n&&r.Wj()){var o=r.va(null!==t?t.data:null);r.kp(n,o)}}if(null!==(n=this.containingGroupChanged)&&(r=!0,null!==i&&(r=i.aa,i.aa=!0),n(this,e,t),null!==i&&(i.aa=r)),this instanceof pc)for(Uh(i=new Q,this,!0,0,!0),i=i.iterator;i.next();)if((n=i.value)instanceof Xh)for(n=n.linksConnected;n.next();)wc(n.value);if(this instanceof Xh){for(i=this.linksConnected;i.next();)wc(i.value);null!==(i=this.labeledLink)&&wc(i)}this.g("containingGroup",e,t),null!==t&&(null!==(e=t.layer)&&Mr(e,-1,t))}}else w("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return null!==this.P?this.P.Ip:null},set:function(t){var e=this.containingGroupChanged;e!==t&&(kh(this),this.P.Ip=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Xh&&null!==this.labeledLink)}},layoutConditions:{get:function(){return null!==this.P?this.P.zq:127},set:function(t){var e=this.layoutConditions;e!==t&&(kh(this),this.P.zq=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return null!==this.P?this.P.Sp:null},set:function(t){var e=this.dragComputation;e!==t&&(kh(this),this.P.Sp=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return null!==this.P?this.P.wr:ot},set:function(t){var e=this.shadowOffset;e.C(t)||(t=t.J(),kh(this),this.P.wr=t,this.N(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return null!==this.P?this.P.vr:"gray"},set:function(t){var e=this.shadowColor;e!==t&&(kh(this),this.P.vr=t,this.N(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return null!==this.P?this.P.Ug:4},set:function(t){var e=this.shadowBlur;e!==t&&(kh(this),this.P.Ug=t,this.N(),this.g("shadowBlur",e,t))}}}),wh.prototype.invalidateLayout=wh.prototype.D,wh.prototype.findCommonContainingGroup=wh.prototype.px,wh.prototype.isMemberOf=wh.prototype.Qd,wh.prototype.findTopLevelPart=wh.prototype.uz,wh.prototype.findSubGraphLevel=wh.prototype.pz,wh.prototype.ensureBounds=wh.prototype.Va,wh.prototype.getDocumentBounds=wh.prototype.mi,wh.prototype.findObject=wh.prototype.fb,wh.prototype.moveTo=wh.prototype.moveTo,wh.prototype.invalidateAdornments=wh.prototype.Vb,wh.prototype.clearAdornments=wh.prototype.Ej,wh.prototype.removeAdornment=wh.prototype.Jf,wh.prototype.addAdornment=wh.prototype.ah,wh.prototype.findAdornment=wh.prototype.Pj,wh.prototype.updateTargetBindings=wh.prototype.Ma;var Gh=!1;function Kh(t,e){void 0===t||t instanceof hl||"string"===typeof t?wh.call(this,t):(wh.call(this),t&&(e=t)),this.G&=-257,this.Ig="Adornment",this.te=null,this.yw=0,this.Sw=!1,this.j=this.$a=null,e&&Object.assign(this,e)}function Yh(){this.mc=!1,this.Sr=this.gj=this.Bq=this.Aq=null,this.wp=Oe,this.br=dc,this.Hr=this.ij=this.Kq=this.Jq=null}function Xh(t,e){void 0===t||t instanceof hl||"string"===typeof t?wh.call(this,t):(wh.call(this),t&&(e=t)),this.U=13,this.ya=null,this.jb=new Z,this.vc=this.$e=this.Wk=null,this.ci=!1,e&&Object.assign(this,e)}function qh(t){null===t.ya?t.ya=new Yh:t.ya.mc&&(t.ya=t.ya.copy())}function Zh(t,e){null!==e&&(null===t.$e&&(t.$e=new Q),t.$e.add(e))}function Jh(t,e,i,n){if(null===e||null===t.$e)return null;for(var r=t.$e.iterator;r.next();){var o=r.value;if(o.As===t&&o.cv===e&&o.Qx===i&&o.Rx===n||o.As===e&&o.cv===t&&o.Qx===n&&o.Rx===i)return o}return null}function Qh(t,e){for(t=t.linksConnected;t.next();){var i=t.value;i.fromPort!==e&&i.toPort!==e||($h(i.fromPort),$h(i.toPort),i.bb())}}function $h(t){if(null!==t){var e=t.Zn;null!==e&&e.Ql(),null===(e=(t=t.part).containingGroup)||t.isVisible()||$h(e.port)}}function tc(t,e,i,n){if(null!==e&&!i.has(e)){i.add(e);var r=!0,o=t.diagram;null!==o&&(r=o.isTreePathToChildren),e.linksConnected.each((function(o){o.isTreeLink?(r?o.fromNode===e:o.toNode===e)&&tc(t,r?o.toNode:o.fromNode,i,n):n.add(o)}))}}function ec(t,e,i){$h(i);var n=t.jb.contains(e);if(n||t.jb.add(e),!n||e.fromNode===e.toNode){var r=t.linkConnected;if(null!==r){var o=!0,a=t.diagram;null!==a&&(o=a.aa,a.aa=!0),r(t,e,i),null!==a&&(a.aa=o)}}!n&&e.isTreeLink&&(i=e.fromNode,e=e.toNode,null!==i&&null!==e&&i!==e&&(n=!0,null!==(t=t.diagram)&&(n=t.isTreePathToChildren),o=n?i:e,(r=n?e:i).ci||(r.ci=o),!o.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(n?i===o&&(o.isTreeLeaf=!1):e===o&&(o.isTreeLeaf=!1))))}function ic(t,e,i){$h(i);var n=t.jb.remove(e),r=null;if(n||e.toNode===e.fromNode){var o=t.linkDisconnected;if(r=t.diagram,null!==o){var a=!0;null!==r&&(a=r.aa,r.aa=!0),o(t,e,i),null!==r&&(r.aa=a)}}n&&e.isTreeLink&&(i=!0,null!==r&&(i=r.isTreePathToChildren),t=i?e.toNode:e.fromNode,e=i?e.fromNode:e.toNode,null!==t&&(t.ci=!1),null===e||e.isTreeLeaf||(0===e.jb.count?(e.ci=null,null!==r&&r.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):nc(e)))}function nc(t){if(t.ci=!1,0!==t.jb.count){var e=!0,i=t.diagram;if(null===i||!i.undoManager.isUndoingRedoing){for(null!==i&&(e=i.isTreePathToChildren),i=t.jb.iterator;i.next();){var n=i.value;if(n.isTreeLink)if(e){if(n.fromNode===t)return void(t.isTreeLeaf=!1)}else if(n.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function rc(t){null===t.vc?t.vc=new ft:t.vc.clear(),t.qm(t,(function(t,e){oc(t,e)})),0===t.vc.count&&t.vc.add("",t)}function oc(t,e){var i=e.portId;null!==i&&null!==t.vc&&t.vc.add(i,e)}function ac(t,e,i){var n=e.portId;if(null!==n&&(null!==t.vc&&t.vc.remove(n),null!==(e=t.diagram)&&i)){for(i=null,t=t.findLinksConnected(n);t.next();)n=t.value,null===i&&(i=N()),i.push(n);if(null!==i){for(t=0;t<i.length;t++)e.remove(i[t]);I(i)}}}function sc(t,e){return null===(e=e.og())?0:1+sc(t,e)}function lc(t,e,i,n,r,o,a){if(1<n)for(var s=i?t.Mo():t.Od();s.next();){var l=s.value;l.isTreeLink&&(null===(l=l.Ro(t))||l===t||e.contains(l)||(e.add(l),lc(l,e,i,n-1,r,o,a)))}else uc(t,e,i,r,o,a)}function uc(t,e,i,n,r,o){for(var a=r===t||t.isTreeExpanded,s=i?t.Mo():t.Od();s.next();){var l=s.value;if(l.isTreeLink&&(null!==(l=l.Ro(t))&&l!==t)){var u=e.contains(l);u||e.add(l),a&&(o&&n.Aj(l,r),l.nh(),l.Yb(!1)),l.isTreeExpanded&&(l.wasTreeExpanded=l.isTreeExpanded,u||uc(l,e,i,n,r,o))}}t.isTreeExpanded=!1}function hc(t,e,i,n,r,o,a){for(var s=o!==t&&t.isTreeExpanded,l=i?t.Mo():t.Od();l.next();){var u=l.value;u.isTreeLink&&(s||u.bd||u.bb(),null!==(u=u.Ro(t))&&u!==t&&!e.contains(u)&&(e.add(u),s||(u.Yb(!0),u.nh(),a&&r.Cj(u,o)),2<n||u.wasTreeExpanded))&&(u.wasTreeExpanded=!1,hc(u,e,i,n-1,r,o,a))}t.isTreeExpanded=!0}wh.className="Part",wh.LayoutNone=0,wh.LayoutAdded=1,wh.LayoutRemoved=2,wh.LayoutShown=4,wh.LayoutHidden=8,wh.LayoutNodeSized=16,wh.LayoutGroupLayout=32,wh.LayoutNodeReplaced=64,wh.LayoutStandard=127,wh.LayoutAll=16777215,c(Kh,wh),Kh.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},Kh.prototype.updateRelationshipsFromData=function(){},Kh.prototype.Tl=function(t){var e=this.adornedObject,i=null===e||void 0===e?void 0:e.part;if(i instanceof xc&&e instanceof fu){e=i.path,i.Tl(t),t=e.geometry,e=(i=this.O.s).length;for(var n=0;n<e;n++){var r=i[n];r.isPanelMain&&r instanceof fu&&(r.ta=t)}}},Kh.prototype.si=function(){var t=this.te;return null===t||(null===(t=t.part)||!rs(t))},Kh.prototype.Wc=function(){return!1},Kh.prototype.fk=function(t,e,i,n,r,o,a){if(t===fi&&"elements"===e){if(r instanceof bc)null===this.$a&&(this.$a=r);else if(r instanceof Ml){var s=r.Ll((function(t){return t instanceof bc}));s instanceof bc&&null===this.$a&&(this.$a=s)}}else t===pi&&"elements"===e&&null!==this.$a&&(n===this.$a||n instanceof Ml&&this.$a.qg(n))&&(this.$a=null);wh.prototype.fk.call(this,t,e,i,n,r,o,a)},Kh.prototype.updateAdornments=function(){},Kh.prototype.Lj=function(){},d.Object.defineProperties(Kh.prototype,{placeholder:{get:function(){return this.$a}},adornedObject:{get:function(){return this.te},set:function(t){var e=this.adornedPart,i=null;null!==t&&(i=t.part),null===e||null!==t&&e===i||e.Jf(this.category),this.te=t,null!==i&&i.ah(this.category,this)}},adornedPart:{get:function(){var t=this.te;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}}),Kh.className="Adornment",Yh.prototype.copy=function(){var t=new Yh;return t.Aq=this.Aq,t.Bq=this.Bq,t.gj=this.gj,t.Sr=this.Sr,t.wp=this.wp.J(),t.br=this.br,t.Jq=this.Jq,t.Kq=this.Kq,t.ij=this.ij,t.Hr=this.Hr,t},c(Xh,wh),Xh.prototype.cloneProtected=function(t){wh.prototype.cloneProtected.call(this,t),t.U=this.U,null!==this.ya&&(t.ya=this.ya.mc?this.ya:this.ya.copy())},(e=Xh.prototype).Af=function(t){wh.prototype.Af.call(this,t),t.zd(),t.$e=this.$e,t.vc=null},e.sh=function(){wh.prototype.sh.call(this),null!==this.ya&&(this.ya.mc=!0)},e.Mz=function(t,e,i){void 0!==e&&null!==e||(e=""),void 0!==i&&null!==i||(i=""),null!==(t=Jh(this,t,e,i))&&t.Ql()},e.fk=function(t,e,i,n,r,o,a){(t===fi&&"elements"===e||t===pi&&"elements"===e)&&(this.vc=null),wh.prototype.fk.call(this,t,e,i,n,r,o,a)},e.zd=function(t){for(var e=this.linksConnected;e.next();){var i=e.value;void 0!==t&&t.contains(i)||($h(i.fromPort),$h(i.toPort),i.bb())}},e.si=function(){return!0},Xh.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.Co(this.avoidableMargin),t},Xh.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},Xh.prototype.isVisible=function(){if(!wh.prototype.isVisible.call(this))return!1;var t=!0,e=ta,i=this.diagram;if(null!==i&&(t=i.isTreePathToChildren,e=i.treeCollapsePolicy),e===ta){if(null!==(t=this.og())&&!t.isTreeExpanded)return!1}else if(e===ea){if(0<(t=t?this.Lu():this.Mu()).count&&t.all((function(t){return!t.isTreeExpanded})))return!1}else if(e===ia&&(0<(t=t?this.Lu():this.Mu()).count&&t.any((function(t){return!t.isTreeExpanded}))))return!1;return null===(t=this.labeledLink)||t.isVisible()},Xh.prototype.Yb=function(t){wh.prototype.Yb.call(this,t);for(var e=this.linksConnected;e.next();){var i=e.value;if(t&&null!==this.containingGroup){var n=i.Ro(this);null===n||n.Qd(this.containingGroup)||i.bb()}i.Yb(t)}},Xh.prototype.qx=function(){var t=new Q,e=new Q;return tc(this,this,t,e),e.iterator},Xh.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.jb.iterator;var e=new X(this.jb),i=this;return e.predicate=function(e){return e.fromNode===i&&e.fromPortId===t||e.toNode===i&&e.toPortId===t},e},(e=Xh.prototype).Mo=function(t){void 0===t&&(t=null);var e=new X(this.jb),i=this;return e.predicate=function(e){return e.fromNode===i&&(null===t||e.fromPortId===t)},e},e.Od=function(t){void 0===t&&(t=null);var e=new X(this.jb),i=this;return e.predicate=function(e){return e.toNode===i&&(null===t||e.toPortId===t)},e},e.Ku=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.jb.iterator;n.next();){var r=n.value;r.fromNode===this?null!==t&&r.fromPortId!==t||(r=r.toNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Q).add(i),e.add(r)):i=r):r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Q).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new Y(i):K},e.Mu=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.jb.iterator;n.next();){var r=n.value;r.fromNode!==this||null!==t&&r.fromPortId!==t||(r=r.toNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Q).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new Y(i):K},e.Lu=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.jb.iterator;n.next();){var r=n.value;r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Q).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new Y(i):K},e.kz=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new X(this.jb),r=this;return n.predicate=function(n){return!(n.fromNode!==r||n.toNode!==t||null!==e&&n.fromPortId!==e||null!==i&&n.toPortId!==i)||!(n.fromNode!==t||n.toNode!==r||null!==i&&n.fromPortId!==i||null!==e&&n.toPortId!==e)},n},e.lz=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new X(this.jb),r=this;return n.predicate=function(n){return!(n.fromNode!==r||n.toNode!==t||null!==e&&n.fromPortId!==e||null!==i&&n.toPortId!==i)},n},Xh.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(e=Xh.prototype).To=function(t){wh.prototype.To.call(this,t),t||(nc(this),null!==(t=this.Wk)&&kc(t,this))},e.Uo=function(t){wh.prototype.Uo.call(this,t),t||null!==(t=this.Wk)&&null!==t.ud&&(t.ud.remove(this),t.v())},e.Lj=function(){if(0<this.jb.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,i=this.jb.copy().iterator;i.next();){var n=i.value;e?t.remove(n):(n.fromNode===this&&(n.fromNode=null),n.toNode===this&&(n.toNode=null))}}this.labeledLink=null,wh.prototype.Lj.call(this)},e.ks=function(t){if(null===this.vc){if(""===t&&!1===this.Se)return this;rc(this)}var e=this.vc.I(t);return null!==e||""!==t&&null!==(e=this.vc.I(""))?e:this},e.Oz=function(t){if(null===t||t===this)return!1;var e=!0,i=this.diagram;if(null!==i&&(e=i.isTreePathToChildren),i=this,e)for(;i!==t;){e=null;for(var n=i.jb.iterator;n.next();){var r=n.value;if(r.isTreeLink&&((e=r.fromNode)!==i&&e!==this))break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.jb.iterator;n.next()&&(!(r=n.value).isTreeLink||((e=r.toNode)===i||e===this)););if(e===this||null===e||e===i)return!1;i=e}return!0},e.yz=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var i=e.jb.iterator;i.next();){var n=i.value;if(n.isTreeLink&&((t=n.fromNode)!==e&&t!==this))break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.jb.iterator;i.next()&&(!(n=i.value).isTreeLink||((t=n.toNode)===e||t===this)););if(t===this)return this;if(null===t||t===e)return e;e=t}},e.hz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)Fh(e,!0),e=e.og();var i=null;for(e=t;null!==e;){if(0!==(1048576&e.G)){i=e;break}e=e.og()}for(e=this;null!==e;)Fh(e,!1),e=e.og();return i},e.jh=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.jb.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},e.og=function(){var t=this.ci;if(null===t)return null;if(t instanceof Xh)return t;t=null===(t=this.diagram)||t.isTreePathToChildren;for(var e=this.jb.iterator;e.next();){var i=e.value;if(i.isTreeLink&&(i=t?i.fromNode:i.toNode)!==this)return this.ci=i}return this.ci=null},e.wz=function(){var t=new Q;return function t(e,i){i.add(e);var n=e.jh();null!==n&&(i.add(n),null!==(e=e.og())&&t(e,i))}(this,t),t},e.vz=function(){return sc(this,this)},e.Oo=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new X(this.jb);var i=this;return e.predicate=t?function(t){return!(!t.isTreeLink||t.fromNode!==i)}:function(t){return!(!t.isTreeLink||t.toNode!==i)},e},e.Ou=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var i=e=null,n=this.jb.iterator;if(t)for(;n.next();)(t=n.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==i&&i!==t?((e=new Z).add(i),e.add(t)):i=t);else for(;n.next();)(t=n.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==i&&i!==t?((e=new Z).add(i),e.add(t)):i=t);return null!==e?e.iterator:null!==i?new Y(i):K},e.xz=function(t){void 0===t&&(t=1/0);var e=new Q;return Uh(e,this,!1,t,!0),e},Xh.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Te){e.Te=!0;var i=new Q;i.add(this),lc(this,i,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ta),e.Te=!1}},Xh.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Te){e.Te=!0;var i=new Q;i.add(this),hc(this,i,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ta),e.Te=!1}},d.Object.defineProperties(Xh.prototype,{portSpreading:{get:function(){return null!==this.ya?this.ya.br:dc},set:function(t){var e=this.portSpreading;e!==t&&(qh(this),this.ya.br=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.zd())}},avoidable:{get:function(){return 0!==(8&this.U)},set:function(t){var e=0!==(8&this.U);if(e!==t){this.U^=8;var i=this.diagram;null!==i&&Oo(i,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return null!==this.ya?this.ya.wp:Oe},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.avoidableMargin;if(!e.C(t)){t=t.J(),qh(this),this.ya.wp=t;var i=this.diagram;null!==i&&Oo(i,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.jb.iterator}},linkConnected:{get:function(){return null!==this.ya?this.ya.Aq:null},set:function(t){var e=this.linkConnected;e!==t&&(qh(this),this.ya.Aq=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return null!==this.ya?this.ya.Bq:null},set:function(t){var e=this.linkDisconnected;e!==t&&(qh(this),this.ya.Bq=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return null!==this.ya?this.ya.gj:null},set:function(t){var e=this.linkValidation;e!==t&&(qh(this),this.ya.gj=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Wk}},labeledLink:{get:function(){return this.Wk},set:function(t){var e=this.Wk;if(e!==t){var i=this.diagram,n=this.data;if(null!==e){if(null!==e.ud&&(e.ud.remove(this),e.v()),null!==i&&null!==n&&!i.undoManager.isUndoingRedoing){var r=e.data,o=i.model;if(null!==r&&o.ri()){var a=o.va(n);void 0!==a&&o.Sx(r,a)}}this.containingGroup=null}this.Wk=t,null!==t&&(kc(t,this),null===i||null===n||i.undoManager.isUndoingRedoing||(r=t.data,i=i.model,null!==r&&i.ri()&&(void 0!==(n=i.va(n))&&i.Au(r,n))),this.containingGroup=t.containingGroup),Ya(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.ks("")}},ports:{get:function(){return null===this.vc&&rc(this),this.vc.iteratorValues}},isTreeExpanded:{get:function(){return 0!==(1&this.U)},set:function(t){var e=0!==(1&this.U);if(e!==t){this.U^=1;var i=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var n=!0;null!==i&&(n=i.aa,i.aa=!0),e(this),null!==i&&(i.aa=n)}null!==i&&i.undoManager.isUndoingRedoing?this.Yb(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!==(2&this.U)},set:function(t){var e=0!==(2&this.U);e!==t&&(this.U^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return null!==this.ya?this.ya.Sr:null},set:function(t){var e=this.treeExpandedChanged;e!==t&&(qh(this),this.ya.Sr=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!==(4&this.U)},set:function(t){var e=0!==(4&this.U);e!==t&&(this.U^=4,this.g("isTreeLeaf",e,t))}}}),Xh.prototype.expandTree=Xh.prototype.expandTree,Xh.prototype.collapseTree=Xh.prototype.collapseTree,Xh.prototype.findTreeParts=Xh.prototype.xz,Xh.prototype.findTreeChildrenNodes=Xh.prototype.Ou,Xh.prototype.findTreeChildrenLinks=Xh.prototype.Oo,Xh.prototype.findTreeLevel=Xh.prototype.vz,Xh.prototype.findTreeParentChain=Xh.prototype.wz,Xh.prototype.findTreeParentNode=Xh.prototype.og,Xh.prototype.findTreeParentLink=Xh.prototype.jh,Xh.prototype.findCommonTreeParent=Xh.prototype.hz,Xh.prototype.findTreeRoot=Xh.prototype.yz,Xh.prototype.isInTreeOf=Xh.prototype.Oz,Xh.prototype.findPort=Xh.prototype.ks,Xh.prototype.findLinksTo=Xh.prototype.lz,Xh.prototype.findLinksBetween=Xh.prototype.kz,Xh.prototype.findNodesInto=Xh.prototype.Lu,Xh.prototype.findNodesOutOf=Xh.prototype.Mu,Xh.prototype.findNodesConnected=Xh.prototype.Ku,Xh.prototype.findLinksInto=Xh.prototype.Od,Xh.prototype.findLinksOutOf=Xh.prototype.Mo,Xh.prototype.findExternalTreeLinksConnected=Xh.prototype.qx,Xh.prototype.invalidateConnectedLinks=Xh.prototype.zd,Xh.prototype.invalidateLinkBundle=Xh.prototype.Mz;var cc=new z(Xh,"SpreadingNone",10),dc=new z(Xh,"SpreadingEvenly",11),fc=new z(Xh,"SpreadingPacked",12);function pc(t,e){void 0===t||t instanceof hl||"string"===typeof t?Xh.call(this,t):(Xh.call(this),t&&(e=t)),this.U|=4608,this.Gn=new Q,this.$a=null,this.Qc=new Nd,this.Qc.group=this,this.el=new Q,this.tb=this.Xp=null,e&&Object.assign(this,e)}function gc(t,e){if(t.Gn.add(e)){e instanceof pc&&t.el.add(e);var i=t.memberAdded;if(null!==i){var n=!0,r=t.diagram;null!==r&&(n=r.aa,r.aa=!0),i(t,e),null!==r&&(r.aa=n)}t.isVisible()&&t.isSubGraphExpanded||e.Yb(!1)}e instanceof xc&&!t.computesBoundsIncludingLinks||(null===(e=t.$a)&&(e=t),e.v())}function mc(t,e){if(t.Gn.remove(e)){e instanceof pc&&t.el.remove(e);var i=t.memberRemoved;if(null!==i){var n=!0,r=t.diagram;null!==r&&(n=r.aa,r.aa=!0),i(t,e),null!==r&&(r.aa=n)}t.isVisible()&&t.isSubGraphExpanded||e.Yb(!0)}e instanceof xc&&!t.computesBoundsIncludingLinks||(null===(e=t.$a)&&(e=t),e.v())}function vc(t,e,i,n){for(var r=t.memberParts;r.next();){var o=r.value;if(o.Yb(!1),o instanceof pc&&o.isSubGraphExpanded&&(o.wasSubGraphExpanded=o.isSubGraphExpanded,vc(o,e,i,n)),o instanceof Xh)o.zd(e),i.Aj(o,n);else if(o instanceof xc)for(o=o.labelNodes;o.next();)o.value.zd(e)}t.isSubGraphExpanded=!1}function yc(t,e,i,n){for(var r=t.memberParts;r.next();){var o=r.value;if(o.Yb(!0),o instanceof pc&&o.wasSubGraphExpanded&&(o.wasSubGraphExpanded=!1,yc(o,e,i,n)),o instanceof Xh)o.zd(e),i.Cj(o,n);else if(o instanceof xc)for(o=o.labelNodes;o.next();)o.value.zd(e)}t.isSubGraphExpanded=!0}function bc(t){Aa.call(this),this.yb=Ae,this.ko=new Ot(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}function xc(t){wh.call(this,Ml.Link),this.Qa=8,this.df=null,this.ef="",this.uf=this.gn=null,this.vf="",this.uo=null,this.nk=Yc,this.Om=0,this.Qm=Yc,this.Rm=NaN,this.qj=Wc,this.po=.5,this.ud=null,this.Nb=(new Z).freeze(),this.Sg=this.Lg=null,this.kl=new Ot,this.ta=new Ue,this.u=this.o=this.Sf=this.Wf=null,this.ru=new pt,this.$p=this.Kw=this.Jw=null,this.st=NaN,this.ba=null,this.j=[],t&&Object.assign(this,t)}function wc(t){var e=t.fromNode,i=t.toNode,n=null;if(n=null!==e?null!==i?e.px(i):e.containingGroup:null!==i?i.containingGroup:null,e=n,(i=t.zh)!==e){null!==i&&mc(i,t),t.zh=e,null!==e&&gc(e,t);var r=t.containingGroupChanged;if(null!==r){var o=!0,a=t.diagram;null!==a&&(o=a.aa,a.aa=!0),r(t,i,e),null!==a&&(a.aa=o)}!t.bd||t.Jw!==i&&t.Kw!==i||t.bb()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=n}function kc(t,e){null===t.ud&&(t.ud=new Q),t.ud.add(e),t.v()}function _c(t,e,i){if(0!==e||0!==i)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.offset(e,i),t.defaultToPoint&&t.defaultToPoint.offset(e,i);else{for(var n=t.bd,r=new Z,o=t.Nb.iterator;o.next();){var a=o.value;r.add(new pt(a.x+e,a.y+i).freeze())}r.freeze(),o=t.Nb,t.Nb=r,a=t.diagram,isNaN(e)||isNaN(i)||null!==a&&a.animationManager.zb?t.v():(t.ie.h(t.ie.x+e,t.ie.y+i),t.pa.h(t.pa.x+e,t.pa.y+i),Ya(t)),n?Sc(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==a&&a.animationManager.zb&&$n(a.animationManager,t,r),t.g("points",o,r)}}function Sc(t){0===t.Nb.count?t.bd=!1:(t.bd=!0,t.$p=null,t.st=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),jc(t,!1))}function Cc(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e}function Mc(t,e){var i=e.Zn;return null===i&&((i=new Md).port=e,i.node=e.part,e.Zn=i),Td(i,t)}function Pc(t){return t===Jt||.5===t.x&&.5===t.y}function Tc(t){return.5===t.x&&.5===t.y?t:ie}function Dc(t){if(null===t.diagram||!t.isAvoiding||!No(t.diagram))return!1;var e=t.points.s,i=e.length;if(4>i)return!1;t=Io(t.diagram,!0,t.containingGroup,null);for(var n=1;n<i-2;n++){var r=e[n],o=e[n+1];if(!t.Xj(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function Nc(t,e,i,n,r,o,a){var s=e.Ho,l=e.Go,u=pd(e,i,n),h=i,c=n;for(0===r?h+=s:90===r?c+=l:180===r?h-=s:c-=l,r!==a&&u>kd&&pd(e,h,c)!==u-1&&(pd(e,i-s,n)===u-1?(r=180,h=i-s,c=n):pd(e,i+s,n)===u-1?(r=0,h=i+s,c=n):pd(e,i,n-l)===u-1?(r=270,h=i,c=n-l):pd(e,i,n+l)===u-1&&(r=90,h=i,c=n+l));u>kd&&pd(e,h,c)===u-1;)i=h,n=c,0===r?h+=s:90===r?c+=l:180===r?h-=s:c-=l,--u;o?u>kd&&(180===r||0===r?i=Math.floor(i/s)*s+s/2:90!==r&&270!==r||(n=Math.floor(n/l)*l+l/2)):(i=Math.floor(i/s)*s+s/2,n=Math.floor(n/l)*l+l/2),u>kd&&(o=r,a=i,h=n,0===r?(o=90,h+=l):90===r?(o=180,a-=s):180===r?(o=270,h-=l):270===r&&(o=0,a+=s),pd(e,a,h)===u-1?Nc(t,e,a,h,o,!1,o):(a=i,h=n,0===r?(o=270,h-=l):90===r?(o=0,a+=s):180===r?(o=90,h+=l):270===r&&(o=180,a-=s),pd(e,a,h)===u-1&&Nc(t,e,a,h,o,!1,o))),t.yf(i,n)}function Ic(t,e,i,n){return t=i-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=n-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),We.$(t,0)?e:We.$(e,0)?t:Math.sqrt(t*t+e*e)))}function Ec(t,e,i,n){var r=t.pointsCount;if(2>r)return e;if(i){var o=t.i(1);if(i=o.x-n.x,o=o.y-n.y,0===(n=Ic(e.x,e.y,i,o)))return e;r=2===r?.5*n:n,(t=t.computeShortLength(!0))>r&&(t=r),r=t*(o-e.y)/n,e.x+=t*(i-e.x)/n,e.y+=r}else{if(i=(o=t.i(r-2)).x-n.x,o=o.y-n.y,0===(n=Ic(e.x,e.y,i,o)))return e;r=2===r?.5*n:n,(t=t.computeShortLength(!1))>r&&(t=r),r=t*(e.y-o)/n,e.x-=t*(e.x-i)/n,e.y-=r}return e}function Ac(t,e,i,n){for(var r=t.pointsCount,o=e;We.$(e.x,o.x)&&We.$(e.y,o.y);){if(i>=r)return r-1;o=t.i(i++)}if(!We.$(e.x,o.x)&&!We.$(e.y,o.y))return i-1;for(var a=o;We.$(e.x,o.x)&&We.$(o.x,a.x)&&(!n||(e.y>=o.y?o.y>=a.y:o.y<=a.y))||We.$(e.y,o.y)&&We.$(o.y,a.y)&&(!n||(e.x>=o.x?o.x>=a.x:o.x<=a.x));){if(i>=r)return r-1;a=t.i(i++)}return i-2}function Oc(t,e,i,n,r,o,a){if(!a&&Rc(t)){var s=(a=t.computeJumpLength())/2,l=[],u=0;if(t.isVisible()&&(u=function(t,e,i,n){var r=t.diagram;if(null===r||e.C(i))return 0;for(r=r.layers;r.next();){var o=r.value;if(null!==o&&o.visible)for(var a=(o=o.Pa.s).length,s=0;s<a;s++){var l=o[s];if(l instanceof xc){if(l===t)return 0<n.length&&n.sort((function(t,e){return t-e})),n.length;if(l.isVisible()&&Rc(l)){var u=l.routeBounds;u.w()&&t.routeBounds.Vc(u)&&!t.usesSamePort(l)&&(null!==(u=l.path)&&u.Rd()&&Lc(e,i,n,l))}}}}return 0<n.length&&n.sort((function(t,e){return t-e})),n.length}(t,r,o,l)),0<u)if(We.B(r.y,o.y))if(r.x<o.x)for(var h=0;h<u;){var c=Math.max(r.x,Math.min(l[h++]-s,o.x-a));e.lineTo(c+i,o.y+n);for(var d=c+i,f=Math.min(c+a,o.x);h<u&&(c=l[h])<f+a;)h++,f=Math.min(c+s,o.x);c=o.y-a+n,f+=i;var p=o.y+n;t.curve===qc?dh(e,f,p,!1):ph(e,d,c,f,c,f,p)}else for(--u;0<=u;){for(h=Math.min(r.x,Math.max(l[u--]+s,o.x+a)),e.lineTo(h+i,o.y+n),d=h+i,c=Math.max(h-a,o.x);0<=u&&(h=l[u])>c-a;)u--,c=Math.max(h-s,o.x);h=o.y-a+n,c+=i,f=o.y+n,t.curve===qc?dh(e,c,f,!1):ph(e,d,h,c,h,c,f)}else if(We.B(r.x,o.x))if(r.y<o.y)for(h=0;h<u;){for(c=Math.max(r.y,Math.min(l[h++]-s,o.y-a)),e.lineTo(o.x+i,c+n),d=c+n,c=Math.min(c+a,o.y);h<u&&(f=l[h])<c+a;)h++,c=Math.min(f+s,o.y);f=o.x-a+i,p=o.x+i,c+=n,t.curve===qc?dh(e,p,c,!1):ph(e,f,d,f,c,p,c)}else for(--u;0<=u;){for(h=Math.min(r.y,Math.max(l[u--]+s,o.y+a)),e.lineTo(o.x+i,h+n),d=h+n,h=Math.max(h-a,o.y);0<=u&&(c=l[u])>h-a;)u--,h=Math.max(c-s,o.y);c=o.x-a+i,f=o.x+i,h+=n,t.curve===qc?dh(e,f,h,!1):ph(e,c,d,c,h,f,h)}}e.lineTo(o.x+i,o.y+n)}function Lc(t,e,i,n){for(var r=We.B(t.y,e.y),o=n.pointsCount,a=n.i(0),s=pt.alloc(),l=1;l<o;l++){var u=n.i(l);if(l<o-1){var h=n.i(l+1);if(a.y===u.y&&u.y===h.y){if(u.x>a.x&&h.x>=u.x||u.x<a.x&&h.x<=u.x)continue}else if(a.x===u.x&&u.x===h.x&&(u.y>a.y&&h.y>=u.y||u.y<a.y&&h.y<=u.y))continue}t:{h=t.x;var c=t.y,d=e.x,f=e.y,p=a.x;a=a.y;var g=u.x,m=u.y;if(We.B(h,d)){if(!We.B(c,f)&&We.B(a,m)&&Math.min(c,f)<a&&Math.max(c,f)>a&&Math.min(p,g)<h&&Math.max(p,g)>h&&!We.B(p,g)){s.x=h,s.y=a,h=!0;break t}}else if(We.B(c,f)&&We.B(p,g)&&Math.min(h,d)<p&&Math.max(h,d)>p&&Math.min(a,m)<c&&Math.max(a,m)>c&&!We.B(a,m)){s.x=p,s.y=c,h=!0;break t}s.x=0,s.y=0,h=!1}h&&(r?i.push(s.x):i.push(s.y)),a=u}pt.free(s)}function Rc(t){return(t=t.curve)===Zc||t===qc}function jc(t,e){(e||Rc(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Dh.contains(t)||0===t.kl.width&&0===t.kl.height||e.Dh.add(t,t.kl.copy()))}function Bc(t,e,i){if(null!==e&&e.jk&&e.bd&&Rc(e)){var n=e.routeBounds;n.w()&&(t.routeBounds.Vc(n)||i.Vc(n))&&(t.usesSamePort(e)||e.pc())}}function Fc(t){var e=t.df;if(null!==e){var i=t.uf;if(null!==i&&isNaN(t.curviness)){for(var n=t.ef,r=t.vf,o=t=null,a=e.jb.s,s=a.length,l=0;l<s;l++){var u=a[l];(u.df===e&&u.ef===n&&u.uf===i&&u.vf===r||u.df===i&&u.ef===r&&u.uf===e&&u.vf===n)&&(null===o?o=u:(null===t&&(t=[]).push(o),t.push(u)))}if(null!==t){for(null===(o=Jh(e,i,n,r))&&(Zh(e,o=new cd(e,n,i,r)),Zh(i,o)),o.links=t,e=0;e<t.length;e++)t[e].Sf=o;o.Ql()}}}}function zc(t){var e=t.Sf;null!==e&&isNaN(t.curviness)&&(t.Sf=null,0<=(t=e.links.indexOf(t))&&(D(e.links,t),e.Ql()))}Xh.className="Node",Xh.SpreadingNone=cc,Xh.SpreadingEvenly=dc,Xh.SpreadingPacked=fc,c(pc,Xh),pc.prototype.cloneProtected=function(t){Xh.prototype.cloneProtected.call(this,t),this.U=-32769&this.U;var e=t.Ll((function(t){return t instanceof bc}));t.$a=e instanceof bc?e:null,null!==this.Qc?(t.Qc=this.Qc.copy(),t.Qc.group=t):(null!==t.Qc&&(t.Qc.group=null),t.Qc=null),null!==this.tb&&(t.tb=this.tb.copy())},(e=pc.prototype).Af=function(t){Xh.prototype.Af.call(this,t);var e=t.Rj();for(t=t.memberParts;t.next();){var i=t.value;if(i.v(),i.D(8),i.Ej(),i instanceof Xh)i.zd(e);else if(i instanceof xc)for(i=i.labelNodes;i.next();)i.value.zd(e)}},e.fk=function(t,e,i,n,r,o,a){if(t===fi&&"elements"===e){if(r instanceof bc)null===this.$a?this.$a=r:this.$a!==r&&w("Cannot insert a second Placeholder into the visual tree of a Group.");else if(r instanceof Ml){var s=r.Ll((function(t){return t instanceof bc}));s instanceof bc&&(null===this.$a?this.$a=s:this.$a!==s&&w("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===pi&&"elements"===e&&null!==this.$a&&(n===this.$a||n instanceof Ml&&this.$a.qg(n))&&(this.$a=null);Xh.prototype.fk.call(this,t,e,i,n,r,o,a)},e.Wl=function(t,e){Xh.prototype.Wl.call(this,t,e),this.isClipping&&this.type!==Ml.Spot&&this.isSubGraphExpanded&&((t=this.resizeObject)instanceof Ml&&(t=t.rb()),null===this.tb&&(this.tb=new Ot),t.mi(this.tb),t instanceof fu&&this.tb.Ac(-t.strokeWidth,-t.strokeWidth))},e.dh=function(t,e,i,n){this.mf=this.$a,Xh.prototype.dh.call(this,t,e,i,n)},e.Va=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each((function(e){!t.computesBoundsIncludingLinks&&e instanceof xc||e.Va()})),Xh.prototype.Va.call(this)},e.si=function(){if(!Xh.prototype.si.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof Xh){if(e.isVisible()&&rs(e))return!1}else if(e instanceof xc&&e.isVisible()&&rs(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},e.Lj=function(){if(0<this.Gn.count){var t=this.diagram;if(null!==t)for(var e=this.Gn.copy().iterator;e.next();)t.remove(e.value)}Xh.prototype.Lj.call(this)},pc.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Ea(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},pc.prototype.addMembers=function(t,e){var i=this.diagram;if(null===i)return!1;i=i.commandHandler;var n=!0;for(t=Ea(t).iterator;t.next();){var r=t.value;!e||i.isValidMember(this,r)?r.containingGroup=this:n=!1}return n},pc.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null===t||!t.allowUngroup)&&!(null!==(t=t.diagram)&&!t.allowUngroup)},(e=pc.prototype).zd=function(t){var e=0!==(65536&this.U);if(Xh.prototype.zd.call(this,t),!e)for(0!==(65536&this.U)!==!0&&(this.U=65536^this.U),e=this.Ju();e.next();){var i=e.value;if(void 0===t||!t.contains(i)){var n=i.fromNode;null!==n&&n!==this&&n.Qd(this)&&!n.isVisible()?($h(i.fromPort),$h(i.toPort),i.bb()):null!==(n=i.toNode)&&n!==this&&n.Qd(this)&&!n.isVisible()&&($h(i.fromPort),$h(i.toPort),i.bb())}}},e.Ju=function(){var t=null!==this.diagram&&this.diagram.Nw;if(t&&null!==this.Xp)return this.Xp.iterator;var e=this.Rj();e.add(this);for(var i=new Q,n=e.iterator;n.next();){var r=n.value;if(r instanceof Xh)for(r=r.linksConnected;r.next();){var o=r.value;e.contains(o)||i.add(o)}}return t&&(this.Xp=i),i.iterator},e.jz=function(){var t=this.Rj();t.add(this);for(var e=new Q,i=t.iterator;i.next();){var n=i.value;if(n instanceof Xh)for(n=n.linksConnected;n.next();){var r=n.value,o=r.fromNode;null===o||t.contains(o)&&o!==this||e.add(o),null===(r=r.toNode)||t.contains(r)&&r!==this||e.add(r)}}return e.iterator},e.iz=function(){var t=new Q;return function t(e,i){null!==e&&(i.add(e),t(e.containingGroup,i))}(this,t),t},e.Rj=function(){var t=new Q;return Uh(t,this,!0,0,!0),t.remove(this),t},e.Yb=function(t){Xh.prototype.Yb.call(this,t);for(var e=this.memberParts;e.next();)e.value.Yb(t)},pc.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Te||(t.Te=!0,vc(this,this.Rj(),t,this),t.Te=!1)},pc.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Te||(t.Te=!0,yc(this,this.Rj(),t,this),t.Te=!1)},pc.prototype.move=function(t,e){void 0===e&&(e=!1);var i=e?this.location:this.position,n=i.x;i=i.y;var r=t.x,o=t.y;if(!(n===r||isNaN(n)&&isNaN(r))||!(i===o||isNaN(i)&&isNaN(o))){for(n=r-(isNaN(n)?0:n),i=o-(isNaN(i)?0:i),o=pt.alloc(),Xh.prototype.move.call(this,t,e),t=new Q,e=this.Rj().iterator;e.next();)(r=e.value)instanceof xc&&(r.suspendsRouting&&t.add(r),r.bd||r.fromNode!==this&&r.toNode!==this)&&(r.suspendsRouting=!0);for(e.reset();e.next();)if(!((r=e.value).oh()||r instanceof Xh&&r.isLinkLabel)){var a=r.position,s=r.location;a.w()?(o.x=a.x+n,o.y=a.y+i,r.position=o):s.w()&&(o.x=s.x+n,o.y=s.y+i,r.location=o)}for(e.reset();e.next();)(r=e.value)instanceof xc&&(r.suspendsRouting=t.contains(r),r.bd||r.fromNode!==this&&r.toNode!==this)&&(a=r.position,o.x=a.x+n,o.y=a.y+i,o.w()?r.move(o):r.bb(),Dc(r)&&r.bb());pt.free(o)}},d.Object.defineProperties(pc.prototype,{placeholder:{get:function(){return this.$a}},computesBoundsAfterDrag:{get:function(){return 0!==(2048&this.U)},set:function(t){var e=0!==(2048&this.U);e!==t&&(this.U^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!==(4096&this.U)},set:function(t){var e=0!==(4096&this.U);e!==t&&(this.U^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!==(8192&this.U)},set:function(t){var e=0!==(8192&this.U);e!==t&&(this.U^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!==(16384&this.U)},set:function(t){var e=0!==(16384&this.U);e!==t&&(this.U^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Gn.iterator}},layout:{get:function(){return this.Qc},set:function(t){var e=this.Qc;if(e!==t){null!==t&&null!==t.diagram&&t.diagram.layout===t&&w("A layout cannot be both the Diagram.layout and a Group.layout: "+t),null!==e&&(e.diagram=null,e.group=null),this.Qc=t;var i=this.diagram;null!==t&&(t.diagram=i,t.group=this),null!==i&&(i.wh=!0),this.g("layout",e,t),null!==i&&i.Zb()}}},memberAdded:{get:function(){return null!==this.ya?this.ya.Jq:null},set:function(t){var e=this.memberAdded;e!==t&&(qh(this),this.ya.Jq=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return null!==this.ya?this.ya.Kq:null},set:function(t){var e=this.memberRemoved;e!==t&&(qh(this),this.ya.Kq=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return null!==this.ya?this.ya.ij:null},set:function(t){var e=this.memberValidation;e!==t&&(qh(this),this.ya.ij=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!==(256&this.U)},set:function(t){var e=0!==(256&this.U);e!==t&&(this.U^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!==(512&this.U)},set:function(t){var e=0!==(512&this.U);if(e!==t){this.U^=512;var i=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var n=!0;null!==i&&(n=i.aa,i.aa=!0),e(this),null!==i&&(i.aa=n)}null!==i&&i.undoManager.isUndoingRedoing?(null!==this.$a&&this.$a.v(),this.memberParts.each((function(t){t.updateAdornments()}))):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!==(1024&this.U)},set:function(t){var e=0!==(1024&this.U);e!==t&&(this.U^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return null!==this.ya?this.ya.Hr:null},set:function(t){var e=this.subGraphExpandedChanged;e!==t&&(qh(this),this.ya.Hr=t,this.g("subGraphExpandedChanged",e,t))}},qh:{get:function(){return 0!==(32768&this.U)},set:function(t){0!==(32768&this.U)!==t&&(this.U^=32768)}}}),pc.prototype.expandSubGraph=pc.prototype.expandSubGraph,pc.prototype.collapseSubGraph=pc.prototype.collapseSubGraph,pc.prototype.findSubGraphParts=pc.prototype.Rj,pc.prototype.findContainingGroupChain=pc.prototype.iz,pc.prototype.findExternalNodesConnected=pc.prototype.jz,pc.prototype.findExternalLinksConnected=pc.prototype.Ju,pc.prototype.ensureBounds=pc.prototype.Va,pc.className="Group",c(bc,Aa),bc.prototype.cloneProtected=function(t){Aa.prototype.cloneProtected.call(this,t),t.yb=this.yb.J(),t.ko=this.ko.copy()},bc.prototype.fh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return Wt(0,0,e.width,e.height,t.x,t.y)},bc.prototype.Vl=function(){var t=this.part;if(null!==t&&(t instanceof pc||t instanceof Kh)||w("Placeholder is not inside a Group or Adornment."),t instanceof pc){var e=this.computeBorder(this.ko),i=this.minSize,n=this.dc;for(Lt(n,(isFinite(i.width)?Math.max(i.width,e.width):e.width)||0,(isFinite(i.height)?Math.max(i.height,e.height):e.height)||0),this.Fe(0,0,n.width,n.height),n=t.memberParts,i=!1;n.next();)if(n.value.isVisible()){i=!0;break}n=t.diagram,!i||null===n||n.animationManager.Xu(t)||isNaN(e.x)||isNaN(e.y)||((i=pt.alloc()).xi(e,t.locationSpot),i.C(t.location)||(t.location=i),pt.free(i))}else{e=this.dc,n=(i=this.yb).left+i.right;var r=i.top+i.bottom,o=t.adornedObject;t.angle=o.li();var a=0;o instanceof fu&&(a=o.strokeWidth);var s=o.Df(),l=o.naturalBounds,u=(l.width+a)*s;a=(l.height+a)*s,t.type!==Ml.Link&&(s=o.ka("Selection"===t.category?Qt:t.locationSpot,pt.alloc()),t.location=s,pt.free(s)),isNaN(u)||isNaN(a)?(t=o.ka(Qt,pt.alloc()),(u=Ot.allocAt(t.x,t.y,0,0)).Xe(o.ka(ae,t)),u.Xe(o.ka(te,t)),u.Xe(o.ka(re,t)),Lt(e,u.width+n||0,u.height+r||0),this.Fe(-i.left,-i.top,e.width,e.height),pt.free(t),Ot.free(u)):(Lt(e,u+n||0,a+r||0),this.Fe(-i.left,-i.top,e.width,e.height))}},bc.prototype.dh=function(t,e,i,n){this.actualBounds.h(t,e,i,n)},bc.prototype.computeBorder=function(t){var e=this.part,i=e.diagram;if(null!==i&&e instanceof pc&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.ko.w()){var n=i.toolManager.findTool("Dragging");if(n===i.currentTool&&null!==(i=n.computeBorder(e,this.ko,t)))return i}i=Ot.alloc(),n=this.computeMemberBounds(i);var r=this.yb;return e instanceof pc&&!e.isSubGraphExpanded?t.h(n.x-r.left,n.y-r.top,0,0):t.h(n.x-r.left,n.y-r.top,Math.max(n.width+r.left+r.right,0),Math.max(n.height+r.top+r.bottom,0)),Ot.free(i),e instanceof pc&&e.computesBoundsIncludingLocation&&e.location.w()&&t.Xe(e.location),t},bc.prototype.computeMemberBounds=function(t){if(!(this.part instanceof pc))return t.h(0,0,0,0),t;for(var e=this.part,i=1/0,n=1/0,r=-1/0,o=-1/0,a=e.memberParts;a.next();){var s=a.value;if(s.isVisible()){if(s instanceof xc){if(!e.computesBoundsIncludingLinks)continue;if(is(s))continue;if(s.fromNode===e||s.toNode===e)continue}(s=s.actualBounds).left<i&&(i=s.left),s.top<n&&(n=s.top),s.right>r&&(r=s.right),s.bottom>o&&(o=s.bottom)}}return isFinite(i)&&isFinite(n)?t.h(i,n,r-i,o-n):(e=e.location,t.h(e.x,e.y,0,0)),t},d.Object.defineProperties(bc.prototype,{padding:{get:function(){return this.yb},set:function(t){"number"===typeof t&&(t=new Xt(t));var e=this.yb;e.C(t)||(this.yb=t=t.J(),this.g("padding",e,t),this.v())}}}),bc.className="Placeholder",c(xc,wh),xc.prototype.cloneProtected=function(t){wh.prototype.cloneProtected.call(this,t),t.Qa=-113&this.Qa,t.ef=this.ef,t.gn=this.gn,t.vf=this.vf,t.uo=this.uo,t.nk=this.nk,t.Om=this.Om,t.Qm=this.Qm,t.Rm=this.Rm,t.qj=this.qj,t.po=this.po,null!==this.ba&&(t.ba=this.ba.copy())},(e=xc.prototype).Af=function(t){wh.prototype.Af.call(this,t),this.ef=t.ef,this.vf=t.vf,t.Lg=null,t.bb(),t.Sf=this.Sf;var e=t.fromPort;null!==e&&$h(e),null!==(t=t.toPort)&&$h(t)},e.qb=function(t){t.classType===xc?2===(2&t.value)?this.routing=t:t===Xc||t===qc||t===Zc?this.curve=t:t===Jc||t===Qc||t===$c?this.adjusting=t:t!==Wc&&t!==Yc&&w("Unknown Link enum value for a Link property: "+t):wh.prototype.qb.call(this,t)},e.Uc=function(){null===this.ba&&(this.ba=new gs)},e.si=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),rs(t)||Lh(t))return!1}return null===(t=this.toNode)||(null!==(e=t.findVisibleNode())&&(t=e),!rs(t)&&!Lh(t))},e.xv=function(){return!1},e.yv=function(){},e.Wc=function(){return!1},xc.prototype.computeAngle=function(t,e,i){return xc.computeAngle(e,i)},xc.computeAngle=function(t,e){switch(t){default:case Yc:t=0;break;case td:t=e;break;case ed:t=e+90;break;case id:t=e-90;break;case nd:t=e+180;break;case rd:90<(t=We.$o(e))&&270>t&&(t-=180);break;case od:90<(t=We.$o(e+90))&&270>t&&(t-=180);break;case ad:90<(t=We.$o(e-90))&&270>t&&(t-=180);break;case sd:if(45<(t=We.$o(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return We.$o(t)},(e=xc.prototype).nh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&wh.prototype.nh.call(this)},e.Ro=function(t){var e=this.fromNode;return t===e?this.toNode:e},e.Dz=function(t){var e=this.fromPort;return t===e?this.toPort:e},e.To=function(t){if(wh.prototype.To.call(this,t),Rc(this)&&this.Vo(this.actualBounds),!t){var e=null;null!==(t=this.df)&&ec(t,this,e=this.fromPort);var i=this.uf;if(null!==i){var n=this.toPort;i===t&&n===e||ec(i,this,n)}Fc(this)}},e.Uo=function(t){if(wh.prototype.Uo.call(this,t),Rc(this)&&this.Vo(this.actualBounds),!t){var e=null;null!==(t=this.df)&&ic(t,this,e=this.fromPort);var i=this.uf;if(null!==i){var n=this.toPort;i===t&&n===e||ic(i,this,n)}zc(this)}},e.Lj=function(){if(this.bd=!0,null!==this.ud){var t=this.diagram;if(null!==t)for(var e=this.ud.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&(null!==(t=this.diagram)&&t.partManager.removeDataForLink(this))},xc.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},xc.prototype.move=function(t,e){var i=e?this.location:this.position,n=i.x;isNaN(n)&&(n=0);var r=i.y;for(isNaN(r)&&(r=0),n=t.x-n,r=t.y-r,!0===e?wh.prototype.move.call(this,t,!1):(t=pt.allocAt(i.x+n,i.y+r),wh.prototype.move.call(this,t,!1),pt.free(t)),_c(this,n,r),t=this.labelNodes;t.next();)i=(e=t.value).position,e.moveTo(i.x+n,i.y+r)},xc.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},xc.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},xc.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(at),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var i=this.i(0),n=this.i(1);return t.h((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===Xc))return this.ta.Pu(.5,t),t.add(this.i(0)),i=this.ta.figures.first(),t.offset(-i.startX,-i.startY),t;if(this.computeCurve()===Xc){if(3===e){i=this.i(0),n=this.i(1);var r=this.i(2);return We.$w(i.x,i.y,n.x,n.y,n.x,n.y,r.x,r.y,t),t}if(i=3*((n=(e-1)/3|0)/2|0),1===n%2){n=this.i(i),r=this.i(i+1);var o=this.i(i+2);i=this.i(i+3),We.$w(n.x,n.y,r.x,r.y,o.x,o.y,i.x,i.y,t)}else t.assign(this.i(i));return t}var a=this.flattenedLengths;for(i=this.flattenedTotalLength,r=o=n=0;n<i/2&&o<e&&!(n+(r=a[o])>i/2);)n+=r,o++;return e=this.i(o),o=this.i(o+1),1>Math.abs(e.x-o.x)?e.y>o.y?t.h(e.x,e.y-(i/2-n)):t.h(e.x,e.y+(i/2-n)):1>Math.abs(e.y-o.y)?e.x>o.x?t.h(e.x-(i/2-n),e.y):t.h(e.x+(i/2-n),e.y):(i=(i/2-n)/r,t.h(e.x+i*(o.x-e.x),e.y+i*(o.y-e.y))),t},xc.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).ab(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===Xc))return this.ta.wx(.5);if(this.computeCurve()===Xc&&4<=t){var e=(t-1)/3|0,i=3*(e/2|0);if(1===e%2){i=Math.floor(i),t=this.i(i),e=this.i(i+1);var n=this.i(i+2);return i=this.i(i+3),We.Oy(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)}if(0<i&&i+1<t)return this.i(i-1).ab(this.i(i+1))}e=this.flattenedLengths,n=this.flattenedTotalLength;var r,o=0;for(i=0;o<n/2&&i<t&&!(o+(r=e[i])>n/2);)o+=r,i++;if(e=this.i(i),n=this.i(i+1),1>Math.abs(e.x-n.x)&&1>Math.abs(e.y-n.y)){if(0<i&&i+2<t)return this.i(i-1).ab(this.i(i+2))}else{if(1>Math.abs(e.x-n.x))return e.y>n.y?270:90;if(1>Math.abs(e.y-n.y))return e.x>n.x?180:0}return e.ab(n)},(e=xc.prototype).i=function(t){return this.Nb.s[t]},e.$c=function(t,e){this.Nb.Zc(t,e)},e.M=function(t,e,i){this.Nb.Zc(t,new pt(e,i))},e.Lz=function(t,e){this.Nb.Hb(t,e)},e.l=function(t,e,i){this.Nb.Hb(t,new pt(e,i))},e.le=function(t){this.Nb.add(t)},e.yf=function(t,e){this.Nb.add(new pt(t,e))},e.pv=function(t){this.Nb.mb(t)},e.Fj=function(){this.Nb.clear()},e.th=function(){null===this.Lg&&(this.Lg=this.Nb,this.Nb=this.Nb.copy())},e.zf=function(){if(null!==this.Lg){for(var t=this.Lg,e=this.Nb,i=1/0,n=1/0,r=t.s,o=r.length,a=0;a<o;a++){var s=r[a];i=Math.min(s.x,i),n=Math.min(s.y,n)}s=a=1/0;for(var l=e.s,u=l.length,h=0;h<u;h++){var c=l[h];a=Math.min(c.x,a),s=Math.min(c.y,s),c.freeze()}if(e.freeze(),u===o){for(o=0;o<u;o++)if(h=r[o],c=l[o],h.x-i!==c.x-a||h.y-n!==c.y-s){this.pc();break}}else this.pc();this.Lg=null,null!==(i=this.diagram)&&i.animationManager.zb&&$n(i.animationManager,this,e),Sc(this),this.g("points",t,e)}},e.rv=function(){null!==this.Lg&&(this.Nb=this.Lg,this.Lg=null)},e.bb=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.xs.contains(this)||t.undoManager.isUndoingRedoing)return;if((t=t.animationManager).isTicking&&!t.isAnimating)return;null===this.Sg||t.isTicking||(this.Sg=null)}null!==(t=this.path)&&(this.bd=!1,this.v(),t.v())}},e.ug=function(){if(!this.bd&&!this.computingPoints){var t=!0;try{this.computingPoints=!0,this.th(),t=this.computePoints()}catch(e){this.computingPoints=!1,this.rv()}finally{this.computingPoints=!1,t?this.zf():this.rv()}}},xc.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(Hc||((Hc=new Xh).desiredSize=kt,Hc.Va()),this.defaultFromPoint&&(Hc.location=this.defaultFromPoint,Hc.Va(),e=t=Hc)):e=this.fromPort,null!==e&&!t.isVisible()){var i=t.findVisibleNode();null!==i&&i!==t?(t=i,e=i.port):t=i}if(this.Jw=t,null===t||!t.location.w())return!1;for(;!(null===e||e.actualBounds.w()&&e.Rd());)e=e.panel;if(null===e)return!1;var n=this.toNode,r=null;if(null===n?(Vc||((Vc=new Xh).desiredSize=kt,Vc.Va()),this.defaultToPoint&&(Vc.location=this.defaultToPoint,Vc.Va(),r=n=Vc)):r=this.toPort,null===r||n.isVisible()||(null!==(i=n.findVisibleNode())&&i!==n?(n=i,r=i.port):n=i),this.Kw=n,null===n||!n.location.w())return!1;for(;!(null===r||r.actualBounds.w()&&r.Rd());)r=r.panel;if(null===r)return!1;var o=this.pointsCount,a=this.computeSpot(!0,e);i=this.computeSpot(!1,r);var s=Pc(a),l=Pc(i),u=e===r&&null!==e,h=this.isOrthogonal,c=this.curve===Xc;this.Wf=!(!u||h)&&(c=!0);var d=this.computeAdjusting()===Yc||u;if(!h&&!u&&s&&l){if(s=!1,!d&&3<=o&&(d=this.getLinkPoint(t,e,a,!0,!1,n,r),l=this.getLinkPoint(n,r,i,!1,!1,t,e),s=this.adjustPoints(0,d,o-1,l))&&(d=this.getLinkPoint(t,e,a,!0,!1,n,r),l=this.getLinkPoint(n,r,i,!1,!1,t,e),this.adjustPoints(0,d,o-1,l)),!s)if(this.Fj(),c){o=this.getLinkPoint(t,e,a,!0,!1,n,r),s=(d=this.getLinkPoint(n,r,i,!1,!1,t,e)).x-o.x,l=d.y-o.y,u=this.computeCurviness(),c=h=0;var f=o.x+s/3,p=o.y+l/3,g=f,m=p;We.B(l,0)?m=0<s?m-u:m+u:(h=-s/l,c=Math.sqrt(u*u/(h*h+1)),0>u&&(c=-c),m=h*((g=(0>l?-1:1)*c+f)-f)+p);var v=f=o.x+2*s/3,y=p=o.y+2*l/3;We.B(l,0)?y=0<s?y-u:y+u:y=h*((v=(0>l?-1:1)*c+f)-f)+p,this.Fj(),this.le(o),this.yf(g,m),this.yf(v,y),this.le(d),this.$c(0,this.getLinkPoint(t,e,a,!0,!1,n,r)),this.$c(3,this.getLinkPoint(n,r,i,!1,!1,t,e))}else o=n,d=r,n=this.getLinkPoint(t,e,a,!0,!1,o,d),r=this.getLinkPoint(o,d,i,!1,!1,t,e),this.hasCurviness()?(d=r.x-n.x,i=r.y-n.y,a=this.computeCurviness(),o=t=n.x+d/2,s=e=n.y+i/2,We.B(i,0)?s=0<d?s-a:s+a:(d=-d/i,o=Math.sqrt(a*a/(d*d+1)),0>a&&(o=-o),s=d*((o=(0>i?-1:1)*o+t)-t)+e),this.le(n),this.yf(o,s),this.le(r)):(this.le(n),this.le(r),s=Ot.alloc(),e.mi(s),l=s.ca(r),d.mi(s),u=s.ca(n),(l||u)&&(a=e.ka(Tc(a),new pt),this.$c(0,this.getLinkPointFromPoint(t,e,a,r,!0,a)),i=d.ka(Tc(i),new pt),this.$c(1,this.getLinkPointFromPoint(o,d,i,n,!1,i))),Ot.free(s))}else{c=this.isAvoiding,d&&(h&&c||u)&&this.Fj();var b=u?this.computeCurviness():0;c=this.getLinkPoint(t,e,a,!0,h,n,r),f=g=p=0,(h||!s||u)&&(m=this.computeEndSegmentLength(t,e,a,!0),f=this.getLinkDirection(t,e,c,a,!0,h,n,r),u&&(s||a.C(i)||!h&&1===a.x+i.x&&1===a.y+i.y)&&(f-=h?90:30,0>b&&(f-=180)),0>f?f+=360:360<=f&&(f-=360),u&&(m+=Math.abs(b)*(h?1:2)),0===f?p=m:90===f?g=m:180===f?p=-m:270===f?g=-m:(p=m*Math.cos(f*Math.PI/180),g=m*Math.sin(f*Math.PI/180)),a.Lc()&&u&&(m=e.ka(ie,pt.alloc()),v=pt.allocAt(m.x+1e3*p,m.y+1e3*g),this.getLinkPointFromPoint(t,e,m,v,!0,c),pt.free(m),pt.free(v))),m=this.getLinkPoint(n,r,i,!1,h,t,e);var x=y=v=0;if(h||!l||u){var w=this.computeEndSegmentLength(n,r,i,!1);x=this.getLinkDirection(n,r,m,i,!1,h,t,e),u&&(l||a.C(i)||!h&&1===a.x+i.x&&1===a.y+i.y)&&(x+=h?0:30,0>b&&(x+=180)),0>x?x+=360:360<=x&&(x-=360),u&&(w+=Math.abs(b)*(h?1:2)),0===x?v=w:90===x?y=w:180===x?v=-w:270===x?y=-w:(v=w*Math.cos(x*Math.PI/180),y=w*Math.sin(x*Math.PI/180)),i.Lc()&&u&&(i=r.ka(ie,pt.alloc()),a=pt.allocAt(i.x+1e3*v,i.y+1e3*y),this.getLinkPointFromPoint(n,r,i,a,!1,m),pt.free(i),pt.free(a))}i=c,(h||!s||u)&&(i=new pt(c.x+p,c.y+g)),a=m,(h||!l||u)&&(a=new pt(m.x+v,m.y+y)),!d&&!h&&s&&3<o&&this.adjustPoints(0,c,o-2,a)?this.$c(o-1,m):!d&&!h&&l&&3<o&&this.adjustPoints(1,i,o-1,m)?this.$c(0,c):!d&&(h?6<=o:4<o)&&this.adjustPoints(1,i,o-2,a)?(this.$c(0,c),this.$c(o-1,m)):(this.Fj(),this.le(c),(h||!s||u)&&this.le(i),h&&this.addOrthoPoints(i,f,a,x,t,n),(h||!l||u)&&this.le(a),this.le(m))}return!0},xc.prototype.getLinkPointFromPoint=function(t,e,i,n,r,o){if(void 0===o&&(o=new pt),null===t||null===e)return o.assign(i),o;if(t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port),t=null,null===(r=e.panel)||r.re()||(r=r.panel),null===r){r=n.x,n=n.y;var a=i.x;i=i.y}else{r=1/((t=r.me).m11*t.m22-t.m12*t.m21),a=t.m22*r;var s=-t.m12*r,l=-t.m21*r,u=t.m11*r,h=r*(t.m21*t.dy-t.m22*t.dx),c=r*(t.m12*t.dx-t.m11*t.dy);r=n.x*a+n.y*l+h,n=n.x*s+n.y*u+c,a=i.x*a+i.y*l+h,i=i.x*s+i.y*u+c}return e.Sj(r,n,a,i,o),null!==t&&o.transform(t),o},xc.prototype.getLinkPoint=function(t,e,i,n,r,o,a,s){if(void 0===s&&(s=new pt),i.sb()&&!Pc(i))return e.ka(i,s),s;if(i.Xc()){var l=Mc(this,e);if(null!==l){if(s.assign(l.Xo),r&&this.routing===Kc){var u=Mc(this,a);if(null!==u&&l.El<u.El){l=pt.alloc(),u=pt.alloc();var h=new Ot(e.ka(Qt,l),e.ka(ae,u)),c=this.computeSpot(!n,a);t=this.getLinkPoint(o,a,c,!n,r,t,e,u),(i.Hf(le)||i.Hf(ue))&&t.y>=h.y&&t.y<=h.y+h.height?s.y=t.y:(i.Hf(se)||i.Hf(he))&&t.x>=h.x&&t.x<=h.x+h.width&&(s.x=t.x),pt.free(l),pt.free(u)}}return s}}return i=e.ka(Tc(i),pt.alloc()),this.pointsCount>(r?6:2)?(a=n?this.i(1):this.i(this.pointsCount-2),r&&(a=Cc(i,a.copy()))):(l=this.computeSpot(!n,a),o=pt.alloc(),a=a.ka(Tc(l),o),r&&(a=Cc(i,a)),pt.free(o)),this.getLinkPointFromPoint(t,e,i,a,n,s),pt.free(i),s},xc.prototype.getLinkDirection=function(t,e,i,n,r,o,a,s){t:if(n.sb())var l=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.Xc()&&null!==(l=Mc(this,e)))switch(l.Mc){case 1:l=270;break t;case 2:l=180;break t;default:case 4:l=0;break t;case 8:l=90;break t}l=e.ka(ie,pt.alloc()),this.pointsCount>(o?6:2)?(s=r?this.i(1):this.i(this.pointsCount-2),s=o?Cc(l,s.copy()):i):(i=pt.alloc(),s=s.ka(ie,i),pt.free(i)),i=Math.abs(s.x-l.x)>Math.abs(s.y-l.y)?s.x>=l.x?0:180:s.y>=l.y?90:270,pt.free(l),l=i}return n.Lc()&&a.Qd(t)&&(360<=(l+=180)&&(l-=360)),Pc(n)||0===(t=e.li())||(45<=t&&135>t?l+=90:135<=t&&225>t?l+=180:225<=t&&315>t&&(l+=270),360<=l&&(l-=360)),l},xc.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.Xc()&&null!==(t=Mc(this,e))?t.Hu:(t=n?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=n?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},xc.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=ie:((e=this.fromSpot).Wb()&&(e=t.fromSpot),t=e===ke?Jt:e):null===(t=e||this.toPort)?t=ie:((e=this.toSpot).Wb()&&(e=t.toSpot),t=e===ke?Jt:e),t},xc.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==Yc&&4<this.pointsCount?this.computeMidPoint(new pt):null!==(t=null!==(t=e.Zn)?Td(t,this):null)?t.Xo:e.ka(ie)},xc.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&(null!==(e=this.toPort)&&(t=e.toShortLength)),isNaN(t)?0:t},xc.prototype.Cf=function(t,e,i,n,r,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var a=o;if(void 0===o&&(a=He.alloc()).reset(),a.multiply(this.transform),this.eh(t,a))return zl(this,e,i,r),void 0===o&&He.free(a),!0;if(this.Vc(t,a)){var s=!1;if(!this.isAtomic)for(var l=this.O.s,u=l.length;u--;){var h=l[u];if(h.visible||h===this.locationObject){var c=h.actualBounds,d=this.naturalBounds;if(!(c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height)){if((c=He.alloc()).set(a),h instanceof Ml)s=h.Cf(t,e,i,n,r,c);else if(this.path===h){if(h instanceof fu)if(s=t,d=n,!1===h.pickable)s=!1;else if(c.multiply(h.transform),d)t:{var f=s,p=c;if(h.eh(f,p))s=!0;else{if(void 0===p&&(p=h.transform,f.Qe(h.actualBounds))){s=!0;break t}s=f.left,d=f.right;var g=f.top;f=f.bottom;var m=pt.alloc(),v=pt.alloc(),y=pt.alloc(),b=He.alloc();b.set(p),b.bv(h.transform),b.Rl(),v.x=d,v.y=g,v.transform(b),m.x=s,m.y=g,m.transform(b),p=!1,bu(h,m,v,y)?p=!0:(m.x=d,m.y=f,m.transform(b),bu(h,m,v,y)?p=!0:(v.x=s,v.y=f,v.transform(b),bu(h,m,v,y)?p=!0:(m.x=s,m.y=g,m.transform(b),bu(h,m,v,y)&&(p=!0)))),He.free(b),pt.free(m),pt.free(v),pt.free(y),s=p}}else s=h.eh(s,c)}else s=Ra(h,t,n,c);s&&(d=h,null!==e&&(d=e(h)),d&&(null===i||i(d))&&r.add(d)),He.free(c)}}}return void 0===o&&He.free(a),s||null!==this.background||null!==this.areaBackground}return void 0===o&&He.free(a),!1},xc.prototype.computeCurve=function(){if(null===this.Wf){var t=this.fromPort,e=this.isOrthogonal;this.Wf=null!==t&&t===this.toPort&&!e}return this.Wf?Xc:this.curve},xc.prototype.computeCorner=function(){if(this.curve===Xc)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},xc.prototype.findMidLabel=function(){for(var t=this.path,e=this.O.s,i=e.length,n=0;n<i;n++){var r=e[n];if(r!==t&&!r.isPanelMain&&(-1/0===r.segmentIndex||isNaN(r.segmentIndex)))return r}for(t=this.labelNodes;t.next();)if(-1/0===(e=t.value).segmentIndex||isNaN(e.segmentIndex))return e;return null},xc.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=ud;t=Math.max(t,this.computeThickness());var e=this.fromPort,i=this.toPort;if(null!==e&&null!==i){var n=this.findMidLabel();if(null!==n){var r=n.naturalBounds,o=n.margin,a=isNaN(r.width)?30:r.width*n.scale+o.left+o.right;r=isNaN(r.height)?14:r.height*n.scale+o.top+o.bottom,(n=n.segmentOrientation)===td||n===rd||n===nd?t=Math.max(t,r):n===id||n===ad||n===ed||n===od?t=Math.max(t,a):(e=e.ka(ie).ab(i.ka(ie))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*a)+Math.abs(Math.cos(e)*r)+1)),this.curve===Xc&&(t*=1.333)}}return t},xc.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var i=t[e];i.computeAdjusting()===Yc&&i.bb()}},xc.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=ld;var e=this.Sf;if(null!==e){for(var i=N(),n=0,r=e.links,o=0;o<r.length;o++){var a=r[o].computeSpacing();i.push(a),n+=a}for(n=-n/2,o=0;o<r.length;o++){if(r[o]===this){t=n+i[o]/2;break}n+=i[o]}e.As===this.fromNode&&(t=-t),I(i)}}return t},xc.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},xc.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Sf},xc.prototype.adjustPoints=function(t,e,i,n){var r=this.computeAdjusting();if(this.isOrthogonal){if(r===Qc)return!1;r===$c&&(r=Jc)}switch(r){case Qc:var o=this.i(t),a=this.i(i);if(!o.Xa(e)||!a.Xa(n)){r=o.x,o=o.y;var s=a.x-r,l=a.y-o,u=Math.sqrt(s*s+l*l);if(!We.$(u,0)){if(We.$(s,0))var h=0>l?-Math.PI/2:Math.PI/2;else h=Math.atan(l/Math.abs(s)),0>s&&(h=Math.PI-h);a=e.x;var c=e.y;s=n.x-a;var d=n.y-c;for(l=Math.sqrt(s*s+d*d),We.$(s,0)?d=0>d?-Math.PI/2:Math.PI/2:(d=Math.atan(d/Math.abs(s)),0>s&&(d=Math.PI-d)),u=l/u,h=d-h,this.$c(t,e),t+=1;t<i;t++)s=(e=this.i(t)).x-r,l=e.y-o,e=Math.sqrt(s*s+l*l),We.$(e,0)||(We.$(s,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(s)),0>s&&(l=Math.PI-l)),s=l+h,e*=u,this.M(t,a+e*Math.cos(s),c+e*Math.sin(s)));this.$c(i,n)}}return!0;case $c:if(o=this.i(t),c=this.i(i),!o.Xa(e)||!c.Xa(n)){r=o.x,o=o.y,u=((a=c.x)-r)*(a-r)+((c=c.y)-o)*(c-o),s=e.x,h=e.y,l=n.x,d=n.y;var f=1;if(0!==l-s){var p=(d-h)/(l-s);f=Math.sqrt(1+1/(p*p))}else p=9e9;for(this.$c(t,e),t+=1;t<i;t++){var g=(e=this.i(t)).x,m=e.y,v=.5;0!==u&&(v=((r-g)*(r-a)+(o-m)*(o-c))/u);var y=r+v*(a-r),b=o+v*(c-o);e=Math.sqrt((g-y)*(g-y)+(m-b)*(m-b)),m<p*(g-y)+b&&(e=-e),0<p&&(e=-e),g=s+v*(l-s),v=h+v*(d-h),0!==p?(e=g+e/f,this.M(t,e,v-(e-g)/p)):this.M(t,g,v+e)}this.$c(i,n)}return!0;case Jc:return this.isOrthogonal&&(r=this.i(t),o=this.i(t+1),a=this.i(t+2),c=s=o.x,u=h=o.y,We.B(r.y,o.y)?We.B(o.x,a.x)?h=e.y:We.B(o.y,a.y)&&(s=e.x):We.B(r.x,o.x)&&(We.B(o.y,a.y)?s=e.x:We.B(o.x,a.x)&&(h=e.y)),this.M(t+1,s,h),r=this.i(i),o=this.i(i-1),a=this.i(i-2),l=s=o.x,d=h=o.y,We.B(r.y,o.y)?We.B(o.x,a.x)?h=n.y:We.B(o.y,a.y)&&(s=n.x):We.B(r.x,o.x)&&(We.B(o.y,a.y)?s=n.x:We.B(o.x,a.x)&&(h=n.y)),this.M(i-1,s,h),Dc(this))?(this.M(t+1,c,u),this.M(i-1,l,d),i=!1):(this.$c(t,e),this.$c(i,n),i=!0),i;default:return!1}},xc.prototype.addOrthoPoints=function(t,e,i,n,r,o){0>e?e+=360:360<=e&&(e-=360),0>n?n+=360:360<=n&&(n-=360);var a=n;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,n=315<=n||45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270;var s=r.actualBounds.copy(),l=o.actualBounds.copy();if(s.w()&&l.w()){s.Ac(hd,hd),l.Ac(hd,hd),s.Xe(t),l.Xe(i);var u=pt.alloc(),h=pt.alloc();0===e?i.x>t.x||270===n&&i.y<t.y&&l.right>t.x||90===n&&i.y>t.y&&l.right>t.x?(u.h(i.x,t.y),h.h(i.x,(t.y+i.y)/2),180===n?(u.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1),h.x=u.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(u.x=t.x<l.left?this.computeMidOrthoPosition(t.x,t.y,l.left,i.y,!1):t.x<l.right&&(270===n&&t.y<l.top||90===n&&t.y>l.bottom)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):l.right,h.x=u.x,h.y=i.y):0===n&&t.x<l.left&&t.y>l.top&&t.y<l.bottom&&(u.x=t.x,u.y=t.y<i.y?Math.min(i.y,l.top):Math.max(i.y,l.bottom),h.y=u.y)):(u.h(t.x,i.y),h.h((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(180===n&&(l.ca(t)||s.ca(i))?u.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):i.y<t.y&&(180===n||90===n)?u.y=this.computeMidOrthoPosition(t.x,s.top,i.x,Math.max(i.y,l.bottom),!0):i.y>t.y&&(180===n||270===n)&&(u.y=this.computeMidOrthoPosition(t.x,s.bottom,i.x,Math.min(i.y,l.top),!0)),h.x=i.x,h.y=u.y),u.y>s.top&&u.y<s.bottom&&(i.x>=s.left&&i.x<=t.x||t.x<=l.right&&t.x>=i.x?90!==n&&270!==n||(u.h(Math.max((t.x+i.x)/2,t.x),t.y),h.h(u.x,i.y)):(u.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?s.top:Math.min(s.top,l.top)):Math.max(i.y,0===n?s.bottom:Math.max(s.bottom,l.bottom)),h.x=i.x,h.y=u.y))):180===e?i.x<t.x||270===n&&i.y<t.y&&l.left<t.x||90===n&&i.y>t.y&&l.left<t.x?(u.h(i.x,t.y),h.h(i.x,(t.y+i.y)/2),0===n?(u.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1),h.x=u.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(u.x=t.x>l.right?this.computeMidOrthoPosition(t.x,t.y,l.right,i.y,!1):t.x>l.left&&(270===n&&t.y<l.top||90===n&&t.y>l.bottom)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):l.left,h.x=u.x,h.y=i.y):180===n&&t.x>l.right&&t.y>l.top&&t.y<l.bottom&&(u.x=t.x,u.y=t.y<i.y?Math.min(i.y,l.top):Math.max(i.y,l.bottom),h.y=u.y)):(u.h(t.x,i.y),h.h((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(0===n&&(l.ca(t)||s.ca(i))?u.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):i.y<t.y&&(0===n||90===n)?u.y=this.computeMidOrthoPosition(t.x,s.top,i.x,Math.max(i.y,l.bottom),!0):i.y>t.y&&(0===n||270===n)&&(u.y=this.computeMidOrthoPosition(t.x,s.bottom,i.x,Math.min(i.y,l.top),!0)),h.x=i.x,h.y=u.y),u.y>s.top&&u.y<s.bottom&&(i.x<=s.right&&i.x>=t.x||t.x>=l.left&&t.x<=i.x?90!==n&&270!==n||(u.h(Math.min((t.x+i.x)/2,t.x),t.y),h.h(u.x,i.y)):(u.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?s.top:Math.min(s.top,l.top)):Math.max(i.y,180===n?s.bottom:Math.max(s.bottom,l.bottom)),h.x=i.x,h.y=u.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&l.bottom>t.y||0===n&&i.x>t.x&&l.bottom>t.y?(u.h(t.x,i.y),h.h((t.x+i.x)/2,i.y),270===n?(u.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0),h.x=i.x,h.y=u.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(u.y=t.y<l.top?this.computeMidOrthoPosition(t.x,t.y,i.x,l.top,!0):t.y<l.bottom&&(180===n&&t.x<l.left||0===n&&t.x>l.right)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):l.bottom,h.x=i.x,h.y=u.y):90===n&&t.y<l.top&&t.x>l.left&&t.x<l.right&&(u.x=t.x<i.x?Math.min(i.x,l.left):Math.max(i.x,l.right),u.y=t.y,h.x=u.x)):(u.h(i.x,t.y),h.h(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(270===n&&(l.ca(t)||s.ca(i))?u.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):i.x<t.x&&(270===n||0===n)?u.x=this.computeMidOrthoPosition(s.left,t.y,Math.max(i.x,l.right),i.y,!1):i.x>t.x&&(270===n||180===n)&&(u.x=this.computeMidOrthoPosition(s.right,t.y,Math.min(i.x,l.left),i.y,!1)),h.x=u.x,h.y=i.y),u.x>s.left&&u.x<s.right&&(i.y>=s.top&&i.y<=t.y||t.y<=l.bottom&&t.y>=i.y?0!==n&&180!==n||(u.h(t.x,Math.max((t.y+i.y)/2,t.y)),h.h(i.x,u.y)):(u.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?s.left:Math.min(s.left,l.left)):Math.max(i.x,90===n?s.right:Math.max(s.right,l.right)),h.x=u.x,h.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&l.top<t.y||0===n&&i.x>t.x&&l.top<t.y?(u.h(t.x,i.y),h.h((t.x+i.x)/2,i.y),90===n?(u.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0),h.x=i.x,h.y=u.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(u.y=t.y>l.bottom?this.computeMidOrthoPosition(t.x,t.y,i.x,l.bottom,!0):t.y>l.top&&(180===n&&t.x<l.left||0===n&&t.x>l.right)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):l.top,h.x=i.x,h.y=u.y):270===n&&t.y>l.bottom&&t.x>l.left&&t.x<l.right&&(u.x=t.x<i.x?Math.min(i.x,l.left):Math.max(i.x,l.right),u.y=t.y,h.x=u.x)):(u.h(i.x,t.y),h.h(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(90===n&&(l.ca(t)||s.ca(i))?u.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):i.x<t.x&&(90===n||0===n)?u.x=this.computeMidOrthoPosition(s.left,t.y,Math.max(i.x,l.right),i.y,!1):i.x>t.x&&(90===n||180===n)&&(u.x=this.computeMidOrthoPosition(s.right,t.y,Math.min(i.x,l.left),i.y,!1)),h.x=u.x,h.y=i.y),u.x>s.left&&u.x<s.right&&(i.y<=s.bottom&&i.y>=t.y||t.y>=l.top&&t.y<=i.y?0!==n&&180!==n||(u.h(t.x,Math.min((t.y+i.y)/2,t.y)),h.h(i.x,u.y)):(u.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?s.left:Math.min(s.left,l.left)):Math.max(i.x,270===n?s.right:Math.max(s.right,l.right)),h.x=u.x,h.y=i.y)));var c=i;if(this.isAvoiding){var d=this.diagram;if(null===d||r===o||this.layer.isTemporary||!No(d)||s.ca(c)&&!o.Qd(r)||l.ca(t)&&!r.Qd(o))e=!1;else{var f=Io(d,!0,this.containingGroup,null);if(17!==this.segmentIndex&&f.Xj(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&f.Xj(Math.min(u.x,h.x),Math.min(u.y,h.y),Math.abs(u.x-h.x),Math.abs(u.y-h.y))&&f.Xj(Math.min(h.x,c.x),Math.min(h.y,c.y),Math.abs(h.x-c.x),Math.abs(h.y-c.y)))e=!1;else{r=t,o=c;var p=i=null;if(d.isVirtualized){(d=f.bounds.copy()).Ac(-f.Ho,-f.Go);var g=pt.alloc();fd(f,t.x,t.y)||(We.Ff(d.x,d.y,d.x+d.width,d.y+d.height,t.x,t.y,u.x,u.y,g)?(i=t=g.copy(),e=g.ab(u)):We.Ff(d.x,d.y,d.x+d.width,d.y+d.height,u.x,u.y,h.x,h.y,g)?(i=t=g.copy(),e=g.ab(h)):We.Ff(d.x,d.y,d.x+d.width,d.y+d.height,h.x,h.y,c.x,c.y,g)&&(i=t=g.copy(),e=g.ab(c))),fd(f,c.x,c.y)||(We.Ff(d.x,d.y,d.x+d.width,d.y+d.height,c.x,c.y,h.x,h.y,g)?(p=c=g.copy(),n=h.ab(g)):We.Ff(d.x,d.y,d.x+d.width,d.y+d.height,h.x,h.y,u.x,u.y,g)?(p=c=g.copy(),n=u.ab(g)):We.Ff(d.x,d.y,d.x+d.width,d.y+d.height,u.x,u.y,t.x,t.y,g)&&(p=c=g.copy(),n=t.ab(g))),pt.free(g)}(s=s.copy().ad(l)).Ac(f.Ho*f.Ls,f.Go*f.Ls),bd(f,t,e,c,n,s,!0),l=pd(f,c.x,c.y),!f.abort&&l>=_d&&(gd(f),s.Ac(f.Ho*f.Ix,f.Go*f.Jx),bd(f,t,e,c,n,s,!1),l=pd(f,c.x,c.y)),!f.abort&&l<_d&&pd(f,c.x,c.y)!==wd?(Nc(this,f,c.x,c.y,n,!0,a),s=this.i(2),4>this.pointsCount?(0===e||180===e?(s.x=t.x,s.y=c.y):(s.x=c.x,s.y=t.y),this.M(2,s.x,s.y),this.l(3,s.x,s.y)):(a=this.i(3),0===e||180===e?We.B(s.x,a.x)?(s=0===e?Math.max(s.x,t.x):Math.min(s.x,t.x),this.M(2,s,t.y),this.M(3,s,a.y)):We.B(s.y,a.y)?(Math.abs(t.y-s.y)<=f.Go/2&&(this.M(2,s.x,t.y),this.M(3,a.x,t.y)),this.l(2,s.x,t.y)):this.M(2,t.x,s.y):90!==e&&270!==e||(We.B(s.y,a.y)?(s=90===e?Math.max(s.y,t.y):Math.min(s.y,t.y),this.M(2,t.x,s),this.M(3,a.x,s)):We.B(s.x,a.x)?(Math.abs(t.x-s.x)<=f.Ho/2&&(this.M(2,t.x,s.y),this.M(3,t.x,a.y)),this.l(2,t.x,s.y)):this.M(2,s.x,t.y))),null!==i&&(t=this.i(1),a=this.i(2),t.x!==a.x&&t.y!==a.y?0===e||180===e?this.l(2,t.x,a.y):this.l(2,a.x,t.y):0===e||180===e?this.l(2,r.x,i.y):this.l(2,i.x,r.y)),null!==p&&(0===n||180===n?this.yf(o.x,p.y):this.yf(p.x,o.y)),e=!0):e=!1}}}else e=!1;e||(this.le(u.copy()),this.le(h.copy())),pt.free(u),pt.free(h)}},xc.prototype.computeMidOrthoPosition=function(t,e,i,n,r){var o=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Xc()||this.computeSpot(!1,this.toPort).Xc()||(o=this.computeCurviness()),r?(e+n)/2+o:(t+i)/2+o},xc.prototype.fz=function(t){var e=t.x;t=t.y;for(var i=this.i(0),n=this.i(1),r=bt(e,t,i.x,i.y,n.x,n.y),o=0,a=1;a<this.pointsCount-1;a++){i=this.i(a+1);var s=bt(e,t,n.x,n.y,i.x,i.y);n=i,s<r&&(o=a,r=s)}return o},xc.prototype.pc=function(){this.jk=!1,this.v()},xc.prototype.Tl=function(t){if(!t){if(!1===this.bd)return;if(t=this.rb(),this.jk&&(null===t||null!==t.geometry))return}if(2>this.pointsCount?this.jk=!0:this.ta=this.makeGeometry(),null!==(t=this.path)){t.ta=this.ta;for(var e=this.O.s,i=e.length,n=0;n<i;n++){var r=e[n];r!==t&&r.isPanelMain&&r instanceof fu&&(r.ta=this.ta)}}},xc.prototype.makeGeometry=function(){var t=this.ta,e=this.pointsCount,i=!1,n=this.diagram;null!==n&&Rc(this)&&n.Dh.contains(this)&&(0!==this.kl.width||0!==this.kl.height)&&(n.animationManager.isAnimating||n.currentTool!==n.toolManager)&&(i=!0);var r=this.i(0).copy(),o=r.copy();n=this.Nb.s;var a=this.computeCurve();if(a===Xc&&3<=e&&!We.$(this.smoothness,0))if(3===e){var s=this.i(1);n=Math.min(r.x,s.x);var l=Math.min(r.y,s.y);s=this.i(2),n=Math.min(n,s.x),l=Math.min(l,s.y)}else{if(this.isOrthogonal)for(l=0;l<e;l++)s=n[l],o.x=Math.min(s.x,o.x),o.y=Math.min(s.y,o.y);else for(n=3;n<e;n+=3)n+3>=e&&(n=e-1),l=this.i(n),o.x=Math.min(l.x,o.x),o.y=Math.min(l.y,o.y);n=o.x,l=o.y}else{for(l=0;l<e;l++)s=n[l],o.x=Math.min(s.x,o.x),o.y=Math.min(s.y,o.y);n=o.x,l=o.y}if(n-=this.ru.x,l-=this.ru.y,r.x-=n,r.y-=l,2!==e||Rc(this)){if(t.type=Ue.o,s=vh(t),0!==this.computeShortLength(!0)&&(r=Ec(this,r,!0,o)),dh(s,r.x,r.y,!1),a===Xc&&3<=e&&!We.$(this.smoothness,0))if(3===e)e=(i=this.i(1)).x-n,i=i.y-l,(r=this.i(2).copy()).x-=n,r.y-=l,0!==this.computeShortLength(!1)&&(r=Ec(this,r,!1,o)),ph(s,e,i,e,i,r.x,r.y);else if(this.isOrthogonal){e=pt.allocAt(n,l),(i=pt.alloc()).assign(this.i(1)),o=pt.allocAt(n,l),r=pt.allocAt(n,l),a=this.i(0);for(var u,h=this.smoothness/3,c=1;c<this.pointsCount-1;c++){var d=a,f=u=this.i(c),p=this.i(Ac(this,u,c,!1));if((!We.$(d.x,f.x)||!We.$(f.x,p.x))&&(!We.$(d.y,f.y)||!We.$(f.y,p.y))){var g=h;isNaN(g)&&(g=this.smoothness/3);var m=d.x;d=d.y;var v=f.x;f=f.y;var y=p.x;p=p.y;var b=g*Ic(m,d,v,f);g*=Ic(v,f,y,p),We.$(d,f)&&We.$(v,y)&&(v>m?p>f?(o.x=v-b,o.y=f-b,r.x=v+g,r.y=f+g):(o.x=v-b,o.y=f+b,r.x=v+g,r.y=f-g):p>f?(o.x=v+b,o.y=f-b,r.x=v-g,r.y=f+g):(o.x=v+b,o.y=f+b,r.x=v-g,r.y=f-g)),We.$(m,v)&&We.$(f,p)&&(f>d?(y>v?(o.x=v-b,o.y=f-b,r.x=v+g):(o.x=v+b,o.y=f-b,r.x=v-g),r.y=f+g):(y>v?(o.x=v-b,o.y=f+b,r.x=v+g):(o.x=v+b,o.y=f+b,r.x=v-g),r.y=f-g)),(We.$(m,v)&&We.$(v,y)||We.$(d,f)&&We.$(f,p))&&(m=.5*(m+y),d=.5*(d+p),o.x=m,o.y=d,r.x=m,r.y=d),(1===c||2===c&&We.$(a.x,this.i(0).x)&&We.$(a.y,this.i(0).y))&&(i.x=.5*(a.x+u.x),i.y=.5*(a.y+u.y)),ph(s,i.x-n,i.y-l,o.x-n,o.y-l,u.x-n,u.y-l),e.set(o),i.set(r),a=u}}u=a.x,a=a.y,h=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(h=Ec(this,h.copy(),!1,it)),u=.5*(u+h.x),a=.5*(a+h.y),ph(s,r.x-n,r.y-l,u-n,a-l,h.x-n,h.y-l),pt.free(e),pt.free(i),pt.free(o),pt.free(r)}else for(i=3;i<e;i+=3)o=this.i(i-2),i+3>=e&&(i=e-1),r=this.i(i-1),a=this.i(i),i===e-1&&0!==this.computeShortLength(!1)&&(a=Ec(this,a.copy(),!1,it)),ph(s,o.x-n,o.y-l,r.x-n,r.y-l,a.x-n,a.y-l);else{for((o=pt.alloc()).assign(this.i(0)),(r=pt.alloc()).assign(o),a=this.computeCorner(),c=1,u=0;c<e;){if(c=Ac(this,o,c,1<c),h=this.i(c),c>=e-1){if(o.C(h)){if(0===u)for(c=1;c<e;)r.assign(o),Oc(this,s,-n,-l,o,h=this.i(c++),i),o.assign(h)}else 0!==this.computeShortLength(!1)&&(h=Ec(this,h.copy(),!1,it)),Oc(this,s,-n,-l,o,h,i);break}if(u=Ac(this,h,c+1,c<e-3),c=-n,m=-l,d=h,v=this.i(u),g=i,We.B(o.y,d.y)&&We.B(d.x,v.x))if(p=Math.min(a,Math.abs(d.x-r.x)/2),p=b=Math.min(p,Math.abs(v.y-d.y)/2),We.B(p,0))Oc(this,s,c,m,o,d,g),o.assign(d);else{var x=d.x,w=d.y;f=x,y=w,x=d.x>o.x?d.x-p:d.x+p,y=v.y>d.y?d.y+b:d.y-b,Oc(this,s,c,m,o,v=pt.allocAt(x,w),g),pt.free(v),gh(s,d.x+c,d.y+m,f+c,y+m),o.h(f,y)}else We.B(o.x,d.x)&&We.B(d.y,v.y)?(p=Math.min(a,Math.abs(d.y-r.y)/2),p=b=Math.min(p,Math.abs(v.x-d.x)/2),We.B(b,0)?(Oc(this,s,c,m,o,d,g),o.assign(d)):(f=x=d.x,y=w=d.y,w=d.y>o.y?d.y-p:d.y+p,f=v.x>d.x?d.x+b:d.x-b,Oc(this,s,c,m,o,v=pt.allocAt(x,w),g),pt.free(v),gh(s,d.x+c,d.y+m,f+c,y+m),o.h(f,y))):(Oc(this,s,c,m,o,d,g),o.assign(d));r.assign(h),c=u}pt.free(o)}yh=s}else(s=this.i(1).copy()).x-=n,s.y-=l,0!==this.computeShortLength(!0)&&(r=Ec(this,r,!0,o)),0!==this.computeShortLength(!1)&&(s=Ec(this,s,!1,o)),t.type=Ue.j,t.startX=r.x,t.startY=r.y,t.endX=s.x,t.endY=s.y;return this.jk=!0,t},xc.prototype.computeJumpLength=function(){return 10},xc.prototype.Vo=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var i=e.diagram;if(null!==i&&!i.animationManager.isTicking){var n=!1;for(i=i.layers;i.next();){var r=i.value;if(r.visible)if(r===e){n=!0;for(var o=!1,a=(r=r.Pa.s).length,s=0;s<a;s++){var l=r[s];l instanceof xc&&(l===this?o=!0:o&&Bc(this,l,t))}}else if(n)for(r=(o=r.Pa.s).length,a=0;a<r;a++)(s=o[a])instanceof xc&&Bc(this,s,t)}}}},xc.prototype.usesSamePort=function(t){var e=this.pointsCount,i=t.pointsCount;if(0<e&&0<i){var n=this.i(0),r=t.i(0);if(n.Xa(r))return!0;if(e=this.i(e-1),t=t.i(i-1),e.Xa(t)||n.Xa(t)||e.Xa(r))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},xc.prototype.isVisible=function(){if(!wh.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,i=this.diagram;if(null!==i&&(e=i.isTreePathToChildren),null!==(i=this.fromNode)){if(this.isTreeLink&&e&&!i.isTreeExpanded)return!1;if(i===t)return!0;for(var n=i;null!==n;){if(n.labeledLink===this)return!0;n=n.containingGroup}if(null===(i=i.findVisibleNode())||i===t)return!1}if(null!==(i=this.toNode)){if(this.isTreeLink&&!e&&!i.isTreeExpanded)return!1;if(i===t)return!0;for(e=i;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=i.findVisibleNode())||e===t)return!1}return!0},xc.prototype.Yb=function(t){if(wh.prototype.Yb.call(this,t),t&&jc(this,!1),null!==this.Sf&&this.Sf.Ql(),null!==this.ud)for(var e=this.ud.iterator;e.next();)e.value.Yb(t)},xc.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?Jc:this.nk},xc.prototype.oh=function(){return!0},d.Object.defineProperties(xc.prototype,{fromNode:{get:function(){return this.df},set:function(t){var e=this.df;if(e!==t){var i=this.fromPort;null!==e&&(this.uf!==e&&ic(e,this,i),zc(this),this.D(2)),this.df=t,null!==t&&this.Yb(t.isVisible()),this.Wf=null,this.bb();var n=this.diagram;null!==n&&n.aa&&n.partManager.setFromNodeForLink(this,t,e);var r=this.fromPort,o=this.fromPortChanged;if(null!==o){var a=!0;null!==n&&(a=n.aa,n.aa=!0),o(this,i,r),null!==n&&(n.aa=a)}null!==t&&(this.uf!==t&&ec(t,this,r),Fc(this),this.D(1)),this.g("fromNode",e,t),wc(this)}}},fromPortId:{get:function(){return this.ef},set:function(t){var e=this.ef;if(e!==t){var i=this.fromPort;null!==i&&$h(i),zc(this),this.ef=t;var n=this.fromPort;null!==n&&$h(n);var r=this.diagram;if(null!==r){var o=this.data,a=r.model;null!==o&&a.ri()&&a.vv(o,t)}i!==n&&(this.Wf=null,this.bb(),null!==(o=this.fromPortChanged)&&(a=!0,null!==r&&(a=r.aa,r.aa=!0),o(this,i,n),null!==r&&(r.aa=a))),Fc(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.df;return null===t?null:t.ks(this.ef)}},fromPortChanged:{get:function(){return this.gn},set:function(t){var e=this.gn;e!==t&&(this.gn=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.uf},set:function(t){var e=this.uf;if(e!==t){var i=this.toPort;null!==e&&(this.df!==e&&ic(e,this,i),zc(this),this.D(2)),this.uf=t,null!==t&&this.Yb(t.isVisible()),this.Wf=null,this.bb();var n=this.diagram;null!==n&&n.aa&&n.partManager.setToNodeForLink(this,t,e);var r=this.toPort,o=this.toPortChanged;if(null!==o){var a=!0;null!==n&&(a=n.aa,n.aa=!0),o(this,i,r),null!==n&&(n.aa=a)}null!==t&&(this.df!==t&&ec(t,this,r),Fc(this),this.D(1)),this.g("toNode",e,t),wc(this)}}},toPortId:{get:function(){return this.vf},set:function(t){var e=this.vf;if(e!==t){var i=this.toPort;null!==i&&$h(i),zc(this),this.vf=t;var n=this.toPort;null!==n&&$h(n);var r=this.diagram;if(null!==r){var o=this.data,a=r.model;null!==o&&a.ri()&&a.Av(o,t)}i!==n&&(this.Wf=null,this.bb(),null!==(o=this.toPortChanged)&&(a=!0,null!==r&&(a=r.aa,r.aa=!0),o(this,i,n),null!==r&&(r.aa=a))),Fc(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.uf;return null===t?null:t.ks(this.vf)}},toPortChanged:{get:function(){return this.uo},set:function(t){var e=this.uo;e!==t&&(this.uo=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.ba?this.ba.Xi:ke},set:function(t){var e=this.fromSpot;e.C(t)||(t=t.J(),this.Uc(),this.ba.Xi=t,this.g("fromSpot",e,t),(e.Xc()||t.Xc())&&null!==this.fromNode&&$h(this.fromPort),this.bb())}},fromEndSegmentLength:{get:function(){return null!==this.ba?this.ba.Vi:NaN},set:function(t){var e=this.fromEndSegmentLength;e!==t&&(0>t&&_(t,">= 0",xc,"fromEndSegmentLength"),this.Uc(),this.ba.Vi=t,this.g("fromEndSegmentLength",e,t),this.bb())}},fromShortLength:{get:function(){return null!==this.ba?this.ba.Wi:NaN},set:function(t){var e=this.fromShortLength;e!==t&&(this.Uc(),this.ba.Wi=t,this.pc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.ba?this.ba.yj:ke},set:function(t){var e=this.toSpot;e.C(t)||(t=t.J(),this.Uc(),this.ba.yj=t,this.g("toSpot",e,t),(e.Xc()||t.Xc())&&null!==this.toNode&&$h(this.toPort),this.bb())}},toEndSegmentLength:{get:function(){return null!==this.ba?this.ba.wj:NaN},set:function(t){var e=this.toEndSegmentLength;e!==t&&(0>t&&_(t,">= 0",xc,"toEndSegmentLength"),this.Uc(),this.ba.wj=t,this.g("toEndSegmentLength",e,t),this.bb())}},toShortLength:{get:function(){return null!==this.ba?this.ba.xj:NaN},set:function(t){var e=this.toShortLength;e!==t&&(this.Uc(),this.ba.xj=t,this.pc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.ud&&0<this.ud.count}},labelNodes:{get:function(){return null===this.ud?K:this.ud.iterator}},relinkableFrom:{get:function(){return 0!==(1&this.Qa)},set:function(t){var e=0!==(1&this.Qa);e!==t&&(this.Qa^=1,this.g("relinkableFrom",e,t),this.Vb())}},relinkableTo:{get:function(){return 0!==(2&this.Qa)},set:function(t){var e=0!==(2&this.Qa);e!==t&&(this.Qa^=2,this.g("relinkableTo",e,t),this.Vb())}},resegmentable:{get:function(){return 0!==(4&this.Qa)},set:function(t){var e=0!==(4&this.Qa);e!==t&&(this.Qa^=4,this.g("resegmentable",e,t),this.Vb())}},isTreeLink:{get:function(){return 0!==(8&this.Qa)},set:function(t){var e=0!==(8&this.Qa);e!==t&&(this.Qa^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&nc(this.fromNode),null!==this.toNode&&nc(this.toNode))}},path:{get:function(){var t=this.rb();return t instanceof fu?t:null}},routeBounds:{get:function(){this.ug();var t=this.kl,e=1/0,i=1/0,n=this.pointsCount;if(0===n)t.h(NaN,NaN,0,0);else{if(1===n)n=this.i(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.h(n.x,n.y,0,0);else if(2===n){n=this.i(0);var r=this.i(1);e=Math.min(n.x,r.x),i=Math.min(n.y,r.y),t.h(n.x,n.y,0,0),t.Xe(r)}else if(this.computeCurve()===Xc&&3<=n&&!this.isOrthogonal)if(e=(r=this.i(0)).x,i=r.y,t.h(e,i,0,0),3===n){n=this.i(1),e=Math.min(n.x,e),i=Math.min(n.y,i);var o=this.i(2);e=Math.min(o.x,e),i=Math.min(o.y,i),We.Bl(r.x,r.y,n.x,n.y,n.x,n.y,o.x,o.y,.5,t)}else for(o=3;o<n;o+=3){var a=this.i(o-2);o+3>=n&&(o=n-1);var s=this.i(o-1),l=this.i(o);We.Bl(r.x,r.y,a.x,a.y,s.x,s.y,l.x,l.y,.5,t),e=Math.min(l.x,e),i=Math.min(l.y,i),r=l}else for(r=this.i(0),o=this.i(1),e=Math.min(r.x,o.x),i=Math.min(r.y,o.y),t.h(r.x,r.y,0,0),t.Xe(o),r=2;r<n;r++)o=this.i(r),e=Math.min(o.x,e),i=Math.min(o.y,i),t.Xe(o);this.ru.h(e-t.x,i-t.y)}return t}},midPoint:{get:function(){return this.ug(),this.computeMidPoint(new pt)}},midAngle:{get:function(){return this.ug(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.$p){this.bd||Sc(this);for(var t=this.$p=[],e=this.pointsCount,i=0;i<e-1;i++){var n=this.i(i),r=this.i(i+1);We.$(n.x,r.x)?0>(n=r.y-n.y)&&(n=-n):We.$(n.y,r.y)?0>(n=r.x-n.x)&&(n=-n):n=Math.sqrt(n.Bf(r)),t.push(n)}}return this.$p}},flattenedTotalLength:{get:function(){var t=this.st;if(isNaN(t)){for(var e=this.flattenedLengths,i=e.length,n=t=0;n<i;n++)t+=e[n];this.st=t}return t}},points:{get:function(){return this.Nb},set:function(t){var e=this.Nb;if(e!==t){var i=null;if(Array.isArray(t)){var n=0===t.length%2;if(n)for(var r=0;r<t.length;r++)if("number"!==typeof t[r]||isNaN(t[r])){n=!1;break}if(n)for(i=new Z,n=0;n<t.length/2;n++)r=new pt(t[2*n],t[2*n+1]).freeze(),i.add(r);else{for(n=!0,r=0;r<t.length;r++){var o=t[r];if(!C(o)||"number"!==typeof o.x||isNaN(o.x)||"number"!==typeof o.y||isNaN(o.y)){n=!1;break}}if(n)for(i=new Z,n=0;n<t.length;n++)r=t[n],i.add(new pt(r.x,r.y).freeze())}}else if(t instanceof Z)for(i=t.copy(),t=i.iterator;t.next();)t.value.freeze();else w("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.Nb=i,this.pc(),Sc(this),null!==(t=this.diagram)&&(t.pi||t.undoManager.isUndoingRedoing||t.xs.add(this),t.animationManager.zb&&$n(t.animationManager,this,i)),this.g("points",e,i)}}},pointsCount:{get:function(){return this.Nb.count}},bd:{get:function(){return 0!==(16&this.Qa)},set:function(t){0!==(16&this.Qa)!==t&&(this.Qa^=16)}},suspendsRouting:{get:function(){return 0!==(32&this.Qa)},set:function(t){0!==(32&this.Qa)!==t&&(this.Qa^=32)}},computingPoints:{get:function(){return 0!==(64&this.Qa)},set:function(t){0!==(64&this.Qa)!==t&&(this.Qa^=64)}},defaultFromPoint:{get:function(){return this.o},set:function(t){this.o=t.copy()}},defaultToPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},isOrthogonal:{get:function(){return 2===(2&this.qj.value)}},isAvoiding:{get:function(){return 4===(4&this.qj.value)}},jk:{get:function(){return 0!==(128&this.Qa)},set:function(t){0!==(128&this.Qa)!==t&&(this.Qa^=128)}},geometry:{get:function(){if(!this.jk){if(this.ug(),2>this.pointsCount)return this.jk=!0,this.ta;this.ta=this.makeGeometry()}return this.ta}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Pc(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!Pc(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.nk},set:function(t){var e=this.nk;e!==t&&(this.nk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.Om},set:function(t){var e=this.Om;e!==t&&(this.Om=t,this.pc(),this.g("corner",e,t))}},curve:{get:function(){return this.Qm},set:function(t){var e=this.Qm;e!==t&&(this.Qm=t,this.bb(),this.pc(),jc(this,e===qc||e===Zc||t===qc||t===Zc),this.g("curve",e,t))}},curviness:{get:function(){return this.Rm},set:function(t){var e=this.Rm;e!==t&&(this.Rm=t,this.bb(),this.pc(),this.g("curviness",e,t))}},routing:{get:function(){return this.qj},set:function(t){var e=this.qj;e!==t&&(this.qj=t,this.Wf=null,this.bb(),jc(this,2===(2&e.value)||2===(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.po},set:function(t){var e=this.po;e!==t&&(this.po=t,this.pc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.ri())return t.model.zc(this.data)}}}),xc.prototype.invalidateOtherJumpOvers=xc.prototype.Vo,xc.prototype.findClosestSegment=xc.prototype.fz,xc.prototype.updateRoute=xc.prototype.ug,xc.prototype.invalidateRoute=xc.prototype.bb,xc.prototype.rollbackRoute=xc.prototype.rv,xc.prototype.commitRoute=xc.prototype.zf,xc.prototype.startRoute=xc.prototype.th,xc.prototype.clearPoints=xc.prototype.Fj,xc.prototype.removePoint=xc.prototype.pv,xc.prototype.addPointAt=xc.prototype.yf,xc.prototype.addPoint=xc.prototype.le,xc.prototype.insertPointAt=xc.prototype.l,xc.prototype.insertPoint=xc.prototype.Lz,xc.prototype.setPointAt=xc.prototype.M,xc.prototype.setPoint=xc.prototype.$c,xc.prototype.getPoint=xc.prototype.i,xc.prototype.getOtherPort=xc.prototype.Dz,xc.prototype.getOtherNode=xc.prototype.Ro;var Hc=null,Vc=null,Wc=new z(xc,"Normal",1),Uc=new z(xc,"Orthogonal",2),Gc=new z(xc,"AvoidsNodes",6),Kc=new z(xc,"AvoidsNodesStraight",7),Yc=new z(xc,"None",0),Xc=new z(xc,"Bezier",9),qc=new z(xc,"JumpGap",10),Zc=new z(xc,"JumpOver",11),Jc=new z(xc,"End",17),Qc=new z(xc,"Scale",18),$c=new z(xc,"Stretch",19),td=new z(xc,"OrientAlong",21),ed=new z(xc,"OrientPlus90",22),id=new z(xc,"OrientMinus90",23),nd=new z(xc,"OrientOpposite",24),rd=new z(xc,"OrientUpright",25),od=new z(xc,"OrientPlus90Upright",26),ad=new z(xc,"OrientMinus90Upright",27),sd=new z(xc,"OrientUpright45",28),ld=16,ud=14,hd=8;function cd(t,e,i,n){$(this),this.Ee=this.nq=!1,this.As=t,this.Qx=e,this.cv=i,this.Rx=n,this.links=[]}function dd(t){$(this),this.$x=this.group=null,this.ss=!0,this.abort=!1,this.Kd=this.Jd=1,this.Fn=this.En=-1,this.qc=t.width,this.rc=t.height,this.ac=null,this.ei=this.di=0,this.Ls=11,this.Jx=this.Ix=22}function fd(t,e,i){return t.Jd<=e&&e<=t.En&&t.Kd<=i&&i<=t.Fn}function pd(t,e,i){return fd(t,e,i)?(e-=t.Jd,e/=t.qc,i-=t.Kd,i/=t.rc,t.ac[0|e][0|i]):Sd}function gd(t){if(null!==t.ac)for(var e=0;e<=t.di;e++)for(var i=t.ac[e],n=0;n<=t.ei;n++)i[n]>=kd&&(i[n]=Sd)}function md(t,e,i,n,r,o,a,s,l){if(!(e<o||e>a||i<s||i>l)){var u=0|e,h=0|i,c=t.ac[u][h];if(c>=kd&&c<_d)for(r?h+=n:u+=n,c+=1;o<=u&&u<=a&&s<=h&&h<=l&&!(c>=t.ac[u][h]);)t.ac[u][h]=c,c+=1,r?h+=n:u+=n;if(u=r?h:u,r)if(0<n)for(i+=n;i<u;i+=n)md(t,e,i,1,!r,o,a,s,l),md(t,e,i,-1,!r,o,a,s,l);else for(i+=n;i>u;i+=n)md(t,e,i,1,!r,o,a,s,l),md(t,e,i,-1,!r,o,a,s,l);else if(0<n)for(e+=n;e<u;e+=n)md(t,e,i,1,!r,o,a,s,l),md(t,e,i,-1,!r,o,a,s,l);else for(e+=n;e>u;e+=n)md(t,e,i,1,!r,o,a,s,l),md(t,e,i,-1,!r,o,a,s,l)}}function vd(t,e,i,n,r,o,a,s,l){e|=0,i|=0;var u=wd,h=kd;for(t.ac[e][i]=h;u===wd&&e>o&&e<a&&i>s&&i<l;)h+=1,t.ac[e][i]=h,r?i+=n:e+=n,u=t.ac[e][i]}function yd(t,e,i,n,r,o,a,s,l){e|=0,i|=0;var u=wd,h=_d;for(t.ac[e][i]=h;u===wd&&e>o&&e<a&&i>s&&i<l;)t.ac[e][i]=h,r?i+=n:e+=n,u=t.ac[e][i]}function bd(t,e,i,n,r,o,a){if(null!==t.ac){t.abort=!1;var s=e.x,l=e.y;if(fd(t,s,l)){s-=t.Jd,s/=t.qc,l-=t.Kd,l/=t.rc;var u=n.x,h=n.y;if(fd(t,u,h))if(u-=t.Jd,u/=t.qc,h-=t.Kd,h/=t.rc,1>=Math.abs(s-u)&&1>=Math.abs(l-h))t.abort=!0;else{var c=o.x;n=o.y,e=o.x+o.width;var d=o.y+o.height;c-=t.Jd,c/=t.qc,n-=t.Kd,n/=t.rc,e-=t.Jd,e/=t.qc,d-=t.Kd,d/=t.rc,o=Math.max(0,Math.min(t.di,0|c)),e=Math.min(t.di,Math.max(0,0|e)),c=Math.max(0,Math.min(t.ei,0|n)),d=Math.min(t.ei,Math.max(0,0|d)),l|=0,u|=0,h|=0;var f=0===i||90===i?1:-1;if(i=90===i||270===i,(n=t.ac)[s|=0][l]===wd?(vd(t,s,l,f,i,o,e,c,d),vd(t,s,l,1,!i,o,e,c,d),vd(t,s,l,-1,!i,o,e,c,d)):vd(t,s,l,f,i,s,l,s,l),n[u][h]===wd?(yd(t,u,h,0===r||90===r?1:-1,90===r||270===r,o,e,c,d),yd(t,u,h,1,!(90===r||270===r),o,e,c,d),yd(t,u,h,-1,!(90===r||270===r),o,e,c,d)):yd(t,u,h,f,i,u,h,u,h),i=N(),a&&xd(t,u,h,r,s,l,i))for(i[0]===u&&i[1]===h||(i.unshift(h),i.unshift(u)),i[i.length-2]===s&&i[i.length-1]===l||(i.push(s),i.push(l)),t=kd,r=i[i.length-2],a=i[i.length-1],n[r][a]=t++,o=i.length-4;0<=o;o-=2)for(r=i[o+2],a=i[o+3],e=i[o],u=i[o+1];e>r?r++:e<r?r--:u>a?a++:u<a&&a--,n[r][a]=t++,r!==e||a!==u;);else md(t,s,l,1,!1,o,e,c,d),md(t,s,l,-1,!1,o,e,c,d),md(t,s,l,1,!0,o,e,c,d),md(t,s,l,-1,!0,o,e,c,d);I(i)}}}}function xd(t,e,i,n,r,o,a){for(var s=t.ac,l=e,u=i;;){if(l===r&&u===o)return!0;var h=l,c=u;if(0===n){if(!(h<r))break;h++}else if(90===n){if(!(c<o))break;c++}else if(180===n){if(!(h>r))break;h--}else{if(!(c>o))break;c--}var d=s[h][c];if(0===d||d===Cd)break;l=h,u=c}for(;;){if(h=n,c=l,d=u,0===n?d<o?(h=90,d++):d>o&&(h=270,d--):90===n?c<r?(h=0,c++):c>r&&(h=180,c--):180===n?d<o?(h=90,d++):d>o&&(h=270,d--):c<r?(h=0,c++):c>r&&(h=180,c--),c=s[c][d],h!==n&&0!==c&&c!==Cd){if(a.push(l),a.push(u),xd(t,l,u,h,r,o,a))return!0;a.pop(),a.pop()}if(s[l][u]=Cd,0===n){if(l===e)return!1;l--}else if(90===n){if(u===i)return!1;u--}else if(180===n){if(l===e)return!1;l++}else{if(u===i)return!1;u++}}}xc.className="Link",xc.Normal=Wc,xc.Orthogonal=Uc,xc.AvoidsNodes=Gc,xc.AvoidsNodesStraight=Kc,xc.None=Yc,xc.Bezier=Xc,xc.JumpGap=qc,xc.JumpOver=Zc,xc.End=Jc,xc.Scale=Qc,xc.Stretch=$c,xc.OrientAlong=td,xc.OrientPlus90=ed,xc.OrientMinus90=id,xc.OrientOpposite=nd,xc.OrientUpright=rd,xc.OrientPlus90Upright=od,xc.OrientMinus90Upright=ad,xc.OrientUpright45=sd,xc.EndSegmentStep=8,xc.CurvinessStart=ld,xc.SpacingMin=ud,xc.OrthoShortCut=hd,cd.prototype.Ql=function(){if(!this.nq){var t=this.links;0<t.length&&(null!==(t=t[0].diagram)&&(t.mw.add(this),this.Ee=t.undoManager.isUndoingRedoing))}this.nq=!0},cd.prototype.Lv=function(){if(this.nq){this.nq=!1;var t=this.links;if(0<t.length){var e=t[0],i=e.diagram;i=null===i||i.pi&&!this.Ee,this.Ee=!1,e.arrangeBundledLinks(t,i),1===t.length&&(e.Sf=null,t.length=0)}0===t.length&&(t=this.As,null!==this&&null!==t.$e&&t.$e.remove(this),t=this.cv,null!==this&&null!==t.$e&&t.$e.remove(this))}},cd.className="LinkBundle",dd.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.Jd=Math.floor((t.x-this.qc)/this.qc)*this.qc,this.Kd=Math.floor((e-this.rc)/this.rc)*this.rc,this.En=Math.ceil((i+2*this.qc)/this.qc)*this.qc,this.Fn=Math.ceil((n+2*this.rc)/this.rc)*this.rc,t=1+(0|Math.ceil((this.En-this.Jd)/this.qc)),e=1+(0|Math.ceil((this.Fn-this.Kd)/this.rc)),null===this.ac||this.di<t-1||this.ei<e-1){for(i=[],n=0;n<=t;n++)i[n]=new Uint32Array(e);this.ac=i,this.di=t-1,this.ei=e-1}if(t=Sd,null!==this.ac)for(e=0;e<=this.di;e++)if((i=this.ac[e]).fill)i.fill(t);else for(n=0;n<=this.ei;n++)i[n]=t}},dd.prototype.Xj=function(t,e,i,n){if(t>this.En||t+i<this.Jd||e>this.Fn||e+n<this.Kd)return!0;t=(t-this.Jd)/this.qc|0,e=(e-this.Kd)/this.rc|0,i=Math.max(0,i)/this.qc+1|0;var r=Math.max(0,n)/this.rc+1|0;if(0>t&&(i+=t,t=0),0>e&&(r+=e,e=0),0>i||0>r)return!0;for(n=0|Math.min(t+i-1,this.di),i=0|Math.min(e+r-1,this.ei);t<=n;t++){r=this.ac[t];for(var o=e;o<=i;o++)if(r[o]===wd)return!1}return!0},d.Object.defineProperties(dd.prototype,{bounds:{get:function(){return new Ot(this.Jd,this.Kd,this.En-this.Jd,this.Fn-this.Kd)}},Ho:{get:function(){return this.qc},set:function(t){0<t&&t!==this.qc&&(this.qc=t,this.initialize(this.bounds))}},Go:{get:function(){return this.rc},set:function(t){0<t&&t!==this.rc&&(this.rc=t,this.initialize(this.bounds))}}});var wd=0,kd=1,_d=999999,Sd=_d+1,Cd=_d+2;function Md(){$(this),this.port=this.node=null,this.oe=[],this.Zo=!1}function Pd(t,e,i,n){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<i?270:90;case 6:return 90<i&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return i>t&&i<=180+t?180:270;case 5:return i>180-t&&i<=360-t?270:0;case 12:return i>t&&i<=180+t?90:0;case 10:return i>180-t&&i<=360-t?180:90;case 7:return 90<i&&i<=180+t?180:i>180+t&&i<=360-t?270:0;case 13:return 180<i&&i<=360-t?270:i>t&&180>=i?90:0;case 14:return i>t&&i<=180-t?90:i>180-t&&270>=i?180:0;case 11:return i>180-t&&i<=180+t?180:i>180+t?270:90}return n&&15!==e&&(0>(i-=15)&&(i+=360)),i>t&&i<180-t?90:i>=180-t&&i<=180+t?180:i>180+t&&i<360-t?270:0}function Td(t,e){var i=t.oe;if(0===i.length){t:if(!t.Zo){i=t.Zo,t.Zo=!0;var n=null,r=t.node,o=r instanceof pc?r:null;if(null===o||o.isSubGraphExpanded)var a=r.isTreeExpanded?r.findLinksConnected(t.port.portId):r.qx();else{if(!o.actualBounds.w()){t.Zo=i;break t}a=(n=o).Ju()}o=t.oe.length=0;var s=t.port.ka(Qt,pt.alloc()),l=t.port.ka(ae,pt.alloc());for((r=Ot.allocAt(s.x,s.y,0,0)).Xe(l),pt.free(s),pt.free(l),s=pt.allocAt(r.x+r.width/2,r.y+r.height/2),l=t.port.li(),a=a.iterator;a.next();){var u=a.value;if(u.isVisible()&&u.fromPort!==u.toPort){var h=u.fromPort===t.port||null!==u.fromNode&&u.fromNode.Qd(n),c=u.computeSpot(h,t.port);if(c.Xc()&&null!==(h=h?u.toPort:u.fromPort)){var d=h.part;if(null!==d){var f=d.findVisibleNode();null!==f&&f!==d&&(h=(d=f).port),h=u.computeOtherPoint(d,h),d=s.ab(h),0>(d-=l)?d+=360:360<=d&&(d-=360),0===(c=Pd(r,c,d,u.isOrthogonal))?(c=4,180<d&&(d-=360)):90===c?(c=8,270<d&&(d-=360)):180===c?c=2:(c=1,90>d&&(d+=360)),void 0===(f=t.oe[o])?(f=new Dd(u,d,c),t.oe[o]=f):(f.link=u,f.angle=d,f.Mc=c),f.hv.set(h),o++}}}}for(pt.free(s),t.oe.sort(Md.prototype.j),l=t.oe.length,n=-1,o=s=0;o<l;o++)void 0!==(a=t.oe[o])&&(a.Mc!==n&&(n=a.Mc,s=0),a.So=s,s++);for(n=-1,s=0,o=l-1;0<=o;o--)void 0!==(l=t.oe[o])&&(l.Mc!==n&&(n=l.Mc,s=l.So+1),l.El=s);if(o=t.oe,c=t.port,n=t.node.portSpreading,s=pt.alloc(),l=pt.alloc(),a=pt.alloc(),u=pt.alloc(),c.ka(Qt,s),c.ka(te,l),c.ka(ae,a),c.ka(re,u),f=d=h=c=0,n===fc)for(var p=0;p<o.length;p++){var g=o[p];if(null!==g){var m=g.link.computeThickness();switch(g.Mc){case 8:d+=m;break;case 2:f+=m;break;case 1:c+=m;break;default:h+=m}}}var v=p=0,y=1,b=g=0;for(m=0;m<o.length;m++){var x=o[m];if(null!==x){if(p!==x.Mc){switch(p=x.Mc){case 8:var w=a;v=u;break;case 2:w=u,v=s;break;case 1:w=s,v=l;break;default:w=l,v=a}switch(g=v.x-w.x,b=v.y-w.y,p){case 8:d>Math.abs(g)?(y=Math.abs(g)/d,d=Math.abs(g)):y=1;break;case 2:f>Math.abs(b)?(y=Math.abs(b)/f,f=Math.abs(b)):y=1;break;case 1:c>Math.abs(g)?(y=Math.abs(g)/c,c=Math.abs(g)):y=1;break;default:h>Math.abs(b)?(y=Math.abs(b)/h,h=Math.abs(b)):y=1}v=0}var k=x.Xo;if(n===fc){switch(x=x.link.computeThickness(),x*=y,k.set(w),p){case 8:k.x=w.x+g/2+d/2-v-x/2;break;case 2:k.y=w.y+b/2+f/2-v-x/2;break;case 1:k.x=w.x+g/2-c/2+v+x/2;break;default:k.y=w.y+b/2-h/2+v+x/2}v+=x}else{var _=.5;n===dc&&(_=(x.So+1)/(x.El+1)),k.x=w.x+g*_,k.y=w.y+b*_}}}for(pt.free(s),pt.free(l),pt.free(a),pt.free(u),w=t.oe,o=0;o<w.length;o++)null!==(n=w[o])&&(n.Hu=t.computeEndSegmentLength(n));t.Zo=i,Ot.free(r)}i=t.oe}for(t=0;t<i.length;t++)if(null!==(r=i[t])&&r.link===e)return r;return null}function Dd(t,e,i){this.link=t,this.angle=e,this.Mc=i,this.hv=new pt,this.El=this.So=0,this.Xo=new pt,this.Hu=0}function Nd(t){$(this),this.o=this.H=null,this.Gh=this.sn=!0,this.yn=!1,this.Am=new pt(0,0).freeze(),this.vn=!0,this.Em=this.un=null,this.xn=!1,this.j=null,t&&Object.assign(this,t)}function Id(t,e,i,n,r,o,a,s){for(i=i.iterator;i.next();){var l=i.value;n&&!l.isTopLevel||null!==r&&!r(l)||!l.canLayout()||(o&&l instanceof Xh?l.isLinkLabel||(l instanceof pc&&null===l.layout?Id(t,e,l.memberParts,!1,r,o,a,s):(Ed(l),e.add(l))):a&&l instanceof xc?e.add(l):!s||!l.Wc()||l instanceof Xh||(Ed(l),e.add(l)))}}function Ed(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Va()}function Ad(t){$(this),this.Qc=t,this.wf=new Q,this.xe=new Q,this.Bs=new ft,this.ws=new ft}function Od(t,e){if(null===e)return!1;var i=t.wf.remove(e);return i&&(null!==(e=e.node)&&t.Bs.remove(e)),i}function Ld(t,e){if(null!==e){t.xe.add(e);var i=e.link;null!==i&&null===t.Lo(i)&&t.ws.add(i,e),e.network=t}}function Rd(t,e){null!==e&&t.xe.remove(e)&&(null!==(e=e.link)&&t.ws.remove(e))}function jd(t,e,i){if(null!==i&&i.network!==e){Od(t,i),e.bh(i);for(var n=i.sourceEdges;n.next();){var r=n.value;r.network!==e&&(Rd(t,r),Ld(e,r),jd(t,e,r.fromVertex))}for(n=i.destinationEdges;n.next();)(i=n.value).network!==e&&(Rd(t,i),Ld(e,i),jd(t,e,i.toVertex))}}function Bd(t){$(this),this.ob=t,this.j=new Ot(0,0,10,10).freeze(),this.o=new pt(5,5).freeze(),this.Sh=this.ub=null,this.sg=new Z,this.lg=new Z}function Fd(t,e){return t=t.Sh,e=e.Sh,t?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function zd(t){$(this),this.nb=t,this.ld=this.ed=this.Yk=this.ub=null}function Hd(t){Nd.call(this),this.isViewportSized=!0,this.yo=this.zo=NaN,this.xg=new Nt(NaN,NaN).freeze(),this.tf=new Nt(10,10).freeze(),this.Kb=Ud,this.Pb=Gd,this.hd=qd,this.cd=Vd,t&&Object.assign(this,t)}function Vd(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}dd.className="PositionArray",Md.prototype.toString=function(){for(var t=this.oe,e=this.node.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},Md.prototype.Ql=function(){this.oe.length=0},Md.prototype.j=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Mc<e.Mc?-1:t.Mc>e.Mc?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Md.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.node,this.port,Jt,e.fromPort===this.port),n=t.So;if(0>n)return i;var r=t.El;if(1>=r||!e.isOrthogonal)return i;e=t.hv;var o=t.Xo;return 2!==t.Mc&&8!==t.Mc||(n=r-1-n),((t=2===t.Mc||4===t.Mc)?e.y<o.y:e.x<o.x)?i+8*n:(t?e.y===o.y:e.x===o.x)?i:i+8*(r-1-n)},Md.className="Knot",Dd.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Mc.toString()+":"+this.So.toString()+"/"+this.El.toString()+" "+this.Xo.toString()+" "+this.Hu.toString()+" "+this.hv.toString()},Dd.className="LinkInfo",Nd.prototype.cloneProtected=function(t){t.sn=this.sn,t.Gh=this.Gh,t.yn=this.yn,t.Am.assign(this.Am),t.vn=this.vn,t.un=this.un,t.Em=this.Em,t.xn=!0},Nd.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Nd.prototype.qb=function(){},Nd.prototype.toString=function(){var t=E(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Nd.prototype.D=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Bc(),this.isOngoing&&t.pi||this.isInitial&&!t.pi)&&(this.isValidLayout=!1,t.Zb())}}},Nd.prototype.createNetwork=function(){return new Ad(this)},Nd.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof Pr?(e.kg(t.nodes,!0),e.kg(t.links,!0)):t instanceof pc?e.kg(t.memberParts):e.kg(t.iterator),e},Nd.prototype.updateParts=function(){this.isValidLayout=!0;var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var i=e.value.node;if(null!==i&&null!==(t=i.diagram))break}try{null!==t&&t.Ea("Layout"),this.commitLayout()}finally{null!==t&&t.eb("Layout")}},Nd.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Nd.prototype.doLayout=function(t){var e=new Q;t instanceof Pr?(Id(this,e,t.nodes,!0,this.qh,!0,!1,!0),Id(this,e,t.parts,!0,this.qh,!0,!1,!0)):t instanceof pc?Id(this,e,t.memberParts,!1,this.qh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.Ea("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.eb("Layout")),this.isValidLayout=!0},Nd.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var i=this.arrangementOrigin.x,n=i,r=this.arrangementOrigin.y,o=0,a=0;for(t=t.iterator;t.next();){var s=t.value;Ed(s);var l=s.measuredBounds,u=l.width;l=l.height,s.moveTo(n,r),s instanceof pc&&(s.qh=!1),n+=Math.max(u,50)+20,a=Math.max(a,Math.max(l,50)),o>=e-1?(o=0,n=i,r+=a+20,a=0):o++}},Nd.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,i=e,n=this.arrangementOrigin.y,r=0,o=0,a=this.network.vertexes.iterator;a.next();){var s=a.value.node;if(!(null===s||s instanceof xc)&&(Ed(s),this.qh(s))){var l=s.measuredBounds,u=l.width;l=l.height,s.moveTo(i,n),s instanceof pc&&(s.qh=!1),i+=Math.max(u,50)+20,o=Math.max(o,Math.max(l,50)),r>=t-1?(r=0,i=e,n+=o+20,o=0):r++}}},Nd.prototype.qh=function(t){return!(t.location.w()&&!(t instanceof pc&&t.qh))},Nd.prototype.ni=function(t,e){var i=this.boundsComputation;return null!==i?(e||(e=new Ot),i(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Nd.prototype.ex=function(t){var e=new Q;return t instanceof Pr?(Id(this,e,t.nodes,!0,null,!0,!0,!0),Id(this,e,t.links,!0,null,!0,!0,!0),Id(this,e,t.parts,!0,null,!0,!0,!0)):Id(this,e,t instanceof pc?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Nd.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),null!==(e=e.placeholder)&&(i=e.ka(Qt),(isNaN(i.x)||isNaN(i.y))&&i.set(t),t=e.padding,i.x+=t.left,i.y+=t.top),i}return t},d.Object.defineProperties(Nd.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},group:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t,null!==t&&(this.H=t.diagram))}},isOngoing:{get:function(){return this.sn},set:function(t){this.sn!==t&&(this.sn=t)}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t,t||(this.xn=!0)}},isViewportSized:{get:function(){return this.yn},set:function(t){this.yn!==t&&(this.yn=t)&&this.D()}},isRouting:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t)}},isRealtime:{get:function(){return this.un},set:function(t){this.un!==t&&(this.un=t)}},isValidLayout:{get:function(){return this.xn},set:function(t){this.xn!==t&&(this.xn=t,t||null!==(t=this.diagram)&&(t.wh=!0))}},network:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.Em},set:function(t){this.Em!==t&&(this.Em=t,this.D())}},arrangementOrigin:{get:function(){return this.Am},set:function(t){this.Am.C(t)||(this.Am.assign(t),this.D())}}}),Nd.prototype.collectParts=Nd.prototype.ex,Nd.prototype.getLayoutBounds=Nd.prototype.ni,Nd.prototype.invalidateLayout=Nd.prototype.D,Nd.className="Layout",Ad.prototype.clear=function(){if(this.wf)for(var t=this.wf.iterator;t.next();)t.value.clear();if(this.xe)for(t=this.xe.iterator;t.next();)t.value.clear();this.wf=new Q,this.xe=new Q,this.Bs=new ft,this.ws=new ft},Ad.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.wf.count+" edges: "+this.xe.count,1<t){for(var i=this.wf.iterator;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.xe.iterator;i.next();)e+="\n    "+i.value.toString(t-1)}return e},Ad.prototype.createVertex=function(){return new Bd(this)},Ad.prototype.createEdge=function(){return new zd(this)},Ad.prototype.kg=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),void 0===i&&(i=null),null===i&&(i=function(t){if(t instanceof Xh)return!t.isLinkLabel;if(t instanceof xc){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&(null!==(t=t.toNode)&&!t.isLinkLabel)}return!1}),t=t.iterator;t.next();){var n=t.value;if(n instanceof Xh&&(!e||n.isTopLevel)&&n.canLayout()&&i(n))if(n instanceof pc&&null===n.layout)this.kg(n.memberParts,!1);else if(null===this.ki(n)){var r=this.createVertex();r.node=n,this.bh(r)}}for(t.reset();t.next();)if((n=t.value)instanceof xc&&(!e||n.isTopLevel)&&n.canLayout()&&i(n)&&null===this.Lo(n)){var o=n.fromNode;r=n.toNode,null!==o&&null!==r&&o!==r&&(o=this.findGroupVertex(o),r=this.findGroupVertex(r),null!==o&&null!==r&&this.Yj(o,r,n))}}},Ad.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.ki(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.ki(e)))return t;e=e.containingGroup}return null},(e=Ad.prototype).bh=function(t){if(null!==t){this.wf.add(t);var e=t.node;null!==e&&this.Bs.add(e,t),t.network=this}},e.zl=function(t){if(null===t)return null;var e=this.ki(t);return null===e&&((e=this.createVertex()).node=t,this.bh(e)),e},e.Gu=function(t){if(null!==t&&Od(this,t)){for(var e=t.sg,i=e.count-1;0<=i;i--){var n=e.L(i);this.Mj(n)}for(t=(e=t.lg).count-1;0<=t;t--)i=e.L(t),this.Mj(i)}},e.$y=function(t){null!==t&&(null!==(t=this.ki(t))&&this.Gu(t))},e.ki=function(t){return null===t?null:this.Bs.I(t)},e.Bo=function(t){if(null!==t){Ld(this,t);var e=t.toVertex;null!==e&&e.Al(t),null!==(e=t.fromVertex)&&e.xl(t)}},e.Fy=function(t){if(null===t)return null;var e=t.fromNode,i=t.toNode,n=this.Lo(t);return null===n?((n=this.createEdge()).link=t,null!==e&&(n.fromVertex=this.zl(e)),null!==i&&(n.toVertex=this.zl(i)),this.Bo(n)):(n.fromVertex=null!==e?this.zl(e):null,n.toVertex=null!==i?this.zl(i):null),n},e.Mj=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.Il(t),null!==(e=t.fromVertex)&&e.Hl(t),Rd(this,t)}},e.Zy=function(t){null!==t&&(null!==(t=this.Lo(t))&&this.Mj(t))},e.Lo=function(t){return null===t?null:this.ws.I(t)},e.Yj=function(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.Bo(n),n}return null},e.gm=function(t){if(null!==t){var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.Hl(t),i.Il(t),t.gm(),e.Al(t),i.xl(t))}},e.Ko=function(){for(var t=N(),e=this.xe.iterator;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;i<e;i++)this.Mj(t[i]);I(t)},Ad.prototype.deleteArtificialVertexes=function(){for(var t=N(),e=this.wf.iterator;e.next();){var i=e.value;null===i.node&&null===i.data&&t.push(i)}for(i=t.length,e=0;e<i;e++)this.Gu(t[e]);for(e=N(),i=this.xe.iterator;i.next();){var n=i.value;null===n.link&&null===n.data&&e.push(n)}for(i=e.length,n=0;n<i;n++)this.Mj(e[n]);I(t),I(e)},Ad.prototype.ay=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=N(),i=t.xe.iterator;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;n<i;n++)t.Mj(e[n]);I(e)}(this),this.Ko()),t=new Z;for(var e=!0;e;){e=!1;for(var i=this.wf.iterator;i.next();){var n=i.value;if(0<n.sg.count||0<n.lg.count){e=this.layout.createNetwork(),t.add(e),jd(this,e,n),e=!0;break}}}return t.sort((function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count})),t},Ad.prototype.ez=function(){for(var t=new Q,e=this.wf.iterator;e.next();)t.add(e.value.node);for(e=this.xe.iterator;e.next();)t.add(e.value.link);return t},d.Object.defineProperties(Ad.prototype,{layout:{get:function(){return this.Qc},set:function(t){null!==t&&(this.Qc=t)}},vertexes:{get:function(){return this.wf}},edges:{get:function(){return this.xe}}}),Ad.prototype.findAllParts=Ad.prototype.ez,Ad.prototype.splitIntoSubNetworks=Ad.prototype.ay,Ad.prototype.deleteSelfEdges=Ad.prototype.Ko,Ad.prototype.reverseEdge=Ad.prototype.gm,Ad.prototype.linkVertexes=Ad.prototype.Yj,Ad.prototype.findEdge=Ad.prototype.Lo,Ad.prototype.deleteLink=Ad.prototype.Zy,Ad.prototype.deleteEdge=Ad.prototype.Mj,Ad.prototype.addLink=Ad.prototype.Fy,Ad.prototype.addEdge=Ad.prototype.Bo,Ad.prototype.findVertex=Ad.prototype.ki,Ad.prototype.deleteNode=Ad.prototype.$y,Ad.prototype.deleteVertex=Ad.prototype.Gu,Ad.prototype.addNode=Ad.prototype.zl,Ad.prototype.addVertex=Ad.prototype.bh,Ad.prototype.addParts=Ad.prototype.kg,Ad.className="LayoutNetwork",Bd.prototype.clear=function(){this.Sh=this.ub=null,this.sg=new Z,this.lg=new Z},Bd.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+et(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var i=!0,n=this.sg.iterator;n.next();){var r=n.value;i?i=!1:t+=",",t+=r.toString(0)}for(r="",i=!0,n=this.lg.iterator;n.next();){i?i=!1:r+=",",r+=n.value.toString(0)}e+=" sources: "+t+" destinations: "+r}return e},Bd.prototype.commit=function(){var t=this.ub;if(null!==t){var e=this.bounds,i=t.bounds;C(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof pc)){i=Ot.alloc(),t.Va();var n=this.network.layout.ni(t,i),r=t.locationObject.ka(ie);if(n.w()&&r.w())return t.moveTo(e.x+this.focusX-(r.x-n.x),e.y+this.focusY-(r.y-n.y)),void Ot.free(i);Ot.free(i)}t.moveTo(e.x,e.y)}},Bd.prototype.Al=function(t){null!==t&&(this.sg.contains(t)||this.sg.add(t))},Bd.prototype.Il=function(t){null!==t&&this.sg.remove(t)},Bd.prototype.xl=function(t){null!==t&&(this.lg.contains(t)||this.lg.add(t))},Bd.prototype.Hl=function(t){null!==t&&this.lg.remove(t)},d.Object.defineProperties(Bd.prototype,{sourceEdgesArrayAccess:{get:function(){return this.sg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.lg._dataArray}},data:{get:function(){return this.ub},set:function(t){if(this.ub=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var i=e.y,n=e.width;e=e.height,this.o.h(n/2,e/2),this.j.h(t,i,n,e)}}},node:{get:function(){return this.Sh},set:function(t){if(this.Sh!==t){this.Sh=t,t.Va();var e=this.network.layout,i=Ot.alloc(),n=e.ni(t,i);e=n.x;var r=n.y,o=n.width;if(n=n.height,isNaN(e)&&(e=0),isNaN(r)&&(r=0),this.j.h(e,r,o,n),Ot.free(i),!(t instanceof pc)&&(t=t.locationObject.ka(ie)).w())return void this.o.h(t.x-e,t.y-r);this.o.h(o/2,n/2)}}},bounds:{get:function(){return this.j},set:function(t){this.j.C(t)||this.j.assign(t)}},focus:{get:function(){return this.o},set:function(t){this.o.C(t)||this.o.assign(t)}},centerX:{get:function(){return this.j.x+this.o.x},set:function(t){var e=this.j;e.x+this.o.x!==t&&(e.ja(),e.x=t-this.o.x,e.freeze())}},centerY:{get:function(){return this.j.y+this.o.y},set:function(t){var e=this.j;e.y+this.o.y!==t&&(e.ja(),e.y=t-this.o.y,e.freeze())}},focusX:{get:function(){return this.o.x},set:function(t){var e=this.o;e.x!==t&&(e.ja(),e.x=t,e.freeze())}},focusY:{get:function(){return this.o.y},set:function(t){var e=this.o;e.y!==t&&(e.ja(),e.y=t,e.freeze())}},x:{get:function(){return this.j.x},set:function(t){var e=this.j;e.x!==t&&(e.ja(),e.x=t,e.freeze())}},y:{get:function(){return this.j.y},set:function(t){var e=this.j;e.y!==t&&(e.ja(),e.y=t,e.freeze())}},width:{get:function(){return this.j.width},set:function(t){var e=this.j;e.width!==t&&(e.ja(),e.width=t,e.freeze())}},height:{get:function(){return this.j.height},set:function(t){var e=this.j;e.height!==t&&(e.ja(),e.height=t,e.freeze())}},network:{get:function(){return this.ob},set:function(t){this.ob=t}},sourceVertexes:{get:function(){for(var t=new Q,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new Q,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new Q,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.sg.iterator}},destinationEdges:{get:function(){return this.lg.iterator}},edges:{get:function(){for(var t=new Z,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.sg.count+this.lg.count}}}),Bd.prototype.deleteDestinationEdge=Bd.prototype.Hl,Bd.prototype.addDestinationEdge=Bd.prototype.xl,Bd.prototype.deleteSourceEdge=Bd.prototype.Il,Bd.prototype.addSourceEdge=Bd.prototype.Al,Bd.className="LayoutVertex",Bd.standardComparer=Fd,Bd.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.Sh;var i=e.Sh;if(null!==t){if(null!==i){for(e=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),t=i.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),i=0;i<e.length;i++)if(""!==t[i]&&void 0!==t[i]){var n=parseFloat(e[i]),r=parseFloat(t[i]);if(isNaN(n)){if(!isNaN(r))return 1;if(0!==e[i].localeCompare(t[i]))return e[i].localeCompare(t[i])}else{if(isNaN(r))return-1;if(0!==n-r)return n-r}}else if(""!==e[i])return 1;return""!==t[i]&&void 0!==t[i]?-1:0}return 1}return null!==i?-1:0}return 1}return null!==e?-1:0},zd.prototype.clear=function(){this.ld=this.ed=this.Yk=this.ub=null},zd.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+et(this);return 0<t&&(e+=null!==this.Yk?"("+this.Yk.toString()+")":"",1<t&&(e+=" "+(this.ed?this.ed.toString():"null")+" --\x3e "+(this.ld?this.ld.toString():"null"))),e},zd.prototype.gm=function(){var t=this.ed;this.ed=this.ld,this.ld=t},zd.prototype.commit=function(){},zd.prototype.Ax=function(t){return this.ld===t?this.ed:this.ed===t?this.ld:null},d.Object.defineProperties(zd.prototype,{network:{get:function(){return this.nb},set:function(t){this.nb=t}},data:{get:function(){return this.ub},set:function(t){this.ub!==t&&(this.ub=t)}},link:{get:function(){return this.Yk},set:function(t){this.Yk!==t&&(this.Yk=t)}},fromVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},toVertex:{get:function(){return this.ld},set:function(t){this.ld!==t&&(this.ld=t)}}}),zd.prototype.getOtherVertex=zd.prototype.Ax,zd.className="LayoutEdge",c(Hd,Nd),Hd.prototype.cloneProtected=function(t){Nd.prototype.cloneProtected.call(this,t),t.zo=this.zo,t.yo=this.yo,t.xg.assign(this.xg),t.tf.assign(this.tf),t.Kb=this.Kb,t.Pb=this.Pb,t.hd=this.hd,t.cd=this.cd},Hd.prototype.qb=function(t){t.classType===Hd?t===qd||t===Zd||t===Yd||t===Xd?this.sorting=t:t===Gd||t===Kd?this.arrangement=t:t===Ud||t===Wd?this.alignment=t:w("Unknown enum value: "+t):Nd.prototype.qb.call(this,t)},Hd.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.ex(t);t=this.diagram;for(var i=e.copy().iterator;i.next();){var n=i.value;if(!n.oh()||null===n.fromNode&&null===n.toNode){if(n.Va(),n instanceof pc)for(n=n.memberParts;n.next();)e.remove(n.value)}else e.remove(n)}var r=e.Fa();if(0!==r.length){switch(this.sorting){case Xd:r.reverse();break;case qd:r.sort(this.comparer);break;case Zd:r.sort(this.comparer),r.reverse()}var o=this.wrappingColumn;isNaN(o)&&(o=0);var a=this.wrappingWidth;switch(isNaN(a)&&null!==t?(e=t.padding,a=Math.max(t.viewportBounds.width-e.left-e.right,0)):a=Math.max(this.wrappingWidth,0),0>=o&&0>=a&&(o=1),e=this.spacing.width,isFinite(e)||(e=0),i=this.spacing.height,isFinite(i)||(i=0),null!==t&&t.Ea("Layout"),n=[],this.alignment){case Wd:var s=e,l=i,u=Ot.alloc(),h=Math.max(this.cellSize.width,1);if(!isFinite(h))for(var c=h=0;c<r.length;c++){var d=this.ni(r[c],u);h=Math.max(h,d.width)}if(h=Math.max(h+s,1),c=Math.max(this.cellSize.height,1),!isFinite(c))for(d=c=0;d<r.length;d++){var f=this.ni(r[d],u);c=Math.max(c,f.height)}c=Math.max(c+l,1),d=this.arrangement;for(var p=f=this.arrangementOrigin.x,g=this.arrangementOrigin.y,m=0,v=0,y=0;y<r.length;y++){var b=r[y],x=this.ni(b,u),w=Math.ceil((x.width+s)/h)*h,k=Math.ceil((x.height+l)/c)*c;if(d===Kd)var _=Math.abs(p-x.width);else _=p+x.width;if((0<o&&m>o-1||0<a&&0<m&&_-f>a)&&(n.push(new Ot(0,g,a+s,v)),m=0,p=f,g+=v,v=0),v=Math.max(v,k),d===Kd)x=-x.width;else x=0;if(b.moveTo(p+x,g),d===Kd)p-=w;else p+=w;m++}n.push(new Ot(0,g,a+s,v)),Ot.free(u);break;case Ud:for(l=a,h=o,c=e,d=i,a=Ot.alloc(),f=Math.max(this.cellSize.width,1),o=g=u=0,s=pt.alloc(),p=0;p<r.length;p++)v=r[p],m=this.ni(v,a),v=Mh(v,v.locationObject,v.locationSpot,s),u=Math.max(u,v.x),g=Math.max(g,m.width-v.x),o=Math.max(o,v.y);if((p=this.arrangement)===Kd)u+=c;else g+=c;f=isFinite(f)?Math.max(f+c,1):Math.max(u+g,1);var S=v=this.arrangementOrigin.x;for(y=this.arrangementOrigin.y,g=0,l>=u&&(l-=u),u=b=0,w=Math.max(this.cellSize.height,1),x=o=0,k=!0,m=pt.alloc(),_=0;_<r.length;_++){var C=r[_],M=this.ni(C,a),P=Mh(C,C.locationObject,C.locationSpot,s);if(0<g)if(p===Kd)S=(S-v-(M.width-P.x))/f,S=(S=We.$(Math.round(S),S)?Math.round(S):Math.floor(S))*f+v;else S=(S-v+P.x)/f,S=(S=We.$(Math.round(S),S)?Math.round(S):Math.ceil(S))*f+v;else if(p===Kd)b=S+P.x+M.width;else b=S-P.x;if(p===Kd)var T=-(S+P.x)+b;else T=S+M.width-P.x-b;if(0<h&&g>h-1||0<l&&0<g&&T>l){for(n.push(new Ot(0,k?y-o:y,l+c,x+o+d)),S=0;S<g&&_!==g;S++){var D=Mh(T=r[_-g+S],T.locationObject,T.locationSpot,m);T.moveTo(T.position.x,T.position.y+o-D.y)}x+=d,y=k?y+x:y+(x+o),g=x=o=0,S=v,k=!1}if(S===v&&(u=p===Kd?Math.max(u,M.width-P.x):Math.min(u,-P.x)),o=Math.max(o,P.y),x=Math.max(x,M.height-P.y),isFinite(w)&&(x=Math.max(x,Math.max(M.height,w)-P.y)),k?C.moveTo(S-P.x,y-P.y):C.moveTo(S-P.x,y),p===Kd)S-=P.x+c;else S+=M.width-P.x+c;g++}if(n.push(new Ot(0,y,l+c,(k?x:x+o)+d)),r.length!==g)for(l=0;l<g;l++)c=Mh(h=r[r.length-g+l],h.locationObject,h.locationSpot,s),h.moveTo(h.position.x,h.position.y+o-c.y);if(pt.free(s),pt.free(m),p===Kd)for(r=0;r<n.length;r++)(o=n[r]).width+=u,o.x-=u;else for(r=0;r<n.length;r++)(o=n[r]).x>u&&(o.width+=o.x-u,o.x=u);Ot.free(a)}for(s=o=a=r=0;s<n.length;s++)l=n[s],r=Math.min(r,l.x),a=Math.min(a,l.y),o=Math.max(o,l.x+l.width);this.arrangement===Kd?this.commitLayers(n,new pt(r+e/2-(o+r),a-i/2)):this.commitLayers(n,new pt(r-e/2,a-i/2)),null!==t&&t.eb("Layout"),this.isValidLayout=!0}},Hd.prototype.commitLayers=function(){},d.Object.defineProperties(Hd.prototype,{wrappingWidth:{get:function(){return this.zo},set:function(t){this.zo!==t&&(0<t||isNaN(t))&&(this.zo=t,this.isViewportSized=isNaN(t),this.D())}},wrappingColumn:{get:function(){return this.yo},set:function(t){this.yo!==t&&(0<t||isNaN(t))&&(this.yo=t,this.D())}},cellSize:{get:function(){return this.xg},set:function(t){this.xg.C(t)||(this.xg.assign(t),this.D())}},spacing:{get:function(){return this.tf},set:function(t){this.tf.C(t)||(this.tf.assign(t),this.D())}},alignment:{get:function(){return this.Kb},set:function(t){this.Kb===t||t!==Ud&&t!==Wd||(this.Kb=t,this.D())}},arrangement:{get:function(){return this.Pb},set:function(t){this.Pb===t||t!==Gd&&t!==Kd||(this.Pb=t,this.D())}},sorting:{get:function(){return this.hd},set:function(t){this.hd===t||t!==Yd&&t!==Xd&&t!==qd&&t!==Zd||(this.hd=t,this.D())}},comparer:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.cd=t,this.D())}}});var Wd=new z(Hd,"Position",0),Ud=new z(Hd,"Location",1),Gd=new z(Hd,"LeftToRight",2),Kd=new z(Hd,"RightToLeft",3),Yd=new z(Hd,"Forward",4),Xd=new z(Hd,"Reverse",5),qd=new z(Hd,"Ascending",6),Zd=new z(Hd,"Descending",7);function Jd(){this.On=new Q,this.Dn=new Q,this.Pa=new Q,this.bf=new ft,this.af=new ft,this.aj=new ft,this.H=null,this.rp=!1}function Qd(t,e,i){if(void 0!==e&&null!==e&&!t.diagram.undoManager.isUndoingRedoing&&!t.bf.contains(e)){void 0===i&&(i=!0);t:{if(void 0!==e&&null!==e&&!t.H.undoManager.isUndoingRedoing&&!t.bf.contains(e)){var n=t.Po(e),r=$d(t,e,n);if(null!==r&&(Yl(r),null!==(r=r.copy()))){var o=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,r.Tf=n,r.ub=e,t.rp&&(r.Ig="Tool"),t.diagram.add(r),r.ub=null,r.data=e,t.diagram.skipsModelSourceBindings=o,n=r;break t}}n=null}null!==n&&i&&t.resolveReferencesForData(e)}}function $d(t,e,i){var n=(t=t.H).model;return n.Wj()&&n.Yu(e)?null===(e=t.groupTemplateMap.I(i))&&(null===(e=t.groupTemplateMap.I(""))&&(sf||(sf=!0,S('No Group template found for category "'+i+'"'),S("  Using default group template")),e=t.ny)):null===(e=t.nodeTemplateMap.I(i))&&(null===(e=t.nodeTemplateMap.I(""))&&(af||(af=!0,S('No Node template found for category "'+i+'"'),S("  Using default node template")),e=t.py)),e}function tf(t,e,i){for(var n in i){var r=e[n],o=i[n];if(M(o)){if(!M(r)||r.length<o.length)return!1;for(var a=0;a<r.length;a++){var s=o[a];if(void 0!==s&&!ef(t,r[a],s))return!1}}else if(!ef(t,r,o))return!1}return!0}function ef(t,e,i){if("function"===typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(C(e)&&C(i)){if(!tf(t,e,i))return!1}else if(e!==i)return!1;return!0}function nf(t,e){var i=e.Hh;if(M(i)){var n=t.aj.I(i);if(null===n)(n=[]).push(e),t.aj.add(i,n);else{for(t=0;t<n.length;t++)if(n[t]===e)return;n.push(e)}}}function rf(t,e,i){Al(e,(function(t){for(var e=(t=t.O.s).length,n=0;n<e;n++)wo(i,t[n])}));var n=e.Hh;if(M(n)){var r=t.aj.I(n);if(null!==r)for(var o=0;o<r.length;o++)if(r[o]===e){r.splice(o,1),0===r.length&&t.aj.remove(n);break}}}function of(t,e,i,n,r){if(null===e||r&&!e.canCopy())return null;if(n.contains(e))return n.I(e);var o=t.copyPartData(e,i);if(!(o instanceof wh))return null;if(o.isSelected=!1,o.isHighlighted=!1,n.add(e,o),e instanceof Xh){for(var a=e.linksConnected;a.next();){var s=a.value;if(s.fromNode===e){var l=n.I(s);null!==l&&(l.fromNode=o)}s.toNode===e&&(null!==(s=n.I(s))&&(s.toNode=o))}if(e instanceof pc&&o instanceof pc)for(e=e.memberParts;e.next();)(a=of(t,e.value,i,n,r))instanceof xc||null===a||(a.containingGroup=o)}else if(e instanceof xc&&o instanceof xc)for(null!==(a=e.fromNode)&&(null!==(a=n.I(a))&&(o.fromNode=a)),null!==(a=e.toNode)&&(null!==(a=n.I(a))&&(o.toNode=a)),e=e.labelNodes;e.next();)null!==(a=of(t,e.value,i,n,r))&&a instanceof Xh&&(a.labeledLink=o);return o}Hd.className="GridLayout",Hd.standardComparer=Vd,Hd.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);for(var i=0;i<t.length;i++)if(""!==e[i]&&void 0!==e[i]){var n=parseFloat(t[i]),r=parseFloat(e[i]);if(isNaN(n)){if(!isNaN(r))return 1;if(0!==t[i].localeCompare(e[i]))return t[i].localeCompare(e[i])}else{if(isNaN(r))return-1;if(0!==n-r)return n-r}}else if(""!==t[i])return 1;return""!==e[i]&&void 0!==e[i]?-1:0}return 1}return null!==e?-1:0},Hd.Position=Wd,Hd.Location=Ud,Hd.LeftToRight=Gd,Hd.RightToLeft=Kd,Hd.Forward=Yd,Hd.Reverse=Xd,Hd.Ascending=qd,Hd.Descending=Zd,(e=Jd.prototype).clear=function(){this.On.clear(),this.Dn.clear(),this.Pa.clear(),this.bf.clear(),this.af.clear(),this.aj.clear()},e.We=function(t){this.H=t},e.oi=function(t){if(t instanceof Xh){if(this.On.add(t),t instanceof pc){var e=t.containingGroup;null===e?this.H.ai.add(t):e.el.add(t),null!==(e=t.layout)&&(e.diagram=this.H)}}else t instanceof xc?this.Dn.add(t):t instanceof Kh||this.Pa.add(t);null===(e=t.data)||t instanceof Kh||(t instanceof xc?this.af.add(e,t):this.bf.add(e,t))},e.oc=function(t){if(t.Ej(),t instanceof Xh){if(this.On.remove(t),t instanceof pc){var e=t.containingGroup;null===e?this.H.ai.remove(t):e.el.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof xc?this.Dn.remove(t):t instanceof Kh||this.Pa.remove(t);null===(e=t.data)||t instanceof Kh||(t instanceof xc?this.af.remove(e):this.bf.remove(e))},e.Ud=function(){var t=this.H;if(null!==t){for(var e=t.nodeTemplateMap.iterator;e.next();){var i=e.value,n=e.key;(!i.Wc()||i instanceof pc)&&w('Invalid node template in Diagram.nodeTemplateMap: template for "'+n+'" must be a Node or a simple Part, not a Group or Link: '+i)}for(e=t.groupTemplateMap.iterator;e.next();)i=e.value,n=e.key,i instanceof pc||w('Invalid group template in Diagram.groupTemplateMap: template for "'+n+'" must be a Group, not a normal Node or Link: '+i);for(e=t.linkTemplateMap.iterator;e.next();)i=e.value,n=e.key,i instanceof xc||w('Invalid link template in Diagram.linkTemplateMap: template for "'+n+'" must be a Link, not a normal Node or simple Part: '+i);for(e=N(),i=t.selection.iterator;i.next();)(n=i.value.data)&&e.push(n);for(i=N(),t=t.highlighteds.iterator;t.next();)(n=t.value.data)&&i.push(n);for(t=N(),n=this.nodes.iterator;n.next();){var r=n.value;null!==r.data&&(t.push(r.data),t.push(r.location))}for(n=this.links.iterator;n.next();)null!==(r=n.value).data&&(t.push(r.data),t.push(r.location));for(n=this.parts.iterator;n.next();)null!==(r=n.value).data&&(t.push(r.data),t.push(r.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),n=0;n<e.length;n++)null!==(r=this.Kc(e[n]))&&(r.isSelected=!0);for(n=0;n<i.length;n++)null!==(r=this.Kc(i[n]))&&(r.isHighlighted=!0);for(n=0;n<t.length;n+=2)null!==(r=this.Kc(t[n]))&&(r.location=t[n+1]);I(e),I(i),I(t)}},Jd.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Jd.prototype.addModeledParts=function(t,e){var i=this,n=this.diagram.model;t.forEach((function(t){n.lb(t)&&Qd(i,t,!1)})),t.forEach((function(t){n.lb(t)&&i.resolveReferencesForData(t)})),!1!==e&&So(this.diagram,!1)},Jd.prototype.insertLink=function(){return null},Jd.prototype.resolveReferencesForData=function(){},Jd.prototype.Po=function(t){return this.H.model.Po(t)},Jd.prototype.getLinkCategoryForData=function(){return""},Jd.prototype.setLinkCategoryForData=function(){},Jd.prototype.setFromNodeForLink=function(){},Jd.prototype.setToNodeForLink=function(){},Jd.prototype.findLinkTemplateForCategory=function(t){var e=this.H,i=e.linkTemplateMap.I(t);return null===i&&(null===(i=e.linkTemplateMap.I(""))&&(lf||(lf=!0,S('No Link template found for category "'+t+'"'),S("  Using default link template")),i=e.oy)),i},Jd.prototype.removeAllModeledParts=function(){this.Ds(this.diagram.model.nodeDataArray)},Jd.prototype.Ds=function(t){var e=this;t.forEach((function(t){e.gp(t)}))},Jd.prototype.gp=function(t){null!==(t=this.Kc(t))&&(ao(this.diagram,t,!1),this.unresolveReferencesForPart(t))},Jd.prototype.unresolveReferencesForPart=function(){},Jd.prototype.removeDataForLink=function(){},Jd.prototype.findPartForKey=function(t){return null===t||void 0===t?null:null!==(t=this.H.model.gc(t))?this.bf.I(t):null},Jd.prototype.Ub=function(t){return null===t||void 0===t||null===(t=this.H.model.gc(t))?null:(t=this.bf.I(t))instanceof Xh?t:null},Jd.prototype.findLinkForKey=function(){return null},(e=Jd.prototype).Kc=function(t){if(null===t)return null;var e=this.bf.I(t);return null!==e?e:e=this.af.I(t)},e.ii=function(t){return null===t?null:(t=this.bf.I(t))instanceof Xh?t:null},e.Jc=function(t){return null===t?null:this.af.I(t)},e.js=function(t){for(var e=0;e<arguments.length;++e);e=new Q;for(var i=this.On.iterator;i.next();){var n=i.value,r=n.data;if(null!==r)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(C(a)&&tf(this,r,a)){e.add(n);break}}}return e.iterator},e.hs=function(t){for(var e=0;e<arguments.length;++e);e=new Q;for(var i=this.Dn.iterator;i.next();){var n=i.value,r=n.data;if(null!==r)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(C(a)&&tf(this,r,a)){e.add(n);break}}}return e.iterator},Jd.prototype.doModelChanged=function(t){if(this.H){var e=this.H;if(t.model===e.model){var i=t.change;if(e.doModelChanged(t),e.aa){e.aa=!1;try{var n=t.modelChange;if(""!==n)if(i===di){if("nodeCategory"===n){var r=this.Kc(t.object),o=t.newValue;null!==r&&"string"===typeof o&&(r.category=o)}else"nodeDataArray"===n&&(this.Ds(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(i===fi){var a=t.newValue;"nodeDataArray"===n&&C(a)&&Qd(this,a),e.isModified=!0}else if(i===pi){var s=t.oldValue;"nodeDataArray"===n&&C(s)&&this.gp(s),e.isModified=!0}else i===ci&&("SourceChanged"===n?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.pp(),this.updateAllTargetBindings()):"ModelDisplaced"===n&&this.Ud());else if(i===di){var l=t.propertyName,u=t.object;u===e.model?"nodeKeyProperty"!==l&&"nodeCategoryProperty"!==l||e.undoManager.isUndoingRedoing||this.Ud():this.updateDataBindings(u,l),e.isModified=!0}else if(i===fi||i===pi){var h=t.change===fi,c=h?t.newParam:t.oldParam,d=h?t.newValue:t.oldValue,f=this.aj.I(t.object);if(Array.isArray(f))for(t=0;t<f.length;t++){var p=f[t];if(h)Zl(p,d,c,!0);else if(!(0>c)){var g=c+Xl(p);p.oc(g,!0),Jl(p,g,c)}}e.isModified=!0}}finally{e.aa=!0}}}}},Jd.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ma(t);for(e=this.nodes.iterator;e.next();)e.value.Ma(t);for(e=this.links.iterator;e.next();)e.value.Ma(t)},Jd.prototype.pp=function(){for(var t=this.H.model,e=new Q,i=t.nodeDataArray,n=0;n<i.length;n++)e.add(i[n]);var r=[];for(this.nodes.each((function(t){null===t.data||e.contains(t.data)||r.push(t.data)})),this.parts.each((function(t){null===t.data||e.contains(t.data)||r.push(t.data)})),r.forEach((function(e){Df(t,e,!1)})),n=0;n<i.length;n++){var o=i[n];null===this.Kc(o)&&Tf(t,o,!1)}for(this.refreshDataBoundLinks(),i=this.parts.iterator;i.next();)i.value.updateRelationshipsFromData();for(i=this.nodes.iterator;i.next();)i.value.updateRelationshipsFromData();for(i=this.links.iterator;i.next();)i.value.updateRelationshipsFromData()},Jd.prototype.refreshDataBoundLinks=function(){},Jd.prototype.updateRelationshipsFromData=function(){},Jd.prototype.updateDataBindings=function(t,e){if("string"===typeof e){var i=this.Kc(t);if(null!==i)i.Ma(e);else{i=null;for(var n=this.aj.iterator;n.next();){for(var r=n.value,o=0;o<r.length;o++){var a=r[o].sx(t);null!==a&&(null===i&&(i=N()),i.push(a))}if(null!==i)break}if(null!==i){for(n=0;n<i.length;n++)i[n].Ma(e);I(i)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},Jd.prototype.Kj=function(t,e,i){void 0===i&&(i=!1);var n=new ft;if(M(t))for(var r=0;r<t.length;r++)of(this,t[r],e,n,i);else for(t=t.iterator;t.next();)of(this,t.value,e,n,i);if(null!==e){i=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.Wm.dragsLink,r=new Q;for(var o=new ft,a=n.iterator;a.next();){var s=a.value;if(s instanceof xc)t||null!==s.fromNode&&null!==s.toNode||r.add(s);else if(s instanceof Xh&&null!==s.data&&i.Sl()){var l=s,u=(s=a.key).og();null!==u&&(null!==(u=n.I(u))?(i.pe(l.data,i.va(u.data)),l=e.Jc(l.data),null!==(s=s.jh())&&null!==l&&o.add(s,l)):i.pe(l.data,void 0))}}if(0<r.count&&e.Fs(r,!1),0<o.count)for(i=o.iterator;i.next();)n.add(i.key,i.value)}if(null!==e&&null!==this.H&&null!==(i=(e=e.model).afterCopyFunction)){var h=new ft;n.each((function(t){null!==t.key.data&&h.add(t.key.data,t.value.data)})),i(h,e,this.H.model)}for(e=n.iterator;e.next();)e.value.Ma();return n},Jd.prototype.copyPartData=function(t,e){var i=null,n=t.data;if(null!==n&&null!==e){var r=e.model;t instanceof xc||C(n=r.copyNodeData(n))&&(r.xf(n),i=e.Kc(n))}else Yl(t),null!==(i=t.copy())&&(r=this.H,null!==e?e.add(i):null!==n&&null!==r&&null!==r.commandHandler&&r.commandHandler.copiesClipboardData&&(e=r.model,r=null,i instanceof xc||(r=e.copyNodeData(n)),C(r)&&(i.data=r)));return i},d.Object.defineProperties(Jd.prototype,{nodes:{get:function(){return this.On}},links:{get:function(){return this.Dn}},parts:{get:function(){return this.Pa}},diagram:{get:function(){return this.H}},addsToTemporaryLayer:{get:function(){return this.rp},set:function(t){this.rp=t}}}),Jd.prototype.updateAllRelationshipsFromData=Jd.prototype.pp,Jd.prototype.findLinksByExample=Jd.prototype.hs,Jd.prototype.findNodesByExample=Jd.prototype.js,Jd.prototype.findLinkForData=Jd.prototype.Jc,Jd.prototype.findNodeForData=Jd.prototype.ii,Jd.prototype.findPartForData=Jd.prototype.Kc,Jd.prototype.findNodeForKey=Jd.prototype.Ub,Jd.prototype.removeModeledPart=Jd.prototype.gp,Jd.prototype.removeModeledParts=Jd.prototype.Ds,Jd.prototype.rebuildParts=Jd.prototype.Ud;var af=!1,sf=!1,lf=!1;function uf(t){Jd.apply(this,arguments)}function hf(t,e){e.forEach((function(e){cf(t,e)})),So(t.diagram,!1)}function cf(t,e){if(void 0!==e&&null!==e&&!t.diagram.undoManager.isUndoingRedoing&&!t.af.contains(e)){var i=t.getLinkCategoryForData(e),n=t.findLinkTemplateForCategory(i);if(null!==n){Yl(n);var r=n.copy();if(null!==r){n=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,r.Tf=i,r.ub=e;var o=Zf(i=t.diagram.model,e,!0);""!==o&&(r.fromPortId=o),void 0!==(o=Xf(i,e,!0))&&((o=t.Ub(o))instanceof Xh&&(r.fromNode=o)),""!==(o=Zf(i,e,!1))&&(r.toPortId=o),void 0!==(o=Xf(i,e,!1))&&((o=t.Ub(o))instanceof Xh&&(r.toNode=o)),i=i.Ef(e),Array.isArray(i)&&i.forEach((function(e){null!==(e=t.Ub(e))&&(e.labeledLink=r)})),t.rp&&(r.Ig="Tool"),t.diagram.add(r),r.ub=null,r.data=e,t.diagram.skipsModelSourceBindings=n}}}}function df(t,e){e.forEach((function(e){t.gp(e)}))}function ff(){Jd.apply(this,arguments),this.Rg=null}function pf(t,e,i){if(null!==e&&null!==i&&null===i.jh()){var n=t.diagram.toolManager.findTool("Linking"),r=e,o=i;if(t.diagram.isTreePathToChildren||(r=i,o=e),(null===n||!Zi(n,r,o,null,!0))&&(e=t.getLinkCategoryForData(i.data),null!==(n=t.findLinkTemplateForCategory(e))&&(Yl(n),null!==(n=n.copy())))){var a=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,n.Tf=e,n.ub=i.data,n.fromNode=r,n.toNode=o,t.diagram.add(n),n.ub=null,n.data=i.data,t.diagram.skipsModelSourceBindings=a}}}function gf(t,e){this.il=new Q,this.gl=new Q,this.Uv=',\n  "insertedNodeKeys": ',this.ly=',\n  "modifiedNodeData": ',this.Wv=',\n  "removedNodeKeys": ',this.uh=null,$(this),this.Sm=this.wa="",this.Fg=!1,this.j={},this.Rc=[],this.kb=new ft,this.Th="key",this.zk=this.$k=null,this.Jm=this.Km=!1,this.Mm=!0,this.xm=null,this.lj="category",this.Vf=new ft,this.It=new Z,this.Vg=!1,this.o=null,this.undoManager=new mi,void 0!==t&&(M(t)?this.nodeDataArray=t:e=t),e&&(Object.assign(this,e),t=e.Changed)&&(delete this.Changed,this.Oe(t))}function mf(t,e,i,n,r,o){function a(t,i){s?(void 0===t.__gohashid&&o.push(t),n.set(t,i)):(t=st++,n.set(t,i),r.set(t,e))}if(!C(e))return e;o||(o=[]);var s=Object.isExtensible(e);if(n||(n=new ft),s){var l=n.get(e);if(l)return l}else for(r||(r=new ft),l=r.iterator;l.next();){var u=l.key;if(l.value===e&&(u=n.get(u)))return u}if(Array.isArray(e)){a(e,l=[]);for(var h=0;h<e.length;h++)l.push(mf(t,e[h],!1,n,r,o))}else if(e instanceof pt||e instanceof Nt||e instanceof Ot||e instanceof Xt||e instanceof Re)l=e.copy(),a(e,l);else{if(e instanceof Ls||e instanceof Ue||e instanceof z)return e;if(e instanceof Z)l=(new Z).addAll(mf(t,e.Fa(),!1,n,r,o)),a(e,l);else if(e instanceof Q)l=(new Q).addAll(mf(t,e.Fa(),!1,n,r,o)),a(e,l);else if(e instanceof ft)l=(new ft).addAll(mf(t,e.Fa(),!1,n,r,o)),a(e,l);else if(e instanceof Date)l=new Date(e.getTime()),a(e,l);else if(e instanceof RegExp)l=new RegExp(e),a(e,l),l.lastIndex=e.lastIndex;else if("function"===typeof e.copy)l=e.copy(),a(e,l);else for(h in a(e,l={}),e)"__gohashid"!==h&&(l[h]=mf(t,e[h],!1,n,r,o))}return i&&o.forEach((function(t){delete t.__gohashid})),l}function vf(t,e){C(e=e.modelData)&&(t.dm(e),t.modelData=e)}function yf(t,e){function i(t,e){if((e=e.part)&&t!==(e=e.data)){var i=n.get(t);null===i?((i=new Q).add(e),n.add(t,i)):i.add(e)}}var n=t.uh;null===n&&(n=new ft,e.changes.each((function(t){if(null!==t.diagram){var e=t.change;e===di?(t=t.object.panel)&&(e=t.data)&&i(e,t):e!==fi&&e!==pi||(e=(t=t.object).itemArray)&&i(e,t)}})),t.uh=n)}function bf(t,e){for(var i=new Q,n=0;n<t.nodeDataArray.length;n++){var r=t.nodeDataArray[n];xf(t,e,r,r,i)}return i}function xf(t,e,i,n,r){if(Array.isArray(i))for(var o=0;o<i.length;o++){var a=i[o];if(a===e)return r.add(n),!0;if(xf(t,e,a,n,r))return!0}else if(C(i)&&Object.getPrototypeOf(i)===Object.prototype)for(o in i){if((a=i[o])===e)return r.add(n),!0;if(xf(t,e,a,n,r))return!0}return!1}function wf(t,e,i){void 0===i&&(i=!1);var n=e.length;if(0>=n)return"[]";var r=new V;r.add("["),i&&1<n&&r.add("\n");for(var o=0;o<n;o++){var a=e[o];void 0!==a&&(0<o&&(r.add(","),i&&r.add("\n")),r.add(t.sm(a)))}return i&&1<n&&r.add("\n"),r.add("]"),r.toString()}function kf(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"===typeof e}function _f(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function Sf(t,e){var i=e;if(i instanceof pt)e={class:"go.Point",x:_f(i.x),y:_f(i.y)};else if(i instanceof Nt)e={class:"go.Size",width:_f(i.width),height:_f(i.height)};else if(i instanceof Ot)e={class:"go.Rect",x:_f(i.x),y:_f(i.y),width:_f(i.width),height:_f(i.height)};else if(i instanceof Xt)e={class:"go.Margin",top:_f(i.top),right:_f(i.right),bottom:_f(i.bottom),left:_f(i.left)};else if(i instanceof Re)e=i.sb()?{class:"go.Spot",x:_f(i.x),y:_f(i.y),offsetX:_f(i.offsetX),offsetY:_f(i.offsetY)}:{class:"go.Spot",enum:i.toString()};else if(i instanceof Ls){if(e={class:"go.Brush",type:i.type.name},i.type===qs?e.color=i.color:i.type!==Zs&&i.type!==Js||(e.start=i.start,e.end=i.end,i.type===Js&&(0!==i.startRadius&&(e.startRadius=_f(i.startRadius)),isNaN(i.endRadius)||(e.endRadius=_f(i.endRadius)))),null!==i.colorStops){var n={};for(i=i.colorStops.iterator;i.next();)n[i.key]=i.value;e.colorStops=n}}else i instanceof Ue?(e={class:"go.Geometry",type:i.type.name},0!==i.startX&&(e.startX=_f(i.startX)),0!==i.startY&&(e.startY=_f(i.startY)),0!==i.endX&&(e.endX=_f(i.endX)),0!==i.endY&&(e.endY=_f(i.endY)),i.spot1.C(Qt)||(e.spot1=i.spot1),i.spot2.C(ae)||(e.spot2=i.spot2),i.type===Ue.o&&(e.path=Ue.ga(i))):i instanceof z&&(e={class:"go.EnumValue",classType:Lf(t,i.classType),name:i.name});for(var r in n="{",i=!0,e){var o=jf(e,r);if(!kf(r,o))if(i?i=!1:n+=",",n+=t.quote(r)+":","points"===r&&o instanceof Z){var a="[";for(o=o.iterator;o.next();){var s=o.value;1<a.length&&(a+=","),a+=t.sm(s.x),a+=",",a+=t.sm(s.y)}n+=a+="]"}else n+=t.sm(o)}return n+"}"}function Cf(t){return"number"===typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function Mf(t,e,i,n,r,o,a,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var u=new hi;u.model=t,u.change=i,u.modelChange=e,u.propertyName=n,u.object=r,u.oldValue=o,u.oldParam=s,u.newValue=a,u.newParam=l,t.$r(u)}function Pf(t){return"number"===typeof t||"string"===typeof t}function Tf(t,e,i){var n=t.va(e);void 0!==n&&t.kb.I(n)===e||(t.$u(e),void 0===(n=t.va(e))&&w("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."),t.kb.add(n,e),n=null,i&&(n=t.Rc.length,T(t.Rc,n,e)),Mf(t,"nodeDataArray",fi,"nodeDataArray",t,null,e,null,n),t.fm(e),t.em(e))}function Df(t,e,i){var n=t.va(e);if(void 0!==n&&t.kb.remove(n),n=null,i){t:if(i=t.Rc,Array.isArray(i))n=i.indexOf(e);else{n=i.length;for(var r=0;r<n;r++)if(i[r]===e){n=r;break t}n=-1}if(0>n)return;D(t.Rc,n)}Mf(t,"nodeDataArray",pi,"nodeDataArray",t,e,null,n,null),t.op(e)}function Nf(t,e,i){if(void 0!==e){var n=t.Vf.I(e);null===n&&(n=new Q,t.Vf.add(e,n)),n.add(i)}}function If(t,e,i){if(void 0!==e){var n=t.Vf.I(e);n instanceof Q&&(void 0===i||null===i?t.Vf.remove(e):(n.remove(i),0===n.count&&t.Vf.remove(e)))}}function Ef(t,e){return void 0===e?null:(t=t.Vf.I(e))instanceof Q?t:null}function Af(t,e,i){if(t.copiesArrays&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var r=Af(t,e[i],t.copiesArrayObjects);n.push(r)}return $(n),n}if(i&&C(e)){for(n in i=(i=e.constructor)?new i:{},r=t.copiesKey||"string"!==typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===n)i.__gohashid=void 0;else if(n===r)i[r]=void 0;else{var o=jf(e,n),a=Lf(t,o);"GraphObject"===a||"Diagram"===a||"Layer"===a||"RowColumnDefinition"===a||"AnimationManager"===a||"Tool"===a||"CommandHandler"===a||"Layout"===a||"InputEvent"===a||"DiagramEvent"===a||o instanceof gf||o instanceof mi||o instanceof gi||o instanceof hi||(o=Af(t,o,!1)),Bf(i,n,o)}return $(i),i}return e instanceof pt||e instanceof Nt||e instanceof Ot||e instanceof Re||e instanceof Xt?e.copy():e}function Of(){return new gf}function Lf(t,e){if("function"===typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"===typeof e&&null!==e&&e.constructor)return Lf(t,e.constructor);return typeof e}function Rf(t){return zf[t]?zf[t]:void 0!==m.go&&m.go[t]?m.go[t]:null}function jf(t,e){if(!t||!e)return null;try{if("function"===typeof e)var i=e(t);else"function"===typeof t.getAttribute?null===(i=t.getAttribute(e))&&(i=void 0):i=t[e]}catch(n){}return i}function Bf(t,e,i){if(t&&e)try{"function"===typeof e?e(t,i):"function"===typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(n){}}Jd.className="PartManager",c(uf,Jd),uf.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),hf(this,t.linkDataArray)},uf.prototype.addModeledParts=function(t){for(Jd.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)wc(t.value);So(this.diagram,!1)},uf.prototype.removeAllModeledParts=function(){var t=this.diagram.model;df(this,t.linkDataArray),this.Ds(t.nodeDataArray)},uf.prototype.getLinkCategoryForData=function(t){return this.diagram.model.ms(t)},uf.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.jp(t,e)},uf.prototype.setFromNodeForLink=function(t,e){var i=this.diagram.model;i.uv(t.data,i.va(null!==e?e.data:null))},uf.prototype.setToNodeForLink=function(t,e){var i=this.diagram.model;i.zv(t.data,i.va(null!==e?e.data:null))},uf.prototype.removeDataForLink=function(t){this.diagram.model.bm(t.data)},uf.prototype.findPartForKey=function(t){var e=Jd.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.ih(t))?this.af.I(t):e},uf.prototype.findLinkForKey=function(t){return null===t||void 0===t?null:null!==(t=this.diagram.model.ih(t))?this.af.I(t):null},uf.prototype.doModelChanged=function(t){var e=this;if(Jd.prototype.doModelChanged.call(this,t),this.diagram){var i=this.diagram;if(t.model===i.model){var n=t.change;if(i.aa){i.aa=!1;try{var r=t.modelChange;if(""!==r){if(n===di){if("linkFromKey"===r){var o=this.Jc(t.object);if(null!==o){var a=this.Ub(t.newValue);o.fromNode=a}}else if("linkToKey"===r){var s=this.Jc(t.object);if(null!==s){var l=this.Ub(t.newValue);s.toNode=l}}else if("linkFromPortId"===r){var u=this.Jc(t.object);if(null!==u){var h=t.newValue;"string"===typeof h&&(u.fromPortId=h)}}else if("linkToPortId"===r){var c=this.Jc(t.object);if(null!==c){var d=t.newValue;"string"===typeof d&&(c.toPortId=d)}}else if("nodeGroupKey"===r){var f=this.Kc(t.object);if(null!==f){var p=t.newValue;if(void 0!==p){var g=this.Ub(p);f.containingGroup=g instanceof pc?g:null}else f.containingGroup=null}}else if("linkLabelKeys"===r){var m=this.Jc(t.object);if(null!==m){var v=t.oldValue,y=t.newValue;Array.isArray(v)&&v.forEach((function(t){0<=y.indexOf(t)||null!==(t=e.Ub(t))&&(t.labeledLink=null)})),Array.isArray(y)&&y.forEach((function(t){null!==(t=e.Ub(t))&&(t.labeledLink=m)}))}}else if("linkCategory"===r){var b=this.Jc(t.object),x=t.newValue;null!==b&&"string"===typeof x&&(b.category=x)}else"linkDataArray"===r&&(df(this,t.oldValue),hf(this,t.newValue));i.isModified=!0}else if(n===fi){var w=t.newValue;if("linkDataArray"===r&&"object"===typeof w&&null!==w)cf(this,w);else if("linkLabelKeys"===r&&Pf(w)){var k=this.Jc(t.object),_=this.Ub(w);null!==k&&null!==_&&(_.labeledLink=k)}i.isModified=!0}else if(n===pi){var S=t.oldValue;if("linkDataArray"===r&&"object"===typeof S&&null!==S)this.gp(S);else if("linkLabelKeys"===r&&Pf(S)){var C=this.Ub(S);null!==C&&(C.labeledLink=null)}i.isModified=!0}}else if(n===di){var M=t.propertyName;t.object!==i.model||"linkFromKeyProperty"!==M&&"linkToKeyProperty"!==M&&"linkFromPortIdProperty"!==M&&"linkToPortIdProperty"!==M&&"linkLabelKeysProperty"!==M&&"nodeIsGroupProperty"!==M&&"nodeGroupKeyProperty"!==M&&"linkCategoryProperty"!==M||i.undoManager.isUndoingRedoing||this.Ud(),i.isModified=!0}}finally{i.aa=!0}}}}},uf.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,i=new Q,n=e.linkDataArray;n.forEach((function(t){i.add(t)}));var r=[];this.links.each((function(t){null===t.data||i.contains(t.data)||r.push(t.data)})),r.forEach((function(t){$f(e,t,!1)})),n.forEach((function(i){null===t.Jc(i)&&Qf(e,i,!1)}))},uf.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var i=t.diagram;if(null!==i){var n=i.model;if(t instanceof xc){var r=Xf(n,e,!0);if(r=i.Ub(r),t.fromNode=r,r=Xf(n,e,!1),r=i.Ub(r),t.toNode=r,0<(e=n.Ef(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){r=e[0];var o=t.labelNodes.first();if(n.va(o.data)===r)return}r=(new Q).addAll(e);var a=new Q;t.labelNodes.each((function(t){null!==t.data&&(void 0!==(t=n.va(t.data))&&a.add(t))})),(e=a.copy()).fp(r),(r=r.copy()).fp(a),(0<e.count||0<r.count)&&(e.each((function(e){null!==(e=i.Ub(e))&&e.labeledLink===t&&(e.labeledLink=null)})),r.each((function(e){null!==(e=i.Ub(e))&&e.labeledLink!==t&&(e.labeledLink=t)})))}}else!(t instanceof Kh)&&(e=n.kh(e),null===(e=i.findPartForKey(e))||e instanceof pc)&&(t.containingGroup=e)}}},uf.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,i=e.va(t);if(void 0!==i){var n=Ef(e,i),r=this.Kc(t);if(null!==n&&null!==r){n=n.iterator;for(var o={};n.next();){var a=n.value;e.lb(a)?r instanceof pc&&e.kh(a)===i&&(null!==(a=this.Kc(a))&&(a.containingGroup=r)):(o.link=this.Jc(a),null!==o.link&&r instanceof Xh&&(Xf(e,a,!0)===i&&(o.link.fromNode=r),Xf(e,a,!1)===i&&(o.link.toNode=r),a=e.Ef(a),Array.isArray(a)&&a.some(function(t){return function(e){return e===i&&(r.labeledLink=t.link,!0)}}(o)))),o={link:o.link}}If(e,i)}void 0!==(t=e.kh(t))&&((t=this.Ub(t))instanceof pc&&(r.containingGroup=t))}},uf.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Xh){var i=e.va(t.data);if(void 0!==i){for(var n=t.linksConnected;n.next();)Nf(e,i,n.value.data);if(t.isLinkLabel&&(null!==(n=t.labeledLink)&&Nf(e,i,n.data)),t instanceof pc)for(t=t.memberParts;t.next();)n=t.value.data,e.lb(n)&&Nf(e,i,n)}}},uf.prototype.copyPartData=function(t,e){var i=Jd.prototype.copyPartData.call(this,t,e);if(t instanceof xc)if(null!==(t=t.data)&&null!==e){var n=e.model;"object"===typeof(t=n.Jo(t))&&null!==t&&(n.fi(t),i=e.Jc(t))}else null!==i&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&("object"===typeof(e=e.model.Jo(t))&&null!==e&&(i.data=e)));return i},uf.prototype.insertLink=function(t,e,i,n){var r=this.diagram,o=r.model,a=r.toolManager.findTool("Linking"),s="";if(null!==t&&(null===e&&(e=t),null===(s=e.portId)&&(s="")),e="",null!==i&&(null===n&&(n=i),null===(e=n.portId)&&(e="")),(n=a.archetypeLinkData)instanceof xc){if(Yl(n),null!==(o=n.copy()))return o.fromNode=t,o.fromPortId=s,o.toNode=i,o.toPortId=e,r.add(o),(t=a.archetypeLabelNodeData)instanceof Xh&&(Yl(t),null!==(t=t.copy())&&(t.labeledLink=o,r.add(t))),o}else if(null!==n&&("object"===typeof(n=o.Jo(n))&&null!==n))return null!==t&&qf(o,n,o.va(t.data),!0),Jf(o,n,s,!0),null!==i&&qf(o,n,o.va(i.data),!1),Jf(o,n,e,!1),o.fi(n),null===(t=a.archetypeLabelNodeData)||t instanceof Xh||"object"===typeof(t=o.copyNodeData(t))&&null!==t&&(o.xf(t),void 0!==(t=o.va(t))&&o.Au(n,t)),r.Jc(n);return null},uf.prototype.findLinkForKey=uf.prototype.findLinkForKey,uf.prototype.findPartForKey=uf.prototype.findPartForKey,uf.prototype.removeAllModeledParts=uf.prototype.removeAllModeledParts,uf.prototype.addModeledParts=uf.prototype.addModeledParts,uf.prototype.addAllModeledParts=uf.prototype.addAllModeledParts,uf.className="GraphLinksPartManager",c(ff,Jd),ff.prototype.getLinkCategoryForData=function(t){return this.diagram.model.ps(t)},ff.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.Js(t,e)},ff.prototype.setFromNodeForLink=function(t,e,i){var n=this.diagram.model;if(void 0===i&&(i=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)n.pe(t.data,n.va(e));else{var r=this.Rg;this.Rg=t,null!==i&&n.pe(i.data,void 0),n.pe(e,n.va(null!==t.toNode?t.toNode.data:null)),this.Rg=r}},ff.prototype.setToNodeForLink=function(t,e,i){var n=this.diagram.model;if(void 0===i&&(i=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var r=this.Rg;this.Rg=t,null!==i&&n.pe(i.data,void 0),n.pe(e,n.va(null!==t.fromNode?t.fromNode.data:null)),this.Rg=r}else n.pe(t.data,n.va(e))},ff.prototype.removeDataForLink=function(t){this.diagram.model.pe(t.data,void 0)},ff.prototype.findLinkForKey=function(t){return null===t||void 0===t?null:null!==(t=this.diagram.model.gc(t))?this.af.I(t):null},ff.prototype.doModelChanged=function(t){if(Jd.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var i=t.change;if(e.aa){e.aa=!1;try{var n=t.modelChange;if(""!==n){if(i===di){if("nodeParentKey"===n){var r=t.object,o=this.Ub(t.newValue),a=this.ii(r);if(null!==this.Rg)null!==o&&(this.Rg.data=r,this.Rg.category=this.getLinkCategoryForData(r));else if(null!==a){var s=a.jh();null!==s?null===o?e.remove(s):e.isTreePathToChildren?s.fromNode=o:s.toNode=o:pf(this,o,a)}}else if("parentLinkCategory"===n){var l=this.ii(t.object),u=t.newValue;if(null!==l&&"string"===typeof u){var h=l.jh();null!==h&&(h.category=u)}}e.isModified=!0}}else if(i===di){var c=t.propertyName;t.object===e.model&&"nodeParentKeyProperty"===c&&(e.undoManager.isUndoingRedoing||this.Ud()),e.isModified=!0}}finally{e.aa=!0}}}}},ff.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var i=t.diagram;if(null!==i){var n=i.model;t instanceof Xh&&(e=n.lh(e),(e=i.Ub(e))!==(n=t.og())&&(n=t.jh(),null!==e?null!==n?i.isTreePathToChildren?n.fromNode=e:n.toNode=e:pf(this,e,t):null!==n&&ao(i,n,!1)))}}},ff.prototype.updateDataBindings=function(t,e){Jd.prototype.updateDataBindings.call(this,t,e),"string"===typeof e&&null!==this.Kc(t)&&(null!==(t=this.Jc(t))&&t.Ma(e))},ff.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,i=e.va(t);if(void 0!==i){var n=Ef(e,i),r=this.Kc(t);if(null!==n&&null!==r){for(n=n.iterator;n.next();){var o=n.value;e.lb(o)&&r instanceof Xh&&e.lh(o)===i&&pf(this,r,this.ii(o))}If(e,i)}void 0!==(t=e.lh(t))&&r instanceof Xh&&pf(this,t=this.Ub(t),r)}},ff.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Xh){var i=e.va(t.data),n=this.Jc(t.data);if(null!==n){n.isSelected=!1,n.isHighlighted=!1;var r=n.layer;if(null!==r){var o=r.oc(-1,n,!1);0<=o&&this.diagram.cb(pi,"parts",r,n,null,o,null),null!==(o=n.layerChanged)&&o(n,r,null)}}for(n=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)r=t.value,r=(n?r.toNode:r.fromNode).data,e.lb(r)&&Nf(e,i,r)}},ff.prototype.insertLink=function(t,e,i){e=this.diagram.model;var n=t,r=i;return this.diagram.isTreePathToChildren||(n=i,r=t),null!==n&&null!==r?(e.pe(r.data,e.va(n.data)),r.jh()):null},ff.prototype.findLinkForKey=ff.prototype.findLinkForKey,ff.className="TreePartManager",gf.prototype.cloneProtected=function(t){t.wa=this.wa,t.Sm=this.Sm,t.Fg=this.Fg,t.Th=this.Th,t.$k=this.$k,t.zk=this.zk,t.Km=this.Km,t.Jm=this.Jm,t.Mm=this.Mm,t.xm=this.xm,t.lj=this.lj},gf.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},gf.prototype.clear=function(){this.Rc=[],this.kb.clear(),this.Vf.clear(),this.undoManager.clear()},gf.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.lp();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var i=(t=this.nodeDataArray).length,n=0;n<i;n++){var r=t[n];e+=" "+this.va(r)+":"+A(r)}}return e},gf.prototype.wA=function(t){t.change!==ci&&w("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof gi?(yf(this,e),t=this.Ov(e,"FinishedUndo"===t.propertyName),this.uh=null,t):null},gf.prototype.Ov=function(t,e){var i=this,n=!1,r=new Q,o=new Q,a=new Q,s=this.uh;t.changes.each((function(t){t.model===i&&("nodeDataArray"===t.modelChange?t.change===fi?r.add(t.newValue):t.change===pi&&a.add(t.oldValue):i.lb(t.object)?o.add(t.object):t.change!==di||i.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(s&&s.contains(t.object)?s.get(t.object).each((function(t){i.lb(t)&&o.add(t)})):t.object instanceof gf||i.ri()&&i.Ic(t.object)||bf(i,t.object).each((function(t){o.add(t)}))):n=!0)}));var l=this.gl;l.clear(),r.each((function(t){l.add(i.va(t)),e||o.add(t)}));var u=this.il;u.clear(),a.each((function(t){u.add(i.va(t)),e&&o.add(t)})),t=i.cloneDeep(o.Fa());var h=null;return n&&(null===h&&(h={}),h.modelData=this.cloneDeep(this.modelData)),0<l.count&&(null===h&&(h={}),e?h.removedNodeKeys=l.Fa():h.insertedNodeKeys=l.Fa()),0<t.length&&(null===h&&(h={}),h.modifiedNodeData=t),0<u.count&&(null===h&&(h={}),e?h.insertedNodeKeys=u.Fa():h.removedNodeKeys=u.Fa()),u.clear(),l.clear(),h},gf.prototype.cloneDeep=function(t){return mf(this,t,!0)},(e=gf.prototype).quote=function(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).substr(-4)}))},e.rm=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"===typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"===typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},e.ep=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},e.Pv=function(){var t,e=this.modelData,i=!1;for(t in e)if(!kf(t,e[t])){i=!0;break}return e="",i&&(e=',\n  "modelData": '+Sf(this,this.modelData)),e+',\n  "nodeDataArray": '+wf(this,this.nodeDataArray,!0)},e.kv=function(t){vf(this,t),M(t=t.nodeDataArray)&&(this.dm(t),this.nodeDataArray=t)},e.Nv=function(t,e){var i=this,n=!1,r=new Q,o=new Q,a=new Q,s=this.uh;t.changes.each((function(t){t.model===i&&("nodeDataArray"===t.modelChange?t.change===fi?r.add(t.newValue):t.change===pi&&a.add(t.oldValue):i.lb(t.object)?o.add(t.object):t.change!==di||i.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(s&&s.contains(t.object)?s.get(t.object).each((function(t){i.lb(t)&&o.add(t)})):t.object instanceof gf||i.ri()&&i.Ic(t.object)||bf(i,t.object).each((function(t){o.add(t)}))):n=!0)}));var l=this.gl;l.clear(),r.each((function(t){l.add(i.va(t)),e||o.add(t)}));var u=this.il;return u.clear(),a.each((function(t){u.add(i.va(t)),e&&o.add(t)})),t="",n&&(t+=',\n  "modelData": '+Sf(this,this.modelData)),0<l.count&&(t+=(e?this.Wv:this.Uv)+wf(this,l.Fa(),!0)),0<o.count&&(t+=this.ly+wf(this,o.Fa(),!0)),0<u.count&&(t+=(e?this.Uv:this.Wv)+wf(this,u.Fa(),!0)),u.clear(),l.clear(),t},e.cp=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&w("applyIncrementalJson cannot change Model properties"),vf(this,t);var e=t.insertedNodeKeys,i=t.modifiedNodeData,n=new ft;if(Array.isArray(i))for(var r=0;r<i.length;r++){var o=i[r],a=this.va(o);void 0!==a&&null!==a&&n.set(a,o)}if(Array.isArray(e))for(r=e.length,o=0;o<r;o++){a=e[o];var s=this.gc(a);null===s&&(s=(s=n.get(a))?s:this.copyNodeData({}),this.km(s,a),this.xf(s))}if(Array.isArray(i))for(e=i.length,n=0;n<e;n++)if(r=i[n],o=this.va(r),null!==(o=this.gc(o))){for(var l in r)"__gohashid"===l||l===this.nodeKeyProperty||this.Vj()&&l===this.nodeIsGroupProperty||this.setDataProperty(o,l,r[l]);this.lm(r,o)}if(t=t.removedNodeKeys,Array.isArray(t))for(i=t.length,l=0;l<i;l++)null!==(e=this.gc(t[l]))&&this.cm(e)},e.by=function(t,e){t.change!==ci&&w("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.isTransactionFinished&&i instanceof gi?(void 0===e&&(e=Lf(this,this)),yf(this,i),t=this.Nv(i,"FinishedUndo"===t.propertyName),this.uh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.rm()+t+"}"):'{ "incremental": 0 }'},e.xA=function(t,e){return this.by(t,e)},e.lp=function(t){return void 0===t&&(t=Lf(this,this)),'{ "class": '+this.quote(t)+this.rm()+this.Pv()+"}"},e.toJSON=function(t){return this.lp(t)},e.Xw=function(t){var e=null;if("string"===typeof t)try{e=m.JSON.parse(t)}catch(n){}else"object"===typeof t?e=t:w("Unable to modify a Model from: "+t);var i=e.incremental;"number"!==typeof i&&w("Unable to apply non-incremental changes to Model: "+t),0!==i&&(this.Ea("applyIncrementalJson"),this.cp(e),this.eb("applyIncrementalJson"))},e.My=function(t){return this.Xw(t)},gf.constructGraphLinksModel=function(){return new gf},(e=gf.prototype).dm=function(t){if(M(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];if(C(n)){var r=i;n=this.dm(n),Array.isArray(t)?t[r]=n:w("Cannot replace an object in an HTMLCollection or NodeList at "+r)}}else if(C(t)){for(e in t)if(C(i=t[e])&&(i=this.dm(i),t[e]=i,"points"===e&&Array.isArray(i))){for(r=0===i.length%2,n=0;n<i.length;n++)if("number"!==typeof i[n]){r=!1;break}if(r){for(r=new Z,n=0;n<i.length/2;n++)r.add(new pt(i[2*n],i[2*n+1]));r.freeze(),t[e]=r}}return function(t){if("object"!==typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;e=e.substr(3);var i=t;if("Point"===e)i=new pt(Cf(t.x),Cf(t.y));else if("Size"===e)i=new Nt(Cf(t.width),Cf(t.height));else if("Rect"===e)i=new Ot(Cf(t.x),Cf(t.y),Cf(t.width),Cf(t.height));else if("Margin"===e)i=new Xt(Cf(t.top),Cf(t.right),Cf(t.bottom),Cf(t.left));else if("Spot"===e)i="string"===typeof t.enum?Be(t.enum):new Re(Cf(t.x),Cf(t.y),Cf(t.offsetX),Cf(t.offsetY));else if("Brush"===e){if((i=new Ls).type=H(Ls,t.type),"string"===typeof t.color&&(i.color=t.color),t.start instanceof Re&&(i.start=t.start),t.end instanceof Re&&(i.end=t.end),"number"===typeof t.startRadius&&(i.startRadius=Cf(t.startRadius)),"number"===typeof t.endRadius&&(i.endRadius=Cf(t.endRadius)),C(t=t.colorStops))for(var n in t)i.addColorStop(parseFloat(n),t[n])}else"Geometry"===e?(i=null,i="string"===typeof t.path?Ue.parse(t.path):new Ue,i.type=H(Ue,t.type),"number"===typeof t.startX&&(i.startX=Cf(t.startX)),"number"===typeof t.startY&&(i.startY=Cf(t.startY)),"number"===typeof t.endX&&(i.endX=Cf(t.endX)),"number"===typeof t.endY&&(i.endY=Cf(t.endY)),t.spot1 instanceof Re&&(i.spot1=t.spot1),t.spot2 instanceof Re&&(i.spot2=t.spot2)):"EnumValue"===e&&(n=t.classType,0===n.indexOf("go.")&&(n=n.substr(3)),n=Rf(n),"function"===typeof n&&(i=H(n,t.name)));return i}(t)}return t},e.sm=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"===typeof t?this.quote(t):"number"===typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.sm(t.valueOf()):M(t)?wf(this,t):C(t)?Sf(this,t):"function"===typeof t?"null":t.toString()},e.Oe=function(t){return this.It.add(t),this},e.gk=function(t){this.It.remove(t)},e.$r=function(t){this.skipsUndoManager||this.undoManager.Tu(t);for(var e=this.It,i=e.length,n=0;n<i;n++)e.L(n)(t)},e.cb=function(t,e,i,n,r,o,a){Mf(this,"",t,e,i,n,r,o,a)},e.g=function(t,e,i,n,r){Mf(this,"",di,t,this,e,i,n,r)},e.Cs=function(t,e,i,n,r,o){Mf(this,"",di,e,t,i,n,r,o)},gf.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===di){var i=t.object,n=t.propertyName,r=t.I(e);n===this.nodeKeyProperty&&this.lb(i)&&(void 0!==(e=t.I(!e))&&this.kb.remove(e),void 0!==r&&this.kb.add(r,i)),Bf(i,n,r)}else t.change===fi?(i=t.newParam,"nodeDataArray"===t.modelChange?C(t=t.newValue)&&"number"===typeof i&&(n=this.va(t),e?(this.Rc[i]===t&&D(this.Rc,i),void 0!==n&&this.kb.remove(n)):(this.Rc[i]!==t&&T(this.Rc,i,t),void 0!==n&&this.kb.add(n,t))):""===t.modelChange?((n=t.object)&&!M(n)&&t.propertyName&&(n=jf(t.object,t.propertyName)),M(n)&&"number"===typeof i&&(t=t.newValue,e?D(n,i):T(n,i,t))):w("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===pi?(i=t.oldParam,"nodeDataArray"===t.modelChange?C(t=t.oldValue)&&"number"===typeof i&&(n=this.va(t),e?(this.Rc[i]!==t&&T(this.Rc,i,t),void 0!==n&&this.kb.add(n,t)):(this.Rc[i]===t&&D(this.Rc,i),void 0!==n&&this.kb.remove(n))):""===t.modelChange?((n=t.object)&&!M(n)&&t.propertyName&&(n=jf(t.object,t.propertyName)),M(n)&&"number"===typeof i&&(t=t.oldValue,e?T(n,i,t):D(n,i))):w("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==ci&&w("unknown ChangedEvent: "+t.toString())},gf.prototype.Ea=function(t){return this.undoManager.Ea(t)},gf.prototype.eb=function(t){return this.undoManager.eb(t)},gf.prototype.Kf=function(){return this.undoManager.Kf()},gf.prototype.commit=function(t,e){void 0===e&&(e="");var i=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.Ea(e);var n=!1;try{t(this),n=!0}finally{n?this.undoManager.eb(e):this.undoManager.Kf(),this.skipsUndoManager=i}},(e=gf.prototype).Ma=function(t,e){void 0===e&&(e=""),Mf(this,"SourceChanged",ci,e,t,null,null)},e.va=function(t){if(null!==t){var e=this.Th;if(""!==e&&void 0!==(e=jf(t,e))){if(Pf(e))return e;w("Key value for node data "+t+" is not a number or a string: "+e)}}},e.km=function(t,e){if(null!==t){var i=this.Th;if(""!==i)if(this.lb(t)){var n=jf(t,i);n!==e&&null===this.gc(e)&&(Bf(t,i,e),void 0!==n&&this.kb.remove(n),this.kb.add(e,t),Mf(this,"nodeKey",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i),this.hp(n,e))}else Bf(t,i,e)}},e.lb=function(t){var e=this.va(t);return void 0!==e&&this.kb.I(e)===t},e.gc=function(t){return null===t&&w("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Pf(t)?this.kb.I(t):null},e.$u=function(t){if(null!==t){var e=this.Th;if(""!==e){var i=this.va(t);if(void 0===i||this.kb.contains(i)){var n=this.$k;if(null!==n&&(void 0!==(i=n(this,t))&&null!==i&&!this.kb.contains(i)))return void Bf(t,e,i);if("string"===typeof i){for(n=2;this.kb.contains(i+n);)n++;Bf(t,e,i+n)}else if(void 0===i||"number"===typeof i){for(i=-this.kb.count-1;this.kb.contains(i);)i--;Bf(t,e,i)}}}}},e.xf=function(t){null!==t&&(tt(t),this.lb(t)||Tf(this,t,!0))},e.Hy=function(t){if(M(t))for(var e=t.length,i=0;i<e;i++)this.xf(t[i]);else for(t=t.iterator;t.next();)this.xf(t.value)},e.cm=function(t){null!==t&&Df(this,t,!0)},e.mA=function(t){if(M(t))for(var e=t.length,i=0;i<e;i++)this.cm(t[i]);else for(t=t.iterator;t.next();)this.cm(t.value)},e.$z=function(t){if(t!==this.nodeDataArray&&M(t)){var e=this.il;e.clear(),e.addAll(this.kb.iteratorKeys);var i=this.gl;i.clear();for(var n=t.length,r=0;r<n;r++){var o=t[r],a=this.va(o);if(void 0!==a){i.add(a);var s=this.gc(a);s!==o&&(null!==s?(this.Do(s,o),this.lm(o,s)):(o=this.cloneDeep(o),this.km(o,a),this.xf(o)))}else a=this.cloneDeep(o),this.xf(a),i.add(this.va(a))}for(t=e.iterator;t.next();)n=t.value,i.contains(n)||(n=this.gc(n))&&this.cm(n);e.clear(),i.clear()}},e.hp=function(t,e){void 0!==e&&((t=Ef(this,t))instanceof Q&&this.Vf.add(e,t))},e.Jv=function(){},e.fm=function(){},e.em=function(){},e.op=function(){},e.Ry=function(t){void 0===t?this.Vf.clear():this.Vf.remove(t)},gf.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.zk;return C(t=null!==e?e(t,this):Af(this,t,!0))&&$(t),t},gf.prototype.setDataProperty=function(t,e,i){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.km(t,i);if(e===this.nodeCategoryProperty)return void this.jm(t,i)}else!Ff&&t instanceof Aa&&(Ff=!0,S('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),S("  Is that really your intent?"));var n=jf(t,e);n!==i&&(Bf(t,e,i),this.Cs(t,e,n,i))},(e=gf.prototype).set=function(t,e,i){this.setDataProperty(t,e,i)},e.Do=function(t,e){if(e){var i,n=this.lb(t);for(i in e)"__gohashid"===i||n&&i===this.nodeKeyProperty||this.setDataProperty(t,i,e[i])}},e.Cy=function(t,e){this.qs(t,-1,e)},e.qs=function(t,e,i){0>e&&(e=t.length),T(t,e,i),Mf(this,"",fi,"",t,null,i,null,e)},e.ov=function(t,e){void 0===e&&(e=-1),t===this.Rc&&w("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var i=t[e];D(t,e),Mf(this,"",pi,"",t,i,null,e,null)},e.Po=function(t){if(null===t)return"";var e=this.lj;return""===e||void 0===(e=jf(t,e))?"":"string"===typeof e?e:void w("getCategoryForNodeData found a non-string category for "+t+": "+e)},e.jm=function(t,e){if(null!==t){var i=this.lj;if(""!==i)if(this.lb(t)){var n=jf(t,i);void 0===n&&(n=""),n!==e&&(Bf(t,i,e),Mf(this,"nodeCategory",di,i,t,n,e))}else Bf(t,i,e)}},e.lm=function(t,e){this.jm(e,this.Po(t))},e.Sl=function(){return!1},e.Vj=function(){return!1},e.ri=function(){return!1},e.us=function(){return!1},e.Wj=function(){return!1},d.Object.defineProperties(gf.prototype,{name:{get:function(){return this.wa},set:function(t){var e=this.wa;e!==t&&(this.wa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Sm},set:function(t){var e=this.Sm;e!==t&&(this.Sm=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.Fg},set:function(t){var e=this.Fg;e!==t&&(this.Fg=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.j},set:function(t){var e=this.j;e!==t&&(this.j=t,this.g("modelData",e,t),this.Ma(t))}},undoManager:{get:function(){return this.o},set:function(t){var e=this.o;e!==t&&(null!==e&&e.Tx(this),this.o=t,null!==t&&t.Vw(this))}},skipsUndoManager:{get:function(){return this.Vg},set:function(t){this.Vg=t}},nodeKeyProperty:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(""===t&&w("Model.nodeKeyProperty may not be the empty string"),0<this.kb.count&&w("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Th=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.$k},set:function(t){var e=this.$k;e!==t&&(this.$k=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Rc},set:function(t){var e=this.Rc;if(e!==t){this.kb.clear(),this.Jv();for(var i=t.length,n=0;n<i;n++){var r=t[n];C(r)||w("Model.nodeDataArray must only contain Objects, not: "+r),tt(r)}for(this.Rc=t,n=new Z,r=0;r<i;r++){var o=t[r],a=this.va(o);void 0===a||null!==this.kb.I(a)?n.add(o):this.kb.add(a,o)}for(n=n.iterator;n.next();)r=n.value,this.$u(r),void 0!==(o=this.va(r))&&this.kb.add(o,r);for(Mf(this,"nodeDataArray",di,"nodeDataArray",this,e,t),e=0;e<i;e++)n=t[e],this.fm(n),this.em(n);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.zk},set:function(t){var e=this.zk;e!==t&&(this.zk=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.Km},set:function(t){var e=this.Km;e!==t&&(this.Km=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.Jm},set:function(t){var e=this.Jm;e!==t&&(this.Jm=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.Mm},set:function(t){var e=this.Mm;e!==t&&(this.Mm=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.xm},set:function(t){var e=this.xm;e!==t&&(this.xm=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.lj},set:function(t){var e=this.lj;e!==t&&(this.lj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),gf.prototype.setCategoryForNodeData=gf.prototype.jm,gf.prototype.getCategoryForNodeData=gf.prototype.Po,gf.prototype.removeArrayItem=gf.prototype.ov,gf.prototype.insertArrayItem=gf.prototype.qs,gf.prototype.addArrayItem=gf.prototype.Cy,gf.prototype.assignAllDataProperties=gf.prototype.Do,gf.prototype.set=gf.prototype.set,gf.prototype.clearUnresolvedReferences=gf.prototype.Ry,gf.prototype.mergeNodeDataArray=gf.prototype.$z,gf.prototype.removeNodeDataCollection=gf.prototype.mA,gf.prototype.removeNodeData=gf.prototype.cm,gf.prototype.addNodeDataCollection=gf.prototype.Hy,gf.prototype.addNodeData=gf.prototype.xf,gf.prototype.makeNodeDataKeyUnique=gf.prototype.$u,gf.prototype.findNodeDataForKey=gf.prototype.gc,gf.prototype.containsNodeData=gf.prototype.lb,gf.prototype.setKeyForNodeData=gf.prototype.km,gf.prototype.getKeyForNodeData=gf.prototype.va,gf.prototype.updateTargetBindings=gf.prototype.Ma,gf.prototype.commit=gf.prototype.commit,gf.prototype.rollbackTransaction=gf.prototype.Kf,gf.prototype.commitTransaction=gf.prototype.eb,gf.prototype.startTransaction=gf.prototype.Ea,gf.prototype.raiseDataChanged=gf.prototype.Cs,gf.prototype.raiseChanged=gf.prototype.g,gf.prototype.raiseChangedEvent=gf.prototype.cb,gf.prototype.removeChangedListener=gf.prototype.gk,gf.prototype.addChangedListener=gf.prototype.Oe,gf.prototype.writeJsonValue=gf.prototype.sm,gf.prototype.replaceJsonObjects=gf.prototype.dm,gf.prototype.applyIncrementalJSON=gf.prototype.My,gf.prototype.applyIncrementalJson=gf.prototype.Xw,gf.prototype.toJSON=gf.prototype.toJSON,gf.prototype.toJson=gf.prototype.lp,gf.prototype.toIncrementalJSON=gf.prototype.xA,gf.prototype.toIncrementalJson=gf.prototype.by,gf.prototype.toIncrementalData=gf.prototype.wA,gf.prototype.clear=gf.prototype.clear;var Ff=!1,zf={};function Hf(t,e,i,n){$(this),this._isFrozen=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===i&&(i=null),this.j=-1,this.vd=null,this.vl=t,this.ul=this.to=0,this.zr=null,this.wn=!1,this.ql=e,this.Im=i,void 0===n?(this.cl=Uf,this.uk=null):(this.cl=Gf,this.uk=n),this.pt=new Q}function Vf(t,e,i){return null===(t=t.sourceName)||""===t?e:"/"===t?i.part:"."===t?i:".."===t?i.panel:e.fb(t)}gf.className="Model",gf.fromJSON=gf.fromJson=function(t,e){void 0===e&&(e=null);var i=null;if("string"===typeof t)try{i=m.JSON.parse(t)}catch(o){}else"object"===typeof t?i=t:w("Unable to construct a Model from: "+t);if(null===e){t=null;var n=i.class;if("string"===typeof n)try{var r=null;0===n.indexOf("go.")?r=Rf(n=n.substr(3)):null===(r=Rf(n))&&(r=m[n]),"function"===typeof r&&(t=new r)}catch(o){}null===t||t instanceof gf?e=t:w("Unable to construct a Model of declared class: "+i.class)}return null===e&&(e=gf.constructGraphLinksModel()),e.ep(i),e.kv(i),e},gf.safePropertyValue=jf,gf.safePropertySet=Bf,zf.Brush=Ls,zf.ChangedEvent=hi,zf.Geometry=Ue,zf.Margin=Xt,zf.Panel=Ml,zf.Point=pt,zf.Rect=Ot,zf.Size=Nt,zf.Spot=Re,zf.Transaction=gi,zf.UndoManager=mi,Hf.prototype.copy=function(){var t=new Hf;return t.vl=this.vl,t.to=this.to,t.ul=this.ul,t.zr=this.zr,t.wn=this.wn,t.ql=this.ql,t.Im=this.Im,t.cl=this.cl,t.uk=this.uk,t},(e=Hf.prototype).qb=function(t){t.classType===Hf&&(this.mode=t)},e.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.Ai?" "+this.Ai:"")+" "+this.mode.name+")"},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.Lx=function(t){return void 0===t&&(t=null),this.mode=Gf,this.backConverter=t,this},e.ap=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},e.cA=function(){return this.sourceName=null,this.isToModel=!0,this},e.Kv=function(t,e,i){var n=this.ql;if(void 0===i||""===n||n===i){i=this.vl;var r=this.Im;if(null===r&&""===i)S("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==n&&(o=jf(e,n)),void 0!==o)if(null===r)""!==i&&Bf(t,i,o);else try{if(""!==i)Bf(t,i,r(o,t));else r(o,t)}catch(a){}}}},e.qp=function(t,e,i,n){if(this.cl===Gf){var r=this.vl;if(void 0===i||r===i){i=this.ql;var o=this.uk,a=t;if(""!==r&&(a=jf(t,r)),void 0!==a&&!this.pt.contains(t))try{this.pt.add(t);var s=null!==n?n.diagram:null,l=null!==s?s.model:null;if(null===o){if(""!==i)null!==l?l.setDataProperty(e,i,a):Bf(e,i,a);else if(null!==l&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var u=n.itemIndex,h=n.panel.itemArray;l.ov(h,u),l.qs(h,u,a)}}else try{if(""!==i){var c=o(a,e,l);null!==l?l.setDataProperty(e,i,c):Bf(e,i,c)}else{var d=o(a,e,l);if(void 0!==d&&null!==l&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var f=n.itemIndex,p=n.panel.itemArray;l.ov(p,f),l.qs(p,f,d)}}}catch(g){}}finally{this.pt.remove(t)}}}},d.Object.defineProperties(Hf.prototype,{Ai:{get:function(){return this.j},set:function(t){this._isFrozen&&k(this),this.j=t}},targetProperty:{get:function(){return this.vl},set:function(t){this._isFrozen&&k(this),this.vl=t}},sourceName:{get:function(){return this.zr},set:function(t){this._isFrozen&&k(this),this.zr=t,null!==t&&(this.wn=!1)}},isToModel:{get:function(){return this.wn},set:function(t){this._isFrozen&&k(this),this.wn=t}},sourceProperty:{get:function(){return this.ql},set:function(t){this._isFrozen&&k(this),this.ql=t}},converter:{get:function(){return this.Im},set:function(t){this._isFrozen&&k(this),this.Im=t}},backConverter:{get:function(){return this.uk},set:function(t){this._isFrozen&&k(this),this.uk=t}},mode:{get:function(){return this.cl},set:function(t){this._isFrozen&&k(this),this.cl=t}}}),Hf.prototype.updateSource=Hf.prototype.qp,Hf.prototype.updateTarget=Hf.prototype.Kv,Hf.prototype.ofModel=Hf.prototype.cA,Hf.prototype.ofObject=Hf.prototype.ap,Hf.prototype.makeTwoWay=Hf.prototype.Lx;var Wf="Binding",Uf=new z(Hf,"OneWay",1),Gf=new z(Hf,"TwoWay",2);function Kf(t,e,i){gf.call(this),this.Tv=',\n  "insertedLinkKeys": ',this.ky=',\n  "modifiedLinkData": ',this.Vv=',\n  "removedLinkKeys": ',this.gd=[],this.Zf=new Q,this.wb=new ft,this.Jh="",this.Ri=this.yk=this.al=null,this.kf="from",this.lf="to",this.fj=this.ej="",this.dj="category",this.he="",this.hl="isGroup",this.Ie="group",this.Lm=!1,void 0!==e&&(this.linkDataArray=e),void 0!==t&&(M(t)?this.nodeDataArray=t:i=t),i&&(Object.assign(this,i),t=i.Changed)&&(delete this.Changed,this.Oe(t))}function Yf(t,e){for(var i=new Q,n=0;n<t.linkDataArray.length;n++){var r=t.linkDataArray[n];xf(t,e,r,r,i)}return i}function Xf(t,e,i){if(null!==e&&(""!==(t=i?t.kf:t.lf)&&void 0!==(t=jf(e,t)))){if(Pf(t))return t;w((i?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function qf(t,e,i,n){if(null===i&&(i=void 0),null!==e){var r=n?t.kf:t.lf;if(""!==r)if(i=t.Ul(i),t.Ic(e)){var o=jf(e,r);o!==i&&(If(t,o,e),Bf(e,r,i),null===t.gc(i)&&Nf(t,i,e),Mf(t,n?"linkFromKey":"linkToKey",di,r,e,o,i),"string"===typeof r&&t.Ma(e,r))}else Bf(e,r,i)}}function Zf(t,e,i){return null===e||""===(t=i?t.ej:t.fj)||void 0===(e=jf(e,t))?"":e}function Jf(t,e,i,n){if(null!==e){var r=n?t.ej:t.fj;if(""!==r)if(t.Ic(e)){var o=jf(e,r);void 0===o&&(o=""),o!==i&&(Bf(e,r,i),Mf(t,n?"linkFromPortId":"linkToPortId",di,r,e,o,i),"string"===typeof r&&t.Ma(e,r))}else Bf(e,r,i)}}function Qf(t,e,i){if(""!==t.linkKeyProperty){var n=t.zc(e);if(void 0!==n&&t.wb.I(n)===e)return;t.ys(e),void 0===(n=t.zc(e))&&w("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model."),t.wb.add(n,e)}t.Zf.add(e),n=null,i&&(n=t.gd.length,t.gd.splice(n,0,e)),Mf(t,"linkDataArray",fi,"linkDataArray",t,null,e,null,n),tp(t,e)}function $f(t,e,i){t.Zf.remove(e);var n=t.zc(e);if(void 0!==n&&t.wb.remove(n),n=null,i){if(0>(n=t.gd.indexOf(e)))return;t.gd.splice(n,1)}if(Mf(t,"linkDataArray",pi,"linkDataArray",t,e,null,n,null),If(t,i=Xf(t,e,!0),e),If(t,i=Xf(t,e,!1),e),n=t.Ef(e),Array.isArray(n))for(var r=n.length,o=0;o<r;o++)If(t,i=n[o],e)}function tp(t,e){var i=Xf(t,e,!0);i=t.Ul(i),null===t.gc(i)&&Nf(t,i,e),i=Xf(t,e,!1),i=t.Ul(i),null===t.gc(i)&&Nf(t,i,e);var n=t.Ef(e);if(Array.isArray(n))for(var r=n.length,o=0;o<r;o++)i=n[o],null===t.gc(i)&&Nf(t,i,e)}function ep(t,e,i){t.jp(i,t.ms(e)),t.uv(i,t.yx(e)),t.zv(i,t.Bx(e)),t.Is(i,t.Ef(e)),t.vv(i,t.zx(e)),t.Av(i,t.Cx(e))}Hf.className="Binding",Hf.parseEnum=function(t,e){return function(i){return null===(i=H(t,i))?e:i}},Hf.toString=A,Hf.OneWay=Uf,Hf.TwoWay=Gf,c(Kf,gf),Kf.constructGraphLinksModel=gf.constructGraphLinksModel,Kf.prototype.cloneProtected=function(t){gf.prototype.cloneProtected.call(this,t),t.Jh=this.Jh,t.al=this.al,t.yk=this.yk,t.kf=this.kf,t.lf=this.lf,t.ej=this.ej,t.fj=this.fj,t.dj=this.dj,t.he=this.he,t.hl=this.hl,t.Ie=this.Ie,t.Lm=this.Lm},(e=Kf.prototype).clear=function(){gf.prototype.clear.call(this),this.gd=[],this.wb.clear(),this.Zf.clear()},e.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.lp();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var i,n=(t=this.nodeDataArray).length;for(i=0;i<n;i++){var r=t[i];e+=" "+this.va(r)+":"+A(r)}for(e+="\n link data:",n=(t=this.linkDataArray).length,i=0;i<n;i++)e+=" "+Xf(this,r=t[i],!0)+"--\x3e"+Xf(this,r,!1)}return e},e.Ov=function(t,e){""===this.linkKeyProperty&&w("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var i=gf.prototype.Ov.call(this,t,e),n=this,r=new Q,o=new Q,a=new Q,s=this.uh;t.changes.each((function(t){t.model===n&&("linkDataArray"===t.modelChange?t.change===fi?r.add(t.newValue):t.change===pi&&a.add(t.oldValue):n.Ic(t.object)?o.add(t.object):null!==t.object&&(null!==t.object&&s&&s.contains(t.object)?s.get(t.object).each((function(t){n.Ic(t)&&o.add(t)})):t.object instanceof gf||n.lb(t.object)||Yf(n,t.object).each((function(t){o.add(t)}))))}));var l=this.gl;l.clear(),r.each((function(t){l.add(n.zc(t)),e||o.add(t)}));var u=this.il;return u.clear(),a.each((function(t){u.add(n.zc(t)),e&&o.add(t)})),t=n.cloneDeep(o.Fa()),0<l.count&&(null===i&&(i={}),e?i.removedLinkKeys=l.Fa():i.insertedLinkKeys=l.Fa()),0<t.length&&(null===i&&(i={}),i.modifiedLinkData=t),0<u.count&&(null===i&&(i={}),e?i.insertedLinkKeys=u.Fa():i.removedLinkKeys=u.Fa()),u.clear(),l.clear(),i},e.rm=function(){var t=gf.prototype.rm.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"===typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"===typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"===typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"===typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"===typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"===typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"===typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"===typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"===typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},e.ep=function(t){gf.prototype.ep.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},e.Pv=function(){return gf.prototype.Pv.call(this)+(',\n  "linkDataArray": '+wf(this,this.linkDataArray,!0))},e.kv=function(t){gf.prototype.kv.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.dm(t),this.linkDataArray=t)},e.Nv=function(t,e){""===this.linkKeyProperty&&w("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var i=gf.prototype.Nv.call(this,t,e),n=this,r=new Q,o=new Q,a=new Q,s=this.uh;t.changes.each((function(t){t.model===n&&("linkDataArray"===t.modelChange?t.change===fi?r.add(t.newValue):t.change===pi&&a.add(t.oldValue):n.Ic(t.object)?o.add(t.object):null!==t.object&&(null!==t.object&&s&&s.contains(t.object)?s.get(t.object).each((function(t){n.Ic(t)&&o.add(t)})):t.object instanceof gf||n.lb(t.object)||Yf(n,t.object).each((function(t){o.add(t)}))))}));var l=this.gl;l.clear(),r.each((function(t){l.add(n.zc(t)),e||o.add(t)}));var u=this.il;return u.clear(),a.each((function(t){u.add(n.zc(t)),e&&o.add(t)})),t=i,0<l.count&&(t+=(e?this.Vv:this.Tv)+wf(this,l.Fa(),!0)),0<o.count&&(t+=this.ky+wf(this,o.Fa(),!0)),0<u.count&&(t+=(e?this.Tv:this.Vv)+wf(this,u.Fa(),!0)),u.clear(),l.clear(),t},e.cp=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&w("applyIncrementalJson cannot change Model properties"),gf.prototype.cp.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var i=e.length,n=0;n<i;n++){var r=e[n],o=this.ih(r);null===o&&(o=this.Jo({}),this.Hs(o,r),this.fi(o))}if(e=t.modifiedLinkData,Array.isArray(e))for(i=e.length,n=0;n<i;n++)if(r=e[n],o=this.zc(r),null!==(o=this.ih(o))){for(var a in r)"__gohashid"!==a&&a!==this.linkKeyProperty&&this.setDataProperty(o,a,r[a]);ep(this,r,o)}if(t=t.removedLinkKeys,Array.isArray(t))for(a=t.length,e=0;e<a;e++)null!==(i=this.ih(t[e]))&&this.bm(i)},Kf.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===di){var i=t.object,n=t.propertyName;if(n===this.linkKeyProperty&&this.Ic(i)){var r=t.I(e);return void 0!==(e=t.I(!e))&&this.wb.remove(e),void 0!==r&&this.wb.add(r,i),void Bf(i,n,r)}}else if(t.change===fi){if(i=t.newParam,"linkDataArray"===t.modelChange)return void(C(t=t.newValue)&&"number"===typeof i&&(n=this.zc(t),e?(this.Zf.remove(t),this.gd[i]===t&&this.gd.splice(i,1),void 0!==n&&this.wb.remove(n)):(this.Zf.add(t),this.gd[i]!==t&&this.gd.splice(i,0,t),void 0!==n&&this.wb.add(n,t))));if("linkLabelKeys"===t.modelChange)return n=this.Ef(t.object),void(Array.isArray(n)&&"number"===typeof i&&(e?(i=n.indexOf(t.newValue),0<=i&&n.splice(i,1)):0>n.indexOf(t.newValue)&&n.splice(i,0,t.newValue)))}else if(t.change===pi){if(i=t.oldParam,"linkDataArray"===t.modelChange)return void(C(t=t.oldValue)&&"number"===typeof i&&(n=this.zc(t),e?(this.Zf.add(t),this.gd[i]!==t&&this.gd.splice(i,0,t),void 0!==n&&this.wb.add(n,t)):(this.Zf.remove(t),this.gd[i]===t&&this.gd.splice(i,1),void 0!==n&&this.wb.remove(n))));if("linkLabelKeys"===t.modelChange)return n=this.Ef(t.object),void(Array.isArray(n)&&"number"===typeof i&&(e?0>n.indexOf(t.newValue)&&n.splice(i,0,t.newValue):(i=n.indexOf(t.newValue),0<=i&&n.splice(i,1))))}gf.prototype.changeState.call(this,t,e)}},(e=Kf.prototype).Ul=function(t){if(void 0!==t){var e=this.Ri;if(null!==e){var i=this.gc(t);null===i&&(Bf(i=this.copyNodeData(e),this.nodeKeyProperty,t),this.xf(i))}return t}},e.yx=function(t){return Xf(this,t,!0)},e.uv=function(t,e){qf(this,t,e,!0)},e.Bx=function(t){return Xf(this,t,!1)},e.zv=function(t,e){qf(this,t,e,!1)},e.zx=function(t){return Zf(this,t,!0)},e.vv=function(t,e){Jf(this,t,e,!0)},e.Cx=function(t){return Zf(this,t,!1)},e.Av=function(t,e){Jf(this,t,e,!1)},e.Ef=function(t){if(null===t)return ip;var e=this.he;return""===e||void 0===(t=jf(t,e))?ip:t},e.Is=function(t,e){if(null!==t){var i=this.he;if(""!==i)if(this.Ic(t)){var n=jf(t,i);if(void 0===n&&(n=ip),n!==e){if(Array.isArray(n))for(var r=n.length,o=0;o<r;o++)If(this,n[o],t);for(Bf(t,i,e),r=e.length,o=0;o<r;o++){var a=e[o];null===this.gc(a)&&Nf(this,a,t)}Mf(this,"linkLabelKeys",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i)}}else Bf(t,i,e)}},e.Au=function(t,e){if(null!==e&&void 0!==e&&null!==t){var i=this.he;if(""!==i){var n=jf(t,i);if(void 0===n)(i=[]).push(e),this.Is(t,i);else if(Array.isArray(n)){var r=n.indexOf(e);0<=r||(r=n.length,n.push(e),this.Ic(t)&&(null===this.gc(e)&&Nf(this,e,t),Mf(this,"linkLabelKeys",fi,i,t,null,e,null,r)))}else w(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},e.Sx=function(t,e){if(null!==e&&void 0!==e&&null!==t){var i=this.he;if(""!==i){var n=jf(t,i);if(Array.isArray(n)){var r=n.indexOf(e);0>r||(n.splice(r,1),this.Ic(t)&&(If(this,e,t),Mf(this,"linkLabelKeys",pi,i,t,e,null,r,null)))}else void 0!==n&&w(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},e.zc=function(t){if(null!==t){var e=this.Jh;if(""!==e&&void 0!==(e=jf(t,e))){if(Pf(e))return e;w("Key value for link data "+t+" is not a number or a string: "+e)}}},e.Hs=function(t,e){if(null!==t){var i=this.Jh;if(""!==i)if(this.Ic(t)){var n=jf(t,i);n!==e&&null===this.ih(e)&&(Bf(t,i,e),void 0!==n&&this.wb.remove(n),this.wb.add(e,t),Mf(this,"linkKey",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i))}else Bf(t,i,e)}},e.ih=function(t){return null===t&&w("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Pf(t)?this.wb.I(t):null},e.ys=function(t){if(null!==t){var e=this.Jh;if(""!==e){var i=this.zc(t);if(void 0===i||this.wb.contains(i)){var n=this.al;if(null!==n&&(void 0!==(i=n(this,t))&&null!==i&&!this.wb.contains(i)))return void Bf(t,e,i);if("string"===typeof i){for(n=2;this.wb.contains(i+n);)n++;Bf(t,e,i+n)}else if(void 0===i||"number"===typeof i){for(i=-this.wb.count-1;this.wb.contains(i);)i--;Bf(t,e,i)}}}}},e.Ic=function(t){return null!==t&&this.Zf.contains(t)},e.fi=function(t){null!==t&&(tt(t),this.Ic(t)||Qf(this,t,!0))},e.Gy=function(t){if(Array.isArray(t))for(var e=t.length,i=0;i<e;i++)this.fi(t[i]);else for(t=t.iterator;t.next();)this.fi(t.value)},e.bm=function(t){null!==t&&$f(this,t,!0)},e.kA=function(t){if(Array.isArray(t))for(var e=t.length,i=0;i<e;i++)this.bm(t[i]);else for(t=t.iterator;t.next();)this.bm(t.value)},e.Zz=function(t){if(""===this.linkKeyProperty&&w("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&M(t)){var e=this.il;e.clear(),e.addAll(this.wb.iteratorKeys);var i=this.gl;i.clear();for(var n=t.length,r=0;r<n;r++){var o=t[r],a=this.zc(o);if(void 0!==a){i.add(a);var s=this.ih(a);s!==o&&(null!==s?(this.Do(s,o),ep(this,o,s)):(o=this.cloneDeep(o),this.Hs(o,a),this.fi(o)))}else a=this.cloneDeep(o),this.fi(a),i.add(this.zc(a))}for(t=e.iterator;t.next();)n=t.value,i.contains(n)||(n=this.ih(n))&&this.bm(n);e.clear(),i.clear()}},e.Jo=function(t){if(null===t)return null;var e=this.yk;return C(t=null!==e?e(t,this):Af(this,t,!0))&&($(t),""!==this.kf&&Bf(t,this.kf,void 0),""!==this.lf&&Bf(t,this.lf,void 0),""!==this.he&&Bf(t,this.he,[])),t},e.Yu=function(t){if(null===t)return!1;var e=this.hl;return""!==e&&!!jf(t,e)},e.kh=function(t){if(null!==t){var e=this.Ie;if(""!==e&&void 0!==(e=jf(t,e))){if(Pf(e))return e;w("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},e.kp=function(t,e){if(null===e&&(e=void 0),null!==t){var i=this.Ie;if(""!==i)if(this.lb(t)){var n=jf(t,i);n!==e&&(If(this,n,t),Bf(t,i,e),null===this.gc(e)&&Nf(this,e,t),Mf(this,"nodeGroupKey",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i))}else Bf(t,i,e)}},Kf.prototype.copyNodeData=function(t){return null===t?null:(t=gf.prototype.copyNodeData.call(this,t),this.Ij||""===this.Ie||void 0===jf(t,this.Ie)||Bf(t,this.Ie,void 0),t)},Kf.prototype.setDataProperty=function(t,e,i){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.km(t,i);if(e===this.nodeCategoryProperty)return void this.jm(t,i);if(e===this.nodeGroupKeyProperty)return void this.kp(t,i)}else if(this.Ic(t)){if(e===this.linkFromKeyProperty)return void qf(this,t,i,!0);if(e===this.linkToKeyProperty)return void qf(this,t,i,!1);if(e===this.linkFromPortIdProperty)return void Jf(this,t,i,!0);if(e===this.linkToPortIdProperty)return void Jf(this,t,i,!1);if(e===this.linkKeyProperty)return void this.Hs(t,i);if(e===this.linkCategoryProperty)return void this.jp(t,i);if(e===this.linkLabelKeysProperty)return void this.Is(t,i)}var n=jf(t,e);n!==i&&(Bf(t,e,i),this.Cs(t,e,n,i))},(e=Kf.prototype).Do=function(t,e){if(e){var i,n=this.lb(t),r=this.Ic(t);for(i in e)"__gohashid"===i||n&&i===this.nodeKeyProperty||n&&i===this.nodeIsGroupProperty&&jf(t,i)===e[i]||r&&i===this.linkKeyProperty||this.setDataProperty(t,i,e[i])}},e.hp=function(t,e){gf.prototype.hp.call(this,t,e);for(var i=this.kb.iterator;i.next();)this.qv(i.value,t,e);for(i=this.Zf.iterator;i.next();){var n=i.value,r=t,o=e;if(Xf(this,n,!0)===r){var a=this.kf;Bf(n,a,o),Mf(this,"linkFromKey",di,a,n,r,o),"string"===typeof a&&this.Ma(n,a)}if(Xf(this,n,!1)===r&&(Bf(n,a=this.lf,o),Mf(this,"linkToKey",di,a,n,r,o),"string"===typeof a&&this.Ma(n,a)),a=this.Ef(n),Array.isArray(a))for(var s=a.length,l=this.he,u=0;u<s;u++)a[u]===r&&(a[u]=o,Mf(this,"linkLabelKeys",fi,l,n,r,o,u,u))}},e.qv=function(t,e,i){if(this.kh(t)===e){var n=this.Ie;Bf(t,n,i),Mf(this,"nodeGroupKey",di,n,t,e,i),"string"===typeof n&&this.Ma(t,n)}},e.Jv=function(){gf.prototype.Jv.call(this);for(var t=this.linkDataArray,e=t.length,i=0;i<e;i++)tp(this,t[i])},e.fm=function(t){gf.prototype.fm.call(this,t);var e=Ef(this,t=this.va(t));if(null!==e){var i=N();for(e=e.iterator;e.next();){var n=e.value;if(this.lb(n)){if(this.kh(n)===t){var r=this.Ie;Mf(this,"nodeGroupKey",di,r,n,t,t),"string"===typeof r&&this.Ma(n,r),i.push(n)}}else if(Xf(this,n,!0)===t&&(r=this.kf,Mf(this,"linkFromKey",di,r,n,t,t),"string"===typeof r&&this.Ma(n,r),i.push(n)),Xf(this,n,!1)===t&&(r=this.lf,Mf(this,"linkToKey",di,r,n,t,t),"string"===typeof r&&this.Ma(n,r),i.push(n)),r=this.Ef(n),Array.isArray(r))for(var o=r.length,a=this.he,s=0;s<o;s++)r[s]===t&&(Mf(this,"linkLabelKeys",fi,a,n,t,t,s,s),i.push(n))}for(e=0;e<i.length;e++)If(this,t,i[e]);I(i)}},e.em=function(t){gf.prototype.em.call(this,t);var e=this.kh(t);null===this.gc(e)&&Nf(this,e,t)},e.op=function(t){gf.prototype.op.call(this,t),If(this,this.kh(t),t)},e.ms=function(t){if(null===t)return"";var e=this.dj;return""===e||void 0===(e=jf(t,e))?"":"string"===typeof e?e:void w("getCategoryForLinkData found a non-string category for "+t+": "+e)},Kf.prototype.getLinkCategoryForData=function(t){return this.ms(t)},Kf.prototype.jp=function(t,e){if(null!==t){var i=this.dj;if(""!==i)if(this.Ic(t)){var n=jf(t,i);void 0===n&&(n=""),n!==e&&(Bf(t,i,e),Mf(this,"linkCategory",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i))}else Bf(t,i,e)}},Kf.prototype.setLinkCategoryForData=function(t,e){this.jp(t,e)},(e=Kf.prototype).lm=function(t,e){gf.prototype.lm.call(this,t,e),this.kp(e,this.kh(t))},e.Vj=function(){return!0},e.ri=function(){return!0},e.us=function(){return!0},e.Wj=function(){return!0},d.Object.defineProperties(Kf.prototype,{archetypeNodeData:{get:function(){return this.Ri},set:function(t){var e=this.Ri;e!==t&&(this.Ri=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.kf},set:function(t){var e=this.kf;e!==t&&(this.kf=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.lf},set:function(t){var e=this.lf;e!==t&&(this.lf=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.ej},set:function(t){var e=this.ej;e!==t&&(this.ej=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.fj},set:function(t){var e=this.fj;e!==t&&(this.fj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.he},set:function(t){var e=this.he;e!==t&&(this.he=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.gd},set:function(t){var e=this.gd;if(e!==t){this.wb.clear();for(var i=t.length,n=0;n<i;n++){var r=t[n];C(r)||w("GraphLinksModel.linkDataArray must only contain Objects, not: "+r),tt(r)}if(this.gd=t,""!==this.linkKeyProperty){for(n=new Z,r=0;r<i;r++){var o=t[r],a=this.zc(o);void 0===a||null!==this.wb.I(a)?n.add(o):this.wb.add(a,o)}for(n=n.iterator;n.next();)r=n.value,this.ys(r),void 0!==(o=this.zc(r))&&this.wb.add(o,r)}for(n=new Q,r=0;r<i;r++)n.add(t[r]);for(this.Zf=n,Mf(this,"linkDataArray",di,"linkDataArray",this,e,t),e=0;e<i;e++)tp(this,t[e])}}},linkKeyProperty:{get:function(){return this.Jh},set:function(t){var e=this.Jh;if(e!==t){this.Jh=t,this.wb.clear();for(var i=this.linkDataArray.length,n=0;n<i;n++){var r=this.linkDataArray[n],o=this.zc(r);void 0===o&&(this.ys(r),o=this.zc(r)),void 0!==o&&this.wb.add(o,r)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.al},set:function(t){var e=this.al;e!==t&&(this.al=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.yk},set:function(t){var e=this.yk;e!==t&&(this.yk=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.hl},set:function(t){var e=this.hl;e!==t&&(this.hl=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.Ie},set:function(t){var e=this.Ie;e!==t&&(this.Ie=t,this.g("nodeGroupKeyProperty",e,t))}},Ij:{get:function(){return this.Lm},set:function(t){this.Lm!==t&&(this.Lm=t)}},linkCategoryProperty:{get:function(){return this.dj},set:function(t){var e=this.dj;e!==t&&(this.dj=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),Kf.prototype.setCategoryForLinkData=Kf.prototype.jp,Kf.prototype.getCategoryForLinkData=Kf.prototype.ms,Kf.prototype.assignAllDataProperties=Kf.prototype.Do,Kf.prototype.setGroupKeyForNodeData=Kf.prototype.kp,Kf.prototype.getGroupKeyForNodeData=Kf.prototype.kh,Kf.prototype.isGroupForNodeData=Kf.prototype.Yu,Kf.prototype.copyLinkData=Kf.prototype.Jo,Kf.prototype.mergeLinkDataArray=Kf.prototype.Zz,Kf.prototype.removeLinkDataCollection=Kf.prototype.kA,Kf.prototype.removeLinkData=Kf.prototype.bm,Kf.prototype.addLinkDataCollection=Kf.prototype.Gy,Kf.prototype.addLinkData=Kf.prototype.fi,Kf.prototype.containsLinkData=Kf.prototype.Ic,Kf.prototype.makeLinkDataKeyUnique=Kf.prototype.ys,Kf.prototype.findLinkDataForKey=Kf.prototype.ih,Kf.prototype.setKeyForLinkData=Kf.prototype.Hs,Kf.prototype.getKeyForLinkData=Kf.prototype.zc,Kf.prototype.removeLabelKeyForLinkData=Kf.prototype.Sx,Kf.prototype.addLabelKeyForLinkData=Kf.prototype.Au,Kf.prototype.setLabelKeysForLinkData=Kf.prototype.Is,Kf.prototype.getLabelKeysForLinkData=Kf.prototype.Ef,Kf.prototype.setToPortIdForLinkData=Kf.prototype.Av,Kf.prototype.getToPortIdForLinkData=Kf.prototype.Cx,Kf.prototype.setFromPortIdForLinkData=Kf.prototype.vv,Kf.prototype.getFromPortIdForLinkData=Kf.prototype.zx,Kf.prototype.setToKeyForLinkData=Kf.prototype.zv,Kf.prototype.getToKeyForLinkData=Kf.prototype.Bx,Kf.prototype.setFromKeyForLinkData=Kf.prototype.uv,Kf.prototype.getFromKeyForLinkData=Kf.prototype.yx,Kf.prototype.clear=Kf.prototype.clear;var ip=Object.freeze([]);function np(t,e){gf.call(this),this.Je="parent",this.Nm=!1,this.nj="parentLinkCategory",void 0!==t&&(M(t)?this.nodeDataArray=t:e=t),e&&(Object.assign(this,e),t=e.Changed)&&(delete this.Changed,this.Oe(t))}function rp(t){Nd.call(this),this.jw=this.Zm=this.kc=0,this.Tp=360,this.iw=mp,this.Ti=0,this.Xv=new pt,this.Hp=this.ke=0,this.Ur=new Ip,this.ct=this.mj=0,this.vy=600,this.eo=NaN,this.Cm=1,this.ro=0,this.sl=360,this.Pb=mp,this.K=xp,this.hd=Tp,this.cd=Fd,this.tf=6,this.Nn=Dp,t&&Object.assign(this,t)}function op(t,e,i,n,r){var o=t.Tp,a=t.kc;t=t.ke,n=n*Math.PI/180,i=i*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var u=n+(r===xp?l*i/(360<=o?s:s-1):-l*i/s),h=e.L(l),c=a*Math.tan(u)/t;c=Math.sqrt((a*a+t*t*c*c)/(1+c*c)),h.centerX=c*Math.cos(u),h.centerY=c*Math.sin(u),h.actualAngle=180*u/Math.PI}}function ap(t,e,i,n){var r=t.kc,o=t.ke,a=t.Ti;i=i*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var u=e.L(l),h=e.L(l===s-1?0:l+1),c=o*Math.sin(i);u.centerX=r*Math.cos(i),u.centerY=c,u.actualAngle=180*i/Math.PI,isNaN(u.diameter)&&Op(u,0),isNaN(h.diameter)&&Op(h,0),u=gp(t,r,o,n===xp?i:-i,(u.diameter+h.diameter)/2+a),i+=n===xp?u:-u}}function sp(t,e,i,n){var r=t.kc,o=t.ke,a=t.Hp;i=i*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var u=e.L(l);u.centerX=r*Math.cos(i),u.centerY=o*Math.sin(i),u.actualAngle=180*i/Math.PI,u=gp(t,r,o,n===xp?i:-i,a),i+=n===xp?u:-u}}function lp(t,e,i,n,r){var o=t.Tp;if(t.mj=0,t.Ur=new Ip,360>i){for(o=n+(r===xp?o:-o);0>o;)o+=360;180<(o%=360)&&(o-=360),o*=Math.PI/180,t.ct=o,hp(t,e,i,n,r)}else up(t,e,i,n,r);t.Ur.commit(e)}function up(t,e,i,n,r){var o=t.kc,a=t.Ti,s=t.Zm,l=o*Math.cos(n*Math.PI/180),u=t.ke*Math.sin(n*Math.PI/180),h=e.Fa();if(3===h.length)h[0].centerX=o,h[0].centerY=0,h[1].centerX=h[0].centerX-h[0].width/2-h[1].width/2-a,h[1].y=h[0].y,h[2].centerX=(h[0].centerX+h[1].centerX)/2,h[2].y=h[0].y-h[2].height-a;else if(4===h.length)h[0].centerX=o,h[0].centerY=0,h[2].centerX=-h[0].centerX,h[2].centerY=h[0].centerY,h[1].centerX=0,h[1].y=Math.min(h[0].y,h[2].y)-h[1].height-a,h[3].centerX=0,h[3].y=Math.max(h[0].y+h[0].height+a,h[2].y+h[2].height+a);else{o=pt.alloc();for(var c=0;c<h.length&&(h[c].centerX=l,h[c].centerY=u,!(c>=h.length-1));c++)cp(t,l,u,h,c,r,o)||dp(t,l,u,h,c,r,o),l=o.x,u=o.y;if(pt.free(o),t.mj++,!(23<t.mj)){l=h[0].centerX,u=h[0].centerY,o=h[h.length-1].centerX,c=h[h.length-1].centerY;var d=Math.abs(l-o)-((h[0].width+h[h.length-1].width)/2+a),f=Math.abs(u-c)-((h[0].height+h[h.length-1].height)/2+a);a=0,1>Math.abs(f)?Math.abs(l-o)<(h[0].width+h[h.length-1].width)/2&&(a=0):a=0<f?f:1>Math.abs(d)?0:d,l=Math.abs(o)>Math.abs(c)?0<o!==u>c:0<c!==l<o,(l=r===xp?l:!l)&&(a=-Math.abs(a),a=Math.min(a,-h[h.length-1].width),a=Math.min(a,-h[h.length-1].height)),t.Ur.compare(a,h),1<Math.abs(a)&&(t.kc=8>t.mj?t.kc-a/(2*Math.PI):5>h.length&&10<a?t.kc/2:t.kc-(0<a?1.7:-2.3),t.ke=t.kc*s,up(t,e,i,n,r))}}}function hp(t,e,i,n,r){for(var o=t.kc,a=t.ke,s=t.Zm,l=o*Math.cos(n*Math.PI/180),u=a*Math.sin(n*Math.PI/180),h=pt.alloc(),c=e.Fa(),d=0;d<c.length&&(c[d].centerX=l,c[d].centerY=u,!(d>=c.length-1));d++)cp(t,l,u,c,d,r,h)||dp(t,l,u,c,d,r,h),l=h.x,u=h.y;if(pt.free(h),t.mj++,!(23<t.mj)){if(l=Math.atan2(u,l),l=r===xp?t.ct-l:l-t.ct,o=(l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI)*(o+a)/2,a=t.Ur,Math.abs(o)<Math.abs(a.Nl))for(a.Nl=o,a.kk=[],a.tm=[],l=0;l<c.length;l++)a.kk[l]=c[l].bounds.x,a.tm[l]=c[l].bounds.y;1<Math.abs(o)&&(t.kc=8>t.mj?t.kc-o/(2*Math.PI):t.kc-(0<o?1.7:-2.3),t.ke=t.kc*s,hp(t,e,i,n,r))}}function cp(t,e,i,n,r,o,a){var s=t.kc,l=t.ke,u=0;t=(n[r].width+n[r+1].width)/2+t.Ti;var h=!1;if(0<=i!==(o===xp)){if((o=e+t)>s){if((o=e-t)<-s)return a.x=o,a.y=u,!1;h=!0}}else if((o=e-t)<-s){if((o=e+t)>s)return a.x=o,a.y=u,!1;h=!0}return u=Math.sqrt(1-Math.min(1,o*o/(s*s)))*l,0>i!==h&&(u=-u),Math.abs(i-u)>(n[r].height+n[r+1].height)/2?(a.x=o,a.y=u,!1):(a.x=o,a.y=u,!0)}function dp(t,e,i,n,r,o,a){var s=t.kc,l=t.ke,u=0;if(t=(n[r].height+n[r+1].height)/2+t.Ti,n=!1,0<=e!==(o===xp)){if((o=i-t)<-l){if((o=i+t)>l)return a.x=u,void(a.y=o);n=!0}}else if((o=i+t)>l){if((o=i-t)<-l)return a.x=u,void(a.y=o);n=!0}u=Math.sqrt(1-Math.min(1,o*o/(l*l)))*s,0>e!==n&&(u=-u),a.x=u,a.y=o}function fp(t,e,i,n,r){var o=t.vy;if(.001>Math.abs(t.Zm-1))return void 0!==n&&void 0!==r?r*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var a=0,s=void 0!==n&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),l=0,u=0;u<=o;u++){l=void 0!==n&&void 0!==r?n+u*r/o:u*Math.PI/(2*o);var h=Math.sin(l);a+=Math.sqrt(1-t*t*h*h)*s}return void 0!==n&&void 0!==r?(e>i?e:i)*a:4*(e>i?e:i)*a}function pp(t,e,i,n,r){return e/(void 0!==n&&void 0!==r?fp(t,1,i,n,r):fp(t,1,i))}function gp(t,e,i,n,r){if(.001>Math.abs(t.Zm-1))return r/e;var o=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,a=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var s=0;;s++){var l=Math.sin(n+s*t);if((a+=(e>i?e:i)*Math.sqrt(1-o*o*l*l)*t)>=r)return s*t}}Kf.className="GraphLinksModel",zf.GraphLinksModel=Kf,gf.constructGraphLinksModel=gf.constructGraphLinksModel=function(){return new Kf},gf.initDiagramModel=Of=function(){return new Kf},c(np,gf),np.constructGraphLinksModel=gf.constructGraphLinksModel,np.prototype.cloneProtected=function(t){gf.prototype.cloneProtected.call(this,t),t.Je=this.Je,t.Nm=this.Nm,t.nj=this.nj},(e=np.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.lp();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var i=(t=this.nodeDataArray).length,n=0;n<i;n++){var r=t[n];e+=" "+this.va(r)+":"+A(r)}}return e},e.rm=function(){var t=gf.prototype.rm.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"===typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},e.ep=function(t){gf.prototype.ep.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},e.cp=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&w("applyIncrementalJson cannot change Model properties"),gf.prototype.cp.call(this,t)},e.Ul=function(t){return t},e.lh=function(t){if(null!==t){var e=this.Je;if(""!==e&&void 0!==(e=jf(t,e))){if(Pf(e))return e;w("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},e.pe=function(t,e){if(null===e&&(e=void 0),null!==t){var i=this.Je;if(""!==i)if(e=this.Ul(e),this.lb(t)){var n=jf(t,i);n!==e&&(If(this,n,t),Bf(t,i,e),null===this.gc(e)&&Nf(this,e,t),Mf(this,"nodeParentKey",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i))}else Bf(t,i,e)}},e.ps=function(t){if(null===t)return"";var e=this.nj;return""===e||void 0===(e=jf(t,e))?"":"string"===typeof e?e:(w("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},np.prototype.getLinkCategoryForData=function(t){return this.ps(t)},np.prototype.Js=function(t,e){if(null!==t){var i=this.nj;if(""!==i)if(this.lb(t)){var n=jf(t,i);void 0===n&&(n=""),n!==e&&(Bf(t,i,e),Mf(this,"parentLinkCategory",di,i,t,n,e),"string"===typeof i&&this.Ma(t,i))}else Bf(t,i,e)}},np.prototype.setLinkCategoryForData=function(t,e){this.Js(t,e)},np.prototype.copyNodeData=function(t){return null===t?null:(t=gf.prototype.copyNodeData.call(this,t),this.Jj||""===this.Je||void 0===jf(t,this.Je)||Bf(t,this.Je,void 0),t)},np.prototype.setDataProperty=function(t,e,i){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.km(t,i);if(e===this.nodeCategoryProperty)return void this.jm(t,i);if(e===this.nodeParentKeyProperty)return void this.pe(t,i)}var n=jf(t,e);n!==i&&(Bf(t,e,i),this.Cs(t,e,n,i))},(e=np.prototype).hp=function(t,e){gf.prototype.hp.call(this,t,e);for(var i=this.kb.iterator;i.next();)this.qv(i.value,t,e)},e.qv=function(t,e,i){if(this.lh(t)===e){var n=this.Je;Bf(t,n,i),Mf(this,"nodeParentKey",di,n,t,e,i),"string"===typeof n&&this.Ma(t,n)}},e.fm=function(t){gf.prototype.fm.call(this,t);var e=Ef(this,t=this.va(t));if(null!==e){var i=N();for(e=e.iterator;e.next();){var n=e.value;if(this.lb(n)&&this.lh(n)===t){var r=this.Je;Mf(this,"nodeParentKey",di,r,n,t,t),"string"===typeof r&&this.Ma(n,r),i.push(n)}}for(e=0;e<i.length;e++)If(this,t,i[e]);I(i)}},e.em=function(t){gf.prototype.em.call(this,t);var e=this.lh(t);e=this.Ul(e),null===this.gc(e)&&Nf(this,e,t)},e.op=function(t){gf.prototype.op.call(this,t),If(this,this.lh(t),t)},e.lm=function(t,e){gf.prototype.lm.call(this,t,e),this.Js(e,this.ps(t)),this.pe(e,this.lh(t))},e.Sl=function(){return!0},e.us=function(){return!0},d.Object.defineProperties(np.prototype,{nodeParentKeyProperty:{get:function(){return this.Je},set:function(t){var e=this.Je;e!==t&&(this.Je=t,this.g("nodeParentKeyProperty",e,t))}},Jj:{get:function(){return this.Nm},set:function(t){this.Nm!==t&&(this.Nm=t)}},parentLinkCategoryProperty:{get:function(){return this.nj},set:function(t){var e=this.nj;e!==t&&(this.nj=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),np.prototype.setParentLinkCategoryForNodeData=np.prototype.Js,np.prototype.getParentLinkCategoryForNodeData=np.prototype.ps,np.prototype.setParentKeyForNodeData=np.prototype.pe,np.prototype.getParentKeyForNodeData=np.prototype.lh,np.className="TreeModel",zf.TreeModel=np,c(rp,Nd),rp.prototype.cloneProtected=function(t){Nd.prototype.cloneProtected.call(this,t),t.eo=this.eo,t.Cm=this.Cm,t.ro=this.ro,t.sl=this.sl,t.Pb=this.Pb,t.K=this.K,t.hd=this.hd,t.cd=this.cd,t.tf=this.tf,t.Nn=this.Nn},rp.prototype.qb=function(t){t.classType===rp?t===Mp||t===Pp||t===Sp||t===Cp||t===Tp?this.sorting=t:t===kp||t===_p||t===xp||t===wp?this.direction=t:t===yp||t===vp||t===mp||t===bp?this.arrangement=t:t!==Np&&t!==Dp||(this.nodeDiameterFormula=t):Nd.prototype.qb.call(this,t)},rp.prototype.createNetwork=function(){return new Ep(this)},rp.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new Z;e.addAll(t.iterator),t=new Z;var i,n,r=new Z,o=this.sort(e),a=this.Hp,s=this.arrangement,l=this.nodeDiameterFormula,u=this.radius;(!isFinite(u)||0>=u)&&(u=NaN);var h=this.aspectRatio;(!isFinite(h)||0>=h)&&(h=1);var c=this.startAngle;isFinite(c)||(c=0);var d=this.sweepAngle;if((!isFinite(d)||360<d||1>d)&&(d=360),e=this.spacing,isFinite(e)||(e=NaN),s===bp&&l===Np?s=mp:s===bp&&l!==Np&&(s=this.arrangement),(this.direction===kp||this.direction===_p)&&this.sorting!==Tp){for(l=0;!(l>=o.length)&&(t.add(o.L(l)),!(l+1>=o.length));l+=2)r.add(o.L(l+1));this.direction===kp?(this.arrangement===bp&&t.reverse(),(o=new Z).addAll(t),o.addAll(r)):(this.arrangement===bp&&r.reverse(),(o=new Z).addAll(r),o.addAll(t))}l=o.length;for(var f=n=i=0;f<o.length;f++){var p=c+d*n*(this.direction===xp?1:-1)/l,g=o.L(f).diameter;isNaN(g)&&(g=Op(o.L(f),p)),360>d&&(0===f||f===o.length-1)&&(g/=2),i+=g,n++}if(isNaN(u)||s===bp){if(isNaN(e)&&(e=6),s!==mp&&s!==bp){for(n=-1/0,a=0;a<l;a++)f=o.L(a),i=o.L(a===l-1?0:a+1),isNaN(f.diameter)&&Op(f,0),isNaN(i.diameter)&&Op(i,0),n=Math.max(n,(f.diameter+i.diameter)/2);a=n+e,u=s===yp?(n+e)/(2*Math.PI/l):pp(this,a*(360<=d?l:l-1),h,c*Math.PI/180,d*Math.PI/180)}else u=pp(this,i+(360<=d?l:l-1)*(s!==bp?e:1.6*e),h,c*Math.PI/180,d*Math.PI/180);n=u*h}else if(f=fp(this,u,n=u*h,c*Math.PI/180,d*Math.PI/180),isNaN(e))s!==mp&&s!==bp||(e=(f-i)/(360<=d?l:l-1));else if(s===mp||s===bp)(f=(f-i)/(360<=d?l:l-1))<e?n=(u=pp(this,i+e*(360<=d?l:l-1),h,c*Math.PI/180,d*Math.PI/180))*h:e=f;else{for(a=-1/0,i=0;i<l;i++)p=o.L(i),g=o.L(i===l-1?0:i+1),isNaN(p.diameter)&&Op(p,0),isNaN(g.diameter)&&Op(g,0),a=Math.max(a,(p.diameter+g.diameter)/2);(i=pp(this,(a+=e)*(360<=d?l:l-1),h,c*Math.PI/180,d*Math.PI/180))>u?n=(u=i)*h:a=f/(360<=d?l:l-1)}if(this.iw=s,this.kc=u,this.Zm=h,this.jw=c,this.Tp=d,this.Ti=e,this.ke=n,this.Hp=a,e=o,o=this.iw,s=this.kc,u=this.jw,h=this.Tp,c=this.Ti,d=this.ke,l=this.Hp,this.direction!==kp&&this.direction!==_p||o!==bp)if(this.direction===kp||this.direction===_p){switch(a=0,o){case vp:a=180*gp(this,s,d,u,l)/Math.PI;break;case mp:l=e=0,null!==(a=t.first())&&(e=Op(a,Math.PI/2)),null!==(a=r.first())&&(l=Op(a,Math.PI/2)),a=180*gp(this,s,d,u,c+(e+l)/2)/Math.PI;break;case yp:a=h/e.length}if(this.direction===kp){switch(o){case vp:sp(this,t,u,wp);break;case mp:ap(this,t,u,wp);break;case yp:op(this,t,h/2,u,wp)}switch(o){case vp:sp(this,r,u+a,xp);break;case mp:ap(this,r,u+a,xp);break;case yp:op(this,r,h/2,u+a,xp)}}else{switch(o){case vp:sp(this,r,u,wp);break;case mp:ap(this,r,u,wp);break;case yp:op(this,r,h/2,u,wp)}switch(o){case vp:sp(this,t,u+a,xp);break;case mp:ap(this,t,u+a,xp);break;case yp:op(this,t,h/2,u+a,xp)}}}else switch(o){case vp:sp(this,e,u,this.direction);break;case mp:ap(this,e,u,this.direction);break;case yp:op(this,e,h,u,this.direction);break;case bp:lp(this,e,h,u,this.direction)}else lp(this,e,h,u-h/2,xp)}this.updateParts(),this.network=null,this.isValidLayout=!0},rp.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},rp.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,i=this.actualCenter;t?i=new pt(0,0):(i.x=this.arrangementOrigin.x+this.kc,i.y=this.arrangementOrigin.y+this.ke);for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;r.x+=i.x,r.y+=i.y,r.commit()}t&&(this.group.Va(),t=this.group.position.copy(),i=this.group.location.copy(),e=e.qe(i.qe(t)),this.group.move(e),this.Xv=e.qe(t))},rp.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},rp.prototype.sort=function(t){switch(this.sorting){case Sp:break;case Cp:t.reverse();break;case Mp:t.sort(this.comparer);break;case Pp:t.sort(this.comparer),t.reverse();break;case Tp:return this.$j(function(t){for(var e=[],i=0;i<t.length;i++)e.push(0);i=new Z;for(var n=0;n<t.length;n++){var r=-1,o=-1;if(0===n)for(var a=0;a<t.length;a++){var s=t.L(a).edgesCount;s>r&&(r=s,o=a)}else for(a=0;a<t.length;a++)(s=e[a])>r&&(r=s,o=a);for(i.add(t.L(o)),e[o]=-1,a=(o=t.L(o)).sourceEdges;a.next();)0>(r=t.indexOf(a.value.fromVertex))||0<=e[r]&&e[r]++;for(o=o.destinationEdges;o.next();)0>(r=t.indexOf(o.value.toVertex))||0<=e[r]&&e[r]++}return i}(t));default:w("Invalid sorting type.")}return t},rp.prototype.$j=function(t){for(var e=[],i=0;i<t.length;i++){var n=t.L(i);e[i]=[];for(var r,o=n.destinationEdges;o.next();)(r=t.indexOf(o.value.toVertex))!==i&&0>e[i].indexOf(r)&&e[i].push(r);for(n=n.sourceEdges;n.next();)(r=t.indexOf(n.value.fromVertex))!==i&&0>e[i].indexOf(r)&&e[i].push(r)}for(o=[],i=0;i<e.length;i++)o[i]=0;i=[];var a=[],s=[];n=[],r=new Z;for(var l=0,u=0;u<e.length;u++){var h=e[u].length;if(1===h)n.push(u);else if(0===h)r.add(t.L(u));else{if(0===l)i.push(u);else{for(var c=h=1/0,d=-1,f=[],p=0;p<i.length;p++)0>e[i[p]].indexOf(i[p===i.length-1?0:p+1])&&f.push(p===i.length-1?0:p+1);if(0===f.length)for(p=0;p<i.length;p++)f.push(p);for(p=0;p<f.length;p++){for(var g=f[p],m=e[u],v=0,y=0;y<a.length;y++){var b=o[a[y]],x=o[s[y]];if(b<x){var w=b;b=x}else w=x;if(w<g&&g<=b)for(x=0;x<m.length;x++){var k=m[x];0>i.indexOf(k)||w<o[k]&&o[k]<b||w===o[k]||b===o[k]||v++}else for(x=0;x<m.length;x++)k=m[x],0>i.indexOf(k)||w<o[k]&&o[k]<b&&w!==o[k]&&b!==o[k]&&v++}for(m=v,y=v=0;y<e[u].length;y++)0<=(w=i.indexOf(e[u][y]))&&(v+=(w=Math.abs(g-(w>=g?w+1:w)))<i.length+1-w?w:i.length+1-w);for(y=0;y<a.length;y++)(w=o[a[y]])>=g&&w++,(b=o[s[y]])>=g&&b++,w>b&&(x=b,b=w,w=x),b-w<(i.length+2)/2===(w<g&&g<=b)&&v++;(m<h||m===h&&v<c)&&(h=m,c=v,d=g)}for(i.splice(d,0,u),h=0;h<i.length;h++)o[i[h]]=h;for(h=0;h<e[u].length;h++)c=e[u][h],0<=i.indexOf(c)&&(a.push(u),s.push(c))}l++}}for(a=i.length;;){for(o=!0,s=0;s<n.length;s++)if(u=e[l=n[s]][0],0<=(h=i.indexOf(u))){for(d=c=0;d<e[u].length;d++)0>(f=i.indexOf(e[u][d]))||f===h||(c+=f<h!==(p=f>h?f-h:h-f)>a-p?1:-1);i.splice(0>c?h:h+1,0,l),n.splice(s,1),s--}else o=!1;if(o)break;i.push(n[0]),n.splice(0,1)}for(e=0;e<i.length;e++)r.add(t.L(i[e]));return r},d.Object.defineProperties(rp.prototype,{radius:{get:function(){return this.eo},set:function(t){this.eo!==t&&(0<t||isNaN(t))&&(this.eo=t,this.D())}},aspectRatio:{get:function(){return this.Cm},set:function(t){this.Cm!==t&&0<t&&(this.Cm=t,this.D())}},startAngle:{get:function(){return this.ro},set:function(t){this.ro!==t&&(this.ro=t,this.D())}},sweepAngle:{get:function(){return this.sl},set:function(t){this.sl!==t&&(this.sl=0<t&&360>=t?t:360,this.D())}},arrangement:{get:function(){return this.Pb},set:function(t){this.Pb===t||t!==bp&&t!==mp&&t!==vp&&t!==yp||(this.Pb=t,this.D())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==xp&&t!==wp&&t!==kp&&t!==_p||(this.K=t,this.D())}},sorting:{get:function(){return this.hd},set:function(t){this.hd===t||t!==Sp&&t!==Cp&&t!==Mp&&!Pp&&t!==Tp||(this.hd=t,this.D())}},comparer:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.cd=t,this.D())}},spacing:{get:function(){return this.tf},set:function(t){this.tf!==t&&(this.tf=t,this.D())}},nodeDiameterFormula:{get:function(){return this.Nn},set:function(t){this.Nn===t||t!==Dp&&t!==Np||(this.Nn=t,this.D())}},actualXRadius:{get:function(){return this.kc}},actualYRadius:{get:function(){return this.ke}},actualSpacing:{get:function(){return this.Ti}},actualCenter:{get:function(){return this.Xv}}});var mp=new z(rp,"ConstantSpacing",0),vp=new z(rp,"ConstantDistance",1),yp=new z(rp,"ConstantAngle",2),bp=new z(rp,"Packed",3),xp=new z(rp,"Clockwise",4),wp=new z(rp,"Counterclockwise",5),kp=new z(rp,"BidirectionalLeft",6),_p=new z(rp,"BidirectionalRight",7),Sp=new z(rp,"Forwards",8),Cp=new z(rp,"Reverse",9),Mp=new z(rp,"Ascending",10),Pp=new z(rp,"Descending",11),Tp=new z(rp,"Optimized",12),Dp=new z(rp,"Pythagorean",13),Np=new z(rp,"Circular",14);function Ip(){this.Nl=-1/0,this.tm=this.kk=null}function Ep(t){Ad.call(this,t)}function Ap(t){Bd.call(this,t),this.u=this.Si=NaN}function Op(t,e){var i=t.network;if(null===i)return NaN;if(null===(i=i.layout))return NaN;if(i.arrangement===bp)if(i.nodeDiameterFormula===Np)t.Si=Math.max(t.width,t.height);else{if(i=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===i)return t.width;if(0===e)return t.height;t.Si=Math.min(t.height/i,t.width/e)}else t.Si=i.nodeDiameterFormula===Np?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Si}function Lp(t){zd.call(this,t)}function Rp(t){Nd.call(this),this.$g=null,this.An=0,this.Yd=new Nt(100,100).freeze(),this.Bm=!1,this.sf=!0,this.qd=!1,this.bl=100,this.$m=1,this.Yf=1e3,this.In=10,this.fo=Math,this.Fk=.05,this.Ek=50,this.Ck=150,this.Dk=0,this.Vm=10,this.Um=5,t&&Object.assign(this,t)}function jp(t,e,i){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.$g=t.network.vertexes.Fa(),(t=t.$g).sort((function(t,e){return null===t||null===e||t===e?0:e.Td-t.Td})),e=t.length-1;0<=e&&1>=t[e].Td;)e--;return 1<t.length-e}(t,e)){var n=t.Yf;t.Yf*=1+1/(e+1);var r=function(t,e){for(var i=t.network,n=new Up(t),r=0;r<t.$g.length;r++){var o=t.$g[r];if(!(1<o.Td))break;n.bh(o);var a=new Wp;a.Os=o.Td,a.Ps=o.width,a.Ns=o.height,a.Qv=o.focus.x,a.Rv=o.focus.y,null===o.Ve&&(o.Ve=new Z),o.Ve.add(a),o.sv=o.Ve.count-1}for(o=i.edges.iterator;o.next();){var s=o.value;r=s.fromVertex,a=s.toVertex,r.network===n&&a.network===n?n.Bo(s):r.network===n?(null===(s=r.Hj)&&(s=new Z,r.Hj=s),s.add(a),r.Td--,r.rh+=a.rh):a.network===n&&(null===(s=a.Hj)&&(s=new Z,a.Hj=s),s.add(r),a.Td--,a.rh+=r.rh)}for(r=n.edges.iterator;r.next();)(o=r.value).length*=Math.max(1,We.sqrt((o.fromVertex.rh+o.toVertex.rh)/(4*e+1)));for(e=n.vertexes.iterator;e.next();){var l=(r=e.value).Hj;if(null!==l&&0<l.count&&!(0>=(a=r.Ve.L(r.Ve.count-1).Os-r.Td))){for(var u=s=0,h=l.count-a;h<l.count;h++){var c=l.L(h),d=null;for(o=c.edges.iterator;o.next();){var f=o.value;if(f.Ax(c)===r){d=f;break}}null!==d&&(u+=d.length,s+=c.width*c.height)}o=r.centerX,l=r.centerY,h=r.width,c=r.height,d=r.focus,1>(f=h*c)&&(f=1),a=((s=We.sqrt((s+f+u*u*4/(a*a))/f))-1)*h/2,s=(s-1)*c/2,r.bounds=new Ot(o-d.x-a,l-d.y-s,h+2*a,c+2*s),r.focus=new pt(d.x+a,d.y+s)}}return t.network=n,i}(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10));for(t.maxIterations+=o,jp(t,e+1,i),Hp(t,o),function(t,e){for(var i=t.network.vertexes.iterator;i.next();){var n=i.value;if(n.network=e,null!==n.Ve){var r=n.Ve.L(n.sv);n.Td=r.Os;var o=r.Qv,a=r.Rv;n.bounds=new Ot(n.centerX-o,n.centerY-a,r.Ps,r.Ns),n.focus=new pt(o,a),n.sv--}}for(i=t.network.edges.iterator;i.next();)i.value.network=e;t.network=e}(t,r),(e=r.vertexes.Fa()).sort((function(t,e){return null===t||null===e||t===e?0:e.Td-t.Td})),i=0;i<e.length;i++)Bp(t,e[i]);t.Yf=n}}function Bp(t,e){var i=e.Hj;if(null!==i&&0!==i.count){var n=e.centerX,r=e.centerY,o=e.width,a=e.height;null!==e.Ve&&0<e.Ve.count&&(o=(a=e.Ve.L(0)).Ps,a=a.Ns),o=We.sqrt(o*o+a*a)/2;for(var s=!1,l=a=0,u=0,h=e.vertexes.iterator;h.next();){var c=h.value;1>=c.Td?l++:(s=!0,u++,a+=Math.atan2(e.centerY-c.centerY,e.centerX-c.centerX))}if(0!==l)for(0<u&&(a/=u),u=e=0,e=s?2*Math.PI/(l+1):2*Math.PI/l,0===l%2&&(u=e/2),1<i.count&&i.sort((function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height})),s=0===l%2?0:1,i=i.iterator;i.next();)if(!(1<(l=i.value).Td||t.isFixed(l))){for(h=null,c=l.edges.iterator;c.next();){h=c.value;break}c=l.width;var d=l.height;c=We.sqrt(c*c+d*d)/2,h=o+h.length+c,c=a+(e*(s/2>>1)+u)*(0===s%2?1:-1),l.centerX=n+h*Math.cos(c),l.centerY=r+h*Math.sin(c),s++}}}function Fp(t,e,i,n,r,o,a){var s=9e19,l=-1,u=0;t:for(;u<e;u++){var h=t[u],c=h.x-i,d=h.y-n;if((c=c*c+d*d)<s){for(d=u-1;0<=d;d--)if(t[d].y>h.y&&t[d].x-h.x<r+a.width)continue t;for(d=u+1;d<e;d++)if(t[d].x>h.x&&t[d].y-h.y<o+a.height)continue t;l=u,s=c}}return l}function zp(t,e){var i=t.bounds,n=i.x;t=i.y;var r=i.width;i=i.height;var o=e.bounds,a=o.x;e=o.y;var s=o.width;return o=o.height,n+r<a?t>e+o?(i=n+r-a,t=t-e-o,We.sqrt(i*i+t*t)):t+i<e?(n=n+r-a,t=t+i-e,We.sqrt(n*n+t*t)):a-(n+r):n>a+s?t>e+o?(i=n-a-s,t=t-e-o,We.sqrt(i*i+t*t)):t+i<e?(n=n-a-s,t=t+i-e,We.sqrt(n*n+t*t)):n-(a+s):t>e+o?t-(e+o):t+i<e?e-(t+i):.1}function Hp(t,e){for(t.$g=null,e=t.An+e;t.An<e&&(t.An++,Vp(t)););t.$g=null}function Vp(t){null===t.$g&&(t.$g=t.network.vertexes.Fa());var e=t.$g;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.centerX,r=n,o=i=i.centerY,a=1;a<e.length;a++){var s=e[a];s.forceX=0,s.forceY=0;var l=s.centerX;s=s.centerY,n=Math.min(n,l),r=Math.max(r,l),i=Math.min(i,s),o=Math.max(o,s)}(r=r-n>o-i)?e.sort((function(t,e){return null===t||null===e||t===e?0:t.centerX-e.centerX})):e.sort((function(t,e){return null===t||null===e||t===e?0:t.centerY-e.centerY})),i=t.Yf;var u=n=s=0;for(o=0;o<e.length;o++){n=(a=e[o]).bounds,s=a.focus,l=n.x+s.x;var h=n.y+s.y;n=a.charge*t.electricalFieldX(l,h),u=a.charge*t.electricalFieldY(l,h),n+=a.mass*t.gravitationalFieldX(l,h),u+=a.mass*t.gravitationalFieldY(l,h),a.forceX+=n,a.forceY+=u;for(var c=o+1;c<e.length;c++){var d=e[c];if(d!==a){n=d.bounds,s=d.focus,u=n.x+s.x;var f=n.y+s.y;if(l-u>i||u-l>i){if(r)break}else if(h-f>i||f-h>i){if(!r)break}else{var p=zp(a,d);1>p?(null===(n=t.randomNumberGenerator)&&(t.randomNumberGenerator=n=new Yp),p=n.random(),s=n.random(),l>u?n=(1+(n=Math.abs(d.bounds.right-a.bounds.x)))*p:l<u?n=-(1+(n=Math.abs(d.bounds.x-a.bounds.right)))*p:n=(1+(n=Math.max(d.width,a.width)))*p-n/2,h>f?u=(1+(u=Math.abs(d.bounds.bottom-a.bounds.y)))*s:l<u?u=-(1+(u=Math.abs(d.bounds.y-a.bounds.bottom)))*s:u=(1+(u=Math.max(d.height,a.height)))*s-u/2):(n=(u-l)/p*(s=-a.charge*d.charge/(p*p)),u=(f-h)/p*s),a.forceX+=n,a.forceY+=u,d.forceX-=n,d.forceY-=u}}}}for(r=t.network.edges.iterator;r.next();)i=(s=r.value).fromVertex,o=s.toVertex,a=i.bounds,l=i.focus,n=a.x+l.x,a=a.y+l.y,h=o.bounds,c=o.focus,l=h.x+c.x,h=h.y+c.y,1>(c=zp(i,o))?(null===(c=t.randomNumberGenerator)&&(t.randomNumberGenerator=c=new Yp),s=c.random(),c=c.random(),n=(n>l?1:-1)*(1+(o.width>i.width?o.width:i.width))*s,u=(a>h?1:-1)*(1+(o.height>i.height?o.height:i.height))*c):(n=(l-n)/c*(s=s.stiffness*(c-s.length)),u=(h-a)/c*s),i.forceX+=n,i.forceY+=u,o.forceX-=n,o.forceY-=u;for(r=n=0;r<e.length;r++)i=e[r],t.isFixed(i)?t.moveFixedVertex(i):n=Math.max(n,t.moveVertex(i)||0);return n>t.epsilonDistance*t.epsilonDistance}function Wp(){this.Rv=this.Qv=this.Ns=this.Ps=this.Os=0}function Up(t){Ad.call(this,t)}function Gp(t){Bd.call(this,t),this.ga=!1,this.Ha=this.u=NaN,this.rh=this.Td=this.V=this.F=0,this.Ve=this.Hj=null,this.sv=0}function Kp(t){zd.call(this,t),this.j=this.o=NaN}function Yp(){var t=0;void 0===t&&(t=42),this.seed=t,this.ey=48271,this.hy=2147483647,this.Q=44488.07041494893,this.iy=3399,this.gy=1/2147483647,this.random()}function Xp(t){Nd.call(this),this.jc=this.ge=25,this.K=0,this.Bk=Ig,this.Xk=Og,this.Ok=jg,this.bj=4,this.pk=Hg,this.ag=15,this.sf=!0,this.Cn=4,this.Ra=this.Fq=this.Ia=-1,this.Hd=this.Hn=0,this.Ta=this.Fd=this.Gd=this.fe=this.sc=null,this.Kn=0,this.Jn=this.kj=null,this.je=0,this.dl=null,this.Rf=new pt,this.Ge=[],this.Ge.length=100,this.vw=this.ue=0,t&&Object.assign(this,t)}function qp(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function Zp(t){null===t.kj&&(t.kj=[]);for(var e=0,i=t.network.vertexes.iterator;i.next();){var n=i.value;t.kj[e]=n.layer,e++,t.kj[e]=n.column,e++,t.kj[e]=n.index,e++}return t.kj}function Jp(t,e){var i=0;for(t=t.network.vertexes.iterator;t.next();){var n=t.value;n.layer=e[i],i++,n.column=e[i],i++,n.index=e[i],i++}}function Qp(t,e,i){var n=Dg(t,e),r=t.sc[e];(null===t.Jn||t.Jn.length<r*r)&&(t.Jn=[]);for(var o=t.Jn,a=0;a<r;a++){var s,l=0,u=n[a],h=u.near;if(null!==h&&h.layer===u.layer)if((u=h.index)>a)for(var c=a+1;c<u;c++){var d=n[c];d.near===h&&d.Dj===h.Dj||l++}else for(c=a-1;c>u;c--)(d=n[c]).near===h&&d.Dj===h.Dj||l++;if(0<=i)for(u=n[a].sourceEdgesArrayAccess,h=0;h<u.length;h++){var f=u[h];if(f.valid&&f.fromVertex.layer!==e)for(d=f.fromVertex.index,c=f.portToPos,f=f.portFromPos,s=h+1;s<u.length;s++){var p=u[s];if(p.valid&&p.fromVertex.layer!==e){var g=p.fromVertex.index,m=p.portToPos;p=p.portFromPos,c<m&&(d>g||d===g&&f>p)&&l++,m<c&&(g>d||g===d&&p>f)&&l++}}}if(0>=i)for(u=n[a].destinationEdgesArrayAccess,h=0;h<u.length;h++)if((f=u[h]).valid&&f.toVertex.layer!==e)for(d=f.toVertex.index,c=f.portToPos,f=f.portFromPos,s=h+1;s<u.length;s++)(p=u[s]).valid&&p.toVertex.layer!==e&&(g=p.toVertex.index,m=p.portToPos,f<(p=p.portFromPos)&&(d>g||d===g&&c>m)&&l++,p<f&&(g>d||g===d&&m>c)&&l++);for(o[a*r+a]=l,u=a+1;u<r;u++){var v=0,y=0;if(0<=i){l=n[a].sourceEdgesArrayAccess;var b=n[u].sourceEdgesArrayAccess;for(h=0;h<l.length;h++)if((f=l[h]).valid&&f.fromVertex.layer!==e)for(d=f.fromVertex.index,f=f.portFromPos,s=0;s<b.length;s++)(p=b[s]).valid&&p.fromVertex.layer!==e&&(g=p.fromVertex.index,p=p.portFromPos,(d<g||d===g&&f<p)&&y++,(g<d||g===d&&p<f)&&v++)}if(0>=i)for(l=n[a].destinationEdgesArrayAccess,b=n[u].destinationEdgesArrayAccess,h=0;h<l.length;h++)if((f=l[h]).valid&&f.toVertex.layer!==e)for(d=f.toVertex.index,c=f.portToPos,s=0;s<b.length;s++)(p=b[s]).valid&&p.toVertex.layer!==e&&(g=p.toVertex.index,m=p.portToPos,(d<g||d===g&&c<m)&&y++,(g<d||g===d&&m<c)&&v++);o[a*r+u]=v,o[u*r+a]=y}}return Ng(t,e,n),o}function $p(t){for(var e=0,i=0;i<=t.Ia;i++){for(var n=t,r=i,o=Dg(n,r),a=n.sc[r],s=0,l=0;l<a;l++){var u=o[l].destinationEdgesArrayAccess;if(null!==u)for(var h=0;h<u.length;h++){var c=u[h];if(c.valid&&c.toVertex.layer!==r){var d=c.fromVertex.column+c.portFromColOffset,f=c.toVertex.column+c.portToColOffset;s+=(Math.abs(d-f)+1)*qp(c)}}}Ng(n,r,o),e+=s}return e}function tg(t,e,i){for(var n=Dg(t,e),r=t.sc[e],o=[],a=0;a<r;a++){var s=n[a],l=null;0>=i&&(l=s.sourceEdgesArrayAccess);var u=null;0<=i&&(u=s.destinationEdgesArrayAccess);var h=0,c=0,d=s.near;if(null!==d&&d.layer===s.layer&&(h+=d.column-1,c++),null!==l)for(d=0;d<l.length;d++){var f=(s=l[d]).fromVertex;s.valid&&!s.rev&&f.layer!==e&&(h+=f.column,c++)}if(null!==u)for(l=0;l<u.length;l++)d=(s=u[l]).toVertex,s.valid&&!s.rev&&d.layer!==e&&(h+=d.column,c++);o[a]=0===c?-1:h/c}return Ng(t,e,n),o}function eg(t,e,i){for(var n=Dg(t,e),r=t.sc[e],o=[],a=0;a<r;a++){var s=n[a],l=null;0>=i&&(l=s.sourceEdgesArrayAccess);var u=null;0<=i&&(u=s.destinationEdgesArrayAccess);var h=0,c=[],d=s.near;if(null!==d&&d.layer===s.layer&&(c[h]=d.column-1,h++),s=void 0,null!==l)for(d=0;d<l.length;d++){var f=(s=l[d]).fromVertex;s.valid&&!s.rev&&f.layer!==e&&(c[h]=f.column+s.portFromColOffset,h++)}if(null!==u)for(l=0;l<u.length;l++)d=(s=u[l]).toVertex,s.valid&&!s.rev&&d.layer!==e&&(c[h]=d.column+s.portToColOffset,h++);0===h?o[a]=-1:(c.sort((function(t,e){return t-e})),u=h>>1,o[a]=0!==(1&h)?c[u]:c[u-1]+c[u]>>1)}return Ng(t,e,n),o}function ig(t,e,i,n,r,o){if(e.component===n){if(e.component=i,r)for(var a=e.destinationEdges;a.next();){var s=a.value,l=s.toVertex,u=e.layer-l.layer;u===(s=t.linkMinLength(s))&&ig(t,l,i,n,r,o)}if(o)for(a=e.sourceEdges;a.next();)(u=(l=(s=a.value).fromVertex).layer-e.layer)===(s=t.linkMinLength(s))&&ig(t,l,i,n,r,o)}}function ng(t,e,i,n,r,o){if(e.component===n){if(e.component=i,r)for(var a=e.destinationEdges;a.next();)ng(t,a.value.toVertex,i,n,r,o);if(o)for(e=e.sourceEdges;e.next();)ng(t,e.value.fromVertex,i,n,r,o)}}function rg(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function og(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.destinationEdges;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function ag(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.sourceEdges;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function sg(t,e){e.Jl=t.Kn,t.Kn++;for(var i=e.destinationEdges;i.next();){var n=i.value,r=n.toVertex;-1===r.Jl&&(n.forest=!0,sg(t,r))}e.finish=t.Kn,t.Kn++}function lg(t){for(var e=t.network.vertexes.iterator;e.next();){var i=ug(t,e.value);t.Ia=Math.max(i,t.Ia)}}function ug(t,e){var i=0;if(-1===e.layer){for(var n=e.destinationEdges;n.next();){var r=n.value,o=r.toVertex;r=t.linkMinLength(r),i=Math.max(i,ug(t,o)+r)}e.layer=i}else i=e.layer;return i}function hg(t,e){var i=0;if(-1===e.layer){for(var n=e.sourceEdges;n.next();){var r=n.value,o=r.fromVertex;r=t.linkMinLength(r),i=Math.max(i,hg(t,o)+r)}e.layer=i}else i=e.layer;return i}function cg(t,e){if(!e.valid){e.valid=!0;for(var i=e.destinationEdges;i.next();)cg(t,i.value.toVertex);for(i=t.network.vertexes.iterator;i.next();)i.value.component=-1;for(var n=e.sourceEdgesArrayAccess,r=n.length,o=0;o<r;o++){var a=n[o],s=a.fromVertex,l=a.toVertex;a=t.linkMinLength(a),s.layer-l.layer>a&&ig(t,s,0,-1,!0,!1)}for(ig(t,e,1,-1,!0,!0);0!==e.component;){for(o=0,n=1/0,s=0,l=null,a=t.network.vertexes.iterator;a.next();){var u=a.value;if(1===u.component){var h=0,c=!1,d=u.sourceEdgesArrayAccess;r=d.length;for(var f=0;f<r;f++){var p=d[f],g=p.fromVertex;h+=1,1!==g.component&&(o+=1,g=g.layer-u.layer,p=t.linkMinLength(p),n=Math.min(n,g-p))}for(r=(d=u.destinationEdgesArrayAccess).length,f=0;f<r;f++)--h,1!==(p=d[f].toVertex).component?--o:c=!0;(null===l||h<s)&&!c&&(l=u,s=h)}}if(0<o){for(i.reset();i.next();)1===(r=i.value).component&&(r.layer+=n);e.component=0}else l.component=0}for(i=t.network.vertexes.iterator;i.next();)i.value.component=-1;for(ig(t,e,1,-1,!0,!1);0!==e.component;){for(n=0,r=1/0,o=0,s=null,l=t.network.vertexes.iterator;l.next();)if(1===(a=l.value).component){for(u=0,h=!1,c=(d=a.sourceEdgesArrayAccess).length,f=0;f<c;f++)u+=1,1!==(p=d[f].fromVertex).component?n+=1:h=!0;for(c=(d=a.destinationEdgesArrayAccess).length,f=0;f<c;f++)--u,1!==(g=(p=d[f]).toVertex).component&&(--n,g=a.layer-g.layer,p=t.linkMinLength(p),r=Math.min(r,g-p));(null===s||u>o)&&!h&&(s=a,o=u)}if(0>n){for(i.reset();i.next();)1===(n=i.value).component&&(n.layer-=r);e.component=0}else s.component=0}}}function dg(t,e,i){return 90===t.K?i&&!e.rev||!i&&e.rev?270:90:180===t.K?i&&!e.rev||!i&&e.rev?0:180:270===t.K?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function fg(t,e){var i=e.layer;for(e.index=t.sc[i],t.sc[i]++,e=e.destinationEdgesArrayAccess,i=!0;i;){i=!1;for(var n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];r.portFromColOffset>o.portFromColOffset&&(i=!0,e[n]=o,e[n+1]=r)}}for(i=0;i<e.length;i++)(n=e[i]).valid&&(-1===(n=n.toVertex).index&&fg(t,n))}function pg(t,e){var i=e.layer;e.index=t.sc[i],t.sc[i]++,e=e.sourceEdgesArrayAccess;for(var n=!0;n;)for(n=!1,i=0;i<e.length-1;i++){var r=e[i],o=e[i+1];r.portToColOffset>o.portToColOffset&&(n=!0,e[i]=o,e[i+1]=r)}for(i=0;i<e.length;i++)(n=e[i]).valid&&(-1===(n=n.fromVertex).index&&pg(t,n))}function gg(t,e,i){var n=Dg(t,e),r=t.sc[e],o=eg(t,e,i),a=tg(t,e,i);for(i=0;i<r;i++)-1===a[i]&&(a[i]=n[i].column),-1===o[i]&&(o[i]=n[i].column);for(var s,l=!0;l;)for(l=!1,i=0;i<r-1;i++)(o[i+1]<o[i]||o[i+1]===o[i]&&a[i+1]<a[i])&&(l=!0,s=o[i],o[i]=o[i+1],o[i+1]=s,s=a[i],a[i]=a[i+1],a[i+1]=s,s=n[i],n[i]=n[i+1],n[i+1]=s);for(i=o=0;i<r;i++)(s=n[i]).index=i,o+=t.nodeMinColumnSpace(s,!0),s.column=o,o+=1,o+=t.nodeMinColumnSpace(s,!1);Ng(t,e,n)}function mg(t,e,i){var n,r=Dg(t,e),o=t.sc[e];i=Qp(t,e,i);var a=[];for(n=0;n<o;n++)a[n]=-1;var s=[];for(n=0;n<o;n++)s[n]=-1;for(var l=!1,u=!0;u;)for(u=!1,n=0;n<o-1;n++){var h=i[r[n].index*o+r[n+1].index],c=i[r[n+1].index*o+r[n].index],d=0,f=0,p=r[n].column,g=r[n+1].column,m=t.nodeMinColumnSpace(r[n],!0),v=t.nodeMinColumnSpace(r[n],!1),y=t.nodeMinColumnSpace(r[n+1],!0),b=t.nodeMinColumnSpace(r[n+1],!1);m=p-m+y,v=g-v+b;var x=r[n].sourceEdges.iterator;for(x.reset();x.next();)if(b=(y=x.value).fromVertex,y.valid&&b.layer===e){for(y=0;r[y]!==b;)y++;y<n&&(d+=2*(n-y),f+=2*(n+1-y)),y===n+1&&(d+=1),y>n+1&&(d+=4*(y-n),f+=4*(y-(n+1)))}for((x=r[n].destinationEdges.iterator).reset();x.next();)if(b=(y=x.value).toVertex,y.valid&&b.layer===e){for(y=0;r[y]!==b;)y++;y===n+1&&(f+=1)}for((x=r[n+1].sourceEdges.iterator).reset();x.next();)if(b=(y=x.value).fromVertex,y.valid&&b.layer===e){for(y=0;r[y]!==b;)y++;y<n&&(d+=2*(n+1-y),f+=2*(n-y)),y===n&&(f+=1),y>n+1&&(d+=4*(y-(n+1)),f+=4*(y-n))}for((x=r[n+1].destinationEdges.iterator).reset();x.next();)if(b=(y=x.value).toVertex,y.valid&&b.layer===e){for(y=0;r[y]!==b;)y++;y===n&&(d+=1)}y=b=0,x=a[r[n].index];var w=s[r[n].index],k=a[r[n+1].index],_=s[r[n+1].index];-1!==x&&(b+=Math.abs(x-p),y+=Math.abs(x-v)),-1!==w&&(b+=Math.abs(w-p),y+=Math.abs(w-v)),-1!==k&&(b+=Math.abs(k-g),y+=Math.abs(k-m)),-1!==_&&(b+=Math.abs(_-g),y+=Math.abs(_-m)),(f<d-.5||f===d&&c<h-.5||f===d&&c===h&&y<b-.5)&&(u=l=!0,r[n].column=v,r[n+1].column=m,h=r[n],r[n]=r[n+1],r[n+1]=h)}for(n=0;n<o;n++)r[n].index=n;return Ng(t,e,r),l}function vg(t,e,i){for(var n=!1;yg(t,e,i);)n=!0;return n}function yg(t,e,i){var n,r=Dg(t,e),o=t.sc[e],a=tg(t,e,-1);if(0<i)for(n=0;n<o;n++)a[n]=-1;var s=tg(t,e,1);if(0>i)for(n=0;n<o;n++)s[n]=-1;for(var l=!1,u=!0;u;)for(u=!1,n=0;n<o;n++){var h=r[n].column,c=t.nodeMinColumnSpace(r[n],!0),d=t.nodeMinColumnSpace(r[n],!1),f=0;f=0>n-1||h-r[n-1].column-1>c+t.nodeMinColumnSpace(r[n-1],!1)?h-1:h,c=n+1>=o||r[n+1].column-h-1>d+t.nodeMinColumnSpace(r[n+1],!0)?h+1:h;var p=d=0,g=0;if(0>=i)for(var m=r[n].sourceEdges.iterator;m.next();){var v=m.value,y=v.fromVertex;if(v.valid&&y.layer!==e){var b=qp(v),x=v.portFromColOffset;v=v.portToColOffset,y=y.column,d+=(Math.abs(h+v-(y+x))+1)*b,p+=(Math.abs(f+v-(y+x))+1)*b,g+=(Math.abs(c+v-(y+x))+1)*b}}if(0<=i)for(m=r[n].destinationEdges.iterator;m.next();)y=(v=m.value).toVertex,v.valid&&y.layer!==e&&(b=qp(v),x=v.portFromColOffset,v=v.portToColOffset,y=y.column,d+=(Math.abs(h+x-(y+v))+1)*b,p+=(Math.abs(f+x-(y+v))+1)*b,g+=(Math.abs(c+x-(y+v))+1)*b);v=x=b=0,m=a[r[n].index],y=s[r[n].index],-1!==m&&(b+=Math.abs(m-h),x+=Math.abs(m-f),v+=Math.abs(m-c)),-1!==y&&(b+=Math.abs(y-h),x+=Math.abs(y-f),v+=Math.abs(y-c)),p<d||p===d&&x<b?(u=l=!0,r[n].column=f):(g<d||g===d&&v<b)&&(u=l=!0,r[n].column=c)}return Ng(t,e,r),t.normalize(),l}function bg(t,e,i){var n=Dg(t,e),r=t.sc[e],o=eg(t,e,i),a=[];for(i=0;i<r;i++)a[i]=o[i];for(o=!0;o;)for(o=!1,i=0;i<r;i++){var s=n[i].column,l=t.nodeMinColumnSpace(n[i],!0),u=t.nodeMinColumnSpace(n[i],!1),h=0;if(-1===a[i])if(0===i&&i===r-1)h=s;else if(0===i){var c=n[i+1].column;h=c-s===u+t.nodeMinColumnSpace(n[i+1],!0)?s-1:s}else i===r-1?h=s-(c=n[i-1].column)===l+t.nodeMinColumnSpace(n[i-1],!1)?s+1:s:h=((l=(c=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+l+1)+(u=(c=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-u-1))/2|0;else 0===i&&i===r-1?h=a[i]:0===i?(u=(c=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-u-1,h=Math.min(a[i],u)):i===r-1?(l=(c=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+l+1,h=Math.max(a[i],l)):(l=(c=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+l+1,u=(c=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-u-1,l<a[i]&&a[i]<u?h=a[i]:l>=a[i]?h=l:u<=a[i]&&(h=u));h!==s&&(o=!0,n[i].column=h)}Ng(t,e,n),t.normalize()}function xg(t,e){for(var i=!0,n=t.network.vertexes.iterator;n.next();){var r=n.value,o=t.nodeMinColumnSpace(r,!0),a=t.nodeMinColumnSpace(r,!1);if(r.column-o<=e&&r.column+a>=e){i=!1;break}}if(t=!1,i)for(n.reset();n.next();)(i=n.value).column>e&&(--i.column,t=!0);return t}function wg(t,e){var i,n=e+1,r=[],o=[];for(i=0;i<=t.Ia;i++)r[i]=!1,o[i]=!1;for(var a=t.network.vertexes.iterator;a.next();){var s=(i=a.value).column-t.nodeMinColumnSpace(i,!0),l=i.column+t.nodeMinColumnSpace(i,!1);s<=e&&l>=e&&(r[i.layer]=!0),s<=n&&l>=n&&(o[i.layer]=!0)}for(s=!0,n=!1,i=0;i<=t.Ia;i++)s=s&&!(r[i]&&o[i]);if(s)for(a.reset();a.next();)(t=a.value).column>e&&(--t.column,n=!0);return n}function kg(t,e){for(var i=0;i<=t.Ra;i++)for(;xg(t,i););for(t.normalize(),i=0;i<t.Ra;i++)for(;wg(t,i););var n;if(t.normalize(),0<e)for(i=0;i<=t.Ra;i++){var r=Zp(t),o=$p(t);for(n=o+1;o<n;){n=o,_g(t,i,1);var a=$p(t);a>o?Jp(t,r):a<o&&(o=a,r=Zp(t))}}if(0>e)for(i=t.Ra;0<=i;i--)for(r=Zp(t),n=(o=$p(t))+1;o<n;)n=o,_g(t,i,-1),(a=$p(t))>o?Jp(t,r):a<o&&(o=a,r=Zp(t));t.normalize()}function _g(t,e,i){t.je=0;for(var n=t.network.vertexes.iterator;n.next();)n.value.component=-1;if(0<i)for(n.reset();n.next();){var r=n.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.je)}if(0>i)for(n.reset();n.next();)(r=n.value).column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.je);for(t.je++,n.reset();n.next();)-1===(e=n.value).component&&(ng(t,e,t.je,-1,!0,!0),t.je++);var o;for(e=[],o=0;o<t.je*t.je;o++)e[o]=!1;for(r=[],o=0;o<(t.Ia+1)*(t.Ra+1);o++)r[o]=-1;for(n.reset();n.next();)for(var a=(o=n.value).layer,s=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),l=Math.min(t.Ra,o.column+t.nodeMinColumnSpace(o,!1));s<=l;s++)r[a*(t.Ra+1)+s]=o.component;for(o=0;o<=t.Ia;o++){if(0<i)for(a=0;a<t.Ra;a++)-1!==r[o*(t.Ra+1)+a]&&-1!==r[o*(t.Ra+1)+a+1]&&r[o*(t.Ra+1)+a]!==r[o*(t.Ra+1)+a+1]&&(e[r[o*(t.Ra+1)+a]*t.je+r[o*(t.Ra+1)+a+1]]=!0);if(0>i)for(a=t.Ra;0<a;a--)-1!==r[o*(t.Ra+1)+a]&&-1!==r[o*(t.Ra+1)+a-1]&&r[o*(t.Ra+1)+a]!==r[o*(t.Ra+1)+a-1]&&(e[r[o*(t.Ra+1)+a]*t.je+r[o*(t.Ra+1)+a-1]]=!0)}for(r=[],o=0;o<t.je;o++)r[o]=!0;for((a=[]).push(0);0!==a.length;)if(l=a[a.length-1],a.pop(),r[l])for(r[l]=!1,o=0;o<t.je;o++)e[l*t.je+o]&&a.splice(0,0,o);if(0<i)for(n.reset();n.next();)r[(t=n.value).component]&&--t.column;if(0>i)for(n.reset();n.next();)r[(i=n.value).component]&&(i.column+=1)}function Sg(t,e,i,n){for(var o=90===t.K||270===t.K,a=r(e),s=a.next();!s.done;s=a.next()){var l=r(s.value);for(s=l.next();!s.done;s=l.next())(s=s.value).od=s,s.shift=1/0,s.yc=NaN,s.pg=0}for(s=90===t.K||270===t.K,l=(a=r(e)).next();!l.done;l=a.next())for(var u=(l=r(l.value)).next();!u.done;u=l.next())if((u=u.value).root===u){for(var h=0,c=u;c.align!==u;){var d=c.align,f=s?c.width:c.height,p=s?d.width:d.height;if(i){var g=Xg(c,d),m=g.portFromPos,v=g.portToPos;null!==g.link&&(c.node&&c.node!==g.link.fromNode&&(m=s?c.focusX:c.focusY),d.node&&d.node!==g.link.toNode&&(v=s?d.focusX:d.focusY))}else m=(g=Xg(d,c)).portToPos,v=g.portFromPos,null!==g.link&&(c.node&&c.node!==g.link.toNode&&(m=s?c.focusX:c.focusY),d.node&&d.node!==g.link.fromNode&&(v=s?d.focusX:d.focusY));f=n?c.pg+(f-m)-(p-v):c.pg+m-v,d.pg=f,h=Math.min(h,f),c=c.align}c=u;do{c.pg=c.pg-h,c=c.align}while(c!==u)}for(s=(i=r(e)).next();!s.done;s=i.next())for(s=(a=r(s.value)).next();!s.done;s=a.next())(s=s.value).root===s&&Cg(t,s,e);for(i=0;i<e.length;i++)if(!(0>=e[i].length)&&(s=e[i][0]).od===s){1/0===s.od.shift&&(s.od.shift=0),s=i,l=0;do{for(a=e[s][l];a.align!==a.root;)s++,0<(a=a.align).vi&&((l=Mg(a,e)).od.shift=Math.min(l.od.shift,a.od.shift+a.yc+a.pg-(l.yc+l.pg+(o?l.width:l.height)+t.columnSpacing)));l=a.vi+1}while(s<e.length&&l<e[s].length&&a.od===e[s][l].od)}for(t=new ft,s=(e=r(e)).next();!s.done;s=e.next())for(s=(i=r(s.value)).next();!s.done;s=i.next())(s=s.value).yc=s.yc+s.od.shift+s.pg,a=o?s.width:s.height,t.add(s,n?-s.yc-a:s.yc);return t}function Cg(t,e,i){if(isNaN(e.yc)){e.yc=0;var n=e;do{if(0<n.vi){var r=Mg(n,i),o=r.root;Cg(t,o,i),e.od===e&&(e.od=o.od);var a=90===t.K||270===t.K?r.width:r.height;e.od===o.od&&(e.yc=Math.max(e.yc,o.yc+r.pg+a-n.pg+t.columnSpacing))}n=n.align}while(n!==e);for(;n.align!==e;)(n=n.align).yc=e.yc,n.od=e.od}}function Mg(t,e){var i=t.Tz;return 1>(t=t.vi)&&w("Could not determine previous vertex in layer"),e[i][t-1]}function Pg(t,e,i,n,r){if(!e||0===e.count)return i[r]=0,n[r]=0,1/0;var o=1/0,a=-1/0;return e.each((function(e){var i=e.key;e=e.value,i=90===t.K||270===t.K?i.width:i.height,e<o&&(o=e),e+i>a&&(a=e+i)})),i[r]=o,n[r]=a,a-o}function Tg(t,e){return 270===t.K?e?Pe:Ne:90===t.K?e?Ne:Pe:180===t.K?e?Te:De:e?De:Te}function Dg(t,e){var i=t.sc[e];if(i>=t.Ge.length){for(var n=[],r=0;r<t.Ge.length;r++)n[r]=t.Ge[r];t.Ge=n}for(void 0===t.Ge[i]||null===t.Ge[i]?n=[]:(n=t.Ge[i],t.Ge[i]=null),t=t.dl[e],e=0;e<t.length;e++)n[(i=t[e]).index]=i;return n}function Ng(t,e,i){t.Ge[t.sc[e]]=i}rp.className="CircularLayout",rp.ConstantSpacing=mp,rp.ConstantDistance=vp,rp.ConstantAngle=yp,rp.Packed=bp,rp.Clockwise=xp,rp.Counterclockwise=wp,rp.BidirectionalLeft=kp,rp.BidirectionalRight=_p,rp.Forwards=Sp,rp.Reverse=Cp,rp.Ascending=Mp,rp.Descending=Pp,rp.Optimized=Tp,rp.Pythagorean=Dp,rp.Circular=Np,Ip.prototype.compare=function(t,e){if(0<t&&0>this.Nl||Math.abs(t)<Math.abs(this.Nl)&&!(0>t&&0<this.Nl))for(this.Nl=t,this.kk=[],this.tm=[],t=0;t<e.length;t++)this.kk[t]=e[t].bounds.x,this.tm[t]=e[t].bounds.y},Ip.prototype.commit=function(t){if(null!==this.kk&&null!==this.tm)for(var e=0;e<this.kk.length;e++){var i=t.L(e);i.x=this.kk[e],i.y=this.tm[e]}},Ip.className="VertexArrangement",c(Ep,Ad),Ep.prototype.createVertex=function(){return new Ap(this)},Ep.prototype.createEdge=function(){return new Lp(this)},Ep.className="CircularNetwork",c(Ap,Bd),d.Object.defineProperties(Ap.prototype,{diameter:{get:function(){return this.Si},set:function(t){this.Si!==t&&(this.Si=t)}},actualAngle:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}}}),Ap.className="CircularVertex",c(Lp,zd),Lp.className="CircularEdge",c(Rp,Nd),Rp.prototype.cloneProtected=function(t){Nd.prototype.cloneProtected.call(this,t),t.Yd.assign(this.Yd),t.Bm=this.Bm,t.sf=this.sf,t.qd=this.qd,t.bl=this.bl,t.$m=this.$m,t.Yf=this.Yf,t.In=this.In,t.fo=this.fo,t.Fk=this.Fk,t.Ek=this.Ek,t.Ck=this.Ck,t.Dk=this.Dk,t.Vm=this.Vm,t.Um=this.Um},Rp.prototype.createNetwork=function(){return new Up(this)},Rp.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),t=this.maxIterations,0<this.network.vertexes.count){this.network.Ko();for(var e=this.network.vertexes.iterator;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.iterator;e.next();)(i=e.value).stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.Bu(),this.An=0,this.needsClusterLayout()){for(var n=(i=(e=this.network).ay()).iterator;n.next();){this.network=n.value;for(var r=this.network.vertexes.iterator;r.next();){var o=r.value;o.Td=o.vertexes.count,o.rh=1,o.Hj=null,o.Ve=null}jp(this,0,t)}this.network=e;var a=n=i.iterator;n=this.arrangementSpacing;var s=a.count,l=!0;o=r=0;for(var u=N(),h=0;h<s+e.vertexes.count+2;h++)u[h]=null;s=0,a.reset();for(var c=Ot.alloc();a.next();)if(h=a.value,this.computeBounds(h,c),l)l=!1,r=c.x+c.width/2,o=c.y+c.height/2,u[0]=new pt(c.x+c.width+n.width,c.y),u[1]=new pt(c.x,c.y+c.height+n.height),s=2;else{var d=Fp(u,s,r,o,c.width,c.height,n),f=u[d],p=new pt(f.x+c.width+n.width,f.y),g=new pt(f.x,f.y+c.height+n.height);for(d+1<s&&u.splice(d+1,0,null),u[d]=p,u[d+1]=g,s++,d=f.x-c.x,f=f.y-c.y,h=h.vertexes.iterator;h.next();)(p=h.value).centerX+=d,p.centerY+=f}for(Ot.free(c),h=e.vertexes.iterator;h.next();)d=(a=h.value).bounds,2>s?(r=d.x+d.width/2,o=d.y+d.height/2,u[0]=new pt(d.x+d.width+n.width,d.y),u[1]=new pt(d.x,d.y+d.height+n.height),s=2):(f=new pt((c=u[l=Fp(u,s,r,o,d.width,d.height,n)]).x+d.width+n.width,c.y),d=new pt(c.x,c.y+d.height+n.height),l+1<s&&u.splice(l+1,0,null),u[l]=f,u[l+1]=d,s++,a.centerX=c.x+a.width/2,a.centerY=c.y+a.height/2);for(I(u),n=i.iterator;n.next();){for(r=(i=n.value).vertexes.iterator;r.next();)e.bh(r.value);for(i=i.edges.iterator;i.next();)e.Bo(i.value)}}Hp(this,t),this.updateParts()}this.bl=t,this.network=null,this.isValidLayout=!0},Rp.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().bounds,n=this.network.vertexes.iterator;n.next();){if(n.value.bounds.Vc(i)&&2<++t)return!0;if(10<e)break;e++}return!1},Rp.prototype.computeBounds=function(t,e){var i=!0;for(t=t.vertexes.iterator;t.next();){var n=t.value;i?(i=!1,e.set(n.bounds)):e.ad(n.bounds)}return e},Rp.prototype.Bu=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Rp.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.Ku();e.next();){var i=e.value;if("Comment"===i.category&&i.isVisible()){var n=this.network.ki(i);null===n&&(n=this.network.zl(i)),n.charge=this.defaultCommentElectricalCharge,i=null;for(var r=n.destinationEdges;r.next();){var o=r.value;if(o.toVertex===t){i=o;break}}if(null===i)for(r=n.sourceEdges;r.next();)if((o=r.value).fromVertex===t){i=o;break}null===i&&(i=this.network.Yj(t,n,null)),i.length=this.defaultCommentSpringLength}}},Rp.prototype.moveVertex=function(t){var e=t.forceX,i=t.forceY,n=this.moveLimit;return e<-n?e=-n:e>n&&(e=n),i<-n?i=-n:i>n&&(i=n),t.centerX+=e,t.centerY+=i,e*e+i*i},Rp.prototype.moveFixedVertex=function(){},Rp.prototype.commitLayout=function(){this.wv(),this.commitNodes(),this.isRouting&&this.commitLinks()},Rp.prototype.wv=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=ke,e.toSpot=ke)}},Rp.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var i=Ot.alloc();this.computeBounds(this.network,i),t=(e=this.arrangementOrigin).x-i.x,e=e.y-i.y,Ot.free(i)}i=Ot.alloc();for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;0===t&&0===e||(i.assign(r.bounds),i.x+=t,i.y+=e,r.bounds=i),r.commit()}Ot.free(i)},Rp.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Rp.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Fk:t},Rp.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Ek:t},Rp.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Ck:t},Rp.prototype.electricalFieldX=function(){return 0},Rp.prototype.electricalFieldY=function(){return 0},Rp.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Dk:t},Rp.prototype.gravitationalFieldX=function(){return 0},Rp.prototype.gravitationalFieldY=function(){return 0},Rp.prototype.isFixed=function(t){return t.isFixed},d.Object.defineProperties(Rp.prototype,{currentIteration:{get:function(){return this.An}},arrangementSpacing:{get:function(){return this.Yd},set:function(t){this.Yd.C(t)||(this.Yd.assign(t),this.D())}},arrangesToOrigin:{get:function(){return this.Bm},set:function(t){this.Bm!==t&&(this.Bm=t,this.D())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.D())}},comments:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t,this.D())}},maxIterations:{get:function(){return this.bl},set:function(t){this.bl!==t&&0<=t&&(this.bl=t,this.D())}},epsilonDistance:{get:function(){return this.$m},set:function(t){this.$m!==t&&0<t&&(this.$m=t,this.D())}},infinityDistance:{get:function(){return this.Yf},set:function(t){this.Yf!==t&&1<t&&(this.Yf=t,this.D())}},moveLimit:{get:function(){return this.In},set:function(t){this.In!==t&&1<t&&(this.In=t,this.D())}},randomNumberGenerator:{get:function(){return this.fo},set:function(t){this.fo!==t&&(null!==t&&"function"!==typeof t.random&&w('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.fo=t)}},defaultSpringStiffness:{get:function(){return this.Fk},set:function(t){this.Fk!==t&&(this.Fk=t,this.D())}},defaultSpringLength:{get:function(){return this.Ek},set:function(t){this.Ek!==t&&(this.Ek=t,this.D())}},defaultElectricalCharge:{get:function(){return this.Ck},set:function(t){this.Ck!==t&&(this.Ck=t,this.D())}},defaultGravitationalMass:{get:function(){return this.Dk},set:function(t){this.Dk!==t&&(this.Dk=t,this.D())}},defaultCommentSpringLength:{get:function(){return this.Vm},set:function(t){this.Vm!==t&&(this.Vm=t,this.D())}},defaultCommentElectricalCharge:{get:function(){return this.Um},set:function(t){this.Um!==t&&(this.Um=t,this.D())}}}),Rp.className="ForceDirectedLayout",Wp.className="ForceDirectedSubnet",c(Up,Ad),Up.prototype.createVertex=function(){return new Gp(this)},Up.prototype.createEdge=function(){return new Kp(this)},Up.className="ForceDirectedNetwork",c(Gp,Bd),d.Object.defineProperties(Gp.prototype,{isFixed:{get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t)}},charge:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},mass:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},forceX:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},forceY:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}}}),Gp.className="ForceDirectedVertex",c(Kp,zd),d.Object.defineProperties(Kp.prototype,{stiffness:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},length:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}}}),Kp.className="ForceDirectedEdge",Yp.prototype.random=function(){var t=this.seed%this.Q*this.ey-this.seed/this.Q*this.iy;return this.seed=0<t?t:t+this.hy,this.seed*this.gy},Yp.className="RandomNumberGenerator",c(Xp,Nd),Xp.prototype.cloneProtected=function(t){Nd.prototype.cloneProtected.call(this,t),t.ge=this.ge,t.jc=this.jc,t.K=this.K,t.Bk=this.Bk,t.Xk=this.Xk,t.Ok=this.Ok,t.bj=this.bj,t.pk=this.pk,t.ag=this.ag,t.sf=this.sf,t.Cn=this.Cn,t.ue=this.ue},Xp.prototype.qb=function(t){t.classType===Xp?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:w("Unknown enum value: "+t):Nd.prototype.qb.call(this,t)},Xp.prototype.createNetwork=function(){return new Gg(this)},Xp.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Fq=-1,this.Hd=this.Hn=0,this.dl=this.Jn=this.kj=null,t=0;t<this.Ge.length;t++)this.Ge[t]=null;if(0<this.network.vertexes.count){for(this.network.Ko(),this.cycleRemoveOption!==Ag&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.Ia=-1,this.assignLayers(),t.reset();t.next();)this.Ia=Math.max(this.Ia,t.value.layer);this.cycleRemoveOption===Ag&&this.removeCycles();for(var e=[],i=(t=this.network).edges.iterator;i.next();){var n=i.value;n.valid=!1,e.push(n)}for(i=0;i<e.length;i++){var r=(n=e[i]).fromVertex,o=n.toVertex;if(!(n.valid||(null===r.node&&null===r.data||null===o.node&&null===o.data)&&r.layer===o.layer)){var a=0,s=0,l=0,u=0;if(null!==n.link){if(null===(s=n.link))continue;var h=r.node;if(a=o.node,null===h||null===a)continue;var c=s.fromNode;l=s.toNode;for(var d=s.fromPort;null!==d&&!d.Rd();)d=d.panel;for(s=s.toPort;null!==s&&!s.Rd();)s=s.panel;if(n.rev){u=c;var f=d;c=l,d=s,l=u,s=f}var p=r.focus;u=o.focus;var g=n.rev?o.bounds:r.bounds;f=pt.alloc(),h!==c?g.w()&&c.isVisible()?c.actualBounds.w()?(Mh(c,d,ie,f),f.x+=c.actualBounds.x-g.x,f.y+=c.actualBounds.y-g.y):(Mh(c,d,ie,f),f.w()||f.assign(p)):f.assign(p):g.w()?(Mh(c,d,ie,f),f.w()||f.assign(p)):f.assign(p),c=n.rev?r.bounds:o.bounds,h=pt.alloc(),a!==l?c.w()&&l.isVisible()?l.actualBounds.w()?(Mh(l,s,ie,h),h.x+=l.actualBounds.x-c.x,h.y+=l.actualBounds.y-c.y):(Mh(l,s,ie,h),h.w()||h.assign(u)):h.assign(u):c.w()?(Mh(l,s,ie,h),h.w()||h.assign(u)):h.assign(u),90===this.K||270===this.K?(a=Math.round((f.x-p.x)/this.jc),l=f.x,s=Math.round((h.x-u.x)/this.jc),u=h.x):(a=Math.round((f.y-p.y)/this.jc),l=f.y,s=Math.round((h.y-u.y)/this.jc),u=h.y),pt.free(f),pt.free(h),n.portFromColOffset=a,n.portFromPos=l,n.portToColOffset=s,n.portToPos=u}else n.portFromColOffset=0,n.portFromPos=0,n.portToColOffset=0,n.portToPos=0;if(f=r.layer,h=o.layer,c=0,null!==(g=n.link)){var m=g.fromPort,v=g.toPort;if(null!==m&&null!==v){var y=g.fromNode;if(d=g.toNode,null!==y&&null!==d){var b=Tg(this,!0),x=Tg(this,!1),w=this.setsPortSpots?b:g.computeSpot(!0,m);p=this.setsPortSpots?x:g.computeSpot(!1,v);var k=g.isOrthogonal;w.Xc()&&w.Hf(x)&&p.Xc()&&p.Hf(b)?c=0:(b=g.getLinkPoint(y,m,w,!0,k,d,v,pt.alloc()),x=g.getLinkDirection(y,m,b,w,!0,k,d,v),pt.free(b),w.vs()||x!==dg(this,n,!0)?this.setsPortSpots&&null!==y&&1===y.ports.count&&n.rev&&(c+=1):c+=1,w=g.getLinkPoint(d,v,p,!1,k,y,m,pt.alloc()),g=g.getLinkDirection(d,v,w,p,!1,k,y,m),pt.free(w),p.vs()||g!==dg(this,n,!1)?this.setsPortSpots&&null!==d&&1===d.ports.count&&n.rev&&(c+=2):c+=2)}}}if(c=1===(d=c)||3===d,(d=2===d||3===d)&&((p=t.createVertex()).node=null,p.Dj=1,p.layer=f,p.near=r,t.bh(p),(r=t.Yj(r,p,n.link)).valid=!1,r.rev=n.rev,r.portFromColOffset=a,r.portToColOffset=0,r.portFromPos=l,r.portToPos=0,r=p),g=1,c&&g--,f-h>g&&0<f){for(n.valid=!1,(p=t.createVertex()).node=null,p.Dj=2,p.layer=f-1,t.bh(p),(r=t.Yj(r,p,n.link)).valid=!0,r.rev=n.rev,r.portFromColOffset=d?0:a,r.portToColOffset=0,r.portFromPos=d?0:l,r.portToPos=0,r=p,f--;f-h>g&&0<f;)(p=t.createVertex()).node=null,p.Dj=3,p.layer=f-1,t.bh(p),(r=t.Yj(r,p,n.link)).valid=!0,r.rev=n.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=p,f--;(r=t.Yj(p,o,n.link)).valid=!c,c&&(p.near=o),r.rev=n.rev,r.portFromColOffset=0,r.portToColOffset=s,r.portFromPos=0,r.portToPos=u}else n.valid=!0}}for(t=this.sc=[],e=0;e<=this.Ia;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Fq=-1,i=this.Hd=this.Hn=0;i<=this.Ia;i++)t[i]>t[this.Hd]&&(this.Fq=t[i]-1,this.Hd=i),t[i]<t[this.Hn]&&(this.Hn=i);for(this.dl=[],i=0;i<t.length;i++)this.dl[i]=[];for(e.reset();e.next();)t=e.value,this.dl[t.layer][t.index]=t;for(this.Ra=-1,t=0;t<=this.Ia;t++){for(e=Dg(this,t),i=0,n=this.sc[t],o=0;o<n;o++)r=e[o],i+=this.nodeMinColumnSpace(r,!0),r.column=i,i+=1,i+=this.nodeMinColumnSpace(r,!1);this.Ra=Math.max(this.Ra,i-1),Ng(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},Xp.prototype.linkMinLength=function(){return 1},Xp.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.K||270===this.K?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},Xp.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var i=e?t.ev:t.dv;return null!==i?i:90===(i=this.K)||270===i?e?t.ev=t.focus.x/this.jc+1|0:t.dv=(t.bounds.width-t.focus.x)/this.jc+1|0:e?t.ev=t.focus.y/this.jc+1|0:t.dv=(t.bounds.height-t.focus.y)/this.jc+1|0},Xp.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.Ia;e++)for(var i=Qp(this,e,1),n=this.sc[e],r=0;r<n;r++)for(var o=r;o<n;o++)t+=i[r*n+o];return t},Xp.prototype.normalize=function(){var t=1/0;this.Ra=-1;for(var e=this.network.vertexes.iterator;e.next();){var i=e.value;t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0)),this.Ra=Math.max(this.Ra,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ra-=t},Xp.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.Bk){default:case Eg:var e=0,i=(t=this.network).vertexes.count-1,n=[];n.length=i+1;for(var r=t.vertexes.iterator;r.next();)r.value.valid=!0;for(;null!==rg(t);){for(r=og(t);null!==r;)n[i]=r,i--,r.valid=!1,r=og(t);for(r=ag(t);null!==r;)n[e]=r,e++,r.valid=!1,r=ag(t);r=null;for(var o=0,a=this.network.vertexes.iterator;a.next();){var s=a.value;if(s.valid){for(var l=0,u=s.destinationEdges;u.next();)u.value.toVertex.valid&&l++;u=0;for(var h=s.sourceEdges;h.next();)h.value.fromVertex.valid&&u++;(null===r||o<l-u)&&(r=s,o=l-u)}}null!==r&&(n[e]=r,e++,r.valid=!1)}for(e=0;e<t.vertexes.count;e++)n[e].index=e;for(n=t.edges.iterator;n.next();)(e=n.value).fromVertex.index>e.toVertex.index&&(t.gm(e),e.rev=!0);break;case Ig:for(n=this.network.vertexes.iterator;n.next();)(t=n.value).Jl=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Kn=0,n.reset();n.next();)0===(e=n.value).sourceEdges.count&&sg(this,e);for(n.reset();n.next();)-1===(e=n.value).Jl&&sg(this,e);for(t.reset();t.next();)(n=t.value).forest||(i=(e=n.fromVertex).finish,o=(r=n.toVertex).finish,r.Jl<e.Jl&&i<o&&(this.network.gm(n),n.rev=!0));break;case Ag:for(e=(t=this.network).vertexes.iterator,n=1/0;e.next();)n=Math.min(n,e.value.layer);if(1/0>n){if(0>n)for(e.reset();e.next();)e.value.layer-=n;for(n=[],e.reset();e.next();)void 0===(r=n[(i=e.value).layer])?n[i.layer]=[i]:r.push(i);for(i=e=0;i<n.length;i++)if((r=n[i])&&0!==r.length){if(0<i)for(o=0;o<r.length;o++)r[o].layer-=e}else e++;for(n=t.edges.iterator;n.next();)(e=n.value).fromVertex.layer<e.toVertex.layer&&(t.gm(e),e.rev=!0)}}},Xp.prototype.assignLayers=function(){switch(this.Xk){case Lg:lg(this);break;case Rg:for(var t,e=this.network.vertexes.iterator;e.next();)t=hg(this,e.value),this.Ia=Math.max(t,this.Ia);for(e.reset();e.next();)(t=e.value).layer=this.Ia-t.layer;break;default:for(lg(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&cg(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.Ia=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.Ia=Math.max(this.Ia,i.layer)}}},Xp.prototype.initializeIndices=function(){switch(this.Ok){default:case Fg:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,i=e.layer;e.index=this.sc[i],this.sc[i]++}break;case jg:for(t=this.network.vertexes.iterator,e=this.Ia;0<=e;e--)for(t.reset();t.next();)(i=t.value).layer===e&&-1===i.index&&fg(this,i);break;case Bg:for(t=this.network.vertexes.iterator,e=0;e<=this.Ia;e++)for(t.reset();t.next();)(i=t.value).layer===e&&-1===i.index&&pg(this,i)}},Xp.prototype.reduceCrossings=function(){var t,e,i,n,r,o=this.countCrossings(),a=Zp(this);for(t=0;t<this.bj;t++){for(e=0;e<=this.Ia;e++)gg(this,e,1),mg(this,e,1);var s=this.countCrossings();for(s<o&&(o=s,a=Zp(this)),e=this.Ia;0<=e;e--)gg(this,e,-1),mg(this,e,-1);(s=this.countCrossings())<o&&(o=s,a=Zp(this))}for(Jp(this,a),t=0;t<this.bj;t++){for(e=0;e<=this.Ia;e++)gg(this,e,0),mg(this,e,0);for((s=this.countCrossings())<o&&(o=s,a=Zp(this)),e=this.Ia;0<=e;e--)gg(this,e,0),mg(this,e,0);(s=this.countCrossings())<o&&(o=s,a=Zp(this))}switch(Jp(this,a),this.pk){case zg:break;case Vg:for(r=o+1;(e=this.countCrossings())<r;)for(r=e,t=this.Ia;0<=t;t--)for(n=0;n<=t;n++){for(i=!0;i;)for(i=!1,e=t;e>=n;e--)i=mg(this,e,-1)||i;for((s=this.countCrossings())>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=mg(this,e,1)||i;for((s=this.countCrossings())>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=mg(this,e,1)||i;for(s>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=mg(this,e,-1)||i;for(s>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=mg(this,e,0)||i;for(s>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=mg(this,e,0)||i;s>=o?Jp(this,a):(o=s,a=Zp(this))}break;default:for(t=this.Ia,n=0,r=o+1;(e=this.countCrossings())<r;){for(r=e,i=!0;i;)for(i=!1,e=t;e>=n;e--)i=mg(this,e,-1)||i;for((s=this.countCrossings())>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=mg(this,e,1)||i;for((s=this.countCrossings())>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=mg(this,e,1)||i;for(s>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=mg(this,e,-1)||i;for(s>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=mg(this,e,0)||i;for(s>=o?Jp(this,a):(o=s,a=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=mg(this,e,0)||i;s>=o?Jp(this,a):(o=s,a=Zp(this))}}Jp(this,a)},Xp.prototype.straightenAndPack=function(){if(0===this.ue){var t=0!==(1&this.ag),e=0!==(this.ag&Wg);if(1e3<this.network.edges.count&&e&&(t=!1),t){var i=[];for(e=0;e<=this.Ia;e++)i[e]=0;for(var n,o=this.network.vertexes.iterator;o.next();){var a=o.value;e=a.layer,n=a.column,a=this.nodeMinColumnSpace(a,!1),i[e]=Math.max(i[e],n+a)}for(o.reset();o.next();)e=(a=o.value).layer,n=a.column,a.column=(8*(this.Ra-i[e])>>1)+8*n;this.Ra*=8}if(0!==(2&this.ag))for(i=!0;i;){for(i=!1,e=this.Hd+1;e<=this.Ia;e++)i=vg(this,e,1)||i;for(e=this.Hd-1;0<=e;e--)i=vg(this,e,-1)||i;i=vg(this,this.Hd,0)||i}if(0!==(4&this.ag)){for(e=this.Hd+1;e<=this.Ia;e++)bg(this,e,1);for(e=this.Hd-1;0<=e;e--)bg(this,e,-1);bg(this,this.Hd,0)}if(t&&(kg(this,-1),kg(this,1)),0!==(2&this.ag))for(i=!0;i;){for(i=!1,i=vg(this,this.Hd,0)||i,e=this.Hd+1;e<=this.Ia;e++)i=vg(this,e,0)||i;for(e=this.Hd-1;0<=e;e--)i=vg(this,e,0)||i}}else!function(t){for(var e=N(),i=t.dl.length,n=0;n<=i;n++)e[n]=[];for(n=t.network.vertexes.iterator;n.next();){var o=n.value;e[i-o.layer][o.index]=o}i=new Q,function(t,e){for(var i=t.length,n=1;n<i-1;n++)for(var o=0,a=0,s=t[n],l=t[n+1],u=0;a<l.length;u++){var h=l[u];t:{if(null===h.node){var c=qg(h);if(0<c.length){c=null===c[0].node;break t}}c=!1}var d=c;if(u===l.length-1||d){for(c=s.length-1,d&&(c=qg(h)[0].index);a<=u;){if(!(h=l[a]).bo){d=[];for(var f=r(h.sourceEdgesArrayAccess),p=f.next();!p.done;p=f.next())(p=p.value).valid&&d.push(p);h.bo=d}for(d=(h=r(h.bo)).next();!d.done;d=h.next())((f=(d=d.value).fromVertex.index)<o||f>c)&&e.add(d);a++}o=c}}}(e,i);var a=null,s=null,l=null,u=null,h=0!==(1&t.ue),c=0!==(2&t.ue),d=0!==(4&t.ue),f=0!==(8&t.ue);for(h&&(t.verticalAlignment(e,i,!0),a=Sg(t,e,!0,!1)),e.reverse(),d&&(t.verticalAlignment(e,i,!1),l=Sg(t,e,!1,!1)),n=r(e),o=n.next();!o.done;o=n.next())o.value.reverse();f&&(t.verticalAlignment(e,i,!1),u=Sg(t,e,!1,!0)),e.reverse(),c&&(t.verticalAlignment(e,i,!0),s=Sg(t,e,!0,!0)),I(e),t.u(a,s,l,u),t.network.vertexes.each((function(t){var e=N();h&&e.push(a.get(t)),c&&e.push(s.get(t)),d&&e.push(l.get(t)),f&&e.push(u.get(t)),e.sort((function(t,e){return t-e}));var i=e.length;i=(e[Math.floor((i-1)/2)]+e[Math.ceil((i-1)/2)])/2,I(e),t.yc=i}))}(this)},Xp.prototype.verticalAlignment=function(t,e,i){!function(t){for(var e=0;e<t.length;e++)for(var i=t[e],n=0;n<i.length;n++){var r=i[n];r.root=r,r.align=r,r.Tz=e,r.vi=n}}(t);for(var n=(t=r(t)).next();!n.done;n=t.next())for(var o=-1,a=(n=r(n.value)).next();!a.done;a=n.next()){a=a.value;var s=i?qg(a):Zg(a),l=s.length;if(0<l){s.sort((function(t,e){return t.vi-e.vi}));var u=(l-1)/2;for(l=Math.floor(u),u=Math.ceil(u);l<=u;l++)if(a.align===a){var h,c=s[l];h=i?Xg(c,a):Xg(a,c),!e.contains(h)&&o<c.vi&&(c.align=a,a.root=c.root,a.align=c.root,o=c.vi)}}}},Xp.prototype.u=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];i=-1;for(var n=N(),r=N(),o=1/0,a=0;4>a;a++)if(e[a]){var s=Pg(this,e[a],n,r,a);s<o&&(i=a,o=s)}for(o={},a=0;4>a;o={delta:o.delta},a++)e[a]&&(o.delta=0===a||2===a?n[i]-n[a]:r[i]-r[a],0!==o.delta&&e[a].each(function(t){return function(e){e.value+=t.delta}}(o)));I(n),I(r)},Xp.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Tg(this,!0),e=Tg(this,!1),i=this.network.edges.iterator;i.next();){var n=i.value.link;null!==n&&(n.fromSpot=t,n.toSpot=e)}this.commitNodes(),this.Eu(),this.isRouting&&this.commitLinks()},Xp.prototype.commitNodes=function(){this.fe=[],this.Gd=[],this.Fd=[],this.Ta=[];for(var t=0;t<=this.Ia;t++)this.fe[t]=0,this.Gd[t]=0,this.Fd[t]=0,this.Ta[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,i=e.layer;this.fe[i]=Math.max(this.fe[i],this.nodeMinLayerSpace(e,!0)),this.Gd[i]=Math.max(this.Gd[i],this.nodeMinLayerSpace(e,!1))}e=0,i=this.ge;for(var n=0;n<=this.Ia;n++){var r=i;0>=this.fe[n]+this.Gd[n]&&(r=0),0<n&&(e+=r/2),90===this.K||0===this.K?(e+=this.Gd[n],this.Fd[n]=e,e+=this.fe[n]):(e+=this.fe[n],this.Fd[n]=e,e+=this.Gd[n]),n<this.Ia&&(e+=r/2),this.Ta[n]=e}for(i=e,e=this.arrangementOrigin,n=0;n<=this.Ia;n++)270===this.K?this.Fd[n]=e.y+this.Fd[n]:90===this.K?(this.Fd[n]=e.y+i-this.Fd[n],this.Ta[n]=i-this.Ta[n]):180===this.K?this.Fd[n]=e.x+this.Fd[n]:(this.Fd[n]=e.x+i-this.Fd[n],this.Ta[n]=i-this.Ta[n]);i=0!==this.ue,t.reset(),n=270===this.K||90===this.K;for(var o=1/0,a=r=1/0,s=-1/0;t.next();){var l=t.value,u=l.layer,h=0|l.column;n?(a=e.x+this.jc*h,u=this.Fd[u]):(a=this.Fd[u],u=e.y+this.jc*h),l.centerX=a,l.centerY=u,i&&isFinite(l.yc)&&(n?l.node?l.x=e.x+l.yc:l.centerX=e.x+l.yc:l.node?l.y=e.y+l.yc:l.centerY=e.y+l.yc),o=Math.min(l.x,o),r=Math.min(l.y,r),n?(a=o,s=Math.max(s,l.bounds.right)):(a=r,s=Math.max(s,l.bounds.bottom))}for(this.vw=s-a,o=e.x-o,e=e.y-r,this.Rf=new pt(i&&n?0:o,i&&!n?0:e),t.reset();t.next();)(i=t.value).x+=o,i.y+=e,i.commit()},Xp.prototype.Eu=function(){for(var t=0,e=this.ge,i=0;i<=this.Ia;i++)t+=this.fe[i],t+=this.Gd[i];t+=this.Ia*e,e=[],i=0!==this.ue?this.vw:this.jc*this.Ra;for(var n=this.maxLayer;0<=n;n--)270===this.K?0===n?e.push(new Ot(0,0,i,Math.abs(this.Ta[0]))):e.push(new Ot(0,this.Ta[n-1],i,Math.abs(this.Ta[n-1]-this.Ta[n]))):90===this.K?0===n?e.push(new Ot(0,this.Ta[0],i,Math.abs(this.Ta[0]-t))):e.push(new Ot(0,this.Ta[n],i,Math.abs(this.Ta[n-1]-this.Ta[n]))):180===this.K?0===n?e.push(new Ot(0,0,Math.abs(this.Ta[0]),i)):e.push(new Ot(this.Ta[n-1],0,Math.abs(this.Ta[n-1]-this.Ta[n]),i)):0===n?e.push(new Ot(this.Ta[0],0,Math.abs(this.Ta[0]-t),i)):e.push(new Ot(this.Ta[n],0,Math.abs(this.Ta[n-1]-this.Ta[n]),i));this.commitLayers(e,this.Rf)},Xp.prototype.commitLayers=function(){},Xp.prototype.commitLinks=function(){for(var t,e=this.network.edges.iterator;e.next();)null!==(t=e.value.link)&&(t.th(),t.Fj(),t.zf());for(e.reset();e.next();)null!==(t=e.value.link)&&t.ug();for(e.reset();e.next();){var i=e.value;if(null!==(t=i.link)){t.th();var n=t,r=n.fromNode,o=n.toNode,a=n.fromPort,s=n.toPort;if(null!==r){var l=r.findVisibleNode();null!==l&&l!==r&&(r=l,a=l.port)}null!==o&&(null!==(l=o.findVisibleNode())&&l!==o&&(o=l,s=l.port));var u=t.computeSpot(!0,a);l=t.computeSpot(!1,s);var h=i.fromVertex,c=i.toVertex;if(i.valid){if(t.curve===Xc&&4===t.pointsCount)if(h.column===c.column&&0===this.alignOption)i=t.getLinkPoint(r,a,u,!0,!1,o,s),a=t.getLinkPoint(o,s,l,!1,!1,r,a),i.w()||i.set(r.actualBounds.center),a.w()||a.set(o.actualBounds.center),t.Fj(),t.yf(i.x,i.y),t.yf((2*i.x+a.x)/3,(2*i.y+a.y)/3),t.yf((i.x+2*a.x)/3,(i.y+2*a.y)/3),t.yf(a.x,a.y);else{var d=!1,f=!1;if(null!==a&&u===Jt&&(d=!0),null!==s&&l===Jt&&(f=!0),d||f){var p=t.i(0).x;if(i=t.i(0).y,h=t.i(3).x,n=t.i(3).y,d){if(90===this.K||270===this.K){d=p;var g=(i+n)/2}else d=(p+h)/2,g=i;t.M(1,d,g),(u=t.getLinkPoint(r,a,u,!0,!1,o,s)).w()||u.set(r.actualBounds.center),t.M(0,u.x,u.y)}f&&(90===this.K||270===this.K?(u=h,i=(i+n)/2):(u=(p+h)/2,i=n),t.M(2,u,i),(r=t.getLinkPoint(o,s,l,!1,!1,r,a)).w()||r.set(o.actualBounds.center),t.M(3,r.x,r.y))}}t.zf()}else if(h.layer===c.layer)t.zf();else{if(d=f=!1,g=this.ge,p=t.firstPickIndex+1,t.isOrthogonal){d=!0;var m=t.pointsCount;4<m&&t.points.removeRange(2,m-3)}else if(t.curve===Xc)f=!0,4<(m=t.pointsCount)&&t.points.removeRange(2,m-3),4===m&&(p=2);else{m=t.pointsCount;var v=u===Jt,y=l===Jt;2<m&&v&&y?t.points.removeRange(1,m-2):3<m&&v&&!y?t.points.removeRange(1,m-3):3<m&&!v&&y?t.points.removeRange(2,m-2):4<m&&!v&&!y&&t.points.removeRange(2,m-3)}if(i.rev){for(;null!==c&&h!==c;){var b=m=null;for(v=c.sourceEdges.iterator;v.next()&&((y=v.value).link!==i.link||(m=y.fromVertex,b=y.toVertex,null!==m.node)););if(null===m)break;if(m!==h){v=t.i(p-1).x,y=t.i(p-1).y;var x=m.centerX,w=m.centerY;if(d)180===this.K||0===this.K?p===t.firstPickIndex+1?(t.l(p++,v,y),t.l(p++,v,w)):(null!==b?b.centerY:y)!==w&&(b=this.Ta[m.layer-1]+this.Rf.x,t.l(p++,b,y),t.l(p++,b,w)):p===t.firstPickIndex+1?(t.l(p++,v,y),t.l(p++,x,y)):(null!==b?b.centerX:v)!==x&&(b=this.Ta[m.layer-1]+this.Rf.y,t.l(p++,v,b),t.l(p++,x,b));else if(p===t.firstPickIndex+1){b=Math.max(10,this.fe[c.layer]);var k=Math.max(10,this.Gd[c.layer]);if(f)180===this.K?x<=c.bounds.x?(c=c.bounds.x,t.l(p++,c-b,w),t.l(p++,c,w),t.l(p++,c+k,w)):(t.l(p++,x-b,w),t.l(p++,x,w),t.l(p++,x+k,w)):90===this.K?w>=c.bounds.bottom?(c=c.bounds.y+c.bounds.height,t.l(p++,x,c+k),t.l(p++,x,c),t.l(p++,x,c-b)):(t.l(p++,x,w+k),t.l(p++,x,w),t.l(p++,x,w-b)):270===this.K?w<=c.bounds.y?(c=c.bounds.y,t.l(p++,x,c-b),t.l(p++,x,c),t.l(p++,x,c+k)):(t.l(p++,x,w-b),t.l(p++,x,w),t.l(p++,x,w+k)):0===this.K&&(x>=c.bounds.right?(c=c.bounds.x+c.bounds.width,t.l(p++,c+k,w),t.l(p++,c,w),t.l(p++,c-b,w)):(t.l(p++,x+k,w),t.l(p++,x,w),t.l(p++,x-b,w)));else{t.l(p++,v,y);var _=0;180===this.K||0===this.K?((180===this.K?x>=c.bounds.right:x<=c.bounds.x)&&(_=(0===this.K?-b:k)/2),t.l(p++,v+_,w)):((270===this.K?w>=c.bounds.bottom:w<=c.bounds.y)&&(_=(90===this.K?-b:k)/2),t.l(p++,x,y+_)),t.l(p++,x,w)}}else b=Math.max(10,this.fe[m.layer]),k=Math.max(10,this.Gd[m.layer]),f?180===this.K?(t.l(p++,x-b-g,w),t.l(p++,Math.min(x-b+g/2,x),w),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,Math.max(x+k-g/2,x),w),t.l(p++,x+k+g,w)):90===this.K?(t.l(p++,x,w+k+g),t.l(p++,x,Math.max(w+k-g/2,w)),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,x,Math.min(w-b+g/2,w)),t.l(p++,x,w-b-g)):270===this.K?(t.l(p++,x,w-b-g),t.l(p++,x,Math.min(w-b+g/2,w)),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,x,Math.max(w+k-g/2,w)),t.l(p++,x,w+k+g)):(t.l(p++,x+k+g,w),t.l(p++,Math.max(x+k-g/2,x),w),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,Math.min(x-b+g/2,x),w),t.l(p++,x-b-g,w)):t.l(p++,x,w)}c=m}(null===s||u!==Jt||d)&&(v=t.i(p-1).x,y=t.i(p-1).y,x=t.i(p).x,w=t.i(p).y,d?(g=this.Gd[h.layer],180===this.K||0===this.K?((d=y)>=h.bounds.y&&d<=h.bounds.bottom&&(180===this.K?x>=h.bounds.x:x<=h.bounds.right)&&(c=h.centerX+(180===this.K?-g:g),d=d<h.bounds.y+h.bounds.height/2?h.bounds.y-this.jc/2:h.bounds.bottom+this.jc/2,t.l(p++,c,y),t.l(p++,c,d)),t.l(p++,x,d)):((d=v)>=h.bounds.x&&d<=h.bounds.right&&(270===this.K?w>=h.bounds.y:w<=h.bounds.bottom)&&(c=h.centerY+(270===this.K?-g:g),d=d<h.bounds.x+h.bounds.width/2?h.bounds.x-this.jc/2:h.bounds.right+this.jc/2,t.l(p++,v,c),t.l(p++,d,c)),t.l(p++,d,w)),t.l(p++,x,w)):f?(b=Math.max(10,this.fe[h.layer]),k=Math.max(10,this.Gd[h.layer]),180===this.K&&x>=h.bounds.x?(c=h.bounds.x+h.bounds.width,t.M(p-2,c,y),t.M(p-1,c+k,y)):90===this.K&&w<=h.bounds.bottom?(c=h.bounds.y,t.M(p-2,v,c),t.M(p-1,v,c-b)):270===this.K&&w>=h.bounds.y?(c=h.bounds.y+h.bounds.height,t.M(p-2,v,c),t.M(p-1,v,c+k)):0===this.K&&x<=h.bounds.right&&(c=h.bounds.x,t.M(p-2,c,y),t.M(p-1,c-b,y))):(b=Math.max(10,this.fe[h.layer]),k=Math.max(10,this.Gd[h.layer]),d=0,180===this.K||0===this.K?((180===this.K?x<=h.bounds.x:x>=h.bounds.right)&&(d=(0===this.K?k:-b)/2),t.l(p++,x+d,y)):((270===this.K?w<=h.bounds.y:w>=h.bounds.bottom)&&(d=(90===this.K?k:-b)/2),t.l(p++,v,w+d)),t.l(p++,x,w)))}else{for(;null!==h&&h!==c;){for(b=m=null,h=h.destinationEdges.iterator;h.next()&&((v=h.value).link!==i.link||(m=v.toVertex,null!==(b=v.fromVertex).node&&(b=null),null!==m.node)););if(null===m)break;m!==c&&(v=t.i(p-1).x,y=t.i(p-1).y,x=m.centerX,w=m.centerY,d?180===this.K||0===this.K?(null!==b?b.centerY:y)!==w&&(b=this.Ta[m.layer]+this.Rf.x,p===t.firstPickIndex+1&&(b=0===this.K?Math.max(b,v):Math.min(b,v)),t.l(p++,b,y),t.l(p++,b,w)):(null!==b?b.centerX:v)!==x&&(b=this.Ta[m.layer]+this.Rf.y,p===t.firstPickIndex+1&&(b=90===this.K?Math.max(b,y):Math.min(b,y)),t.l(p++,v,b),t.l(p++,x,b)):(b=Math.max(10,this.fe[m.layer]),k=Math.max(10,this.Gd[m.layer]),f?180===this.K?(t.l(p++,x+k+g,w),t.l(p++,Math.max(x+k-g/2,x),w),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,Math.min(x-b+g/2,x),w),t.l(p++,x-b-g,w)):90===this.K?(t.l(p++,x,w-b-g),t.l(p++,x,Math.min(w-b+g/2,w)),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,x,Math.max(w+k-g/2,w)),t.l(p++,x,w+k+g)):270===this.K?(t.l(p++,x,w+k+g),t.l(p++,x,Math.max(w+k-g/2,w)),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,x,Math.min(w-b+g/2,w)),t.l(p++,x,w-b-g)):(t.l(p++,x-b-g,w),t.l(p++,Math.min(x-b+g/2,x),w),t.l(p++,x,w),t.l(p++,x,w),t.l(p++,Math.max(x+k-g/2,x),w),t.l(p++,x+k+g,w)):180===this.K?(t.l(p++,x+k,w),t.l(p++,x-b,w)):90===this.K?(t.l(p++,x,w-b),t.l(p++,x,w+k)):270===this.K?(t.l(p++,x,w+k),t.l(p++,x,w-b)):(t.l(p++,x-b,w),t.l(p++,x+k,w)))),h=m}d&&(v=t.i(p-1).x,y=t.i(p-1).y,x=t.i(p).x,w=t.i(p).y,180===this.K||0===this.K?y!==w&&(b=0===this.K?Math.min(Math.max((x+v)/2,this.Ta[c.layer]+this.Rf.x),x):Math.max(Math.min((x+v)/2,this.Ta[c.layer]+this.Rf.x),x),t.l(p++,b,y),t.l(p++,b,w)):v!==x&&(b=90===this.K?Math.min(Math.max((w+y)/2,this.Ta[c.layer]+this.Rf.y),w):Math.max(Math.min((w+y)/2,this.Ta[c.layer]+this.Rf.y),w),t.l(p++,v,b),t.l(p++,x,b)))}null!==n&&f&&(null!==a&&(u===Jt&&(u=t.i(0),n=t.i(2),u.C(n)||t.M(1,(u.x+n.x)/2,(u.y+n.y)/2)),(u=t.getLinkPoint(r,a,Jt,!0,!1,o,s)).w()||u.set(r.actualBounds.center),t.M(0,u.x,u.y)),null!==s&&(l===Jt&&(l=t.i(t.pointsCount-1),u=t.i(t.pointsCount-3),l.C(u)||t.M(t.pointsCount-2,(l.x+u.x)/2,(l.y+u.y)/2)),(r=t.getLinkPoint(o,s,Jt,!1,!1,r,a)).w()||r.set(o.actualBounds.center),t.M(t.pointsCount-1,r.x,r.y))),t.zf(),i.commit()}}}this.avoidOrthogonalOverlaps()},Xp.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new Z,e=this.network.edges.iterator;e.next();){var i=e.value.link;null!==i&&i.isOrthogonal&&!t.contains(i)&&t.add(i)}if(0<t.count)if(90===this.K||270===this.K){for(e=0,i=[],t=t.iterator;t.next();){var n=t.value;if(null!==n&&n.isOrthogonal)for(var r=2;r<n.pointsCount-3;r++){var o=n.i(r),a=n.i(r+1);if(this.B(o.y,a.y)&&!this.B(o.x,a.x)){var s=new Ug;s.layer=Math.floor(o.y/2);var l=n.i(0),u=n.i(n.pointsCount-1);if(s.first=l.x*l.x+l.y,s.ic=u.x*u.x+u.y,s.nd=Math.min(o.x,a.x),s.Hc=Math.max(o.x,a.x),s.index=r,s.link=n,r+2<n.pointsCount){l=n.i(r-1),u=n.i(r+2);var h=0;l.y<o.y?h=u.y<o.y?3:o.x<a.x?2:1:l.y>o.y&&(h=u.y>o.y?0:a.x<o.x?2:1),s.j=h}i.push(s)}}}if(1<i.length)for(i.sort(this.Xx),t=0;t<i.length;){for(o=i[t].layer,n=t+1;n<i.length&&i[n].layer===o;)n++;if(1<n-t)for(o=t;o<n;){for(a=i[o].Hc,r=t+1;r<n&&i[r].nd<a;)a=Math.max(a,i[r].Hc),r++;if(1<(a=r-o)){for(this.zi(i,this.Gs,o,o+a),h=1,s=i[o].ic,l=o;l<r;l++)(u=i[l]).ic!==s&&(h++,s=u.ic);this.zi(i,this.Wx,o,o+a);var c=1;for(s=i[o].first,l=o;l<r;l++)(u=i[l]).first!==s&&(c++,s=u.first);for(l=!0,u=c,h<c?(l=!1,u=h,s=i[o].ic,this.zi(i,this.Gs,o,o+a)):s=i[o].first,h=0,c=o;c<r;c++){var d=i[c];(l?d.first:d.ic)!==s&&(h++,s=l?d.first:d.ic);var f=d.link;o=f.i(d.index),a=f.i(d.index+1);var p=this.linkSpacing*(h-(u-1)/2);e++,f.th(),f.M(d.index,o.x,o.y+p),f.M(d.index+1,a.x,a.y+p),f.zf()}}o=r}t=n}}else{for(e=0,i=[],t=t.iterator;t.next();)if(null!==(n=t.value)&&n.isOrthogonal)for(r=2;r<n.pointsCount-3;r++)o=n.i(r),a=n.i(r+1),this.B(o.x,a.x)&&!this.B(o.y,a.y)&&((s=new Ug).layer=Math.floor(o.x/2),l=n.i(0),u=n.i(n.pointsCount-1),s.first=l.x+l.y*l.y,s.ic=u.x+u.y*u.y,s.nd=Math.min(o.y,a.y),s.Hc=Math.max(o.y,a.y),s.index=r,s.link=n,r+2<n.pointsCount&&(l=n.i(r-1),u=n.i(r+2),h=0,l.x<o.x?h=u.x<o.x?3:o.y<a.y?2:1:l.x>o.x&&(h=u.x>o.x?0:a.y<o.y?2:1),s.j=h),i.push(s));if(1<i.length)for(i.sort(this.Xx),t=0;t<i.length;){for(o=i[t].layer,n=t+1;n<i.length&&i[n].layer===o;)n++;if(1<n-t)for(o=t;o<n;){for(a=i[o].Hc,r=t+1;r<n&&i[r].nd<a;)a=Math.max(a,i[r].Hc),r++;if(1<(a=r-o)){for(this.zi(i,this.Gs,o,o+a),h=1,s=i[o].ic,l=o;l<r;l++)(u=i[l]).ic!==s&&(h++,s=u.ic);for(this.zi(i,this.Wx,o,o+a),c=1,s=i[o].first,l=o;l<r;l++)(u=i[l]).first!==s&&(c++,s=u.first);for(l=!0,u=c,h<c?(l=!1,u=h,s=i[o].ic,this.zi(i,this.Gs,o,o+a)):s=i[o].first,h=0,c=o;c<r;c++)d=i[c],(l?d.first:d.ic)!==s&&(h++,s=l?d.first:d.ic),o=(f=d.link).i(d.index),a=f.i(d.index+1),p=this.linkSpacing*(h-(u-1)/2),e++,f.th(),f.M(d.index,o.x+p,o.y),f.M(d.index+1,a.x+p,a.y),f.zf()}o=r}t=n}}}},(e=Xp.prototype).Xx=function(t,e){return t instanceof Ug&&e instanceof Ug&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.nd<e.nd?-1:t.nd>e.nd?1:t.Hc<e.Hc?-1:t.Hc>e.Hc?1:0:0},e.Wx=function(t,e){return t instanceof Ug&&e instanceof Ug&&t!==e?t.first<e.first?-1:t.first>e.first||t.j<e.j?1:t.j>e.j||t.nd<e.nd?-1:t.nd>e.nd?1:t.Hc<e.Hc?-1:t.Hc>e.Hc?1:0:0},e.Gs=function(t,e){return t instanceof Ug&&e instanceof Ug&&t!==e?t.ic<e.ic?-1:t.ic>e.ic||t.j<e.j?1:t.j>e.j||t.nd<e.nd?-1:t.nd>e.nd?1:t.Hc<e.Hc?-1:t.Hc>e.Hc?1:0:0},e.B=function(t,e){return-1<(t-=e)&&1>t},e.zi=function(t,e,i,n){var r=t.length,o=n-i;if(!(1>=o))if((0>i||i>=r-1)&&w("not in range 0 <= from < length: "+i),2===o)0<e(n=t[i],r=t[i+1])&&(t[i]=r,t[i+1]=n);else if(0===i)if(n>=r)t.sort(e);else for((i=t.slice(0,n)).sort(e),e=0;e<n;e++)t[e]=i[e];else if(n>=r)for((n=t.slice(i)).sort(e),e=i;e<r;e++)t[e]=n[e-i];else for((r=t.slice(i,n)).sort(e),e=i;e<n;e++)t[e]=r[e-i]},d.Object.defineProperties(Xp.prototype,{layerSpacing:{get:function(){return this.ge},set:function(t){this.ge!==t&&0<=t&&(this.ge=t,this.D())}},columnSpacing:{get:function(){return this.jc},set:function(t){this.jc!==t&&0<t&&(this.jc=t,this.D())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(0===t||90===t||180===t||270===t?(this.K=t,this.D()):w("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Bk},set:function(t){this.Bk===t||t!==Eg&&t!==Ig&&t!==Ag||(this.Bk=t,this.D())}},layeringOption:{get:function(){return this.Xk},set:function(t){this.Xk===t||t!==Og&&t!==Lg&&t!==Rg||(this.Xk=t,this.D())}},initializeOption:{get:function(){return this.Ok},set:function(t){this.Ok===t||t!==jg&&t!==Bg&&t!==Fg||(this.Ok=t,this.D())}},iterations:{get:function(){return this.bj},set:function(t){this.bj!==t&&0<=t&&(this.bj=t,this.D())}},aggressiveOption:{get:function(){return this.pk},set:function(t){this.pk===t||t!==zg&&t!==Hg&&t!==Vg||(this.pk=t,this.D())}},packOption:{get:function(){return this.ag},set:function(t){this.ag!==t&&0<=t&&8>t&&(this.ag=t,this.D())}},alignOption:{get:function(){return this.ue},set:function(t){this.ue!==t&&0<=t&&16>t&&(this.ue=t,this.D())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.D())}},linkSpacing:{get:function(){return this.Cn},set:function(t){this.Cn!==t&&0<=t&&(this.Cn=t,this.D())}},maxLayer:{get:function(){return this.Ia}},maxIndex:{get:function(){return this.Fq}},maxColumn:{get:function(){return this.Ra}},minIndexLayer:{get:function(){return this.Hn}},maxIndexLayer:{get:function(){return this.Hd}}});var Ig=new z(Xp,"CycleDepthFirst",0),Eg=new z(Xp,"CycleGreedy",1),Ag=new z(Xp,"CycleFromLayers",2),Og=new z(Xp,"LayerOptimalLinkLength",0),Lg=new z(Xp,"LayerLongestPathSink",1),Rg=new z(Xp,"LayerLongestPathSource",2),jg=new z(Xp,"InitDepthFirstOut",0),Bg=new z(Xp,"InitDepthFirstIn",1),Fg=new z(Xp,"InitNaive",2),zg=new z(Xp,"AggressiveNone",0),Hg=new z(Xp,"AggressiveLess",1),Vg=new z(Xp,"AggressiveMore",2),Wg=8;function Ug(){this.index=this.Hc=this.nd=this.ic=this.first=this.layer=0,this.link=null,this.j=0}function Gg(t){Ad.call(this,t)}function Kg(t){Bd.call(this,t),this.$n=this.bo=this.ao=this.co=null,this.Za=this.zg=this.Hg=-1,this.u=NaN,this.F=null,this.valid=!1,this.finish=this.Jl=NaN,this.Dj=0,this.dv=this.ev=null}function Yg(t,e){return t.index-e.index}function Xg(t,e){if(!t.$n){for(var i=[],n=r(t.destinationEdgesArrayAccess),o=n.next();!o.done;o=n.next())(o=o.value).valid&&i.push(o);t.$n=i}for(i=(t=r(t.$n)).next();!i.done;i=t.next())if((i=i.value).toVertex===e)return i;w("Unable to find destination edge to given vertex")}function qg(t){if(!t.co){for(var e=[],i=r(t.sourceEdgesArrayAccess),n=i.next();!n.done;n=i.next())(n=n.value).valid&&e.push(n.fromVertex);e.sort(Yg),t.co=e}return t.co}function Zg(t){if(!t.ao){for(var e=[],i=r(t.destinationEdgesArrayAccess),n=i.next();!n.done;n=i.next())(n=n.value).valid&&e.push(n.toVertex);e.sort(Yg),t.ao=e}return t.ao}function Jg(t){zd.call(this,t),this.j=this.ga=this.Ha=!1,this.V=this.u=NaN,this.F=this.o=0}function Qg(t){Nd.call(this),this.Tb=new Q,this.Wn=Mm,this.sd=Pm,this.vo=Wm,this.yq=Zm,this.Yv=[],this.qd=!0,this.Pb=Ym,this.Yd=new Nt(10,10).freeze();var e=new $m(this);this.W=new tv(e),this.Y=new tv(e),this.qu=[],t&&Object.assign(this,t)}function $g(t){var e=new Q;for(t=t.iterator;t.next();){var i=t.value;i.initialized||e.add(i)}return e}function tm(t,e){var i=999999,n=null;for(e=e.iterator;e.next();){var r=e.value;switch(t.sd){case Pm:r.sourceEdges.count<i&&(i=r.sourceEdges.count,n=r);break;case Tm:r.destinationEdges.count<i&&(i=r.destinationEdges.count,n=r);break;default:w("Unhandled path value "+t.sd.toString())}}return n}function em(t,e){if(null!==e){switch(t.sd){case Pm:if(0<e.destinationEdges.count){for(var i=new Z,n=e.destinationVertexes;n.next();){var r=n.value;im(t,e,r)&&i.add(r)}0<i.count&&(e.children=i.Fa())}break;case Tm:if(0<e.sourceEdges.count){for(i=new Z,n=e.sourceVertexes;n.next();)im(t,e,r=n.value)&&i.add(r);0<i.count&&(e.children=i.Fa())}break;default:w("Unhandled path value"+t.sd.toString())}for(n=(i=e.children).length,r=0;r<n;r++){var o=i[r];o.initialized=!0,o.level=e.level+1,o.parent=e,t.Tb.remove(o)}for(e=0;e<n;e++)em(t,i[e])}}function im(t,e,i){if(i.initialized){if(null===e)var n=!1;else{for(n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function nm(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===Bm&&t.sortTreeVertexChildren(e);for(var i=0,n=e.childrenCount,r=0,o=e.children,a=o.length,s=0;s<a;s++){var l=o[s];nm(t,l),i+=l.descendantCount+1,n=Math.max(n,l.maxChildrenCount),r=Math.max(r,l.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=0<n?r+1:0}}function rm(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var i=(e=e.children).length,n=0;n<i;n++)rm(t,e[n])}}function om(t,e){if(null!==e){e.alignment!==Bm&&t.sortTreeVertexChildren(e);for(var i=(e=e.children).length,n=0;n<i;n++)om(t,e[n])}}function am(t){return t===jm||t===Bm||t===Fm||t===zm}function sm(t){return t===jm||t===Bm}function lm(t){var e=t.parent;if(null!==e){var i=e.alignment;if(am(i)){if(sm(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return 0===i%2}if(i===Fm)return!0}}return!1}function um(t,e){if(0===e.childrenCount){var i=!1,n=0;null!==e.parent&&(n=e.parent.angle,i=am(i=e.parent.alignment));var r=lm(e);e.S.h(0,0),e.Da.h(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!r?e.la.h(0,0):180===n&&!i||(90===n||270===n)&&r?e.la.h(e.width-2*e.focus.x,0):e.la.h(0,e.height-2*e.focus.y)}else{i=90===(n=Cm(e))||270===n;for(var o=0,a=(r=e.children).length,s=0;s<a;s++){var l=r[s];o=Math.max(o,i?l.Da.width:l.Da.height)}var u=e.alignment,h=u===Lm,c=u===Rm;s=am(u);var d=Math.max(0,e.breadthLimit);l=t.computeLayerSpacing(e);var f=e.nodeSpacing,p=t.computeNodeIndent(e),g=h||c?0:p/2,m=e.rowSpacing,v=0;(h||c||e.hm||e.im&&1===e.maxGenerationCount)&&(v=Math.max(0,e.rowIndent)),h=e.width;var y=e.height,b=0,x=0,w=0,k=0,_=0,S=0,C=0,M=0,P=0,T=0;if(s&&!sm(u)&&135<n&&r.reverse(),sm(u))if(1<a)for(var D=0;D<a;D++){var N=r[D],I=N.Da;0===D%2&&D!==a-1?P=Math.max(P,(i?I.width:I.height)+t.computeBusNodeSpacing(N)-f):0!==D%2&&(T=Math.max(T,(i?I.width:I.height)+t.computeBusNodeSpacing(N)-f))}else 1===a&&(P=i?r[0].Da.width:r[0].Da.height);if(s)switch(u){case jm:case Bm:P=(x=135>n?hm(t,e,r,P,b,x):cm(t,e,r,P,b,x)).x,b=x.width,x=x.height;break;case Fm:for(d=0;d<a;d++)w=(g=r[d]).Da,T=0===C?0:m,i?(g.S.h(o-w.width,_+T),b=Math.max(b,w.width),x=Math.max(x,_+T+w.height),_+=T+w.height):(g.S.h(k+T,o-w.height),b=Math.max(b,k+T+w.width),x=Math.max(x,w.height),k+=T+w.width),C++;break;case zm:for(o=0;o<a;o++)g=(d=r[o]).Da,w=0===C?0:m,i?(d.S.h(f/2+e.focus.x,_+w),b=Math.max(b,g.width),x=Math.max(x,_+w+g.height),_+=w+g.height):(d.S.h(k+w,f/2+e.focus.y),b=Math.max(b,k+w+g.width),x=Math.max(x,g.height),k+=w+g.width),C++}else for(T=0;T<a;T++)N=(D=r[T]).Da,i?(0<d&&0<C&&k+f+N.width>d&&(k<o&&mm(e,u,o-k,0,M,T-1),S++,C=0,M=T,w=x,k=0,_=135<n?-x-m:x+m),I=0===C?g:f,ym(t,D,0,_),D.S.h(k+I,_),b=Math.max(b,k+I+N.width),x=Math.max(x,w+(0===S?0:m)+N.height),k+=I+N.width):(0<d&&0<C&&_+f+N.height>d&&(_<o&&mm(e,u,0,o-_,M,T-1),S++,C=0,M=T,w=b,_=0,k=135<n?-b-m:b+m),I=0===C?g:f,ym(t,D,k,0),D.S.h(k,_+I),x=Math.max(x,_+I+N.height),b=Math.max(b,w+(0===S?0:m)+N.width),_+=I+N.height),C++;switch(0<S&&(i?(x+=Math.max(0,l),k<b&&mm(e,u,b-k,0,M,a-1),0<v&&(c||vm(e,v,0,0,a-1),b+=v)):(b+=Math.max(0,l),_<x&&mm(e,u,0,x-_,M,a-1),0<v&&(c||vm(e,0,v,0,a-1),x+=v))),v=c=0,u){case Am:i?c+=b/2-e.focus.x-p/2:v+=x/2-e.focus.y-p/2;break;case Om:0<S?i?c+=b/2-e.focus.x-p/2:v+=x/2-e.focus.y-p/2:i?c+=(t=r[0].S.x+r[0].la.x)+(r[a-1].S.x+r[a-1].la.x+2*r[a-1].focus.x-t)/2-e.focus.x-p/2:v+=(t=r[0].S.y+r[0].la.y)+(r[a-1].S.y+r[a-1].la.y+2*r[a-1].focus.y-t)/2-e.focus.y-p/2;break;case Lm:i?(c-=p,b+=p):(v-=p,x+=p);break;case Rm:i?(c+=b-e.width+p,b+=p):(v+=x-e.height+p,x+=p);break;case jm:case Bm:i?c+=1<a?P+f/2-e.focus.x:r[0].focus.x-e.focus.x+r[0].la.x:v+=1<a?P+f/2-e.focus.y:r[0].focus.y-e.focus.y+r[0].la.y;break;case Fm:i?c+=b+f/2-e.focus.x:v+=x+f/2-e.focus.y;break;case zm:break;default:c=(t=t.customAlignment(e,c,v,b,x))[0],v=t[1],b=t[2],x=t[3]}for(t=0;t<a;t++)p=r[t],i?p.S.h(p.S.x+p.la.x-c,p.S.y+(135<n?(s?-x:-p.Da.height)+p.la.y-l:y+l+p.la.y)):p.S.h(p.S.x+(135<n?(s?-b:-p.Da.width)+p.la.x-l:h+l+p.la.x),p.S.y+p.la.y-v);i?(b=fm(e,b,c),0>c&&(c=0),135<n&&(v+=x+l),x=Math.max(Math.max(x,y),x+y+l)):(135<n&&(c+=b+l),b=Math.max(Math.max(b,h),b+h+l),x=pm(e,x,v),0>v&&(v=0)),e.la.h(c,v),e.Da.h(b,x)}}function hm(t,e,i,n,r,o){var a=i.length;if(0===a)return new Ot(n,0,r,o);if(1===a)return new Ot(n,0,r=(e=i[0]).Da.width,o=e.Da.height);for(var s=e.nodeSpacing,l=e.rowSpacing,u=90===Cm(e),h=0,c=0,d=0,f=0;f<a;f++)if(!(0!==f%2||1<a&&f===a-1)){var p=i[f],g=p.Da,m=0===h?0:l;if(u){var v=t.computeBusNodeSpacing(p)-s;p.S.h(n-(g.width+v),d+m),r=Math.max(r,g.width+v),o=Math.max(o,d+m+g.height),d+=m+g.height}else v=t.computeBusNodeSpacing(p)-s,p.S.h(c+m,n-(g.height+v)),o=Math.max(o,g.height+v),r=Math.max(r,c+m+g.width),c+=m+g.width;h++}for(h=0,p=c,f=d,u?(c=n+s,d=0):(c=0,d=n+s),g=0;g<a;g++)if(0!==g%2){v=(m=i[g]).Da;var y=0===h?0:l;if(u){var b=t.computeBusNodeSpacing(m)-s;m.S.h(c+b,d+y),r=Math.max(r,c+v.width+b),o=Math.max(o,d+y+v.height),d+=y+v.height}else b=t.computeBusNodeSpacing(m)-s,m.S.h(c+y,d+b),r=Math.max(r,c+y+v.width),o=Math.max(o,d+v.height+b),c+=y+v.width;h++}return 1<a&&1===a%2&&(a=(i=i[a-1]).Da,t=t.computeBusLastRowSpacing(i,u?Math.max(Math.abs(f),Math.abs(d)):Math.max(Math.abs(p),Math.abs(c))),u?(i.S.h(n+s/2-i.focus.x-i.la.x,o+t),u=n+s/2-i.focus.x-i.la.x,r=Math.max(r,u+a.width),0>u&&(r-=u),o=Math.max(o,Math.max(f,d)+t+a.height),0>i.S.x&&(n=dm(e,i.S.x,!1,n,s))):(i.S.h(r+t,n+s/2-i.focus.y-i.la.y),r=Math.max(r,Math.max(p,c)+t+a.width),d=n+s/2-i.focus.y-i.la.y,o=Math.max(o,d+a.height),0>d&&(o-=d),0>i.S.y&&(n=dm(e,i.S.y,!0,n,s)))),new Ot(n,0,r,o)}function cm(t,e,i,n,r,o){var a=i.length;if(0===a)return new Ot(n,0,r,o);if(1===a)return new Ot(n,0,r=(i=i[0]).Da.width,o=i.Da.height);for(var s=e.nodeSpacing,l=e.rowSpacing,u=270===Cm(e),h=0,c=0,d=0,f=0;f<a;f++)if(!(0!==f%2||1<a&&f===a-1)){var p=i[f],g=p.Da,m=0===h?0:l;if(u){var v=t.computeBusNodeSpacing(p)-s;d-=m+g.height,p.S.h(n-(g.width+v),d),r=Math.max(r,g.width+v),o=Math.max(o,Math.abs(d))}else v=t.computeBusNodeSpacing(p)-s,c-=m+g.width,p.S.h(c,n-(g.height+v)),o=Math.max(o,g.height+v),r=Math.max(r,Math.abs(c));h++}for(h=0,p=c,f=d,u?(c=n+s,d=0):(c=0,d=n+s),g=0;g<a;g++)if(0!==g%2){v=(m=i[g]).Da;var y=0===h?0:l;if(u){var b=t.computeBusNodeSpacing(m)-s;d-=y+v.height,m.S.h(c+b,d),r=Math.max(r,c+v.width+b),o=Math.max(o,Math.abs(d))}else b=t.computeBusNodeSpacing(m)-s,c-=y+v.width,m.S.h(c,d+b),o=Math.max(o,d+v.height+b),r=Math.max(r,Math.abs(c));h++}for(1<a&&1===a%2&&(h=(l=i[a-1]).Da,t=t.computeBusLastRowSpacing(l,u?Math.max(Math.abs(f),Math.abs(d)):Math.max(Math.abs(p),Math.abs(c))),u?(l.S.h(n+s/2-l.focus.x-l.la.x,-o-h.height-t),c=n+s/2-l.focus.x-l.la.x,r=Math.max(r,c+h.width),0>c&&(r-=c),o=Math.max(o,Math.abs(Math.min(f,d))+t+h.height),0>l.S.x&&(n=dm(e,l.S.x,!1,n,s))):(l.S.h(-r-h.width-t,n+s/2-l.focus.y-l.la.y),r=Math.max(r,Math.abs(Math.min(p,c))+t+h.width),d=n+s/2-l.focus.y-l.la.y,o=Math.max(o,d+h.height),0>d&&(o-=d),0>l.S.y&&(n=dm(e,l.S.y,!0,n,s)))),e=0;e<a;e++)s=i[e],u?s.S.h(s.S.x,s.S.y+o):s.S.h(s.S.x+r,s.S.y);return new Ot(n,0,r,o)}function dm(t,e,i,n,r){for(var o=(t=t.children).length,a=0;a<o;a++)i?t[a].S.h(t[a].S.x,t[a].S.y-e):t[a].S.h(t[a].S.x-e,t[a].S.y);return e=t[o-1],Math.max(n,i?e.la.y+e.focus.y-r/2:e.la.x+e.focus.x-r/2)}function fm(t,e,i){switch(t.alignment){case Om:case Am:return i+t.width>e&&(e=i+t.width),0>i&&(e-=i),e;case Lm:return t.width>e?t.width:e;case Rm:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case jm:case Bm:return Math.max(t.width,Math.max(e,i+t.width)-Math.min(0,i));case Fm:return t.width-t.focus.x+t.nodeSpacing/2+e;case zm:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function pm(t,e,i){switch(t.alignment){case Om:case Am:return i+t.height>e&&(e=i+t.height),0>i&&(e-=i),e;case Lm:return t.height>e?t.height:e;case Rm:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case jm:case Bm:return Math.max(t.height,Math.max(e,i+t.height)-Math.min(0,i));case Fm:return t.height-t.focus.y+t.nodeSpacing/2+e;case zm:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function gm(t,e,i){switch(t){case Am:case Om:e/=2,i/=2;break;case Lm:i=e=0;break;case Rm:break;default:w("Unhandled alignment value "+t.toString())}return new pt(e,i)}function mm(t,e,i,n,r,o){vm(t,(e=gm(e,i,n)).x,e.y,r,o)}function vm(t,e,i,n,r){if(0!==e||0!==i)for(t=t.children;n<=r;n++){var o=t[n].S;o.x+=e,o.y+=i}}function ym(t,e,i,n){var r=e.parent;switch(t.sd){case Pm:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===r&&e.relativePoint.h(i,n);break;case Tm:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===r&&e.relativePoint.h(i,n);break;default:w("Unhandled path value "+t.sd.toString())}}function bm(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];r.x+=e,r.y+=i}}function xm(t,e,i,n,r,o,a,s){var l=Cm(e),u=90===l||270===l,h=e.nodeSpacing;e=n;var c=r;n=o;var d=a,f=i.Wo,p=i.ip;a=i.Da;var g=u?Math.max(d,a.height):Math.max(n,a.width);if(null!==f&&l===Cm(i)||(f=wm(t,2),p=wm(t,2),u?(f[0].h(0,0),f[1].h(0,a.height),p[0].h(a.width,0),p[1].h(p[0].x,f[1].y)):(f[0].h(0,0),f[1].h(a.width,0),p[0].h(0,a.height),p[1].h(f[1].x,p[0].y))),u){if(d=9999999,!(null===c||2>c.length||null===f||2>f.length))for(r=i=0;i<c.length&&r<f.length;){o=c[i];var m=f[r];l=m.x,u=m.y,l+=n;var v=o;i+1<c.length&&(v=c[i+1]);var y=m;m=y.x,y=y.y,r+1<f.length&&(m=(y=f[r+1]).x,y=y.y,m+=n);var b=d;o.y===u?b=l-o.x:o.y>u&&o.y<y?b=l+(o.y-u)/(y-u)*(m-l)-o.x:u>o.y&&u<v.y&&(b=l-(o.x+(u-o.y)/(v.y-o.y)*(v.x-o.x))),b<d&&(d=b),v.y<=o.y?i++:y<=u?r++:(v.y<=y&&i++,y<=v.y&&r++)}if(d=n-d,i=f,r=d+=h,null===e||2>e.length||null===i||2>i.length)n=null;else{for(h=wm(t,e.length+i.length),n=o=l=0;o<i.length&&i[o].y<e[0].y;)u=i[o++],h[n++].h(u.x+r,u.y);for(;l<e.length;)u=e[l++],h[n++].h(u.x,u.y);for(l=e[e.length-1].y;o<i.length&&i[o].y<=l;)o++;for(;o<i.length&&i[o].y>l;)u=i[o++],h[n++].h(u.x+r,u.y);for(i=wm(t,n),l=0;l<n;l++)i[l].assign(h[l]);km(t,h),n=i}if(o=p,l=d,null===c||2>c.length||null===o||2>o.length)r=null;else{for(h=wm(t,c.length+o.length),r=u=i=0;i<c.length&&c[i].y<o[0].y;)v=c[i++],h[r++].h(v.x,v.y);for(;u<o.length;)v=o[u++],h[r++].h(v.x+l,v.y);for(o=o[o.length-1].y;i<c.length&&c[i].y<=o;)i++;for(;i<c.length&&c[i].y>o;)l=c[i++],h[r++].h(l.x,l.y);for(o=wm(t,r),i=0;i<r;i++)o[i].assign(h[i]);km(t,h),r=o}return o=Math.max(0,d)+a.width,a=g,km(t,e),km(t,f),km(t,c),km(t,p),s[0]=n,s[1]=r,new Ot(d,0,o,a)}if(n=9999999,!(null===c||2>c.length||null===f||2>f.length))for(r=i=0;i<c.length&&r<f.length;)o=c[i],l=(m=f[r]).x,u=m.y,u+=d,v=o,i+1<c.length&&(v=c[i+1]),m=(y=m).x,y=y.y,r+1<f.length&&(m=(y=f[r+1]).x,y=y.y,y+=d),b=n,o.x===l?b=u-o.y:o.x>l&&o.x<m?b=u+(o.x-l)/(m-l)*(y-u)-o.y:l>o.x&&l<v.x&&(b=u-(o.y+(l-o.x)/(v.x-o.x)*(v.y-o.y))),b<n&&(n=b),v.x<=o.x?i++:m<=l?r++:(v.x<=m&&i++,m<=v.x&&r++);if(d-=n,i=f,r=d+=h,null===e||2>e.length||null===i||2>i.length)n=null;else{for(h=wm(t,e.length+i.length),n=o=l=0;o<i.length&&i[o].x<e[0].x;)u=i[o++],h[n++].h(u.x,u.y+r);for(;l<e.length;)u=e[l++],h[n++].h(u.x,u.y);for(l=e[e.length-1].x;o<i.length&&i[o].x<=l;)o++;for(;o<i.length&&i[o].x>l;)u=i[o++],h[n++].h(u.x,u.y+r);for(i=wm(t,n),l=0;l<n;l++)i[l].assign(h[l]);km(t,h),n=i}if(o=p,l=d,null===c||2>c.length||null===o||2>o.length)r=null;else{for(h=wm(t,c.length+o.length),r=u=i=0;i<c.length&&c[i].x<o[0].x;)v=c[i++],h[r++].h(v.x,v.y);for(;u<o.length;)v=o[u++],h[r++].h(v.x,v.y+l);for(o=o[o.length-1].x;i<c.length&&c[i].x<=o;)i++;for(;i<c.length&&c[i].x>o;)l=c[i++],h[r++].h(l.x,l.y);for(o=wm(t,r),i=0;i<r;i++)o[i].assign(h[i]);km(t,h),r=o}return o=g,a=Math.max(0,d)+a.height,km(t,e),km(t,f),km(t,c),km(t,p),s[0]=n,s[1]=r,new Ot(d,0,o,a)}function wm(t,e){if(void 0!==(t=t.qu[e])&&void 0!==(t=t.pop()))return t;t=[];for(var i=0;i<e;i++)t[i]=new pt;return t}function km(t,e){var i=e.length,n=t.qu[i];void 0===n&&(n=[],t.qu[i]=n),n.push(e)}function _m(t,e,i,n){if(null!==e){e.x=i,e.y=n;for(var r=(e=e.children).length,o=0;o<r;o++){var a=e[o];_m(t,a,i+a.S.x,n+a.S.y)}}}function Sm(t,e){if(null!==e){t.setPortSpots(e);for(var i=(e=e.children).length,n=0;n<i;n++)Sm(t,e[n])}}function Cm(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}Xp.className="LayeredDigraphLayout",Xp.CycleDepthFirst=Ig,Xp.CycleGreedy=Eg,Xp.CycleFromLayers=Ag,Xp.LayerOptimalLinkLength=Og,Xp.LayerLongestPathSink=Lg,Xp.LayerLongestPathSource=Rg,Xp.InitDepthFirstOut=jg,Xp.InitDepthFirstIn=Bg,Xp.InitNaive=Fg,Xp.AggressiveNone=zg,Xp.AggressiveLess=Hg,Xp.AggressiveMore=Vg,Xp.PackNone=0,Xp.PackExpand=1,Xp.PackStraighten=2,Xp.PackMedian=4,Xp.PackAll=15,Xp.AlignNone=0,Xp.AlignUpperLeft=1,Xp.AlignUpperRight=2,Xp.AlignLowerLeft=4,Xp.AlignLowerRight=8,Xp.AlignAll=15,Ug.className="SegInfo",c(Gg,Ad),Gg.prototype.createVertex=function(){return new Kg(this)},Gg.prototype.createEdge=function(){return new Jg(this)},Gg.className="LayeredDigraphNetwork",c(Kg,Bd),Kg.prototype.Al=function(t){Bd.prototype.Al.call(this,t),this.bo=this.co=null},Kg.prototype.Il=function(t){Bd.prototype.Il.call(this,t),this.bo=this.co=null},Kg.prototype.xl=function(t){Bd.prototype.xl.call(this,t),this.$n=this.ao=null},Kg.prototype.Hl=function(t){Bd.prototype.Hl.call(this,t),this.$n=this.ao=null},d.Object.defineProperties(Kg.prototype,{layer:{get:function(){return this.Hg},set:function(t){this.Hg!==t&&(this.Hg=t)}},column:{get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t)}},index:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},component:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},near:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),Kg.prototype.deleteDestinationEdge=Kg.prototype.Hl,Kg.prototype.addDestinationEdge=Kg.prototype.xl,Kg.prototype.deleteSourceEdge=Kg.prototype.Il,Kg.prototype.addSourceEdge=Kg.prototype.Al,Kg.className="LayeredDigraphVertex",c(Jg,zd),d.Object.defineProperties(Jg.prototype,{fromVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},toVertex:{get:function(){return this.ld},set:function(t){this.ld!==t&&(this.ld=t)}},valid:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},rev:{get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t)}},forest:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},portFromPos:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToPos:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},portFromColOffset:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},portToColOffset:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),Jg.className="LayeredDigraphEdge",c(Qg,Nd),Qg.prototype.cloneProtected=function(t){Nd.prototype.cloneProtected.call(this,t),t.Wn=this.Wn,t.vo=this.vo,t.yq=this.yq,t.qd=this.qd,t.Pb=this.Pb,t.Yd.assign(this.Yd),t.W.copyInheritedPropertiesFrom(this.W),t.Y.copyInheritedPropertiesFrom(this.Y)},Qg.prototype.qb=function(t){t.classType===Qg?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:w("Unknown enum value: "+t):Nd.prototype.qb.call(this,t)},Qg.prototype.createNetwork=function(){return new $m(this)},Qg.prototype.makeNetwork=function(t){function e(t){if(t instanceof Xh)return!t.isLinkLabel&&"Comment"!==t.category;if(t instanceof xc){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&"Comment"!==e.category&&(null!==(t=t.toNode)&&!t.isLinkLabel&&"Comment"!==t.category)}return!1}var i=this.createNetwork();return t instanceof Pr?(i.kg(t.nodes,!0,e),i.kg(t.links,!0,e)):t instanceof pc?i.kg(t.memberParts,!1,e):i.kg(t.iterator,!1,e),i},Qg.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==qm&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof Pr&&(e=t),this.path===Mm&&null!==e?this.sd=e.isTreePathToChildren?Pm:Tm:this.sd=this.path===Mm?Pm:this.path,0<this.network.vertexes.count){for(this.network.Ko(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Tb.count){for(t=new Q,e=this.Tb.iterator;e.next();){var i=e.value;i instanceof Xh?null!==(i=this.network.ki(i))&&t.add(i):i instanceof tv&&t.add(i)}this.Tb=t}for(0===this.Tb.count&&this.findRoots(),t=this.Tb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,em(this,e));for(e=this.network.vertexes,t=null;0<(t=$g(e)).count;)null!==(e=tm(this,t))&&this.Tb.add(e),e.initialized=!0,em(this,e),e=t;for(t=this.Tb.iterator;t.next();)(e=t.value)instanceof tv&&nm(this,e);for(t=this.Tb.iterator;t.next();)(e=t.value)instanceof tv&&rm(this,e);for(t=this.Tb.iterator;t.next();)(e=t.value)instanceof tv&&om(this,e);if(this.Bu(),this.layerStyle===Qm){for(t=[],e=this.network.vertexes.iterator;e.next();){var n=(i=e.value).parent;null===n&&(n=i),n=0===n.angle||180===n.angle;var r=t[i.level];void 0===r&&(r=0),t[i.level]=Math.max(r,n?i.width:i.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.Yv=t,e=this.network.vertexes.iterator;e.next();)null===(n=(i=e.value).parent)&&(n=i),0===n.angle||180===n.angle?(180===n.angle&&(i.focusX+=t[i.level]-i.width),i.width=t[i.level]):(270===n.angle&&(i.focusY+=t[i.level]-i.height),i.height=t[i.level])}else if(this.layerStyle===Jm)for(t=this.network.vertexes.iterator;t.next();){for(i=0===(e=t.value).angle||180===e.angle,n=-1,r=0;r<e.children.length;r++){var o=e.children[r];n=Math.max(n,i?o.width:o.height)}if(0<=n)for(r=0;r<e.children.length;r++)o=e.children[r],i?(180===e.angle&&(o.focusX+=n-o.width),o.width=n):(270===e.angle&&(o.focusY+=n-o.height),o.height=n)}for(t=this.Tb.iterator;t.next();)(e=t.value)instanceof tv&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Tb=new Q,this.isValidLayout=!0},Qg.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var i=e.value;switch(this.sd){case Pm:0===i.sourceEdges.count&&this.Tb.add(i);break;case Tm:0===i.destinationEdges.count&&this.Tb.add(i);break;default:w("Unhandled path value "+this.sd.toString())}}0===this.Tb.count&&(null!==(t=tm(this,t))&&this.Tb.add(t))},Qg.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var i=t.children,n=0,r=0;r<i.length;r++)i[r]===e&&n++;if(0<n){n=Array(i.length-n);for(var o=r=0;o<i.length;o++)i[o]!==e&&(n[r++]=i[o]);t.children=n}}},Qg.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.vo){default:case Wm:return null!==e.parent?e.parent:t.W;case Km:return null===e.parent?t.W:null===e.parent.parent?t.Y:e.parent;case Gm:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.Y:t.W;case Um:var i=!0;if(0===e.childrenCount)i=!1;else for(var n=e.children,r=n.length,o=0;o<r;o++)if(0<n[o].childrenCount){i=!1;break}return i&&null!==e.parent?t.Y:null!==e.parent?e.parent:t.W}}(this,t)),null!==t.parent&&t.parent.alignment===Bm){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;0===n%2?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},Qg.prototype.assignTreeVertexValues=function(){},Qg.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Dm:break;case Nm:t.children.reverse();break;case Im:t.children.sort(t.comparer);break;case Em:t.children.sort(t.comparer),t.children.reverse();break;default:w("Unhandled sorting value "+t.sorting.toString())}},Qg.prototype.Bu=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Qg.prototype.addComments=function(t){var e=t.angle,i=t.parent,n=0,r=!1;null!==i&&(n=i.angle,r=am(r=i.alignment)),e=90===e||270===e,n=90===n||270===n,i=0===t.childrenCount;var o=0,a=0,s=0,l=t.commentSpacing;if(null!==t.node)for(var u=t.node.Ku();u.next();){var h=u.value;"Comment"===h.category&&h.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(h),h.Va(),h=h.measuredBounds,e&&!i||!r&&!n&&i||r&&n&&i?(o=Math.max(o,h.width),a+=h.height+Math.abs(s)):(o+=h.width+Math.abs(s),a=Math.max(a,h.height)),s=l)}null!==t.comments&&(e&&!i||!r&&!n&&i||r&&n&&i?(o+=Math.abs(t.commentMargin),a=Math.max(0,a-t.height)):(a+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),r=Ot.allocAt(0,0,t.bounds.width+o,t.bounds.height+a),t.bounds=r,Ot.free(r))},Qg.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,i=t.parent,n=t.angle,r=0,o=!1;null!==i&&(r=i.angle,o=am(o=i.alignment)),n=90===n||270===n,i=90===r||270===r;for(var a=0===t.childrenCount,s=lm(t),l=0,u=t.comments,h=u.length,c=pt.alloc(),d=0;d<h;d++){var f=u[d],p=f.measuredBounds;if(n&&!a||!o&&!i&&a||o&&i&&a){if(135<r&&!o||i&&s)if(0<=t.commentMargin)for(c.h(t.bounds.x-t.commentMargin-p.width,t.bounds.y+l),f.move(c),f=f.Od();f.next();){var g=f.value;g.fromSpot=Te,g.toSpot=De}else for(c.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+l),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=De,g.toSpot=Te;else if(0<=t.commentMargin)for(c.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+l),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=De,g.toSpot=Te;else for(c.h(t.bounds.x+t.commentMargin-p.width,t.bounds.y+l),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=Te,g.toSpot=De;l=0<=t.commentSpacing?l+(p.height+t.commentSpacing):l+(t.commentSpacing-p.height)}else{if(135<r&&!o||!i&&s)if(0<=t.commentMargin)for(c.h(t.bounds.x+l,t.bounds.y-t.commentMargin-p.height),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=Pe,g.toSpot=Ne;else for(c.h(t.bounds.x+l,t.bounds.y+2*t.focus.y-t.commentMargin),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=Ne,g.toSpot=Pe;else if(0<=t.commentMargin)for(c.h(t.bounds.x+l,t.bounds.y+2*t.focus.y+t.commentMargin),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=Ne,g.toSpot=Pe;else for(c.h(t.bounds.x+l,t.bounds.y+t.commentMargin-p.height),f.move(c),f=f.Od();f.next();)(g=f.value).fromSpot=Pe,g.toSpot=Ne;l=0<=t.commentSpacing?l+(p.width+t.commentSpacing):l+(t.commentSpacing-p.width)}}if(pt.free(c),e=l-t.commentSpacing-(n?e.height:e.width),this.sd===Pm)for(t=t.destinationEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.toEndSegmentLength=0<e?e:NaN)}},Qg.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,i=e.length,n=0;n<i;n++)this.layoutTree(e[n]);switch(t.compaction){case Hm:um(this,t);break;case Vm:if(t.alignment===Bm)um(this,t);else if(0===t.childrenCount)i=!1,e=0,null!==(n=t.parent)&&(e=n.angle,i=am(i=n.alignment)),n=lm(t),t.S.h(0,0),t.Da.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||i)&&!n?t.la.h(0,0):180===e&&!i||(90===e||270===e)&&n?t.la.h(t.width-2*t.focus.x,0):t.la.h(0,t.height-2*t.focus.y),t.Wo=null,t.ip=null;else{var r=Cm(t);e=90===r||270===r;var o=0,a=t.children,s=a.length;for(i=0;i<s;i++)n=a[i],o=Math.max(o,e?n.Da.width:n.Da.height);var l=t.alignment;n=l===Lm;var u=l===Rm,h=am(l),c=Math.max(0,t.breadthLimit);i=this.computeLayerSpacing(t);var d=t.nodeSpacing,f=this.computeNodeIndent(t),p=t.rowSpacing,g=0;(n||u||t.hm||t.im&&1===t.maxGenerationCount)&&(g=Math.max(0,t.rowIndent)),n=t.width;var m=t.height,v=0,y=0,b=0,x=null,k=null,_=0,S=0,C=0,M=0,P=0,T=0,D=0,E=0;if(h&&!sm(l)&&135<r&&a.reverse(),sm(l))if(1<s)for(var A=0;A<s;A++)0===A%2&&A!==s-1&&(E=Math.max(E,e?a[A].Da.width:a[A].Da.height));else 1===s&&(E=e?a[0].Da.width:a[0].Da.height);if(h){switch(l){case jm:E=(y=135>r?hm(this,t,a,E,v,y):cm(this,t,a,E,v,y)).x,v=y.width,y=y.height;break;case Fm:for(x=0;x<s;x++)c=(k=a[x]).Da,b=0===T?0:p,e?(k.S.h(o-c.width,M+b),v=Math.max(v,c.width),y=Math.max(y,M+b+c.height),M+=b+c.height):(k.S.h(C+b,o-c.height),v=Math.max(v,C+b+c.width),y=Math.max(y,c.height),C+=b+c.width),T++;break;case zm:for(x=0;x<s;x++)o=(k=a[x]).Da,c=0===T?0:p,e?(k.S.h(d/2+t.focus.x,M+c),v=Math.max(v,o.width),y=Math.max(y,M+c+o.height),M+=c+o.height):(k.S.h(C+c,d/2+t.focus.y),v=Math.max(v,C+c+o.width),y=Math.max(y,o.height),C+=c+o.width),T++}x=wm(this,2),k=wm(this,2),e?(x[0].h(0,0),x[1].h(0,y),k[0].h(v,0)):(x[0].h(0,0),x[1].h(v,0),k[0].h(0,y)),k[1].h(v,y)}else for(A=0;A<s;A++){var O=a[A],L=O.Da;if(e){0<c&&0<T&&C+d+L.width>c&&(C<o&&mm(t,l,o-C,0,D,A-1),P++,T=0,D=A,b=y,C=0,M=135<r?-y-p:y+p),ym(this,O,0,M);var R=0;if(0===T)x=O.Wo,k=O.ip,_=L.width,S=L.height,(null===x||null===k||r!==Cm(O))&&(x=wm(this,2),k=wm(this,2),x[0].h(0,0),x[1].h(0,S),k[0].h(_,0),k[1].h(_,S));else{var j=N();R=(S=xm(this,t,O,x,k,_,S,j)).x,x=j[0],k=j[1],_=S.width,S=S.height,I(j),C<L.width&&0>R&&(vm(t,-R,0,D,A-1),bm(x,-R,0),bm(k,-R,0),R=0)}O.S.h(R,M),v=Math.max(v,_),y=Math.max(y,b+(0===P?0:p)+L.height),C=_}else 0<c&&0<T&&M+d+L.height>c&&(M<o&&mm(t,l,0,o-M,D,A-1),P++,T=0,D=A,b=v,M=0,C=135<r?-v-p:v+p),ym(this,O,C,0),R=0,0===T?(x=O.Wo,k=O.ip,_=L.width,S=L.height,(null===x||null===k||r!==Cm(O))&&(x=wm(this,2),k=wm(this,2),x[0].h(0,0),x[1].h(_,0),k[0].h(0,S),k[1].h(_,S))):(R=(S=xm(this,t,O,x,k,_,S,j=N())).x,x=j[0],k=j[1],_=S.width,S=S.height,I(j),M<L.height&&0>R&&(vm(t,0,-R,D,A-1),bm(x,0,-R),bm(k,0,-R),R=0)),O.S.h(C,R),y=Math.max(y,S),v=Math.max(v,b+(0===P?0:p)+L.width),M=S;T++}switch(0<P&&(e?(y+=Math.max(0,i),C<v&&mm(t,l,v-C,0,D,s-1),0<g&&(u||vm(t,g,0,0,s-1),v+=g)):(v+=Math.max(0,i),M<y&&mm(t,l,0,y-M,D,s-1),0<g&&(u||vm(t,0,g,0,s-1),y+=g))),g=u=0,l){case Am:e?u+=v/2-t.focus.x-f/2:g+=y/2-t.focus.y-f/2;break;case Om:0<P?e?u+=v/2-t.focus.x-f/2:g+=y/2-t.focus.y-f/2:e?u+=(E=a[0].S.x+a[0].la.x)+(a[s-1].S.x+a[s-1].la.x+2*a[s-1].focus.x-E)/2-t.focus.x-f/2:g+=(E=a[0].S.y+a[0].la.y)+(a[s-1].S.y+a[s-1].la.y+2*a[s-1].focus.y-E)/2-t.focus.y-f/2;break;case Lm:e?(u-=f,v+=f):(g-=f,y+=f);break;case Rm:e?(u+=v-t.width+f,v+=f):(g+=y-t.height+f,y+=f);break;case jm:e?u+=1<s?E+d/2-t.focus.x:a[0].focus.x-t.focus.x+a[0].la.x:g+=1<s?E+d/2-t.focus.y:a[0].focus.y-t.focus.y+a[0].la.y;break;case Fm:e?u+=v+d/2-t.focus.x:g+=y+d/2-t.focus.y;break;case zm:break;default:u=(y=this.customAlignment(t,u,g,v,y))[0],g=y[1],v=y[2],y=y[3]}for(f=0;f<s;f++)E=a[f],e?E.S.h(E.S.x+E.la.x-u,E.S.y+(135<r?(h?-y:-E.Da.height)+E.la.y-i:m+i+E.la.y)):E.S.h(E.S.x+(135<r?(h?-v:-E.Da.width)+E.la.x-i:n+i+E.la.x),E.S.y+E.la.y-g);if(s=a=0,h?e?(v=fm(t,v,u),0>u&&(u=0),135<r&&(g+=y+i),y+=m+i,l===zm&&(a+=d/2+t.focus.x),s+=m+i):(135<r&&(u+=v+i),v+=n+i,y=pm(t,y,g),0>g&&(g=0),l===zm&&(s+=d/2+t.focus.y),a+=n+i):e?(null===t.comments?n>v&&(a=(v=gm(l,n-v,0)).x,s=v.y,v=n,u=0):v=fm(t,v,u),0>u&&(a-=u,u=0),135<r&&(g+=y+i),y=Math.max(Math.max(y,m),y+m+i),s+=m+i):(135<r&&(u+=v+i),v=Math.max(Math.max(v,n),v+n+i),null===t.comments?m>y&&(a=(y=gm(l,0,m-y)).x,s=y.y,y=m,g=0):y=pm(t,y,g),0>g&&(s-=g,g=0),a+=n+i),0<P)r=wm(this,4),P=wm(this,4),e?(r[2].h(0,m+i),r[3].h(r[2].x,y),P[2].h(v,r[2].y),P[3].h(P[2].x,r[3].y)):(r[2].h(n+i,0),r[3].h(v,r[2].y),P[2].h(r[2].x,y),P[3].h(r[3].x,P[2].y));else{for(r=wm(this,x.length+2),P=wm(this,k.length+2),l=0;l<x.length;l++)h=x[l],r[l+2].h(h.x+a,h.y+s);for(l=0;l<k.length;l++)h=k[l],P[l+2].h(h.x+a,h.y+s)}e?(r[0].h(u,0),r[1].h(r[0].x,m),r[2].y<r[1].y&&(r[2].x>r[0].x?r[2].assign(r[1]):r[1].assign(r[2])),r[3].y<r[2].y&&(r[3].x>r[0].x?r[3].assign(r[2]):r[2].assign(r[3])),P[0].h(u+n,0),P[1].h(P[0].x,m),P[2].y<P[1].y&&(P[2].x<P[0].x?P[2].assign(P[1]):P[1].assign(P[2])),P[3].y<P[2].y&&(P[3].x<P[0].x?P[3].assign(P[2]):P[2].assign(P[3])),r[2].y-=i/2,P[2].y-=i/2):(r[0].h(0,g),r[1].h(n,r[0].y),r[2].x<r[1].x&&(r[2].y>r[0].y?r[2].assign(r[1]):r[1].assign(r[2])),r[3].x<r[2].x&&(r[3].y>r[0].y?r[3].assign(r[2]):r[2].assign(r[3])),P[0].h(0,g+m),P[1].h(n,P[0].y),P[2].x<P[1].x&&(P[2].y<P[0].y?P[2].assign(P[1]):P[1].assign(P[2])),P[3].x<P[2].x&&(P[3].y<P[0].y?P[3].assign(P[2]):P[2].assign(P[3])),r[2].x-=i/2,P[2].x-=i/2),km(this,x),km(this,k),t.Wo=r,t.ip=P,t.la.h(u,g),t.Da.h(v,y)}break;default:w("Unhandled compaction value "+t.compaction.toString())}}},Qg.prototype.customAlignment=function(t,e,i,n,r){return[e,i,n,r]},Qg.prototype.computeBusNodeSpacing=function(t){return null===t.parent?0:t.parent.nodeSpacing},Qg.prototype.computeBusLastRowSpacing=function(t){return null===t.parent?0:t.parent.rowSpacing},Qg.prototype.arrangeTrees=function(){if(this.Pb===qm)for(var t=this.Tb.iterator;t.next();){var e=t.value;if(e instanceof tv){var i=e.node;if(null!==i){var n=i.position;i=n.x,n=n.y,isFinite(i)||(i=0),isFinite(n)||(n=0),_m(this,e,i,n)}}}else{for(t=[],e=this.Tb.iterator;e.next();)(i=e.value)instanceof tv&&t.push(i);switch(this.sorting){case Dm:break;case Nm:t.reverse();break;case Im:t.sort(this.comparer);break;case Em:t.sort(this.comparer),t.reverse();break;default:w("Unhandled sorting value "+this.sorting.toString())}for(e=(i=this.arrangementOrigin).x,i=i.y,n=0;n<t.length;n++){var r=t[n];switch(_m(this,r,e+r.la.x,i+r.la.y),this.Pb){case Ym:i+=r.Da.height+this.Yd.height;break;case Xm:e+=r.Da.width+this.Yd.width;break;default:w("Unhandled arrangement value "+this.Pb.toString())}}}},Qg.prototype.commitLayout=function(){this.wv(),this.commitNodes(),this.Eu(),this.isRouting&&this.commitLinks()},Qg.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Qg.prototype.Eu=function(){if(this.layerStyle===Qm){for(var t=this.Yv,e=[],i=null,n=this.network.vertexes.iterator;n.next();){var r=n.value;null===i?i=r.bounds.copy():i.ad(r.bounds);var o=e[r.level];o=void 0===o?this.computeLayerSpacing(r):Math.max(o,this.computeLayerSpacing(r)),e[r.level]=o}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);if(90===this.angle||270===this.angle?(i.Ac(this.nodeSpacing/2,this.layerSpacing),n=new pt(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Ac(this.layerSpacing,this.nodeSpacing/2),n=new pt(-this.layerSpacing/2,-this.nodeSpacing/2)),r=[],i=90===this.angle||270===this.angle?i.width:i.height,o=0,180===this.angle||270===this.angle)for(var a=0;a<t.length;a++)o+=t[a]+e[a];for(a=0;a<t.length;a++){var s=t[a]+e[a];270===this.angle?(o-=s,r.push(new Ot(0,o,i,s))):90===this.angle?(r.push(new Ot(0,o,i,s)),o+=s):180===this.angle?(o-=s,r.push(new Ot(o,0,s,i))):(r.push(new Ot(o,0,s,i)),o+=s)}this.commitLayers(r,n)}},Qg.prototype.commitLayers=function(){},Qg.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Qg.prototype.wv=function(){for(var t=this.Tb.iterator;t.next();){var e=t.value;e instanceof tv&&Sm(this,e)}},Qg.prototype.setPortSpots=function(t){var e=t.alignment;if(am(e)){var i=this.sd===Pm,n=Cm(t);switch(n){case 0:var r=De;break;case 90:r=Ne;break;case 180:r=Te;break;default:r=Pe}var o=t.children,a=o.length;switch(e){case jm:case Bm:for(e=0;e<a;e++){var s=o[e];if(null!==(s=(i?s.sourceEdges:s.destinationEdges).first())&&null!==(s=s.link)){var l=90===n||270===n?Te:Pe;if(1===a||e===a-1&&1===a%2)switch(n){case 0:l=Te;break;case 90:l=Pe;break;case 180:l=De;break;default:l=Ne}else 0===e%2&&(l=90===n||270===n?De:Ne);i?(t.setsPortSpot&&(s.fromSpot=r),t.setsChildPortSpot&&(s.toSpot=l)):(t.setsPortSpot&&(s.fromSpot=l),t.setsChildPortSpot&&(s.toSpot=r))}}break;case Fm:for(n=90===n||270===n?De:Ne,o=i?t.destinationEdges:t.sourceEdges;o.next();)null!==(a=o.value.link)&&(i?(t.setsPortSpot&&(a.fromSpot=r),t.setsChildPortSpot&&(a.toSpot=n)):(t.setsPortSpot&&(a.fromSpot=n),t.setsChildPortSpot&&(a.toSpot=r)));break;case zm:for(n=90===n||270===n?Te:Pe,o=i?t.destinationEdges:t.sourceEdges;o.next();)null!==(a=o.value.link)&&(i?(t.setsPortSpot&&(a.fromSpot=r),t.setsChildPortSpot&&(a.toSpot=n)):(t.setsPortSpot&&(a.fromSpot=n),t.setsChildPortSpot&&(a.toSpot=r)))}}else if(i=Cm(t),this.sd===Pm){for(r=t.destinationEdges;r.next();)if(null!==(n=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Wb())switch(i){case 0:n.fromSpot=De;break;case 90:n.fromSpot=Ne;break;case 180:n.fromSpot=Te;break;default:n.fromSpot=Pe}else n.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Wb())switch(i){case 0:n.toSpot=Te;break;case 90:n.toSpot=Pe;break;case 180:n.toSpot=De;break;default:n.toSpot=Ne}else n.toSpot=t.childPortSpot}}else for(r=t.sourceEdges;r.next();)if(null!==(n=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Wb())switch(i){case 0:n.toSpot=De;break;case 90:n.toSpot=Ne;break;case 180:n.toSpot=Te;break;default:n.toSpot=Pe}else n.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Wb())switch(i){case 0:n.fromSpot=Te;break;case 90:n.fromSpot=Pe;break;case 180:n.fromSpot=De;break;default:n.fromSpot=Ne}else n.fromSpot=t.childPortSpot}},Qg.prototype.computeLayerSpacing=function(t){var e=Cm(t);e=90===e||270===e;var i=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var n=Math.min(1,t.layerSpacingParentOverlap);i-=e?t.height*n:t.width*n}return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i},Qg.prototype.computeNodeIndent=function(t){var e=Cm(t),i=t.nodeIndent;if(0<t.nodeIndentPastParent){var n=Math.min(1,t.nodeIndentPastParent);i+=90===e||270===e?t.width*n:t.height*n}return Math.max(0,i)},d.Object.defineProperties(Qg.prototype,{roots:{get:function(){return this.Tb},set:function(t){this.Tb!==t&&(this.Tb=t,this.D())}},path:{get:function(){return this.Wn},set:function(t){this.Wn!==t&&(this.Wn=t,this.D())}},treeStyle:{get:function(){return this.vo},set:function(t){this.Pb===t||t!==Wm&&t!==Gm&&t!==Um&&t!==Km||(this.vo=t,this.D())}},layerStyle:{get:function(){return this.yq},set:function(t){this.Pb===t||t!==Zm&&t!==Jm&&t!==Qm||(this.yq=t,this.D())}},comments:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t,this.D())}},arrangement:{get:function(){return this.Pb},set:function(t){this.Pb===t||t!==Ym&&t!==Xm&&t!==qm||(this.Pb=t,this.D())}},arrangementSpacing:{get:function(){return this.Yd},set:function(t){this.Yd.C(t)||(this.Yd.assign(t),this.D())}},rootDefaults:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t,this.D())}},alternateDefaults:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t,this.D())}},sorting:{get:function(){return this.W.sorting},set:function(t){this.W.sorting===t||t!==Dm&&t!==Nm&&t!==Im&&!Em||(this.W.sorting=t,this.D())}},comparer:{get:function(){return this.W.comparer},set:function(t){this.W.comparer!==t&&(this.W.comparer=t,this.D())}},angle:{get:function(){return this.W.angle},set:function(t){this.W.angle!==t&&(0===t||90===t||180===t||270===t?(this.W.angle=t,this.D()):w("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.W.alignment},set:function(t){this.W.alignment!==t&&(this.W.alignment=t,this.D())}},nodeIndent:{get:function(){return this.W.nodeIndent},set:function(t){this.W.nodeIndent!==t&&0<=t&&(this.W.nodeIndent=t,this.D())}},nodeIndentPastParent:{get:function(){return this.W.nodeIndentPastParent},set:function(t){this.W.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.W.nodeIndentPastParent=t,this.D())}},nodeSpacing:{get:function(){return this.W.nodeSpacing},set:function(t){this.W.nodeSpacing!==t&&(this.W.nodeSpacing=t,this.D())}},layerSpacing:{get:function(){return this.W.layerSpacing},set:function(t){this.W.layerSpacing!==t&&(this.W.layerSpacing=t,this.D())}},layerSpacingParentOverlap:{get:function(){return this.W.layerSpacingParentOverlap},set:function(t){this.W.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.W.layerSpacingParentOverlap=t,this.D())}},compaction:{get:function(){return this.W.compaction},set:function(t){this.W.compaction===t||t!==Hm&&t!==Vm||(this.W.compaction=t,this.D())}},breadthLimit:{get:function(){return this.W.breadthLimit},set:function(t){this.W.breadthLimit!==t&&0<=t&&(this.W.breadthLimit=t,this.D())}},rowSpacing:{get:function(){return this.W.rowSpacing},set:function(t){this.W.rowSpacing!==t&&(this.W.rowSpacing=t,this.D())}},rowIndent:{get:function(){return this.W.rowIndent},set:function(t){this.W.rowIndent!==t&&0<=t&&(this.W.rowIndent=t,this.D())}},commentSpacing:{get:function(){return this.W.commentSpacing},set:function(t){this.W.commentSpacing!==t&&(this.W.commentSpacing=t,this.D())}},commentMargin:{get:function(){return this.W.commentMargin},set:function(t){this.W.commentMargin!==t&&(this.W.commentMargin=t,this.D())}},setsPortSpot:{get:function(){return this.W.setsPortSpot},set:function(t){this.W.setsPortSpot!==t&&(this.W.setsPortSpot=t,this.D())}},portSpot:{get:function(){return this.W.portSpot},set:function(t){this.W.portSpot.C(t)||(this.W.portSpot=t,this.D())}},setsChildPortSpot:{get:function(){return this.W.setsChildPortSpot},set:function(t){this.W.setsChildPortSpot!==t&&(this.W.setsChildPortSpot=t,this.D())}},childPortSpot:{get:function(){return this.W.childPortSpot},set:function(t){this.W.childPortSpot.C(t)||(this.W.childPortSpot=t,this.D())}},alternateSorting:{get:function(){return this.Y.sorting},set:function(t){this.Y.sorting===t||t!==Dm&&t!==Nm&&t!==Im&&!Em||(this.Y.sorting=t,this.D())}},alternateComparer:{get:function(){return this.Y.comparer},set:function(t){this.Y.comparer!==t&&(this.Y.comparer=t,this.D())}},alternateAngle:{get:function(){return this.Y.angle},set:function(t){this.Y.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.Y.angle=t,this.D())}},alternateAlignment:{get:function(){return this.Y.alignment},set:function(t){this.Y.alignment!==t&&(this.Y.alignment=t,this.D())}},alternateNodeIndent:{get:function(){return this.Y.nodeIndent},set:function(t){this.Y.nodeIndent!==t&&0<=t&&(this.Y.nodeIndent=t,this.D())}},alternateNodeIndentPastParent:{get:function(){return this.Y.nodeIndentPastParent},set:function(t){this.Y.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.Y.nodeIndentPastParent=t,this.D())}},alternateNodeSpacing:{get:function(){return this.Y.nodeSpacing},set:function(t){this.Y.nodeSpacing!==t&&(this.Y.nodeSpacing=t,this.D())}},alternateLayerSpacing:{get:function(){return this.Y.layerSpacing},set:function(t){this.Y.layerSpacing!==t&&(this.Y.layerSpacing=t,this.D())}},alternateLayerSpacingParentOverlap:{get:function(){return this.Y.layerSpacingParentOverlap},set:function(t){this.Y.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.Y.layerSpacingParentOverlap=t,this.D())}},alternateCompaction:{get:function(){return this.Y.compaction},set:function(t){this.Y.compaction===t||t!==Hm&&t!==Vm||(this.Y.compaction=t,this.D())}},alternateBreadthLimit:{get:function(){return this.Y.breadthLimit},set:function(t){this.Y.breadthLimit!==t&&0<=t&&(this.Y.breadthLimit=t,this.D())}},alternateRowSpacing:{get:function(){return this.Y.rowSpacing},set:function(t){this.Y.rowSpacing!==t&&(this.Y.rowSpacing=t,this.D())}},alternateRowIndent:{get:function(){return this.Y.rowIndent},set:function(t){this.Y.rowIndent!==t&&0<=t&&(this.Y.rowIndent=t,this.D())}},alternateCommentSpacing:{get:function(){return this.Y.commentSpacing},set:function(t){this.Y.commentSpacing!==t&&(this.Y.commentSpacing=t,this.D())}},alternateCommentMargin:{get:function(){return this.Y.commentMargin},set:function(t){this.Y.commentMargin!==t&&(this.Y.commentMargin=t,this.D())}},alternateSetsPortSpot:{get:function(){return this.Y.setsPortSpot},set:function(t){this.Y.setsPortSpot!==t&&(this.Y.setsPortSpot=t,this.D())}},alternatePortSpot:{get:function(){return this.Y.portSpot},set:function(t){this.Y.portSpot.C(t)||(this.Y.portSpot=t,this.D())}},alternateSetsChildPortSpot:{get:function(){return this.Y.setsChildPortSpot},set:function(t){this.Y.setsChildPortSpot!==t&&(this.Y.setsChildPortSpot=t,this.D())}},alternateChildPortSpot:{get:function(){return this.Y.childPortSpot},set:function(t){this.Y.childPortSpot.C(t)||(this.Y.childPortSpot=t,this.D())}}});var Mm=new z(Qg,"PathDefault",-1),Pm=new z(Qg,"PathDestination",0),Tm=new z(Qg,"PathSource",1),Dm=new z(Qg,"SortingForwards",10),Nm=new z(Qg,"SortingReverse",11),Im=new z(Qg,"SortingAscending",12),Em=new z(Qg,"SortingDescending",13),Am=new z(Qg,"AlignmentCenterSubtrees",20),Om=new z(Qg,"AlignmentCenterChildren",21),Lm=new z(Qg,"AlignmentStart",22),Rm=new z(Qg,"AlignmentEnd",23),jm=new z(Qg,"AlignmentBus",24),Bm=new z(Qg,"AlignmentBusBranching",25),Fm=new z(Qg,"AlignmentTopLeftBus",26),zm=new z(Qg,"AlignmentBottomRightBus",27),Hm=new z(Qg,"CompactionNone",30),Vm=new z(Qg,"CompactionBlock",31),Wm=new z(Qg,"StyleLayered",40),Um=new z(Qg,"StyleLastParents",41),Gm=new z(Qg,"StyleAlternating",42),Km=new z(Qg,"StyleRootOnly",43),Ym=new z(Qg,"ArrangementVertical",50),Xm=new z(Qg,"ArrangementHorizontal",51),qm=new z(Qg,"ArrangementFixedRoots",52),Zm=new z(Qg,"LayerIndividual",60),Jm=new z(Qg,"LayerSiblings",61),Qm=new z(Qg,"LayerUniform",62);function $m(t){Ad.call(this,t)}function tv(t){Bd.call(this,t),this.V=!1,this.hb=null,this.u=[],this.nb=this.Ha=this.F=this.ga=0,this.qd=null,this.S=new pt(0,0),this.Da=new Nt(0,0),this.la=new pt(0,0),this.im=this.hm=this.pA=!1,this.ip=this.Wo=null,this.hd=Dm,this.cd=Fd,this.Lb=0,this.Kb=Om,this.Sq=this.Rq=0,this.Tq=20,this.ge=50,this.xq=0,this.Fp=Vm,this.yp=0,this.kr=25,this.Ep=this.jr=10,this.Dp=20,this.ur=!0,this.ar=ke,this.tr=!0,this.Bp=ke}function ev(t){zd.call(this,t),this.Zt=new pt(0,0)}Qg.className="TreeLayout",Qg.PathDefault=Mm,Qg.PathDestination=Pm,Qg.PathSource=Tm,Qg.SortingForwards=Dm,Qg.SortingReverse=Nm,Qg.SortingAscending=Im,Qg.SortingDescending=Em,Qg.AlignmentCenterSubtrees=Am,Qg.AlignmentCenterChildren=Om,Qg.AlignmentStart=Lm,Qg.AlignmentEnd=Rm,Qg.AlignmentBus=jm,Qg.AlignmentBusBranching=Bm,Qg.AlignmentTopLeftBus=Fm,Qg.AlignmentBottomRightBus=zm,Qg.CompactionNone=Hm,Qg.CompactionBlock=Vm,Qg.StyleLayered=Wm,Qg.StyleLastParents=Um,Qg.StyleAlternating=Gm,Qg.StyleRootOnly=Km,Qg.ArrangementVertical=Ym,Qg.ArrangementHorizontal=Xm,Qg.ArrangementFixedRoots=qm,Qg.LayerIndividual=Zm,Qg.LayerSiblings=Jm,Qg.LayerUniform=Qm,c($m,Ad),$m.prototype.createVertex=function(){return new tv(this)},$m.prototype.createEdge=function(){return new ev(this)},$m.className="TreeNetwork",c(tv,Bd),tv.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.hd=t.sorting,this.cd=t.comparer,this.Lb=t.angle,this.Kb=t.alignment,this.Rq=t.nodeIndent,this.Sq=t.nodeIndentPastParent,this.Tq=t.nodeSpacing,this.ge=t.layerSpacing,this.xq=t.layerSpacingParentOverlap,this.Fp=t.compaction,this.yp=t.breadthLimit,this.kr=t.rowSpacing,this.jr=t.rowIndent,this.Ep=t.commentSpacing,this.Dp=t.commentMargin,this.ur=t.setsPortSpot,this.ar=t.portSpot,this.tr=t.setsChildPortSpot,this.Bp=t.childPortSpot)},d.Object.defineProperties(tv.prototype,{initialized:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},parent:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t)}},children:{get:function(){return this.u},set:function(t){if(this.u!==t){if(null!==t)for(var e=t.length,i=0;i<e;i++);this.u=t}}},level:{get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t)}},descendantCount:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},maxChildrenCount:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},maxGenerationCount:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t)}},comments:{get:function(){return this.qd},set:function(t){if(this.qd!==t){if(null!==t)for(var e=t.length,i=0;i<e;i++);this.qd=t}}},sorting:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t)}},comparer:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.cd=t)}},angle:{get:function(){return this.Lb},set:function(t){this.Lb!==t&&(this.Lb=t)}},alignment:{get:function(){return this.Kb},set:function(t){this.Kb!==t&&(this.Kb=t)}},nodeIndent:{get:function(){return this.Rq},set:function(t){this.Rq!==t&&(this.Rq=t)}},nodeIndentPastParent:{get:function(){return this.Sq},set:function(t){this.Sq!==t&&(this.Sq=t)}},nodeSpacing:{get:function(){return this.Tq},set:function(t){this.Tq!==t&&(this.Tq=t)}},layerSpacing:{get:function(){return this.ge},set:function(t){this.ge!==t&&(this.ge=t)}},layerSpacingParentOverlap:{get:function(){return this.xq},set:function(t){this.xq!==t&&(this.xq=t)}},compaction:{get:function(){return this.Fp},set:function(t){this.Fp!==t&&(this.Fp=t)}},breadthLimit:{get:function(){return this.yp},set:function(t){this.yp!==t&&(this.yp=t)}},rowSpacing:{get:function(){return this.kr},set:function(t){this.kr!==t&&(this.kr=t)}},rowIndent:{get:function(){return this.jr},set:function(t){this.jr!==t&&(this.jr=t)}},commentSpacing:{get:function(){return this.Ep},set:function(t){this.Ep!==t&&(this.Ep=t)}},commentMargin:{get:function(){return this.Dp},set:function(t){this.Dp!==t&&(this.Dp=t)}},setsPortSpot:{get:function(){return this.ur},set:function(t){this.ur!==t&&(this.ur=t)}},portSpot:{get:function(){return this.ar},set:function(t){this.ar.C(t)||(this.ar=t)}},setsChildPortSpot:{get:function(){return this.tr},set:function(t){this.tr!==t&&(this.tr=t)}},childPortSpot:{get:function(){return this.Bp},set:function(t){this.Bp.C(t)||(this.Bp=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.Da},set:function(t){this.Da.set(t)}},subtreeOffset:{get:function(){return this.la},set:function(t){this.la.set(t)}}}),tv.className="TreeVertex",c(ev,zd),ev.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,i=null,n=null;switch(e.sd){case Pm:i=this.fromVertex,n=this.toVertex;break;case Tm:i=this.toVertex,n=this.fromVertex;break;default:w("Unhandled path value "+e.sd.toString())}if(null!==i&&null!==n){var r=this.Zt;if(0!==r.x||0!==r.y||i.pA){n=i.bounds;var o=Cm(i),a=e.computeLayerSpacing(i),s=i.rowSpacing;t.ug();var l,u=t.curve===Xc,h=t.isOrthogonal;if(t.th(),h||u){for(l=2;4<t.pointsCount;)t.pv(2);var c=t.i(1),d=t.i(2)}else{for(l=1;3<t.pointsCount;)t.pv(1);c=t.i(0),d=t.i(t.pointsCount-1)}var f=t.i(t.pointsCount-1);0===o?(i.alignment===Rm?(o=n.bottom+r.y,0===r.y&&c.y>f.y+i.rowIndent&&(o=Math.min(o,Math.max(c.y,o-e.computeNodeIndent(i))))):i.alignment===Lm?(o=n.top+r.y,0===r.y&&c.y<f.y-i.rowIndent&&(o=Math.max(o,Math.min(c.y,o+e.computeNodeIndent(i))))):o=i.hm||i.im&&1===i.maxGenerationCount?n.top-i.la.y+r.y:n.y+n.height/2+r.y,u?(t.l(l,c.x,o),l++,t.l(l,n.right+a,o),l++,t.l(l,n.right+a+(r.x-s)/3,o),l++,t.l(l,n.right+a+2*(r.x-s)/3,o),l++,t.l(l,n.right+a+(r.x-s),o),l++,t.l(l,d.x,o)):(h&&(t.l(l,n.right+a/2,c.y),l++),t.l(l,n.right+a/2,o),l++,t.l(l,n.right+a+r.x-(h?s/2:s),o),l++,h&&t.l(l,t.i(l-1).x,d.y))):90===o?(i.alignment===Rm?(o=n.right+r.x,0===r.x&&c.x>f.x+i.rowIndent&&(o=Math.min(o,Math.max(c.x,o-e.computeNodeIndent(i))))):i.alignment===Lm?(o=n.left+r.x,0===r.x&&c.x<f.x-i.rowIndent&&(o=Math.max(o,Math.min(c.x,o+e.computeNodeIndent(i))))):o=i.hm||i.im&&1===i.maxGenerationCount?n.left-i.la.x+r.x:n.x+n.width/2+r.x,u?(t.l(l,o,c.y),l++,t.l(l,o,n.bottom+a),l++,t.l(l,o,n.bottom+a+(r.y-s)/3),l++,t.l(l,o,n.bottom+a+2*(r.y-s)/3),l++,t.l(l,o,n.bottom+a+(r.y-s)),l++,t.l(l,o,d.y)):(h&&(t.l(l,c.x,n.bottom+a/2),l++),t.l(l,o,n.bottom+a/2),l++,t.l(l,o,n.bottom+a+r.y-(h?s/2:s)),l++,h&&t.l(l,d.x,t.i(l-1).y))):180===o?(i.alignment===Rm?(o=n.bottom+r.y,0===r.y&&c.y>f.y+i.rowIndent&&(o=Math.min(o,Math.max(c.y,o-e.computeNodeIndent(i))))):i.alignment===Lm?(o=n.top+r.y,0===r.y&&c.y<f.y-i.rowIndent&&(o=Math.max(o,Math.min(c.y,o+e.computeNodeIndent(i))))):o=i.hm||i.im&&1===i.maxGenerationCount?n.top-i.la.y+r.y:n.y+n.height/2+r.y,u?(t.l(l,c.x,o),l++,t.l(l,n.left-a,o),l++,t.l(l,n.left-a+(r.x+s)/3,o),l++,t.l(l,n.left-a+2*(r.x+s)/3,o),l++,t.l(l,n.left-a+(r.x+s),o),l++,t.l(l,d.x,o)):(h&&(t.l(l,n.left-a/2,c.y),l++),t.l(l,n.left-a/2,o),l++,t.l(l,n.left-a+r.x+(h?s/2:s),o),l++,h&&t.l(l,t.i(l-1).x,d.y))):270===o?(i.alignment===Rm?(o=n.right+r.x,0===r.x&&c.x>f.x+i.rowIndent&&(o=Math.min(o,Math.max(c.x,o-e.computeNodeIndent(i))))):i.alignment===Lm?(o=n.left+r.x,0===r.x&&c.x<f.x-i.rowIndent&&(o=Math.max(o,Math.min(c.x,o+e.computeNodeIndent(i))))):o=i.hm||i.im&&1===i.maxGenerationCount?n.left-i.la.x+r.x:n.x+n.width/2+r.x,u?(t.l(l,o,c.y),l++,t.l(l,o,n.top-a),l++,t.l(l,o,n.top-a+(r.y+s)/3),l++,t.l(l,o,n.top-a+2*(r.y+s)/3),l++,t.l(l,o,n.top-a+(r.y+s)),l++,t.l(l,o,d.y)):(h&&(t.l(l,c.x,n.top-a/2),l++),t.l(l,o,n.top-a/2),l++,t.l(l,o,n.top-a+r.y+(h?s/2:s)),l++,h&&t.l(l,d.x,t.i(l-1).y))):w("Invalid angle "+o),t.zf()}else r=n,t=this.link,n=this.network.layout,(e=Cm(i))!==Cm(r)&&(a=n.computeLayerSpacing(i),s=i.bounds,i=r.bounds,0===e&&i.left-s.right<a+1||90===e&&i.top-s.bottom<a+1||180===e&&s.left-i.right<a+1||270===e&&s.top-i.bottom<a+1||(t.ug(),i=t.curve===Xc,r=t.isOrthogonal,n=am(this.fromVertex.alignment),t.th(),0===e?(e=s.right+a/2,i?4===t.pointsCount&&(i=t.i(3).y,t.M(1,e-20,t.i(1).y),t.l(2,e-20,i),t.l(3,e,i),t.l(4,e+20,i),t.M(5,t.i(5).x,i)):r?n?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,e,t.i(2).y),t.M(3,e,t.i(3).y)):4===t.pointsCount?t.l(2,e,t.i(2).y):3===t.pointsCount?t.M(1,e,t.i(2).y):2===t.pointsCount&&t.l(1,e,t.i(1).y)):90===e?(e=s.bottom+a/2,i?4===t.pointsCount&&(i=t.i(3).x,t.M(1,t.i(1).x,e-20),t.l(2,i,e-20),t.l(3,i,e),t.l(4,i,e+20),t.M(5,i,t.i(5).y)):r?n?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,t.i(2).x,e),t.M(3,t.i(3).x,e)):4===t.pointsCount?t.l(2,t.i(2).x,e):3===t.pointsCount?t.M(1,t.i(2).x,e):2===t.pointsCount&&t.l(1,t.i(1).x,e)):180===e?(e=s.left-a/2,i?4===t.pointsCount&&(i=t.i(3).y,t.M(1,e+20,t.i(1).y),t.l(2,e+20,i),t.l(3,e,i),t.l(4,e-20,i),t.M(5,t.i(5).x,i)):r?n?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,e,t.i(2).y),t.M(3,e,t.i(3).y)):4===t.pointsCount?t.l(2,e,t.i(2).y):3===t.pointsCount?t.M(1,e,t.i(2).y):2===t.pointsCount&&t.l(1,e,t.i(1).y)):270===e&&(e=s.top-a/2,i?4===t.pointsCount&&(i=t.i(3).x,t.M(1,t.i(1).x,e+20),t.l(2,i,e+20),t.l(3,i,e),t.l(4,i,e-20),t.M(5,i,t.i(5).y)):r?n?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,t.i(2).x,e),t.M(3,t.i(3).x,e)):4===t.pointsCount?t.l(2,t.i(2).x,e):3===t.pointsCount?t.M(1,t.i(2).x,e):2===t.pointsCount&&t.l(1,t.i(1).x,e)),t.zf()))}}},d.Object.defineProperties(ev.prototype,{fromVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},toVertex:{get:function(){return this.ld},set:function(t){this.ld!==t&&(this.ld=t)}},relativePoint:{get:function(){return this.Zt},set:function(t){this.Zt.set(t)}}}),ev.className="TreeEdge",bi.prototype.initializeStandardTools=function(){this.gb("Action",new gn,this.mouseDownTools),this.gb("Relinking",new rn,this.mouseDownTools),this.gb("LinkReshaping",new an,this.mouseDownTools),this.gb("Rotating",new fn,this.mouseDownTools),this.gb("Resizing",new dn,this.mouseDownTools),this.gb("Linking",new $i,this.mouseMoveTools),this.gb("Dragging",new Ti,this.mouseMoveTools),this.gb("DragSelecting",new vn,this.mouseMoveTools),this.gb("Panning",new yn,this.mouseMoveTools),this.gb("ContextMenu",new wn,this.mouseUpTools),this.gb("TextEditing",new Dn,this.mouseUpTools),this.gb("ClickCreating",new mn,this.mouseUpTools),this.gb("ClickSelecting",new pn,this.mouseUpTools)},eu("Horizontal",new dl),eu("Spot",new pl),eu("Table",new vl),eu("Viewbox",new xl),eu("TableRow",new yl),eu("TableColumn",new bl),eu("Graduated",new Cl),eu("Grid",new wl),Bo.add("GraphLinksModel",uf),Bo.add("TreeModel",ff);var iv=m.go,nv={get licenseKey(){return Pr.licenseKey},set licenseKey(t){Pr.licenseKey=t},get version(){return Pr.version},Group:pc,EnumValue:z,List:Z,Set:Q,Map:ft,Point:pt,Size:Nt,Rect:Ot,Margin:Xt,Spot:Re,Geometry:Ue,PathFigure:Qe,PathSegment:$e,InputEvent:li,DiagramEvent:ui,ChangedEvent:hi,Model:gf,GraphLinksModel:Kf,TreeModel:np,Binding:Hf,Transaction:gi,UndoManager:mi,CommandHandler:Na,Tool:yi,DraggingTool:Ti,DraggingInfo:ha,DraggingOptions:_a,LinkingBaseTool:Xi,LinkingTool:$i,RelinkingTool:rn,LinkReshapingTool:an,ResizingTool:dn,RotatingTool:fn,ClickSelectingTool:pn,ActionTool:gn,ClickCreatingTool:mn,HTMLInfo:bn,ContextMenuTool:wn,DragSelectingTool:vn,PanningTool:yn,TextEditingTool:Dn,ToolManager:bi,Animation:lr,AnimationManager:Gn,AnimationTrigger:vr,Layer:_r,Diagram:Pr,Palette:Sa,Overview:Ma,Brush:Ls,GraphObject:Aa,Panel:Ml,RowColumnDefinition:su,Shape:fu,TextBlock:Cu,Picture:nh,Part:wh,Adornment:Kh,Node:Xh,Link:xc,Placeholder:bc,Layout:Nd,LayoutNetwork:Ad,LayoutVertex:Bd,LayoutEdge:zd,GridLayout:Hd,PanelLayout:hl,CircularLayout:rp,CircularNetwork:Ep,CircularVertex:Ap,CircularEdge:Lp,ForceDirectedLayout:Rp,ForceDirectedNetwork:Up,ForceDirectedVertex:Gp,ForceDirectedEdge:Kp,LayeredDigraphLayout:Xp,LayeredDigraphNetwork:Gg,LayeredDigraphVertex:Kg,LayeredDigraphEdge:Jg,TreeLayout:Qg,TreeNetwork:$m,TreeVertex:tv,TreeEdge:ev};"object"===typeof iv&&iv.version&&S("WARNING: a `go` object on the root object is already defined.  "+("Debug"in iv?"debug ":"")+"version: "+iv.version+", replaced with version: "+nv.version),Pr.prototype.go=nv,m.go=nv,"object"===typeof t.exports&&(t.exports="undefined"!==typeof i.g?i.g.go:self.go)}();"undefined"!==typeof i.g?i.g.go:self.go;var n="undefined"!==typeof i.g?i.g.go:self.go,r=(n.Group,n.EnumValue,n.List,n.Set,n.Map,n.Point),o=n.Size,a=(n.Rect,n.Margin),s=n.Spot,l=(n.Geometry,n.PathFigure,n.PathSegment,n.InputEvent,n.DiagramEvent,n.ChangedEvent),u=(n.Model,n.GraphLinksModel),h=(n.TreeModel,n.Binding),c=(n.Transaction,n.UndoManager,n.CommandHandler,n.Tool,n.DraggingTool,n.DraggingInfo,n.LinkingBaseTool,n.LinkingTool,n.RelinkingTool,n.LinkReshapingTool,n.ResizingTool,n.RotatingTool,n.ClickSelectingTool,n.ActionTool,n.ClickCreatingTool,n.HTMLInfo,n.ContextMenuTool,n.DragSelectingTool,n.PanningTool,n.TextEditingTool,n.ToolManager,n.Animation,n.AnimationManager,n.AnimationTrigger,n.Layer,n.Diagram),d=(n.Palette,n.Overview),f=(n.Brush,n.GraphObject),p=(n.Panel,n.RowColumnDefinition,n.Shape),g=n.TextBlock,m=(n.TextBlockMetrics,n.Picture,n.Part,n.Adornment,n.Node),v=n.Link,y=(n.Placeholder,n.Layout,n.LayoutNetwork,n.LayoutVertex,n.LayoutEdge,n.GridLayout),b=(n.PanelLayout,n.CircularLayout,n.CircularNetwork,n.CircularVertex,n.CircularEdge,n.ForceDirectedLayout);n.ForceDirectedNetwork,n.ForceDirectedVertex,n.ForceDirectedEdge,n.LayeredDigraphLayout,n.LayeredDigraphNetwork,n.LayeredDigraphVertex,n.LayeredDigraphEdge,n.TreeLayout,n.TreeNetwork,n.TreeVertex,n.TreeEdge,n.version},888:function(t,e,i){"use strict";var n=i(47);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,i,r,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return i.PropTypes=i,i}},7:function(t,e,i){t.exports=i(888)()},47:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(t,e,i){"use strict";var n=i(791),r=i(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,i,n,r,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,i,n){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!c.call(p,t)||!c.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var R,j=Object.assign;function B(t){if(void 0===R)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);R=e&&e[1]||""}return"\n"+R+t}var F=!1;function z(t,e){if(!t||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=n.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?B(t):""}function H(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case _:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case I:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case E:e=t._payload,t=t._init;try{return V(t(e))}catch(i){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=G(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function X(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function q(t,e){var i=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Z(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=U(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Q(t,e){J(t,e);var i=U(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&X(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+U(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(et(i)){if(1<i.length)throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:U(i)}}function ot(t,e){var i=U(e.value),n=U(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ht,ct=(ht=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return ht(t,e)}))}:ht);function dt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=gt(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,_t=null,St=null;function Ct(t){if(t=br(t)){if("function"!==typeof kt)throw Error(o(280));var e=t.stateNode;e&&(e=wr(e),kt(t.stateNode,t.type,e))}}function Mt(t){_t?St?St.push(t):St=[t]:_t=t}function Pt(){if(_t){var t=_t,e=St;if(St=_t=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Tt(t,e){return t(e)}function Dt(){}var Nt=!1;function It(t,e,i){if(Nt)return t(e,i);Nt=!0;try{return Tt(t,e,i)}finally{Nt=!1,(null!==_t||null!==St)&&(Dt(),Pt())}}function Et(t,e){var i=t.stateNode;if(null===i)return null;var n=wr(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}var At=!1;if(h)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){At=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ht){At=!1}function Lt(t,e,i,n,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(h){this.onError(h)}}var Rt=!1,jt=null,Bt=!1,Ft=null,zt={onError:function(t){Rt=!0,jt=t}};function Ht(t,e,i,n,r,o,a,s,l){Rt=!1,jt=null,Lt.apply(zt,arguments)}function Vt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ut(t){if(Vt(t)!==t)throw Error(o(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(n=r.return)){i=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return Ut(r),t;if(a===n)return Ut(r),e;a=a.sibling}throw Error(o(188))}if(i.return!==n.return)i=r,n=a;else{for(var s=!1,l=r.child;l;){if(l===i){s=!0,i=r,n=a;break}if(l===n){s=!0,n=r,i=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===i){s=!0,i=a,n=r;break}if(l===n){s=!0,n=a,i=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Yt=r.unstable_scheduleCallback,Xt=r.unstable_cancelCallback,qt=r.unstable_shouldYield,Zt=r.unstable_requestPaint,Jt=r.unstable_now,Qt=r.unstable_getCurrentPriorityLevel,$t=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ie=r.unstable_LowPriority,ne=r.unstable_IdlePriority,re=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ue=64,he=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var i=t.pendingLanes;if(0===i)return 0;var n=0,r=t.suspendedLanes,o=t.pingedLanes,a=268435455&i;if(0!==a){var s=a&~r;0!==s?n=ce(s):0!==(o&=a)&&(n=ce(o))}else 0!==(a=i&~r)?n=ce(a):0!==o&&(n=ce(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&r)&&((r=n&-n)>=(o=e&-e)||16===r&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)r=1<<(i=31-ae(e)),n|=t[i],e&=~r;return n}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function me(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ve(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=i}function ye(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-ae(i),r=1<<n;r&e|t[n]&e&&(t[n]|=e),i&=~r}}var be=0;function xe(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,ke,_e,Se,Ce,Me=!1,Pe=[],Te=null,De=null,Ne=null,Ie=new Map,Ee=new Map,Ae=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Le(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":De=null;break;case"mouseover":case"mouseout":Ne=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function Re(t,e,i,n,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:o,targetContainers:[r]},null!==e&&(null!==(e=br(e))&&ke(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function je(t){var e=yr(t.target);if(null!==e){var i=Vt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Wt(i)))return t.blockedOn=e,void Ce(t.priority,(function(){_e(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=br(i))&&ke(e),t.blockedOn=i,!1;var n=new(i=t.nativeEvent).constructor(i.type,i);xt=n,i.target.dispatchEvent(n),xt=null,e.shift()}return!0}function Fe(t,e,i){Be(t)&&i.delete(e)}function ze(){Me=!1,null!==Te&&Be(Te)&&(Te=null),null!==De&&Be(De)&&(De=null),null!==Ne&&Be(Ne)&&(Ne=null),Ie.forEach(Fe),Ee.forEach(Fe)}function He(t,e){t.blockedOn===e&&(t.blockedOn=null,Me||(Me=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ze)))}function Ve(t){function e(e){return He(e,t)}if(0<Pe.length){He(Pe[0],t);for(var i=1;i<Pe.length;i++){var n=Pe[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Te&&He(Te,t),null!==De&&He(De,t),null!==Ne&&He(Ne,t),Ie.forEach(e),Ee.forEach(e),i=0;i<Ae.length;i++)(n=Ae[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Ae.length&&null===(i=Ae[0]).blockedOn;)je(i),null===i.blockedOn&&Ae.shift()}var We=x.ReactCurrentBatchConfig,Ue=!0;function Ge(t,e,i,n){var r=be,o=We.transition;We.transition=null;try{be=1,Ye(t,e,i,n)}finally{be=r,We.transition=o}}function Ke(t,e,i,n){var r=be,o=We.transition;We.transition=null;try{be=4,Ye(t,e,i,n)}finally{be=r,We.transition=o}}function Ye(t,e,i,n){if(Ue){var r=qe(t,e,i,n);if(null===r)Un(t,e,n,Xe,i),Le(t,n);else if(function(t,e,i,n,r){switch(e){case"focusin":return Te=Re(Te,t,e,i,n,r),!0;case"dragenter":return De=Re(De,t,e,i,n,r),!0;case"mouseover":return Ne=Re(Ne,t,e,i,n,r),!0;case"pointerover":var o=r.pointerId;return Ie.set(o,Re(Ie.get(o)||null,t,e,i,n,r)),!0;case"gotpointercapture":return o=r.pointerId,Ee.set(o,Re(Ee.get(o)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n))n.stopPropagation();else if(Le(t,n),4&e&&-1<Oe.indexOf(t)){for(;null!==r;){var o=br(r);if(null!==o&&we(o),null===(o=qe(t,e,i,n))&&Un(t,e,n,Xe,i),o===r)break;r=o}null!==r&&n.stopPropagation()}else Un(t,e,n,null,i)}}var Xe=null;function qe(t,e,i,n){if(Xe=null,null!==(t=yr(t=wt(n))))if(null===(e=Vt(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xe=t,null}function Ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case $t:return 1;case te:return 4;case ee:case ie:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Je=null,Qe=null,$e=null;function ti(){if($e)return $e;var t,e,i=Qe,n=i.length,r="value"in Je?Je.value:Je.textContent,o=r.length;for(t=0;t<n&&i[t]===r[t];t++);var a=n-t;for(e=1;e<=a&&i[n-e]===r[o-e];e++);return $e=r.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function ni(){return!1}function ri(t){function e(e,i,n,r,o){for(var a in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var oi,ai,si,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=ri(li),hi=j({},li,{view:0,detail:0}),ci=ri(hi),di=j({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&"mousemove"===t.type?(oi=t.screenX-si.screenX,ai=t.screenY-si.screenY):ai=oi=0,si=t),oi)},movementY:function(t){return"movementY"in t?t.movementY:ai}}),fi=ri(di),pi=ri(j({},di,{dataTransfer:0})),gi=ri(j({},hi,{relatedTarget:0})),mi=ri(j({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),vi=j({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yi=ri(vi),bi=ri(j({},li,{data:0})),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ki={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _i(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ki[t])&&!!e[t]}function Si(){return _i}var Ci=j({},hi,{key:function(t){if(t.key){var e=xi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Mi=ri(Ci),Pi=ri(j({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ti=ri(j({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si})),Di=ri(j({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ni=j({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ii=ri(Ni),Ei=[9,13,27,32],Ai=h&&"CompositionEvent"in window,Oi=null;h&&"documentMode"in document&&(Oi=document.documentMode);var Li=h&&"TextEvent"in window&&!Oi,Ri=h&&(!Ai||Oi&&8<Oi&&11>=Oi),ji=String.fromCharCode(32),Bi=!1;function Fi(t,e){switch(t){case"keyup":return-1!==Ei.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hi=!1;var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vi[t.type]:"textarea"===e}function Ui(t,e,i,n){Mt(n),0<(e=Kn(e,"onChange")).length&&(i=new ui("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Gi=null,Ki=null;function Yi(t){Bn(t,0)}function Xi(t){if(Y(xr(t)))return t}function qi(t,e){if("change"===t)return e}var Zi=!1;if(h){var Ji;if(h){var Qi="oninput"in document;if(!Qi){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Qi="function"===typeof $i.oninput}Ji=Qi}else Ji=!1;Zi=Ji&&(!document.documentMode||9<document.documentMode)}function tn(){Gi&&(Gi.detachEvent("onpropertychange",en),Ki=Gi=null)}function en(t){if("value"===t.propertyName&&Xi(Ki)){var e=[];Ui(e,Ki,t,wt(t)),It(Yi,e)}}function nn(t,e,i){"focusin"===t?(tn(),Ki=i,(Gi=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function rn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xi(Ki)}function on(t,e){if("click"===t)return Xi(e)}function an(t,e){if("input"===t||"change"===t)return Xi(e)}var sn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(sn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!c.call(e,r)||!sn(t[r],e[r]))return!1}return!0}function un(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var i,n=un(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=un(n)}}function cn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dn(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=X((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pn(t){var e=dn(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&cn(i.ownerDocument.documentElement,i)){if(null!==n&&fn(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=i.textContent.length,o=Math.min(n.start,r);n=void 0===n.end?o:Math.min(n.end,r),!t.extend&&o>n&&(r=n,n=o,o=r),r=hn(i,o);var a=hn(i,n);r&&a&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gn=h&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,yn=null,bn=!1;function xn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==mn||mn!==X(n)||("selectionStart"in(n=mn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Kn(vn,"onSelect")).length&&(e=new ui("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=mn)))}function wn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var kn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},_n={},Sn={};function Cn(t){if(_n[t])return _n[t];if(!kn[t])return t;var e,i=kn[t];for(e in i)if(i.hasOwnProperty(e)&&e in Sn)return _n[t]=i[e];return t}h&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);var Mn=Cn("animationend"),Pn=Cn("animationiteration"),Tn=Cn("animationstart"),Dn=Cn("transitionend"),Nn=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(t,e){Nn.set(t,e),l(e,[t])}for(var An=0;An<In.length;An++){var On=In[An];En(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}En(Mn,"onAnimationEnd"),En(Pn,"onAnimationIteration"),En(Tn,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Dn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function jn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,r,a,s,l,u){if(Ht.apply(this,arguments),Rt){if(!Rt)throw Error(o(198));var h=jt;Rt=!1,jt=null,Bt||(Bt=!0,Ft=h)}}(n,e,void 0,t),t.currentTarget=null}function Bn(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],r=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break t;jn(r,s,u),o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break t;jn(r,s,u),o=l}}}if(Bt)throw t=Ft,Bt=!1,Ft=null,t}function Fn(t,e){var i=e[gr];void 0===i&&(i=e[gr]=new Set);var n=t+"__bubble";i.has(n)||(Wn(e,t,2,!1),i.add(n))}function zn(t,e,i){var n=0;e&&(n|=4),Wn(i,t,n,e)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function Vn(t){if(!t[Hn]){t[Hn]=!0,a.forEach((function(e){"selectionchange"!==e&&(Rn.has(e)||zn(e,!1,t),zn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Hn]||(e[Hn]=!0,zn("selectionchange",!1,e))}}function Wn(t,e,i,n){switch(Ze(e)){case 1:var r=Ge;break;case 4:r=Ke;break;default:r=Ye}i=r.bind(null,e,i,t),r=void 0,!At||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),n?void 0!==r?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):void 0!==r?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function Un(t,e,i,n,r){var o=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){n=o=a;continue t}s=s.parentNode}}n=n.return}It((function(){var n=o,r=wt(i),a=[];t:{var s=Nn.get(t);if(void 0!==s){var l=ui,u=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=Mi;break;case"focusin":u="focus",l=gi;break;case"focusout":u="blur",l=gi;break;case"beforeblur":case"afterblur":l=gi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ti;break;case Mn:case Pn:case Tn:l=mi;break;case Dn:l=Di;break;case"scroll":l=ci;break;case"wheel":l=Ii;break;case"copy":case"cut":case"paste":l=yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pi}var h=0!==(4&e),c=!h&&"scroll"===t,d=h?null!==s?s+"Capture":null:s;h=[];for(var f,p=n;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Et(p,d))&&h.push(Gn(p,g,f)))),c)break;p=p.return}0<h.length&&(s=new l(s,u,null,i,r),a.push({event:s,listeners:h}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||i===xt||!(u=i.relatedTarget||i.fromElement)||!yr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=i.relatedTarget||i.toElement)?yr(u):null)&&(u!==(c=Vt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(h=fi,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=Pi,g="onPointerLeave",d="onPointerEnter",p="pointer"),c=null==l?s:xr(l),f=null==u?s:xr(u),(s=new h(g,p+"leave",l,i,r)).target=c,s.relatedTarget=f,g=null,yr(r)===n&&((h=new h(d,p+"enter",u,i,r)).target=f,h.relatedTarget=c,g=h),c=g,l&&u)t:{for(d=u,p=0,f=h=l;f;f=Yn(f))p++;for(f=0,g=d;g;g=Yn(g))f++;for(;0<p-f;)h=Yn(h),p--;for(;0<f-p;)d=Yn(d),f--;for(;p--;){if(h===d||null!==d&&h===d.alternate)break t;h=Yn(h),d=Yn(d)}h=null}else h=null;null!==l&&Xn(a,s,l,h,!1),null!==u&&null!==c&&Xn(a,c,u,h,!0)}if("select"===(l=(s=n?xr(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=qi;else if(Wi(s))if(Zi)m=an;else{m=rn;var v=nn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=on);switch(m&&(m=m(t,n))?Ui(a,m,i,r):(v&&v(t,s,n),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&tt(s,"number",s.value)),v=n?xr(n):window,t){case"focusin":(Wi(v)||"true"===v.contentEditable)&&(mn=v,vn=n,yn=null);break;case"focusout":yn=vn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(a,i,r);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":xn(a,i,r)}var y;if(Ai)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Hi?Fi(t,i)&&(b="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(b="onCompositionStart");b&&(Ri&&"ko"!==i.locale&&(Hi||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hi&&(y=ti()):(Qe="value"in(Je=r)?Je.value:Je.textContent,Hi=!0)),0<(v=Kn(n,b)).length&&(b=new bi(b,t,null,i,r),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zi(i))&&(b.data=y))),(y=Li?function(t,e){switch(t){case"compositionend":return zi(e);case"keypress":return 32!==e.which?null:(Bi=!0,ji);case"textInput":return(t=e.data)===ji&&Bi?null:t;default:return null}}(t,i):function(t,e){if(Hi)return"compositionend"===t||!Ai&&Fi(t,e)?(t=ti(),$e=Qe=Je=null,Hi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ri&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(n=Kn(n,"onBeforeInput")).length&&(r=new bi("onBeforeInput","beforeinput",null,i,r),a.push({event:r,listeners:n}),r.data=y))}Bn(a,e)}))}function Gn(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Kn(t,e){for(var i=e+"Capture",n=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Et(t,i))&&n.unshift(Gn(t,o,r)),null!=(o=Et(t,e))&&n.push(Gn(t,o,r))),t=t.return}return n}function Yn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Xn(t,e,i,n,r){for(var o=e._reactName,a=[];null!==i&&i!==n;){var s=i,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Et(i,o))&&a.unshift(Gn(i,l,s)):r||null!=(l=Et(i,o))&&a.push(Gn(i,l,s))),i=i.return}0!==a.length&&t.push({event:e,listeners:a})}var qn=/\r\n?/g,Zn=/\u0000|\uFFFD/g;function Jn(t){return("string"===typeof t?t:""+t).replace(qn,"\n").replace(Zn,"")}function Qn(t,e,i){if(e=Jn(e),Jn(t)!==e&&i)throw Error(o(425))}function $n(){}var tr=null,er=null;function ir(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(t){return or.resolve(null).then(t).catch(sr)}:nr;function sr(t){setTimeout((function(){throw t}))}function lr(t,e){var i=e,n=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&8===r.nodeType)if("/$"===(i=r.data)){if(0===n)return t.removeChild(r),void Ve(e);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=r}while(i);Ve(e)}function ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var cr=Math.random().toString(36).slice(2),dr="__reactFiber$"+cr,fr="__reactProps$"+cr,pr="__reactContainer$"+cr,gr="__reactEvents$"+cr,mr="__reactListeners$"+cr,vr="__reactHandles$"+cr;function yr(t){var e=t[dr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[pr]||i[dr]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=hr(t);null!==t;){if(i=t[dr])return i;t=hr(t)}return e}i=(t=i).parentNode}return null}function br(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wr(t){return t[fr]||null}var kr=[],_r=-1;function Sr(t){return{current:t}}function Cr(t){0>_r||(t.current=kr[_r],kr[_r]=null,_r--)}function Mr(t,e){_r++,kr[_r]=t.current,t.current=e}var Pr={},Tr=Sr(Pr),Dr=Sr(!1),Nr=Pr;function Ir(t,e){var i=t.type.contextTypes;if(!i)return Pr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in i)o[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Er(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ar(){Cr(Dr),Cr(Tr)}function Or(t,e,i){if(Tr.current!==Pr)throw Error(o(168));Mr(Tr,e),Mr(Dr,i)}function Lr(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in e))throw Error(o(108,W(t)||"Unknown",r));return j({},i,n)}function Rr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,Nr=Tr.current,Mr(Tr,t),Mr(Dr,Dr.current),!0}function jr(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=Lr(t,e,Nr),n.__reactInternalMemoizedMergedChildContext=t,Cr(Dr),Cr(Tr),Mr(Tr,t)):Cr(Dr),Mr(Dr,i)}var Br=null,Fr=!1,zr=!1;function Hr(t){null===Br?Br=[t]:Br.push(t)}function Vr(){if(!zr&&null!==Br){zr=!0;var t=0,e=be;try{var i=Br;for(be=1;t<i.length;t++){var n=i[t];do{n=n(!0)}while(null!==n)}Br=null,Fr=!1}catch(r){throw null!==Br&&(Br=Br.slice(t+1)),Yt($t,Vr),r}finally{be=e,zr=!1}}return null}var Wr=[],Ur=0,Gr=null,Kr=0,Yr=[],Xr=0,qr=null,Zr=1,Jr="";function Qr(t,e){Wr[Ur++]=Kr,Wr[Ur++]=Gr,Gr=t,Kr=e}function $r(t,e,i){Yr[Xr++]=Zr,Yr[Xr++]=Jr,Yr[Xr++]=qr,qr=t;var n=Zr;t=Jr;var r=32-ae(n)-1;n&=~(1<<r),i+=1;var o=32-ae(e)+r;if(30<o){var a=r-r%5;o=(n&(1<<a)-1).toString(32),n>>=a,r-=a,Zr=1<<32-ae(e)+r|i<<r|n,Jr=o+t}else Zr=1<<o|i<<r|n,Jr=t}function to(t){null!==t.return&&(Qr(t,1),$r(t,1,0))}function eo(t){for(;t===Gr;)Gr=Wr[--Ur],Wr[Ur]=null,Kr=Wr[--Ur],Wr[Ur]=null;for(;t===qr;)qr=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null,Zr=Yr[--Xr],Yr[Xr]=null}var io=null,no=null,ro=!1,oo=null;function ao(t,e){var i=Eu(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function so(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,io=t,no=ur(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,io=t,no=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==qr?{id:Zr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Eu(18,null,null,0)).stateNode=e,i.return=t,t.child=i,io=t,no=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function uo(t){if(ro){var e=no;if(e){var i=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ur(i.nextSibling);var n=io;e&&so(t,e)?ao(n,i):(t.flags=-4097&t.flags|2,ro=!1,io=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ro=!1,io=t}}}function ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;io=t}function co(t){if(t!==io)return!1;if(!ro)return ho(t),ro=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ir(t.type,t.memoizedProps)),e&&(e=no)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ur(e.nextSibling)}if(ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){no=ur(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}no=null}}else no=io?ur(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=no;t;)t=ur(t.nextSibling)}function po(){no=io=null,ro=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=x.ReactCurrentBatchConfig;function vo(t,e){if(t&&t.defaultProps){for(var i in e=j({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}var yo=Sr(null),bo=null,xo=null,wo=null;function ko(){wo=xo=bo=null}function _o(t){var e=yo.current;Cr(yo),t._currentValue=e}function So(t,e,i){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Co(t,e){bo=t,wo=xo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(xs=!0),t.firstContext=null)}function Mo(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===xo){if(null===bo)throw Error(o(308));xo=t,bo.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var Po=null;function To(t){null===Po?Po=[t]:Po.push(t)}function Do(t,e,i,n){var r=e.interleaved;return null===r?(i.next=i,To(e)):(i.next=r.next,r.next=i),e.interleaved=i,No(t,n)}function No(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var Io=!1;function Eo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lo(t,e,i){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Dl)){var r=n.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),n.pending=e,No(t,i)}return null===(r=n.interleaved)?(e.next=e,To(n)):(e.next=r.next,r.next=e),n.interleaved=e,No(t,i)}function Ro(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ye(t,i)}}function jo(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var r=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?r=o=a:o=o.next=a,i=i.next}while(null!==i);null===o?r=o=e:o=o.next=e}else r=o=e;return i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Bo(t,e,i,n){var r=t.updateQueue;Io=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var h=t.alternate;null!==h&&((s=(h=h.updateQueue).lastBaseUpdate)!==a&&(null===s?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(null!==o){var c=r.baseState;for(a=0,h=u=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((n&d)===d){null!==h&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(d=e,f=i,g.tag){case 1:if("function"===typeof(p=g.payload)){c=p.call(f,c,d);break t}c=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,c,d):p)||void 0===d)break t;c=j({},c,d);break t;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=f,l=c):h=h.next=f,a|=d;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(d=s).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===h&&(l=c),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,null!==(e=r.shared.interleaved)){r=e;do{a|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);jl|=a,t.lanes=a,t.memoizedState=c}}function Fo(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=i,"function"!==typeof r)throw Error(o(191,r));r.call(n)}}}var zo=(new n.Component).refs;function Ho(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:j({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var Vo={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=eu(),r=iu(t),o=Oo(n,r);o.payload=e,void 0!==i&&null!==i&&(o.callback=i),null!==(e=Lo(t,o,r))&&(nu(e,t,r,n),Ro(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=eu(),r=iu(t),o=Oo(n,r);o.tag=1,o.payload=e,void 0!==i&&null!==i&&(o.callback=i),null!==(e=Lo(t,o,r))&&(nu(e,t,r,n),Ro(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=eu(),n=iu(t),r=Oo(i,n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Lo(t,r,n))&&(nu(e,t,n,i),Ro(e,t,n))}};function Wo(t,e,i,n,r,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ln(i,n)||!ln(r,o))}function Uo(t,e,i){var n=!1,r=Pr,o=e.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(r=Er(e)?Nr:Tr.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ir(t,r):Pr),e=new e(i,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Go(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function Ko(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=zo,Eo(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=Mo(o):(o=Er(e)?Nr:Tr.current,r.context=Ir(t,o)),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Ho(t,e,o,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Vo.enqueueReplaceState(r,r.state,null),Bo(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Yo(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var r=n,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=r.refs;e===zo&&(e=r.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qo(t){return(0,t._init)(t._payload)}function Zo(t){function e(e,i){if(t){var n=e.deletions;null===n?(e.deletions=[i],e.flags|=16):n.push(i)}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ou(t,e)).index=0,t.sibling=null,t}function a(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags|=2,i):n:(e.flags|=2,i):(e.flags|=1048576,i)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Bu(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function u(t,e,i,n){var o=i.type;return o===_?c(t,e,i.props.children,n,i.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&qo(o)===e.type)?((n=r(e,i.props)).ref=Yo(t,e,i),n.return=t,n):((n=Lu(i.type,i.key,i.props,null,t.mode,n)).ref=Yo(t,e,i),n.return=t,n)}function h(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Fu(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function c(t,e,i,n,o){return null===e||7!==e.tag?((e=Ru(i,t.mode,n,o)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Bu(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(i=Lu(e.type,e.key,e.props,null,t.mode,i)).ref=Yo(t,null,e),i.return=t,i;case k:return(e=Fu(e,t.mode,i)).return=t,e;case E:return d(t,(0,e._init)(e._payload),i)}if(et(e)||L(e))return(e=Ru(e,t.mode,i,null)).return=t,e;Xo(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==r?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return i.key===r?u(t,e,i,n):null;case k:return i.key===r?h(t,e,i,n):null;case E:return f(t,e,(r=i._init)(i._payload),n)}if(et(i)||L(i))return null!==r?null:c(t,e,i,n,null);Xo(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return u(e,t=t.get(null===n.key?i:n.key)||null,n,r);case k:return h(e,t=t.get(null===n.key?i:n.key)||null,n,r);case E:return p(t,e,i,(0,n._init)(n._payload),r)}if(et(n)||L(n))return c(e,t=t.get(i)||null,n,r,null);Xo(e,n)}return null}function g(r,o,s,l){for(var u=null,h=null,c=o,g=o=0,m=null;null!==c&&g<s.length;g++){c.index>g?(m=c,c=null):m=c.sibling;var v=f(r,c,s[g],l);if(null===v){null===c&&(c=m);break}t&&c&&null===v.alternate&&e(r,c),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v,c=m}if(g===s.length)return i(r,c),ro&&Qr(r,g),u;if(null===c){for(;g<s.length;g++)null!==(c=d(r,s[g],l))&&(o=a(c,o,g),null===h?u=c:h.sibling=c,h=c);return ro&&Qr(r,g),u}for(c=n(r,c);g<s.length;g++)null!==(m=p(c,r,g,s[g],l))&&(t&&null!==m.alternate&&c.delete(null===m.key?g:m.key),o=a(m,o,g),null===h?u=m:h.sibling=m,h=m);return t&&c.forEach((function(t){return e(r,t)})),ro&&Qr(r,g),u}function m(r,s,l,u){var h=L(l);if("function"!==typeof h)throw Error(o(150));if(null==(l=h.call(l)))throw Error(o(151));for(var c=h=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,u);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(r,g),s=a(b,s,m),null===c?h=b:c.sibling=b,c=b,g=v}if(y.done)return i(r,g),ro&&Qr(r,m),h;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,u))&&(s=a(y,s,m),null===c?h=y:c.sibling=y,c=y);return ro&&Qr(r,m),h}for(g=n(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===c?h=y:c.sibling=y,c=y);return t&&g.forEach((function(t){return e(r,t)})),ro&&Qr(r,m),h}return function t(n,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var u=a.key,h=o;null!==h;){if(h.key===u){if((u=a.type)===_){if(7===h.tag){i(n,h.sibling),(o=r(h,a.props.children)).return=n,n=o;break t}}else if(h.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===E&&qo(u)===h.type){i(n,h.sibling),(o=r(h,a.props)).ref=Yo(n,h,a),o.return=n,n=o;break t}i(n,h);break}e(n,h),h=h.sibling}a.type===_?((o=Ru(a.props.children,n.mode,l,a.key)).return=n,n=o):((l=Lu(a.type,a.key,a.props,null,n.mode,l)).ref=Yo(n,o,a),l.return=n,n=l)}return s(n);case k:t:{for(h=a.key;null!==o;){if(o.key===h){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){i(n,o.sibling),(o=r(o,a.children||[])).return=n,n=o;break t}i(n,o);break}e(n,o),o=o.sibling}(o=Fu(a,n.mode,l)).return=n,n=o}return s(n);case E:return t(n,o,(h=a._init)(a._payload),l)}if(et(a))return g(n,o,a,l);if(L(a))return m(n,o,a,l);Xo(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(i(n,o.sibling),(o=r(o,a)).return=n,n=o):(i(n,o),(o=Bu(a,n.mode,l)).return=n,n=o),s(n)):i(n,o)}}var Jo=Zo(!0),Qo=Zo(!1),$o={},ta=Sr($o),ea=Sr($o),ia=Sr($o);function na(t){if(t===$o)throw Error(o(174));return t}function ra(t,e){switch(Mr(ia,e),Mr(ea,t),Mr(ta,$o),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Cr(ta),Mr(ta,e)}function oa(){Cr(ta),Cr(ea),Cr(ia)}function aa(t){na(ia.current);var e=na(ta.current),i=lt(e,t.type);e!==i&&(Mr(ea,t),Mr(ta,i))}function sa(t){ea.current===t&&(Cr(ta),Cr(ea))}var la=Sr(0);function ua(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ha=[];function ca(){for(var t=0;t<ha.length;t++)ha[t]._workInProgressVersionPrimary=null;ha.length=0}var da=x.ReactCurrentDispatcher,fa=x.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,ba=!1,xa=0,wa=0;function ka(){throw Error(o(321))}function _a(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!sn(t[i],e[i]))return!1;return!0}function Sa(t,e,i,n,r,a){if(pa=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,da.current=null===t||null===t.memoizedState?ss:ls,t=i(n,r),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,va=ma=null,e.updateQueue=null,da.current=us,t=i(n,r)}while(ba)}if(da.current=as,e=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,e)throw Error(o(300));return t}function Ca(){var t=0!==xa;return xa=0,t}function Ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=t:va=va.next=t,va}function Pa(){if(null===ma){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=ma.next;var e=null===va?ga.memoizedState:va.next;if(null!==e)va=e,ma=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ma=t).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=t:va=va.next=t}return va}function Ta(t,e){return"function"===typeof e?e(t):e}function Da(t){var e=Pa(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=ma,r=n.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}n.baseQueue=r=a,i.pending=null}if(null!==r){a=r.next,n=n.baseState;var l=s=null,u=null,h=a;do{var c=h.lane;if((pa&c)===c)null!==u&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===u?(l=u=d,s=n):u=u.next=d,ga.lanes|=c,jl|=c}h=h.next}while(null!==h&&h!==a);null===u?s=n:u.next=l,sn(n,e.memoizedState)||(xs=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=u,i.lastRenderedState=n}if(null!==(t=i.interleaved)){r=t;do{a=r.lane,ga.lanes|=a,jl|=a,r=r.next}while(r!==t)}else null===r&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Na(t){var e=Pa(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,a=e.memoizedState;if(null!==r){i.pending=null;var s=r=r.next;do{a=t(a,s.action),s=s.next}while(s!==r);sn(a,e.memoizedState)||(xs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),i.lastRenderedState=a}return[a,n]}function Ia(){}function Ea(t,e){var i=ga,n=Pa(),r=e(),a=!sn(n.memoizedState,r);if(a&&(n.memoizedState=r,xs=!0),n=n.queue,Ua(La.bind(null,i,n,t),[t]),n.getSnapshot!==e||a||null!==va&&1&va.memoizedState.tag){if(i.flags|=2048,Fa(9,Oa.bind(null,i,n,r,e),void 0,null),null===Nl)throw Error(o(349));0!==(30&pa)||Aa(i,e,r)}return r}function Aa(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function Oa(t,e,i,n){e.value=i,e.getSnapshot=n,Ra(e)&&ja(t)}function La(t,e,i){return i((function(){Ra(e)&&ja(t)}))}function Ra(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!sn(t,i)}catch(n){return!0}}function ja(t){var e=No(t,1);null!==e&&nu(e,t,1,-1)}function Ba(t){var e=Ma();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=is.bind(null,ga,t),[e.memoizedState,t]}function Fa(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function za(){return Pa().memoizedState}function Ha(t,e,i,n){var r=Ma();ga.flags|=t,r.memoizedState=Fa(1|e,i,void 0,void 0===n?null:n)}function Va(t,e,i,n){var r=Pa();n=void 0===n?null:n;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==n&&_a(n,a.deps))return void(r.memoizedState=Fa(e,i,o,n))}ga.flags|=t,r.memoizedState=Fa(1|e,i,o,n)}function Wa(t,e){return Ha(8390656,8,t,e)}function Ua(t,e){return Va(2048,8,t,e)}function Ga(t,e){return Va(4,2,t,e)}function Ka(t,e){return Va(4,4,t,e)}function Ya(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Xa(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Va(4,4,Ya.bind(null,e,t),i)}function qa(){}function Za(t,e){var i=Pa();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&_a(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Ja(t,e){var i=Pa();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&_a(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Qa(t,e,i){return 0===(21&pa)?(t.baseState&&(t.baseState=!1,xs=!0),t.memoizedState=i):(sn(i,e)||(i=ge(),ga.lanes|=i,jl|=i,t.baseState=!0),e)}function $a(t,e){var i=be;be=0!==i&&4>i?i:4,t(!0);var n=fa.transition;fa.transition={};try{t(!1),e()}finally{be=i,fa.transition=n}}function ts(){return Pa().memoizedState}function es(t,e,i){var n=iu(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},ns(t))rs(e,i);else if(null!==(i=Do(t,e,i,n))){nu(i,t,n,eu()),os(i,e,n)}}function is(t,e,i){var n=iu(t),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(ns(t))rs(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,i);if(r.hasEagerState=!0,r.eagerState=s,sn(s,a)){var l=e.interleaved;return null===l?(r.next=r,To(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(u){}null!==(i=Do(t,e,r,n))&&(nu(i,t,n,r=eu()),os(i,e,n))}}function ns(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function rs(t,e){ba=ya=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function os(t,e,i){if(0!==(4194240&i)){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ye(t,i)}}var as={readContext:Mo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Mo,useCallback:function(t,e){return Ma().memoizedState=[t,void 0===e?null:e],t},useContext:Mo,useEffect:Wa,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Ha(4194308,4,Ya.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Ha(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ha(4,2,t,e)},useMemo:function(t,e){var i=Ma();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Ma();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=es.bind(null,ga,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Ma().memoizedState=t},useState:Ba,useDebugValue:qa,useDeferredValue:function(t){return Ma().memoizedState=t},useTransition:function(){var t=Ba(!1),e=t[0];return t=$a.bind(null,t[1]),Ma().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=ga,r=Ma();if(ro){if(void 0===i)throw Error(o(407));i=i()}else{if(i=e(),null===Nl)throw Error(o(349));0!==(30&pa)||Aa(n,e,i)}r.memoizedState=i;var a={value:i,getSnapshot:e};return r.queue=a,Wa(La.bind(null,n,a,t),[t]),n.flags|=2048,Fa(9,Oa.bind(null,n,a,i,e),void 0,null),i},useId:function(){var t=Ma(),e=Nl.identifierPrefix;if(ro){var i=Jr;e=":"+e+"R"+(i=(Zr&~(1<<32-ae(Zr)-1)).toString(32)+i),0<(i=xa++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Mo,useCallback:Za,useContext:Mo,useEffect:Ua,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Ja,useReducer:Da,useRef:za,useState:function(){return Da(Ta)},useDebugValue:qa,useDeferredValue:function(t){return Qa(Pa(),ma.memoizedState,t)},useTransition:function(){return[Da(Ta)[0],Pa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Ea,useId:ts,unstable_isNewReconciler:!1},us={readContext:Mo,useCallback:Za,useContext:Mo,useEffect:Ua,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Ja,useReducer:Na,useRef:za,useState:function(){return Na(Ta)},useDebugValue:qa,useDeferredValue:function(t){var e=Pa();return null===ma?e.memoizedState=t:Qa(e,ma.memoizedState,t)},useTransition:function(){return[Na(Ta)[0],Pa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Ea,useId:ts,unstable_isNewReconciler:!1};function hs(t,e){try{var i="",n=e;do{i+=H(n),n=n.return}while(n);var r=i}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r,digest:null}}function cs(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,i){(i=Oo(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Gl||(Gl=!0,Kl=n),ds(0,e)},i}function gs(t,e,i){(i=Oo(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return n(r)},i.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){ds(0,e),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function ms(t,e,i){var n=t.pingCache;if(null===n){n=t.pingCache=new fs;var r=new Set;n.set(e,r)}else void 0===(r=n.get(e))&&(r=new Set,n.set(e,r));r.has(i)||(r.add(i),t=Mu.bind(null,t,e,i),e.then(t,t))}function vs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,i,n,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Oo(-1,1)).tag=2,Lo(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var bs=x.ReactCurrentOwner,xs=!1;function ws(t,e,i,n){e.child=null===t?Qo(e,null,i,n):Jo(e,t.child,i,n)}function ks(t,e,i,n,r){i=i.render;var o=e.ref;return Co(e,r),n=Sa(t,e,i,n,o,r),i=Ca(),null===t||xs?(ro&&i&&to(e),e.flags|=1,ws(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Gs(t,e,r))}function _s(t,e,i,n,r){if(null===t){var o=i.type;return"function"!==typeof o||Au(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Lu(i.type,null,n,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,n,r))}if(o=t.child,0===(t.lanes&r)){var a=o.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(a,n)&&t.ref===e.ref)return Gs(t,e,r)}return e.flags|=1,(t=Ou(o,n)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,i,n,r){if(null!==t){var o=t.memoizedProps;if(ln(o,n)&&t.ref===e.ref){if(xs=!1,e.pendingProps=n=o,0===(t.lanes&r))return e.lanes=t.lanes,Gs(t,e,r);0!==(131072&t.flags)&&(xs=!0)}}return Ps(t,e,i,n,r)}function Cs(t,e,i){var n=e.pendingProps,r=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(Ol,Al),Al|=i;else{if(0===(1073741824&i))return t=null!==o?o.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mr(Ol,Al),Al|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:i,Mr(Ol,Al),Al|=n}else null!==o?(n=o.baseLanes|i,e.memoizedState=null):n=i,Mr(Ol,Al),Al|=n;return ws(t,e,r,i),e.child}function Ms(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Ps(t,e,i,n,r){var o=Er(i)?Nr:Tr.current;return o=Ir(e,o),Co(e,r),i=Sa(t,e,i,n,o,r),n=Ca(),null===t||xs?(ro&&n&&to(e),e.flags|=1,ws(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Gs(t,e,r))}function Ts(t,e,i,n,r){if(Er(i)){var o=!0;Rr(e)}else o=!1;if(Co(e,r),null===e.stateNode)Us(t,e),Uo(e,i,n),Ko(e,i,n,r),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=i.contextType;"object"===typeof u&&null!==u?u=Mo(u):u=Ir(e,u=Er(i)?Nr:Tr.current);var h=i.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&Go(e,a,n,u),Io=!1;var d=e.memoizedState;a.state=d,Bo(e,n,a,r),l=e.memoizedState,s!==n||d!==l||Dr.current||Io?("function"===typeof h&&(Ho(e,i,h,n),l=e.memoizedState),(s=Io||Wo(e,i,s,n,d,l,u))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ao(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:vo(e.type,s),a.props=u,c=e.pendingProps,d=a.context,"object"===typeof(l=i.contextType)&&null!==l?l=Mo(l):l=Ir(e,l=Er(i)?Nr:Tr.current);var f=i.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==c||d!==l)&&Go(e,a,n,l),Io=!1,d=e.memoizedState,a.state=d,Bo(e,n,a,r);var p=e.memoizedState;s!==c||d!==p||Dr.current||Io?("function"===typeof f&&(Ho(e,i,f,n),p=e.memoizedState),(u=Io||Wo(e,i,u,n,d,p,l)||!1)?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ds(t,e,i,n,o,r)}function Ds(t,e,i,n,r,o){Ms(t,e);var a=0!==(128&e.flags);if(!n&&!a)return r&&jr(e,i,!1),Gs(t,e,o);n=e.stateNode,bs.current=e;var s=a&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&a?(e.child=Jo(e,t.child,null,o),e.child=Jo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=n.state,r&&jr(e,i,!0),e.child}function Ns(t){var e=t.stateNode;e.pendingContext?Or(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Or(0,e.context,!1),ra(t,e.containerInfo)}function Is(t,e,i,n,r){return po(),go(r),e.flags|=256,ws(t,e,i,n),e.child}var Es,As,Os,Ls,Rs={dehydrated:null,treeContext:null,retryLane:0};function js(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bs(t,e,i){var n,r=e.pendingProps,a=la.current,s=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Mr(la,1&a),null===t)return uo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ju(l,r,0,null),t=Ru(t,r,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=js(i),e.memoizedState=Rs,t):Fs(e,l));if(null!==(a=t.memoizedState)&&null!==(n=a.dehydrated))return function(t,e,i,n,r,a,s){if(i)return 256&e.flags?(e.flags&=-257,zs(t,e,s,n=cs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=n.fallback,r=e.mode,n=ju({mode:"visible",children:n.children},r,0,null),(a=Ru(a,r,s,null)).flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,0!==(1&e.mode)&&Jo(e,t.child,null,s),e.child.memoizedState=js(s),e.memoizedState=Rs,a);if(0===(1&e.mode))return zs(t,e,s,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var l=n.dgst;return n=l,zs(t,e,s,n=cs(a=Error(o(419)),n,void 0))}if(l=0!==(s&t.childLanes),xs||l){if(null!==(n=Nl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,No(t,r),nu(n,t,r,-1))}return mu(),zs(t,e,s,n=cs(Error(o(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Tu.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,no=ur(r.nextSibling),io=e,ro=!0,oo=null,null!==t&&(Yr[Xr++]=Zr,Yr[Xr++]=Jr,Yr[Xr++]=qr,Zr=t.id,Jr=t.overflow,qr=e),e=Fs(e,n.children),e.flags|=4096,e)}(t,e,l,r,n,a,i);if(s){s=r.fallback,l=e.mode,n=(a=t.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==a?((r=e.child).childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==n?s=Ou(n,s):(s=Ru(s,l,i,null)).flags|=2,s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=null===(l=t.child.memoizedState)?js(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~i,e.memoizedState=Rs,r}return t=(s=t.child).sibling,r=Ou(s,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=i),r.return=e,r.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function Fs(t,e){return(e=ju({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function zs(t,e,i,n){return null!==n&&go(n),Jo(e,t.child,null,i),(t=Fs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Hs(t,e,i){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),So(t.return,e,i)}function Vs(t,e,i,n,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailMode=r)}function Ws(t,e,i){var n=e.pendingProps,r=n.revealOrder,o=n.tail;if(ws(t,e,n.children,i),0!==(2&(n=la.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Hs(t,i,e);else if(19===t.tag)Hs(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mr(la,n),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===ua(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Vs(e,!1,r,i,o);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===ua(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Vs(e,!0,i,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),jl|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Ou(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Ou(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Ks(t,e){if(!ro)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ys(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,n=0;if(e)for(var r=t.child;null!==r;)i|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function Xs(t,e,i){var n=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(e),null;case 1:case 17:return Er(e.type)&&Ar(),Ys(e),null;case 3:return n=e.stateNode,oa(),Cr(Dr),Cr(Tr),ca(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(co(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(su(oo),oo=null))),As(t,e),Ys(e),null;case 5:sa(e);var r=na(ia.current);if(i=e.type,null!==t&&null!=e.stateNode)Os(t,e,i,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(o(166));return Ys(e),null}if(t=na(ta.current),co(e)){n=e.stateNode,i=e.type;var a=e.memoizedProps;switch(n[dr]=e,n[fr]=a,t=0!==(1&e.mode),i){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(r=0;r<Ln.length;r++)Fn(Ln[r],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Z(n,a),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Fn("invalid",n);break;case"textarea":rt(n,a),Fn("invalid",n)}for(var l in yt(i,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==a.suppressHydrationWarning&&Qn(n.textContent,u,t),r=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Qn(n.textContent,u,t),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fn("scroll",n)}switch(i){case"input":K(n),$(n,a,!0);break;case"textarea":K(n),at(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=$n)}n=r,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),"select"===i&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[dr]=e,t[fr]=n,Es(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(i,n),i){case"dialog":Fn("cancel",t),Fn("close",t),r=n;break;case"iframe":case"object":case"embed":Fn("load",t),r=n;break;case"video":case"audio":for(r=0;r<Ln.length;r++)Fn(Ln[r],t);r=n;break;case"source":Fn("error",t),r=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),r=n;break;case"details":Fn("toggle",t),r=n;break;case"input":Z(t,n),r=q(t,n),Fn("invalid",t);break;case"option":default:r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=j({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":rt(t,n),r=nt(t,n),Fn("invalid",t)}for(a in yt(i,r),u=r)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?mt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ct(t,h):"children"===a?"string"===typeof h?("textarea"!==i||""!==h)&&dt(t,h):"number"===typeof h&&dt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Fn("scroll",t):null!=h&&b(t,a,h,l))}switch(i){case"input":K(t),$(t,n,!1);break;case"textarea":K(t),at(t);break;case"option":null!=n.value&&t.setAttribute("value",""+U(n.value));break;case"select":t.multiple=!!n.multiple,null!=(a=n.value)?it(t,!!n.multiple,a,!1):null!=n.defaultValue&&it(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ys(e),null;case 6:if(t&&null!=e.stateNode)Ls(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));if(i=na(ia.current),na(ta.current),co(e)){if(n=e.stateNode,i=e.memoizedProps,n[dr]=e,(a=n.nodeValue!==i)&&null!==(t=io))switch(t.tag){case 3:Qn(n.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,i,0!==(1&t.mode))}a&&(e.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[dr]=e,e.stateNode=n}return Ys(e),null;case 13:if(Cr(la),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ro&&null!==no&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=co(e),null!==n&&null!==n.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[dr]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ys(e),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&la.current)?0===Ll&&(Ll=3):mu())),null!==e.updateQueue&&(e.flags|=4),Ys(e),null);case 4:return oa(),As(t,e),null===t&&Vn(e.stateNode.containerInfo),Ys(e),null;case 10:return _o(e.type._context),Ys(e),null;case 19:if(Cr(la),null===(a=e.memoizedState))return Ys(e),null;if(n=0!==(128&e.flags),null===(l=a.rendering))if(n)Ks(a,!1);else{if(0!==Ll||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ua(t))){for(e.flags|=128,Ks(a,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;null!==i;)t=n,(a=i).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Mr(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Jt()>Wl&&(e.flags|=128,n=!0,Ks(a,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=ua(l))){if(e.flags|=128,n=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Ys(e),null}else 2*Jt()-a.renderingStartTime>Wl&&1073741824!==i&&(e.flags|=128,n=!0,Ks(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=a.last)?i.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jt(),e.sibling=null,i=la.current,Mr(la,n?1&i|2:1&i),e):(Ys(e),null);case 22:case 23:return du(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Al)&&(Ys(e),6&e.subtreeFlags&&(e.flags|=8192)):Ys(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function qs(t,e){switch(eo(e),e.tag){case 1:return Er(e.type)&&Ar(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Cr(Dr),Cr(Tr),ca(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Cr(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Cr(la),null;case 4:return oa(),null;case 10:return _o(e.type._context),null;case 22:case 23:return du(),null;default:return null}}Es=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},As=function(){},Os=function(t,e,i,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,na(ta.current);var o,a=null;switch(i){case"input":r=q(t,r),n=q(t,n),a=[];break;case"select":r=j({},r,{value:void 0}),n=j({},n,{value:void 0}),a=[];break;case"textarea":r=nt(t,r),n=nt(t,n),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(t.onclick=$n)}for(h in yt(i,n),i=null,r)if(!n.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var l=r[h];for(o in l)l.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(s.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var u=n[h];if(l=null!=r?r[h]:void 0,n.hasOwnProperty(h)&&u!==l&&(null!=u||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(i||(i={}),i[o]=u[o])}else i||(a||(a=[]),a.push(h,i)),i=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(s.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Fn("scroll",t),a||l===u||(a=[])):(a=a||[]).push(h,u))}i&&(a=a||[]).push("style",i);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Ls=function(t,e,i,n){i!==n&&(e.flags|=4)};var Zs=!1,Js=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function tl(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Cu(t,e,n)}else i.current=null}function el(t,e,i){try{i()}catch(n){Cu(t,e,n)}}var il=!1;function nl(t,e,i){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(e,i,o)}r=r.next}while(r!==n)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function ol(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[vr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=$n));else if(4!==n&&null!==(t=t.child))for(ul(t,e,i),t=t.sibling;null!==t;)ul(t,e,i),t=t.sibling}function hl(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(hl(t,e,i),t=t.sibling;null!==t;)hl(t,e,i),t=t.sibling}var cl=null,dl=!1;function fl(t,e,i){for(i=i.child;null!==i;)pl(t,e,i),i=i.sibling}function pl(t,e,i){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(re,i)}catch(s){}switch(i.tag){case 5:Js||tl(i,e);case 6:var n=cl,r=dl;cl=null,fl(t,e,i),dl=r,null!==(cl=n)&&(dl?(t=cl,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):cl.removeChild(i.stateNode));break;case 18:null!==cl&&(dl?(t=cl,i=i.stateNode,8===t.nodeType?lr(t.parentNode,i):1===t.nodeType&&lr(t,i),Ve(t)):lr(cl,i.stateNode));break;case 4:n=cl,r=dl,cl=i.stateNode.containerInfo,dl=!0,fl(t,e,i),cl=n,dl=r;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(i,e,a),r=r.next}while(r!==n)}fl(t,e,i);break;case 1:if(!Js&&(tl(i,e),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(s){Cu(i,e,s)}fl(t,e,i);break;case 21:fl(t,e,i);break;case 22:1&i.mode?(Js=(n=Js)||null!==i.memoizedState,fl(t,e,i),Js=n):fl(t,e,i);break;default:fl(t,e,i)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Qs),e.forEach((function(e){var n=Du.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}function ml(t,e){var i=e.deletions;if(null!==i)for(var n=0;n<i.length;n++){var r=i[n];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break t;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===cl)throw Error(o(160));pl(a,s,r),cl=null,dl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(h){Cu(r,e,h)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&n){try{nl(3,t,t.return),rl(3,t)}catch(m){Cu(t,t.return,m)}try{nl(5,t,t.return)}catch(m){Cu(t,t.return,m)}}break;case 1:ml(e,t),yl(t),512&n&&null!==i&&tl(i,i.return);break;case 5:if(ml(e,t),yl(t),512&n&&null!==i&&tl(i,i.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){Cu(t,t.return,m)}}if(4&n&&null!=(r=t.stateNode)){var a=t.memoizedProps,s=null!==i?i.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(r,a),bt(l,s);var h=bt(l,a);for(s=0;s<u.length;s+=2){var c=u[s],d=u[s+1];"style"===c?mt(r,d):"dangerouslySetInnerHTML"===c?ct(r,d):"children"===c?dt(r,d):b(r,c,d,h)}switch(l){case"input":Q(r,a);break;case"textarea":ot(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?it(r,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?it(r,!!a.multiple,a.defaultValue,!0):it(r,!!a.multiple,a.multiple?[]:"",!1))}r[fr]=a}catch(m){Cu(t,t.return,m)}}break;case 6:if(ml(e,t),yl(t),4&n){if(null===t.stateNode)throw Error(o(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(m){Cu(t,t.return,m)}}break;case 3:if(ml(e,t),yl(t),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(m){Cu(t,t.return,m)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(r=t.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Jt())),4&n&&gl(t);break;case 22:if(c=null!==i&&null!==i.memoizedState,1&t.mode?(Js=(h=Js)||c,ml(e,t),Js=h):ml(e,t),yl(t),8192&n){if(h=null!==t.memoizedState,(t.stateNode.isHidden=h)&&!c&&0!==(1&t.mode))for($s=t,c=t.child;null!==c;){for(d=$s=c;null!==$s;){switch(p=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){n=f,i=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Cu(n,i,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){kl(d);continue}}null!==p?(p.return=f,$s=p):kl(d)}c=c.sibling}t:for(c=null,d=t;;){if(5===d.tag){if(null===c){c=d;try{r=d.stateNode,h?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=gt("display",s))}catch(m){Cu(t,t.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(m){Cu(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&n&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(sl(i)){var n=i;break t}i=i.return}throw Error(o(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(dt(r,""),n.flags&=-33),hl(t,ll(t),r);break;case 3:case 4:var a=n.stateNode.containerInfo;ul(t,ll(t),a);break;default:throw Error(o(161))}}catch(s){Cu(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,i){$s=t,xl(t,e,i)}function xl(t,e,i){for(var n=0!==(1&t.mode);null!==$s;){var r=$s,o=r.child;if(22===r.tag&&n){var a=null!==r.memoizedState||Zs;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Zs;var u=Js;if(Zs=a,(Js=l)&&!u)for($s=r;null!==$s;)l=(a=$s).child,22===a.tag&&null!==a.memoizedState?_l(r):null!==l?(l.return=a,$s=l):_l(r);for(;null!==o;)$s=o,xl(o,e,i),o=o.sibling;$s=r,Zs=s,Js=u}wl(t)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,$s=o):wl(t)}}function wl(t){for(;null!==$s;){var e=$s;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Js||rl(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Js)if(null===i)n.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:vo(e.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Fo(e,a,n);break;case 3:var s=e.updateQueue;if(null!==s){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}Fo(e,s,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var h=e.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(o(163))}Js||512&e.flags&&ol(e)}catch(f){Cu(e,e.return,f)}}if(e===t){$s=null;break}if(null!==(i=e.sibling)){i.return=e.return,$s=i;break}$s=e.return}}function kl(t){for(;null!==$s;){var e=$s;if(e===t){$s=null;break}var i=e.sibling;if(null!==i){i.return=e.return,$s=i;break}$s=e.return}}function _l(t){for(;null!==$s;){var e=$s;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{rl(4,e)}catch(l){Cu(e,i,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var r=e.return;try{n.componentDidMount()}catch(l){Cu(e,r,l)}}var o=e.return;try{ol(e)}catch(l){Cu(e,o,l)}break;case 5:var a=e.return;try{ol(e)}catch(l){Cu(e,a,l)}}}catch(l){Cu(e,e.return,l)}if(e===t){$s=null;break}var s=e.sibling;if(null!==s){s.return=e.return,$s=s;break}$s=e.return}}var Sl,Cl=Math.ceil,Ml=x.ReactCurrentDispatcher,Pl=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,Dl=0,Nl=null,Il=null,El=0,Al=0,Ol=Sr(0),Ll=0,Rl=null,jl=0,Bl=0,Fl=0,zl=null,Hl=null,Vl=0,Wl=1/0,Ul=null,Gl=!1,Kl=null,Yl=null,Xl=!1,ql=null,Zl=0,Jl=0,Ql=null,$l=-1,tu=0;function eu(){return 0!==(6&Dl)?Jt():-1!==$l?$l:$l=Jt()}function iu(t){return 0===(1&t.mode)?1:0!==(2&Dl)&&0!==El?El&-El:null!==mo.transition?(0===tu&&(tu=ge()),tu):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ze(t.type)}function nu(t,e,i,n){if(50<Jl)throw Jl=0,Ql=null,Error(o(185));ve(t,i,n),0!==(2&Dl)&&t===Nl||(t===Nl&&(0===(2&Dl)&&(Bl|=i),4===Ll&&lu(t,El)),ru(t,n),1===i&&0===Dl&&0===(1&e.mode)&&(Wl=Jt()+500,Fr&&Vr()))}function ru(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=r[a];-1===l?0!==(s&i)&&0===(s&n)||(r[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var n=de(t,t===Nl?El:0);if(0===n)null!==i&&Xt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=i&&Xt(i),1===e)0===t.tag?function(t){Fr=!0,Hr(t)}(uu.bind(null,t)):Hr(uu.bind(null,t)),ar((function(){0===(6&Dl)&&Vr()})),i=null;else{switch(xe(n)){case 1:i=$t;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=ne}i=Nu(i,ou.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function ou(t,e){if($l=-1,tu=0,0!==(6&Dl))throw Error(o(327));var i=t.callbackNode;if(_u()&&t.callbackNode!==i)return null;var n=de(t,t===Nl?El:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=vu(t,n);else{e=n;var r=Dl;Dl|=2;var a=gu();for(Nl===t&&El===e||(Ul=null,Wl=Jt()+500,fu(t,e));;)try{bu();break}catch(l){pu(t,l)}ko(),Ml.current=a,Dl=r,null!==Il?e=0:(Nl=null,El=0,e=Ll)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(n=r,e=au(t,r))),1===e)throw i=Rl,fu(t,0),lu(t,n),ru(t,Jt()),i;if(6===e)lu(t,n);else{if(r=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var r=i[n],o=r.getSnapshot;r=r.value;try{if(!sn(o(),r))return!1}catch(s){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=vu(t,n))&&(0!==(a=pe(t))&&(n=a,e=au(t,a))),1===e))throw i=Rl,fu(t,0),lu(t,n),ru(t,Jt()),i;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(o(345));case 2:case 5:ku(t,Hl,Ul);break;case 3:if(lu(t,n),(130023424&n)===n&&10<(e=Vl+500-Jt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&n)!==n){eu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=nr(ku.bind(null,t,Hl,Ul),e);break}ku(t,Hl,Ul);break;case 4:if(lu(t,n),(4194240&n)===n)break;for(e=t.eventTimes,r=-1;0<n;){var s=31-ae(n);a=1<<s,(s=e[s])>r&&(r=s),n&=~a}if(n=r,10<(n=(120>(n=Jt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cl(n/1960))-n)){t.timeoutHandle=nr(ku.bind(null,t,Hl,Ul),n);break}ku(t,Hl,Ul);break;default:throw Error(o(329))}}}return ru(t,Jt()),t.callbackNode===i?ou.bind(null,t):null}function au(t,e){var i=zl;return t.current.memoizedState.isDehydrated&&(fu(t,e).flags|=256),2!==(t=vu(t,e))&&(e=Hl,Hl=i,null!==e&&su(e)),t}function su(t){null===Hl?Hl=t:Hl.push.apply(Hl,t)}function lu(t,e){for(e&=~Fl,e&=~Bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ae(e),n=1<<i;t[i]=-1,e&=~n}}function uu(t){if(0!==(6&Dl))throw Error(o(327));_u();var e=de(t,0);if(0===(1&e))return ru(t,Jt()),null;var i=vu(t,e);if(0!==t.tag&&2===i){var n=pe(t);0!==n&&(e=n,i=au(t,n))}if(1===i)throw i=Rl,fu(t,0),lu(t,e),ru(t,Jt()),i;if(6===i)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ku(t,Hl,Ul),ru(t,Jt()),null}function hu(t,e){var i=Dl;Dl|=1;try{return t(e)}finally{0===(Dl=i)&&(Wl=Jt()+500,Fr&&Vr())}}function cu(t){null!==ql&&0===ql.tag&&0===(6&Dl)&&_u();var e=Dl;Dl|=1;var i=Tl.transition,n=be;try{if(Tl.transition=null,be=1,t)return t()}finally{be=n,Tl.transition=i,0===(6&(Dl=e))&&Vr()}}function du(){Al=Ol.current,Cr(Ol)}function fu(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,rr(i)),null!==Il)for(i=Il.return;null!==i;){var n=i;switch(eo(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ar();break;case 3:oa(),Cr(Dr),Cr(Tr),ca();break;case 5:sa(n);break;case 4:oa();break;case 13:case 19:Cr(la);break;case 10:_o(n.type._context);break;case 22:case 23:du()}i=i.return}if(Nl=t,Il=t=Ou(t.current,null),El=Al=e,Ll=0,Rl=null,Fl=Bl=jl=0,Hl=zl=null,null!==Po){for(e=0;e<Po.length;e++)if(null!==(n=(i=Po[e]).interleaved)){i.interleaved=null;var r=n.next,o=i.pending;if(null!==o){var a=o.next;o.next=r,n.next=a}i.pending=n}Po=null}return t}function pu(t,e){for(;;){var i=Il;try{if(ko(),da.current=as,ya){for(var n=ga.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}ya=!1}if(pa=0,va=ma=ga=null,ba=!1,xa=0,Pl.current=null,null===i||null===i.return){Ll=1,Rl=e,Il=null;break}t:{var a=t,s=i.return,l=i,u=e;if(e=El,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var h=u,c=l,d=c.tag;if(0===(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,e),1&p.mode&&ms(a,h,e),u=h;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(u),e.updateQueue=m}else g.add(u);break t}if(0===(1&e)){ms(a,h,e),mu();break t}u=Error(o(426))}else if(ro&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,e),go(hs(u,l));break t}}a=u=hs(u,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,jo(a,ps(0,u,e));break t;case 1:l=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,jo(a,gs(a,l,e));break t}}a=a.return}while(null!==a)}wu(i)}catch(x){e=x,Il===i&&null!==i&&(Il=i=i.return);continue}break}}function gu(){var t=Ml.current;return Ml.current=as,null===t?as:t}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&jl)&&0===(268435455&Bl)||lu(Nl,El)}function vu(t,e){var i=Dl;Dl|=2;var n=gu();for(Nl===t&&El===e||(Ul=null,fu(t,e));;)try{yu();break}catch(r){pu(t,r)}if(ko(),Dl=i,Ml.current=n,null!==Il)throw Error(o(261));return Nl=null,El=0,Ll}function yu(){for(;null!==Il;)xu(Il)}function bu(){for(;null!==Il&&!qt();)xu(Il)}function xu(t){var e=Sl(t.alternate,t,Al);t.memoizedProps=t.pendingProps,null===e?wu(t):Il=e,Pl.current=null}function wu(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Xs(i,e,Al)))return void(Il=i)}else{if(null!==(i=qs(i,e)))return i.flags&=32767,void(Il=i);if(null===t)return Ll=6,void(Il=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Il=e);Il=e=t}while(null!==e);0===Ll&&(Ll=5)}function ku(t,e,i){var n=be,r=Tl.transition;try{Tl.transition=null,be=1,function(t,e,i,n){do{_u()}while(null!==ql);if(0!==(6&Dl))throw Error(o(327));i=t.finishedWork;var r=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-ae(i),o=1<<r;e[r]=0,n[r]=-1,t[r]=-1,i&=~o}}(t,a),t===Nl&&(Il=Nl=null,El=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Xl||(Xl=!0,Nu(ee,(function(){return _u(),null}))),a=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=be;be=1;var l=Dl;Dl|=4,Pl.current=null,function(t,e){if(tr=Ue,fn(t=dn())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{i.nodeType,a.nodeType}catch(w){i=null;break t}var s=0,l=-1,u=-1,h=0,c=0,d=t,f=null;e:for(;;){for(var p;d!==i||0!==r&&3!==d.nodeType||(l=s+r),d!==a||0!==n&&3!==d.nodeType||(u=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===i&&++h===r&&(l=s),f===a&&++c===n&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}i=-1===l||-1===u?null:{start:l,end:u}}else i=null}i=i||{start:0,end:0}}else i=null;for(er={focusedElem:t,selectionRange:i},Ue=!1,$s=e;null!==$s;)if(t=(e=$s).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$s=t;else for(;null!==$s;){e=$s;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:vo(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Cu(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,$s=t;break}$s=e.return}g=il,il=!1}(t,i),vl(i,t),pn(er),Ue=!!tr,er=tr=null,t.current=i,bl(i,t,r),Zt(),Dl=l,be=s,Tl.transition=a}else t.current=i;if(Xl&&(Xl=!1,ql=t,Zl=r),a=t.pendingLanes,0===a&&(Yl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),ru(t,Jt()),null!==e)for(n=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,t=Kl,Kl=null,t;0!==(1&Zl)&&0!==t.tag&&_u(),a=t.pendingLanes,0!==(1&a)?t===Ql?Jl++:(Jl=0,Ql=t):Jl=0,Vr()}(t,e,i,n)}finally{Tl.transition=r,be=n}return null}function _u(){if(null!==ql){var t=xe(Zl),e=Tl.transition,i=be;try{if(Tl.transition=null,be=16>t?16:t,null===ql)var n=!1;else{if(t=ql,ql=null,Zl=0,0!==(6&Dl))throw Error(o(331));var r=Dl;for(Dl|=4,$s=t.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var h=l[u];for($s=h;null!==$s;){var c=$s;switch(c.tag){case 0:case 11:case 15:nl(8,c,a)}var d=c.child;if(null!==d)d.return=c,$s=d;else for(;null!==$s;){var f=(c=$s).sibling,p=c.return;if(al(c),c===h){$s=null;break}if(null!==f){f.return=p,$s=f;break}$s=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else t:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$s=y;break t}$s=a.return}}var b=t.current;for($s=b;null!==$s;){var x=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,$s=x;else t:for(s=b;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Cu(l,l.return,k)}if(l===s){$s=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,$s=w;break t}$s=l.return}}if(Dl=r,Vr(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(re,t)}catch(k){}n=!0}return n}finally{be=i,Tl.transition=e}}return!1}function Su(t,e,i){t=Lo(t,e=ps(0,e=hs(i,e),1),1),e=eu(),null!==t&&(ve(t,1,e),ru(t,e))}function Cu(t,e,i){if(3===t.tag)Su(t,t,i);else for(;null!==e;){if(3===e.tag){Su(e,t,i);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){e=Lo(e,t=gs(e,t=hs(i,t),1),1),t=eu(),null!==e&&(ve(e,1,t),ru(e,t));break}}e=e.return}}function Mu(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&i,Nl===t&&(El&i)===i&&(4===Ll||3===Ll&&(130023424&El)===El&&500>Jt()-Vl?fu(t,0):Fl|=i),ru(t,e)}function Pu(t,e){0===e&&(0===(1&t.mode)?e=1:(e=he,0===(130023424&(he<<=1))&&(he=4194304)));var i=eu();null!==(t=No(t,e))&&(ve(t,e,i),ru(t,i))}function Tu(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Pu(t,i)}function Du(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;null!==r&&(i=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(e),Pu(t,i)}function Nu(t,e){return Yt(t,e)}function Iu(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eu(t,e,i,n){return new Iu(t,e,i,n)}function Au(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ou(t,e){var i=t.alternate;return null===i?((i=Eu(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Lu(t,e,i,n,r,a){var s=2;if(n=t,"function"===typeof t)Au(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case _:return Ru(i.children,r,a,e);case S:s=8,r|=8;break;case C:return(t=Eu(12,i,e,2|r)).elementType=C,t.lanes=a,t;case D:return(t=Eu(13,i,e,r)).elementType=D,t.lanes=a,t;case N:return(t=Eu(19,i,e,r)).elementType=N,t.lanes=a,t;case A:return ju(i,r,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case M:s=10;break t;case P:s=9;break t;case T:s=11;break t;case I:s=14;break t;case E:s=16,n=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Eu(s,i,e,r)).elementType=t,e.type=n,e.lanes=a,e}function Ru(t,e,i,n){return(t=Eu(7,t,n,e)).lanes=i,t}function ju(t,e,i,n){return(t=Eu(22,t,n,e)).elementType=A,t.lanes=i,t.stateNode={isHidden:!1},t}function Bu(t,e,i){return(t=Eu(6,t,null,e)).lanes=i,t}function Fu(t,e,i){return(e=Eu(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zu(t,e,i,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hu(t,e,i,n,r,o,a,s,l){return t=new zu(t,e,i,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Eu(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eo(o),t}function Vu(t){if(!t)return Pr;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var i=t.type;if(Er(i))return Lr(t,i,e)}return e}function Wu(t,e,i,n,r,o,a,s,l){return(t=Hu(i,n,!0,t,0,o,0,s,l)).context=Vu(null),i=t.current,(o=Oo(n=eu(),r=iu(i))).callback=void 0!==e&&null!==e?e:null,Lo(i,o,r),t.current.lanes=r,ve(t,r,n),ru(t,n),t}function Uu(t,e,i,n){var r=e.current,o=eu(),a=iu(r);return i=Vu(i),null===e.context?e.context=i:e.pendingContext=i,(e=Oo(o,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Lo(r,e,a))&&(nu(t,r,a,o),Ro(t,r,a)),a}function Gu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Ku(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Yu(t,e){Ku(t,e),(t=t.alternate)&&Ku(t,e)}Sl=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Dr.current)xs=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return xs=!1,function(t,e,i){switch(e.tag){case 3:Ns(e),po();break;case 5:aa(e);break;case 1:Er(e.type)&&Rr(e);break;case 4:ra(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Mr(yo,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Mr(la,1&la.current),e.flags|=128,null):0!==(i&e.child.childLanes)?Bs(t,e,i):(Mr(la,1&la.current),null!==(t=Gs(t,e,i))?t.sibling:null);Mr(la,1&la.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(128&t.flags)){if(n)return Ws(t,e,i);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Mr(la,la.current),n)break;return null;case 22:case 23:return e.lanes=0,Cs(t,e,i)}return Gs(t,e,i)}(t,e,i);xs=0!==(131072&t.flags)}else xs=!1,ro&&0!==(1048576&e.flags)&&$r(e,Kr,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Us(t,e),t=e.pendingProps;var r=Ir(e,Tr.current);Co(e,i),r=Sa(null,e,n,t,r,i);var a=Ca();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(n)?(a=!0,Rr(e)):a=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Eo(e),r.updater=Vo,e.stateNode=r,r._reactInternals=e,Ko(e,n,t,i),e=Ds(null,e,n,!0,a,i)):(e.tag=0,ro&&a&&to(e),ws(null,e,r,i),e=e.child),e;case 16:n=e.elementType;t:{switch(Us(t,e),t=e.pendingProps,n=(r=n._init)(n._payload),e.type=n,r=e.tag=function(t){if("function"===typeof t)return Au(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===I)return 14}return 2}(n),t=vo(n,t),r){case 0:e=Ps(null,e,n,t,i);break t;case 1:e=Ts(null,e,n,t,i);break t;case 11:e=ks(null,e,n,t,i);break t;case 14:e=_s(null,e,n,vo(n.type,t),i);break t}throw Error(o(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,Ps(t,e,n,r=e.elementType===n?r:vo(n,r),i);case 1:return n=e.type,r=e.pendingProps,Ts(t,e,n,r=e.elementType===n?r:vo(n,r),i);case 3:t:{if(Ns(e),null===t)throw Error(o(387));n=e.pendingProps,r=(a=e.memoizedState).element,Ao(t,e),Bo(e,n,null,i);var s=e.memoizedState;if(n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Is(t,e,n,i,r=hs(Error(o(423)),e));break t}if(n!==r){e=Is(t,e,n,i,r=hs(Error(o(424)),e));break t}for(no=ur(e.stateNode.containerInfo.firstChild),io=e,ro=!0,oo=null,i=Qo(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(po(),n===r){e=Gs(t,e,i);break t}ws(t,e,n,i)}e=e.child}return e;case 5:return aa(e),null===t&&uo(e),n=e.type,r=e.pendingProps,a=null!==t?t.memoizedProps:null,s=r.children,ir(n,r)?s=null:null!==a&&ir(n,a)&&(e.flags|=32),Ms(t,e),ws(t,e,s,i),e.child;case 6:return null===t&&uo(e),null;case 13:return Bs(t,e,i);case 4:return ra(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Jo(e,null,n,i):ws(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,ks(t,e,n,r=e.elementType===n?r:vo(n,r),i);case 7:return ws(t,e,e.pendingProps,i),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value,Mr(yo,n._currentValue),n._currentValue=s,null!==a)if(sn(a.value,s)){if(a.children===r.children&&!Dr.current){e=Gs(t,e,i);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===a.tag){(u=Oo(-1,i&-i)).tag=2;var h=a.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?u.next=u:(u.next=c.next,c.next=u),h.pending=u}}a.lanes|=i,null!==(u=a.alternate)&&(u.lanes|=i),So(a.return,i,e),l.lanes|=i;break}u=u.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=i,null!==(l=s.alternate)&&(l.lanes|=i),So(s,i,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,Co(e,i),n=n(r=Mo(r)),e.flags|=1,ws(t,e,n,i),e.child;case 14:return r=vo(n=e.type,e.pendingProps),_s(t,e,n,r=vo(n.type,r),i);case 15:return Ss(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:vo(n,r),Us(t,e),e.tag=1,Er(n)?(t=!0,Rr(e)):t=!1,Co(e,i),Uo(e,n,r),Ko(e,n,r,i),Ds(null,e,n,!0,t,i);case 19:return Ws(t,e,i);case 22:return Cs(t,e,i)}throw Error(o(156,e.tag))};var Xu="function"===typeof reportError?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}function Zu(t){this._internalRoot=t}function Ju(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $u(){}function th(t,e,i,n,r){var o=i._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var t=Gu(a);s.call(t)}}Uu(e,a,t,r)}else a=function(t,e,i,n,r){if(r){if("function"===typeof n){var o=n;n=function(){var t=Gu(a);o.call(t)}}var a=Wu(e,n,t,0,null,!1,0,"",$u);return t._reactRootContainer=a,t[pr]=a.current,Vn(8===t.nodeType?t.parentNode:t),cu(),a}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof n){var s=n;n=function(){var t=Gu(l);s.call(t)}}var l=Hu(t,0,!1,null,0,!1,0,"",$u);return t._reactRootContainer=l,t[pr]=l.current,Vn(8===t.nodeType?t.parentNode:t),cu((function(){Uu(e,l,i,n)})),l}(i,e,t,r,n);return Gu(a)}Zu.prototype.render=qu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Uu(t,e,null,null)},Zu.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cu((function(){Uu(null,t,null,null)})),e[pr]=null}},Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ae.length&&0!==e&&e<Ae[i].priority;i++);Ae.splice(i,0,t),0===i&&je(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=ce(e.pendingLanes);0!==i&&(ye(e,1|i),ru(e,Jt()),0===(6&Dl)&&(Wl=Jt()+500,Vr()))}break;case 13:cu((function(){var e=No(t,1);if(null!==e){var i=eu();nu(e,t,1,i)}})),Yu(t,1)}},ke=function(t){if(13===t.tag){var e=No(t,134217728);if(null!==e)nu(e,t,134217728,eu());Yu(t,134217728)}},_e=function(t){if(13===t.tag){var e=iu(t),i=No(t,e);if(null!==i)nu(i,t,e,eu());Yu(t,e)}},Se=function(){return be},Ce=function(t,e){var i=be;try{return be=t,e()}finally{be=i}},kt=function(t,e,i){switch(e){case"input":if(Q(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=wr(n);if(!r)throw Error(o(90));Y(n),Q(n,r)}}}break;case"textarea":ot(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},Tt=hu,Dt=cu;var eh={usingClientEntryPoint:!1,Events:[br,xr,wr,Mt,Pt,hu]},ih={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nh={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{re=rh.inject(nh),oe=rh}catch(ht){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Ju(t))throw Error(o(299));var i=!1,n="",r=Xu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Hu(t,1,!1,null,0,i,0,n,r),t[pr]=e.current,Vn(8===t.nodeType?t.parentNode:t),new qu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return cu(t)},e.hydrate=function(t,e,i){if(!Qu(e))throw Error(o(200));return th(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Ju(t))throw Error(o(405));var n=null!=i&&i.hydratedSources||null,r=!1,a="",s=Xu;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(r=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(s=i.onRecoverableError)),e=Wu(e,null,t,1,null!=i?i:null,r,0,a,s),t[pr]=e.current,Vn(t),n)for(t=0;t<n.length;t++)r=(r=(i=n[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new Zu(e)},e.render=function(t,e,i){if(!Qu(e))throw Error(o(200));return th(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Qu(t))throw Error(o(40));return!!t._reactRootContainer&&(cu((function(){th(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=hu,e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Qu(i))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return th(t,e,i,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},250:function(t,e,i){"use strict";var n=i(164);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},164:function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(463)},95:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=i(184),h=s(i(791)),c=l(i(394)),d=l(i(164)),f=function(t){function e(e){var i=t.call(this,e)||this;return i.cdmCount=0,i.checkReactVersionGE18=function(){return parseInt(h.default.version.split(".")[0])>=18},i.getId=function(){var t;return null===(t=i.winBoxObj)||void 0===t?void 0:t.id},i.getIndex=function(){var t;return null===(t=i.winBoxObj)||void 0===t?void 0:t.index},i.getPosition=function(){if(i.winBoxObj)return{x:i.winBoxObj.x,y:i.winBoxObj.y}},i.getSize=function(){if(i.winBoxObj)return{width:i.winBoxObj.width,height:i.winBoxObj.height}},i.getSizeLimit=function(){if(i.winBoxObj)return{minWidth:i.winBoxObj.minwidth,minHeight:i.winBoxObj.minheight,maxWidth:i.winBoxObj.maxwidth,maxHeight:i.winBoxObj.maxheight}},i.getViewportBoundary=function(){if(i.winBoxObj)return{top:i.winBoxObj.top,right:i.winBoxObj.right,bottom:i.winBoxObj.bottom,left:i.winBoxObj.left}},i.isFocused=function(){var t,e;return null!==(e=null===(t=i.winBoxObj)||void 0===t?void 0:t.focused)&&void 0!==e&&e},i.isHidden=function(){var t,e;return null!==(e=null===(t=i.winBoxObj)||void 0===t?void 0:t.hidden)&&void 0!==e&&e},i.isMax=function(){var t,e;return null!==(e=null===(t=i.winBoxObj)||void 0===t?void 0:t.max)&&void 0!==e&&e},i.isMin=function(){var t,e;return null!==(e=null===(t=i.winBoxObj)||void 0===t?void 0:t.min)&&void 0!==e&&e},i.isFullscreen=function(){var t,e;return null!==(e=null===(t=i.winBoxObj)||void 0===t?void 0:t.full)&&void 0!==e&&e},i.isClosed=function(){return i.state.closed},i.focus=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.focus()},i.blur=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.blur()},i.minimize=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.minimize()},i.maximize=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.maximize()},i.fullscreen=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.fullscreen()},i.restore=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.restore()},i.hide=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.hide()},i.show=function(){var t;null===(t=i.winBoxObj)||void 0===t||t.show()},i.maintainStyle=function(){i.winBoxObj&&(i.winBoxObj[i.props.noAnimation?"addClass":"removeClass"]("no-animation"),i.winBoxObj[i.props.noClose?"addClass":"removeClass"]("no-close"),i.winBoxObj[i.props.noFull?"addClass":"removeClass"]("no-full"),i.winBoxObj[i.props.noMin?"addClass":"removeClass"]("no-min"),i.winBoxObj[i.props.noMax?"addClass":"removeClass"]("no-max"),i.winBoxObj[i.props.noMove?"addClass":"removeClass"]("no-move"),i.winBoxObj[i.props.noHeader?"addClass":"removeClass"]("no-header"),i.winBoxObj[i.props.noResize?"addClass":"removeClass"]("no-resize"),i.winBoxObj[i.props.noShadow?"addClass":"removeClass"]("no-shadow"),i.winBoxObj[i.props.modal?"addClass":"removeClass"]("modal"),i.winBoxObj[i.props.hide?"addClass":"removeClass"]("hide"))},i.maintain=function(t){var e,n,r,o,a,s,l,u,h,c,d,f;if(i.winBoxObj){var g=null!==t&&void 0!==t?t:{},m=g.force,v=g.prevProps;if((m||(null===v||void 0===v?void 0:v.title)!==i.props.title)&&"string"===typeof i.props.title&&i.winBoxObj.setTitle(i.props.title),(m||(null===v||void 0===v?void 0:v.icon)!==i.props.icon)&&"string"===typeof i.props.icon&&i.winBoxObj.setIcon(i.props.icon),(m||(null===v||void 0===v?void 0:v.url)!==i.props.url)&&void 0!=i.props.url&&i.winBoxObj.setUrl(i.props.url),(m||(null===v||void 0===v?void 0:v.background)!==i.props.background)&&void 0!=i.props.background&&i.winBoxObj.setBackground(i.props.background),m||(null===v||void 0===v?void 0:v.minWidth)!==i.props.minWidth||(null===v||void 0===v?void 0:v.minHeight)!==i.props.minHeight||(null===v||void 0===v?void 0:v.maxWidth)!==i.props.maxWidth||(null===v||void 0===v?void 0:v.maxHeight)!==i.props.maxHeight){var y=null!==(e=i.props.minWidth)&&void 0!==e?e:i.winBoxObj.minwidth,b=null!==(n=i.props.minHeight)&&void 0!==n?n:i.winBoxObj.minheight,x=null!==(r=i.props.maxWidth)&&void 0!==r?r:i.winBoxObj.maxwidth,w=null!==(o=i.props.maxHeight)&&void 0!==o?o:i.winBoxObj.maxheight;i.winBoxObj.minwidth=y,i.winBoxObj.minheight=b,i.winBoxObj.maxwidth=x,i.winBoxObj.maxheight=w}if(m||(null===v||void 0===v?void 0:v.width)!==i.props.width||(null===v||void 0===v?void 0:v.height)!==i.props.height){var k=null!==(a=i.props.width)&&void 0!==a?a:i.winBoxObj.width,_=null!==(s=i.props.height)&&void 0!==s?s:i.winBoxObj.height;i.winBoxObj.resize(k,_)}if(m||(null===v||void 0===v?void 0:v.x)!==i.props.x||(null===v||void 0===v?void 0:v.y)!==i.props.y){var S=null!==(l=i.props.x)&&void 0!==l?l:i.winBoxObj.x,C=null!==(u=i.props.y)&&void 0!==u?u:i.winBoxObj.y;i.winBoxObj.move(S,C)}if((m||(null===v||void 0===v?void 0:v.top)!==i.props.top||(null===v||void 0===v?void 0:v.right)!==i.props.right||(null===v||void 0===v?void 0:v.bottom)!==i.props.bottom||(null===v||void 0===v?void 0:v.left)!==i.props.left)&&(i.winBoxObj.top=null!==(h=i.props.top)&&void 0!==h?h:i.winBoxObj.top,i.winBoxObj.right=null!==(c=i.props.right)&&void 0!==c?c:i.winBoxObj.right,i.winBoxObj.bottom=null!==(d=i.props.bottom)&&void 0!==d?d:i.winBoxObj.bottom,i.winBoxObj.left=null!==(f=i.props.left)&&void 0!==f?f:i.winBoxObj.left,i.winBoxObj.move()),(m||(null===v||void 0===v?void 0:v.fullscreen)!==i.props.fullscreen)&&void 0!=i.props.fullscreen&&i.winBoxObj.fullscreen(i.props.fullscreen),(m||(null===v||void 0===v?void 0:v.min)!==i.props.min)&&void 0!=i.props.min&&i.winBoxObj.minimize(i.props.min),(m||(null===v||void 0===v?void 0:v.max)!==i.props.max)&&void 0!=i.props.max&&i.winBoxObj.maximize(i.props.max),m||(null===v||void 0===v?void 0:v.className)!==i.props.className){if(void 0!=(null===v||void 0===v?void 0:v.className))for(var M=v.className.replaceAll(/\s+/g," ").split(" ").filter((function(t){return""!=t})),P=0,T=M;P<T.length;P++){var D=T[P];i.winBoxObj.hasClass(D)&&i.winBoxObj.removeClass(D)}if(void 0!=i.props.className){M=i.props.className.replaceAll(/\s+/g," ").split(" ").filter((function(t){return""!=t}));for(var N=0,I=M;N<I.length;N++){D=I[N];i.winBoxObj.hasClass(D)||i.winBoxObj.addClass(D)}}}(m||(null===v||void 0===v?void 0:v.customControls)!==i.props.customControls&&!p(null===v||void 0===v?void 0:v.customControls,i.props.customControls))&&(void 0!=(null===v||void 0===v?void 0:v.customControls)&&v.customControls.filter((function(t){return"object"===typeof t&&t.class})).forEach((function(t){return i.winBoxObj.removeControl(t.class)})),void 0!=i.props.customControls&&i.props.customControls.filter((function(t){return"object"===typeof t&&t.class})).forEach((function(t){return i.winBoxObj.addControl(t)}))),i.maintainStyle()}},i.handleClose=function(){i.winBoxObj=void 0,i.setState({closed:!0})},i.state={closed:!1},i.winBoxObj=void 0,i}return n(e,t),e.prototype.componentDidMount=function(){var t,e,i,n,o,a,s,l,u,h=this;if(this.cdmCount++,!(this.checkReactVersionGE18()&&this.cdmCount>=2))try{if(void 0!==this.props.id&&null!==this.props.id&&document.getElementById(this.props.id))throw"duplicated window id";this.winBoxObj=c.default.new(r(r({width:300,height:200,top:0,bottom:0,left:0,right:0,hidden:this.props.hide},this.props),{minwidth:null!==(t=this.props.minWidth)&&void 0!==t?t:150,maxwidth:null!==(e=this.props.maxWidth)&&void 0!==e?e:2147483647,minheight:null!==(i=this.props.minHeight)&&void 0!==i?i:35,maxheight:null!==(n=this.props.maxHeight)&&void 0!==n?n:2147483647,max:!1,min:!1,fullscreen:!1,class:""+(null!==(o=this.props.className)&&void 0!==o?o:""),onclose:function(t){var e,i,n,r;return!!(null===(i=(e=h.props).onClose)||void 0===i?void 0:i.call(e,null!==t&&void 0!==t&&t))||(!!(null===(r=(n=h.props).onclose)||void 0===r?void 0:r.call(n,null!==t&&void 0!==t&&t))||(h.handleClose(),!1))},onmove:null!==(a=this.props.onMove)&&void 0!==a?a:this.props.onmove,onresize:null!==(s=this.props.onResize)&&void 0!==s?s:this.props.onresize,onblur:null!==(l=this.props.onBlur)&&void 0!==l?l:this.props.onblur,onfocus:null!==(u=this.props.onFocus)&&void 0!==u?u:this.props.onfocus,oncreate:this.props.onCreate,onfullscreen:this.props.onFullscreen,onminimize:this.props.onMinimize,onmaximize:this.props.onMaximize,onrestore:this.props.onRestore,onhide:this.props.onHide,onshow:this.props.onShow})),setTimeout((function(){h.forceUpdate()}))}catch(d){console.error(d)}},e.prototype.componentDidUpdate=function(t,e){this.maintain({prevProps:t})},e.prototype.componentWillUnmount=function(){var t,e,i=this;try{this.checkReactVersionGE18()?this.cdmCount<=1?setTimeout((function(){var t;i.cdmCount<=1&&(null===(t=i.winBoxObj)||void 0===t||t.close(!0))}),100):null===(t=this.winBoxObj)||void 0===t||t.close(!0):null===(e=this.winBoxObj)||void 0===e||e.close(!0)}catch(n){}},e.prototype.forceUpdate=function(e){try{this.maintain({force:!0})}catch(i){console.error(i)}t.prototype.forceUpdate.call(this,e)},e.prototype.render=function(){return-1!==Object.keys(this.props).indexOf("url")&&this.props.url?null:this.winBoxObj&&this.winBoxObj.body?d.default.createPortal(u.jsx(u.Fragment,{children:this.props.children},void 0),this.winBoxObj.body):null},e}(h.Component);function p(t,e){var i=Object.keys,n=typeof t;return t&&e&&"object"===n&&n===typeof e?i(t).length===i(e).length&&i(t).every((function(i){return p(t[i],e[i])})):t===e}e.default=f},374:function(t,e,i){"use strict";var n=i(791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,i){var n,o={},u=null,h=null;for(n in void 0!==i&&(u=""+i),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)a.call(e,n)&&!l.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:r,type:t,key:u,ref:h,props:o,_owner:s.current}}e.Fragment=o,e.jsx=u,e.jsxs=u},117:function(t,e){"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||p}function y(){}function b(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)k.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:_.current}}function M(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var P=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function D(t,e,r,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case n:l=!0}}if(l)return a=a(l=t),t=""===o?"."+T(l,0):o,w(a)?(r="",null!=t&&(r=t.replace(P,"$&/")+"/"),D(a,e,r,"",(function(t){return t}))):null!=a&&(M(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var u=0;u<t.length;u++){var h=o+T(s=t[u],u);l+=D(s,e,r,h,a)}else if(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof h)for(t=h.call(t),u=0;!(s=t.next()).done;)l+=D(s=s.value,e,r,h=o+T(s,u++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function N(t,e,i){if(null==t)return t;var n=[],r=0;return D(t,n,"","",(function(t){return e.call(i,t,r++)})),n}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var E={current:null},A={transition:null},O={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:A,ReactCurrentOwner:_};e.Children={map:N,forEach:function(t,e,i){N(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!M(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=_.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)k.call(e,u)&&!S.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:i,type:t.type,key:o,ref:a,props:r,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return E.current.useCallback(t,e)},e.useContext=function(t){return E.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return E.current.useDeferredValue(t)},e.useEffect=function(t,e){return E.current.useEffect(t,e)},e.useId=function(){return E.current.useId()},e.useImperativeHandle=function(t,e,i){return E.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return E.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return E.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return E.current.useMemo(t,e)},e.useReducer=function(t,e,i){return E.current.useReducer(t,e,i)},e.useRef=function(t){return E.current.useRef(t)},e.useState=function(t){return E.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return E.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return E.current.useTransition()},e.version="18.2.0"},791:function(t,e,i){"use strict";t.exports=i(117)},184:function(t,e,i){"use strict";t.exports=i(374)},813:function(t,e){"use strict";function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var n=i-1>>>1,r=t[n];if(!(0<o(r,e)))break t;t[n]=e,t[i]=r,i=n}}function n(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length,a=r>>>1;n<a;){var s=2*(n+1)-1,l=t[s],u=s+1,h=t[u];if(0>o(l,i))u<r&&0>o(h,l)?(t[n]=h,t[u]=i,n=u):(t[n]=l,t[s]=i,n=s);else{if(!(u<r&&0>o(h,i)))break t;t[n]=h,t[u]=i,n=u}}}return e}function o(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],h=[],c=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=n(h);null!==e;){if(null===e.callback)r(h);else{if(!(e.startTime<=t))break;r(h),e.sortIndex=e.expirationTime,i(u,e)}e=n(h)}}function w(t){if(m=!1,x(t),!g)if(null!==n(u))g=!0,A(k);else{var e=n(h);null!==e&&O(w,e.startTime-t)}}function k(t,i){g=!1,m&&(m=!1,y(M),M=-1),p=!0;var o=f;try{for(x(i),d=n(u);null!==d&&(!(d.expirationTime>i)||t&&!D());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=i);i=e.unstable_now(),"function"===typeof s?d.callback=s:d===n(u)&&r(u),x(i)}else r(u);d=n(u)}if(null!==d)var l=!0;else{var c=n(h);null!==c&&O(w,c.startTime-i),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,C=null,M=-1,P=5,T=-1;function D(){return!(e.unstable_now()-T<P)}function N(){if(null!==C){var t=e.unstable_now();T=t;var i=!0;try{i=C(!0,t)}finally{i?_():(S=!1,C=null)}}else S=!1}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,E=I.port2;I.port1.onmessage=N,_=function(){E.postMessage(null)}}else _=function(){v(N,0)};function A(t){C=t,S||(S=!0,_())}function O(t,i){M=v((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(k))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var i=f;f=e;try{return t()}finally{f=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=f;f=t;try{return e()}finally{f=i}},e.unstable_scheduleCallback=function(t,r,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:c++,callback:r,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,i(h,t),null===n(u)&&t===n(h)&&(m?(y(M),M=-1):m=!0,O(w,o-a))):(t.sortIndex=s,i(u,t),g||p||(g=!0,A(k))),t},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(t){var e=f;return function(){var i=f;f=e;try{return t.apply(this,arguments)}finally{f=i}}}},296:function(t,e,i){"use strict";t.exports=i(813)},394:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return S}});var n=document.createElement("div");function r(t,e,i,n){t&&t.addEventListener(e,i,n||!1)}function o(t,e,i,n){t&&t.removeEventListener(e,i,n||!1)}function a(t,e){t.stopPropagation(),t.cancelable&&t.preventDefault()}function s(t,e){return t.getElementsByClassName(e)[0]}function l(t,e){t.classList.add(e)}function u(t,e){t.classList.remove(e)}function h(t,e,i){i=""+i,t["_s_"+e]!==i&&(t.style.setProperty(e,i),t["_s_"+e]=i)}n.innerHTML="<div class=wb-header><div class=wb-control><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";var c,d,f,p,g,m,v,y=!1,b=[],x={capture:!0,passive:!0},w=0,k=10;function _(t,e){if(!(this instanceof _))return new _(t);var i,o,l,u,d,f,y,b,x,S,M,N,I,E,A,O,L,R,j,B,F,z,H,V,W,U,G,K,Y,X,q,Z,J,Q,$,tt,et,it,nt,rt,ot,at,st;if(c||((c=document.body)[p="requestFullscreen"]||c[p="msRequestFullscreen"]||c[p="webkitRequestFullscreen"]||c[p="mozRequestFullscreen"]||(p=""),g=p&&p.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),r(window,"resize",(function(){D(),P()})),D()),t&&(e&&(d=t,t=e),"string"===typeof t?d=t:(i=t.id,o=t.index,l=t.root,u=t.template,d=d||t.title,f=t.icon,y=t.mount,b=t.html,x=t.url,S=t.width,M=t.height,N=t.minwidth,I=t.minheight,E=t.maxwidth,A=t.maxheight,O=t.autosize,H=t.min,V=t.max,W=t.hidden,U=t.modal,L=t.x||(U?"center":0),R=t.y||(U?"center":0),j=t.top,B=t.left,F=t.bottom,z=t.right,G=t.background,K=t.border,Y=t.header,X=t.class,Z=t.onclose,J=t.onfocus,Q=t.onblur,$=t.onmove,tt=t.onresize,et=t.onfullscreen,it=t.onmaximize,nt=t.onminimize,rt=t.onrestore,ot=t.onhide,at=t.onshow,st=t.onload)),this.dom=function(t){return(t||n).cloneNode(!0)}(u),this.dom.id=this.id=i||"winbox-"+ ++w,this.dom.className="winbox"+(X?" "+("string"===typeof X?X:X.join(" ")):"")+(U?" modal":""),this.dom.winbox=this,this.window=this.dom,this.body=s(this.dom,"wb-body"),this.header=Y||35,G&&this.setBackground(G),K?h(this.body,"margin",K+(isNaN(K)?"":"px")):K=0,Y){var lt=s(this.dom,"wb-header");h(lt,"height",Y+"px"),h(lt,"line-height",Y+"px"),h(this.body,"top",Y+"px")}d&&this.setTitle(d),f&&this.setIcon(f),y?this.mount(y):b?this.body.innerHTML=b:x&&this.setUrl(x,st),j=j?C(j,v):0,F=F?C(F,v):0,B=B?C(B,m):0,z=z?C(z,m):0;var ut=m-B-z,ht=v-j-F;E=E?C(E,ut):ut,A=A?C(A,ht):ht,N=N?C(N,E):150,I=I?C(I,A):this.header,O?((l||c).appendChild(this.body),S=Math.max(Math.min(this.body.clientWidth+2*K+1,E),N),M=Math.max(Math.min(this.body.clientHeight+this.header+K+1,A),I),this.dom.appendChild(this.body)):(S=S?C(S,E):0|Math.max(E/2,N),M=M?C(M,A):0|Math.max(A/2,I)),L=L?C(L,ut,S):B,R=R?C(R,ht,M):j,this.x=L,this.y=R,this.width=S,this.height=M,this.minwidth=N,this.minheight=I,this.maxwidth=E,this.maxheight=A,this.top=j,this.right=z,this.bottom=F,this.left=B,this.index=o,this.min=!1,this.max=!1,this.full=!1,this.hidden=!1,this.focused=!1,this.onclose=Z,this.onfocus=J,this.onblur=Q,this.onmove=$,this.onresize=tt,this.onfullscreen=et,this.onmaximize=it,this.onminimize=nt,this.onrestore=rt,this.onhide=ot,this.onshow=at,V?this.maximize():H?this.minimize():this.resize().move(),W?this.hide():(this.focus(),(o||0===o)&&(this.index=o,h(this.dom,"z-index",o),o>k&&(k=o))),function(t){T(t,"drag"),T(t,"n"),T(t,"s"),T(t,"w"),T(t,"e"),T(t,"nw"),T(t,"ne"),T(t,"se"),T(t,"sw"),r(s(t.dom,"wb-min"),"click",(function(e){a(e),t.min?t.focus().restore():t.blur().minimize()})),r(s(t.dom,"wb-max"),"click",(function(e){t.max?t.restore():t.maximize()})),p?r(s(t.dom,"wb-full"),"click",(function(e){t.fullscreen()})):t.addClass("no-full");r(s(t.dom,"wb-close"),"click",(function(e){a(e),t.close()||(t=null)})),r(t.dom,"click",(function(e){t.focus()}))}(this),(l||c).appendChild(this.dom),(q=t.oncreate)&&q.call(this,t)}_.new=function(t){return new _(t)};var S=_;function C(t,e,i){if("string"===typeof t)if("center"===t)t=(e-i)/2|0;else if("right"===t||"bottom"===t)t=e-i;else{var n=parseFloat(t),r=""+n!==t&&t.substring((""+n).length);t="%"===r?e/100*n|0:n}return t}function M(t){b.splice(b.indexOf(t),1),P(),t.removeClass("min"),t.min=!1,t.dom.title=""}function P(){for(var t,e,i=b.length,n={},r={},o=0;o<i;o++)r[e=((t=b[o]).left||t.right)+":"+(t.top||t.bottom)]?r[e]++:(n[e]=0,r[e]=1);for(var a,s,l,u=0;u<i;u++)s=((a=b[u]).left||a.right)+":"+(a.top||a.bottom),l=Math.min((m-a.left-a.right)/r[s],250),a.resize(l+1|0,a.header,!0).move(a.left+n[s]*l|0,v-a.bottom-a.header,!0),n[s]++}function T(t,e){var i=s(t.dom,"wb-"+e);if(i){var n,h,d,f,p,g,b=0;r(i,"mousedown",k),r(i,"touchstart",k,x)}function w(){f=requestAnimationFrame(w),g&&(t.resize(),g=!1),p&&(t.move(),p=!1)}function k(i){if(a(i),t.focus(),"drag"===e){if(t.min)return void t.restore();var o=Date.now(),s=o-b;if(b=o,s<300)return void(t.max?t.restore():t.maximize())}t.max||t.min||(l(c,"wb-lock"),y&&w(),(n=i.touches)&&(n=n[0])?(i=n,r(window,"touchmove",_,x),r(window,"touchend",S,x)):(r(window,"mousemove",_),r(window,"mouseup",S)),h=i.pageX,d=i.pageY)}function _(i){a(i),n&&(i=i.touches[0]);var r,o,s,l,u=i.pageX,c=i.pageY,f=u-h,b=c-d,x=t.width,w=t.height,k=t.x,_=t.y;"drag"===e?(t.x+=f,t.y+=b,s=l=1):("e"===e||"se"===e||"ne"===e?(t.width+=f,r=1):"w"!==e&&"sw"!==e&&"nw"!==e||(t.x+=f,t.width-=f,r=1,s=1),"s"===e||"se"===e||"sw"===e?(t.height+=b,o=1):"n"!==e&&"ne"!==e&&"nw"!==e||(t.y+=b,t.height-=b,o=1,l=1)),r&&(t.width=Math.max(Math.min(t.width,t.maxwidth,m-t.x-t.right),t.minwidth),r=t.width!==x),o&&(t.height=Math.max(Math.min(t.height,t.maxheight,v-t.y-t.bottom),t.minheight),o=t.height!==w),(r||o)&&(y?g=!0:t.resize()),s&&(t.x=Math.max(Math.min(t.x,m-t.width-t.right),t.left),s=t.x!==k),l&&(t.y=Math.max(Math.min(t.y,v-t.height-t.bottom),t.top),l=t.y!==_),(s||l)&&(y?p=!0:t.move()),(r||s)&&(h=u),(o||l)&&(d=c)}function S(t){a(t),u(c,"wb-lock"),y&&cancelAnimationFrame(f),n?(o(window,"touchmove",_,x),o(window,"touchend",S,x)):(o(window,"mousemove",_),o(window,"mouseup",S))}}function D(){var t=document.documentElement;m=t.clientWidth,v=t.clientHeight}function N(){if(d.full=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[g](),!0}_.prototype.mount=function(t){return this.unmount(),t._backstore||(t._backstore=t.parentNode),this.body.textContent="",this.body.appendChild(t),this},_.prototype.unmount=function(t){var e=this.body.firstChild;if(e){var i=t||e._backstore;i&&i.appendChild(e),e._backstore=t}return this},_.prototype.setTitle=function(t){return function(t,e){var i=t.firstChild;i?i.nodeValue=e:t.textContent=e}(s(this.dom,"wb-title"),this.title=t),this},_.prototype.setIcon=function(t){var e=s(this.dom,"wb-icon");return h(e,"background-image","url("+t+")"),h(e,"display","inline-block"),this},_.prototype.setBackground=function(t){return h(this.dom,"background",t),this},_.prototype.setUrl=function(t,e){var i=this.body.firstChild;return i&&"iframe"===i.tagName.toLowerCase()?i.src=t:(this.body.innerHTML='<iframe src="'+t+'"></iframe>',e&&(this.body.firstChild.onload=e)),this},_.prototype.focus=function(t){return!1===t?this.blur():(f!==this&&this.dom&&(f&&f.blur(),h(this.dom,"z-index",++k),this.index=k,this.addClass("focus"),f=this,this.focused=!0,this.onfocus&&this.onfocus()),this)},_.prototype.blur=function(t){return!1===t?this.focus():(f===this&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur(),f=null),this)},_.prototype.hide=function(t){return!1===t?this.show():this.hidden?void 0:(this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide"))},_.prototype.show=function(t){return!1===t?this.hide():this.hidden?(this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")):void 0},_.prototype.minimize=function(t){return!1===t?this.restore():(d&&N(),this.max&&(this.removeClass("max"),this.max=!1),this.min||(b.push(this),P(),this.dom.title=this.title,this.addClass("min"),this.min=!0,this.onminimize&&this.onminimize()),this)},_.prototype.restore=function(){return d&&N(),this.min&&(M(this),this.resize().move(),this.onrestore&&this.onrestore()),this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore()),this},_.prototype.maximize=function(t){return!1===t?this.restore():(d&&N(),this.min&&M(this),this.max||(this.addClass("max").resize(m-this.left-this.right,v-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize()),this)},_.prototype.fullscreen=function(t){if(this.min&&(M(this),this.resize().move()),d&&N()){if(!1===t)return this.restore()}else this.body[p](),d=this,this.full=!0,this.onfullscreen&&this.onfullscreen();return this},_.prototype.close=function(t){if(this.onclose&&this.onclose(t))return!0;this.min&&M(this),this.unmount(),this.dom.remove(),this.dom.textContent="",this.dom.winbox=null,this.body=null,this.dom=null,f===this&&(f=null)},_.prototype.move=function(t,e,i){return t||0===t?i||(this.x=t?t=C(t,m-this.left-this.right,this.width):0,this.y=e?e=C(e,v-this.top-this.bottom,this.height):0):(t=this.x,e=this.y),h(this.dom,"left",t+"px"),h(this.dom,"top",e+"px"),this.onmove&&this.onmove(t,e),this},_.prototype.resize=function(t,e,i){return t||0===t?i||(this.width=t?t=C(t,this.maxwidth):0,this.height=e?e=C(e,this.maxheight):0,t=Math.max(t,this.minwidth),e=Math.max(e,this.minheight)):(t=this.width,e=this.height),h(this.dom,"width",t+"px"),h(this.dom,"height",e+"px"),this.onresize&&this.onresize(t,e),this},_.prototype.addControl=function(t){var e=t.class,i=t.image,n=t.click,r=t.index,o=document.createElement("span"),a=s(this.dom,"wb-control"),l=this;return e&&(o.className=e),i&&h(o,"background-image","url("+i+")"),n&&(o.onclick=function(t){n.call(this,t,l)}),a.insertBefore(o,a.childNodes[r||0]),this},_.prototype.removeControl=function(t){return(t=s(this.dom,t))&&t.remove(),this},_.prototype.addClass=function(t){return l(this.dom,t),this},_.prototype.removeClass=function(t){return u(this.dom,t),this},_.prototype.hasClass=function(t){return function(t,e){return t.classList.contains(e)}(this.dom,t)},_.prototype.toggleClass=function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))},i.u=function(t){return"static/js/"+t+".28cb0dcd.chunk.js"},i.miniCssF=function(t){},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="my-app:";i.l=function(n,r,o,a){if(t[n])t[n].push(r);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),h=0;h<u.length;h++){var c=u[h];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==e+o){s=c;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=n),t[n]=[r];var d=function(e,i){s.onerror=s.onload=null,clearTimeout(f);var r=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(t){return t(i)})),e)return e(i)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="/",function(){var t={179:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(i,n){r=t[e]=[i,n]}));n.push(r[2]=o);var a=i.p+i.u(e),s=new Error;i.l(a,(function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+e,e)}};var e=function(e,n){var r,o,a=n[0],s=n[1],l=n[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(l)l(i)}for(e&&e(n);u<a.length;u++)o=a[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkmy_app=self.webpackChunkmy_app||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),function(){"use strict";var t=i(791),e=i(250);function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,u=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function h(t,e,i){return e&&u(t.prototype,e),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},d.apply(this,arguments)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=c(t);if(e){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}(this,i)}}function v(t,e){for(var i=t.length,n=0;n<i;++n)if(t[n]===e)return n;return-1}function y(t,e){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=e(t[r],r);return n}function b(t,e){for(var i=t.length,n=0;n<i;++n)e(t[n],n)}function x(t,e){for(var i=t.length;i>0;)e(t[--i],i)}function w(t,e){for(var i=t.length,n=0;n<i&&e(t[n],n);++n);}function k(t,e){for(var i=!1,n=0;;){if(-1===(n=t.indexOf(e,n)))return i;i=!0,t.splice(n,1)}}function _(t,e){var i=t.indexOf(e);return-1!==i&&(t.splice(i,1),!0)}function S(t,e){-1===t.indexOf(e)&&t.push(e)}function C(t,e,i){t.splice(e,0,i)}function M(t,e){t.splice(e,1)}function P(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n],n))return n;return-1}function T(t,e){var i=P(t,e);if(-1!==i)return t[i]}function D(t,e){for(var i=t.length;i>0;)e(t[--i])||t.splice(i,1)}var N=function(){function t(){a(this,t),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}return h(t,[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}}]),t}(),I=function(){function t(e){a(this,t),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}return h(t,[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}}]),t}(),E=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t}return h(i,[{key:"_dispose",value:function(){b(this._disposers,(function(t){t.dispose()}))}}]),i}(N),A=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._disposers=t,n}return h(i,[{key:"_dispose",value:function(){b(this._disposers,(function(t){t.dispose()}))}},{key:"disposers",get:function(){return this._disposers}}]),i}(N),O=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0}),t}return h(i,[{key:"increment",value:function(){var t=this;return++this._counter,new I((function(){--t._counter,0===t._counter&&t.dispose()}))}}]),i}(I);function L(t){return Number(t)!==t}function R(t){if(null!=t&&!H(t)){var e=Number(t);return L(e)&&z(t)&&""!=t?R(t.replace(/[^0-9.\-]+/g,"")):e}return t}function j(t){if(F(t))return new Date(t);if(H(t))return new Date(t);var e=Number(t);return H(e)?new Date(e):new Date(t)}function B(t,e){return new Array(e+1).join(t)}function F(t){return"[object Date]"===function(t){return{}.toString.call(t)}(t)}function z(t){return"string"===typeof t}function H(t){return"number"===typeof t&&Number(t)==t}function V(t){return"object"===typeof t&&null!==t}var W="__\xa7\xa7\xa7__",U="__\xa7\xa7\xa7\xa7__",G=function(){function t(){a(this,t),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return h(t,[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{b(t,(function(t){t.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}}},{key:"hasListeners",value:function(){return 0!==this._listeners.length}},{key:"hasListenersByType",value:function(t){return function(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n]))return!0;return!1}(this._listeners,(function(e){return(null===e.type||e.type===t)&&!e.killed}))}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1}},{key:"enableType",value:function(t){delete this._disabled[t]}},{key:"disableType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;this._disabled[t]=e}},{key:"_removeListener",value:function(t){if(0===this._iterating){var e=this._listeners.indexOf(t);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)}},{key:"_removeExistingListener",value:function(t,e,i,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(r){r.once!==t||r.type!==e||void 0!==i&&r.callback!==i||r.context!==n||r.disposer.dispose()}))}},{key:"isEnabled",value:function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&void 0===this._disabled[t]}},{key:"removeType",value:function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(e){e.type===t&&e.disposer.dispose()}))}},{key:"has",value:function(t,e,i){return-1!==P(this._listeners,(function(n){return!0!==n.once&&n.type===t&&(void 0===e||n.callback===e)&&n.context===i}))}},{key:"_shouldDispatch",value:function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return H(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled}},{key:"_eachListener",value:function(t){var e=this;++this._iterating;try{b(this._listeners,t)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(b(this._killed,(function(t){e._removeListener(t)})),this._killed.length=0)}}},{key:"dispatch",value:function(t,e){this._shouldDispatch(t)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==t||i.dispatch(t,e)}))}},{key:"_on",value:function(t,e,i,n,r,o){var a=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,n);var s={type:e,callback:i,context:n,shouldClone:r,dispatch:o,killed:!1,once:t,disposer:new I((function(){s.killed=!0,a._removeListener(s)}))};return this._listeners.push(s),s}},{key:"onAll",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._on(!1,null,t,e,i,(function(i,n){return t.call(e,n)})).disposer}},{key:"on",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this._on(!1,t,e,i,n,(function(t,n){return e.call(i,n)})).disposer}},{key:"once",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this._on(!0,t,e,i,n,(function(t,n){r.disposer.dispose(),e.call(i,n)}));return r.disposer}},{key:"off",value:function(t,e,i){this._removeExistingListener(!1,t,e,i)}},{key:"copyFrom",value:function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");var i=[];return b(t._listeners,(function(t){!t.killed&&t.shouldClone&&(null===t.type?i.push(e.onAll(t.callback,t.context)):t.once?i.push(e.once(t.type,t.callback,t.context)):i.push(e.on(t.type,t.callback,t.context)))})),new A(i)}}]),t}();function K(t){return Object.keys(t)}function Y(t,e){return K(t).sort(e)}function X(t,e){K(t).forEach((function(i){e(i,t[i])}))}function q(t,e){return{}.hasOwnProperty.call(t,e)}var Z=function(){function t(e,i,n){a(this,t),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=i,this._settings=n}return h(t,[{key:"get",value:function(t,e){var i=this._settings[t];return void 0!==i?i:e}},{key:"set",value:function(t,e){this._settings[t]=e,this._template._stateChanged(this._name)}},{key:"remove",value:function(t){delete this._settings[t],this._template._stateChanged(this._name)}},{key:"setAll",value:function(t){var e=this;K(t).forEach((function(i){e._settings[i]=t[i]})),this._template._stateChanged(this._name)}},{key:"_apply",value:function(t,e){X(this._settings,(function(i,n){e[i]||t._userSettings[i]||(e[i]=!0,t.setRaw(i,n))}))}}]),t}(),J=function(){function t(e){a(this,t),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}return h(t,[{key:"lookup",value:function(t){return this._states[t]}},{key:"create",value:function(t,e){var i=this._states[t];if(i)return i.setAll(e),i;var n=new Z(t,this._template,e);return this._states[t]=n,this._template._stateChanged(t),n}},{key:"remove",value:function(t){delete this._states[t],this._template._stateChanged(t)}},{key:"_apply",value:function(t,e){X(this._states,(function(i,n){var r=e.states[i];null==r&&(r=e.states[i]={});var o=t.states.create(i,{});n._apply(o,r)}))}}]),t}(),Q=function(){function t(){a(this,t),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}return h(t,[{key:"add",value:function(t,e){var i=this,n=this._callbacks[t];return void 0===n&&(n=this._callbacks[t]=[]),n.push(e),new I((function(){_(n,e),0===n.length&&delete i._callbacks[t]}))}},{key:"remove",value:function(t){void 0!==this._callbacks[t]&&delete this._callbacks[t]}},{key:"_apply",value:function(t){var e=[];return X(this._callbacks,(function(i,n){b(n,(function(n){e.push(t.adapters.add(i,n))}))})),new A(e)}}]),t}(),$=function(){function t(e,i){if(a(this,t),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new J(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Q}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new G}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}return h(t,[{key:"entities",get:function(){return this._entities}},{key:"get",value:function(t,e){var i=this._settings[t];return void 0!==i?i:e}},{key:"setRaw",value:function(t,e){this._settings[t]=e}},{key:"set",value:function(t,e){var i=this;this._settings[t]!==e&&(this.setRaw(t,e),this._entities.forEach((function(n){n._setTemplateProperty(i,t,e)})))}},{key:"remove",value:function(t){t in this._settings&&(delete this._settings[t],this._entities.forEach((function(e){e._removeTemplateProperty(t)})))}},{key:"removeAll",value:function(){var t=this;X(this._settings,(function(e,i){t.remove(e)}))}},{key:"getPrivate",value:function(t,e){var i=this._privateSettings[t];return void 0!==i?i:e}},{key:"setPrivateRaw",value:function(t,e){return this._privateSettings[t]=e,e}},{key:"setPrivate",value:function(t,e){var i=this;return this._privateSettings[t]!==e&&(this.setPrivateRaw(t,e),this._entities.forEach((function(n){n._setTemplatePrivateProperty(i,t,e)}))),e}},{key:"removePrivate",value:function(t){t in this._privateSettings&&(delete this._privateSettings[t],this._entities.forEach((function(e){e._removeTemplatePrivateProperty(t)})))}},{key:"setAll",value:function(t){var e=this;X(t,(function(t,i){e.set(t,i)}))}},{key:"on",value:function(t,e){var i=this,n=this._settingEvents[t];return void 0===n&&(n=this._settingEvents[t]=[]),n.push(e),new I((function(){_(n,e),0===n.length&&delete i._settingEvents[t]}))}},{key:"onPrivate",value:function(t,e){var i=this,n=this._privateSettingEvents[t];return void 0===n&&(n=this._privateSettingEvents[t]=[]),n.push(e),new I((function(){_(n,e),0===n.length&&delete i._privateSettingEvents[t]}))}},{key:"_apply",value:function(t,e){var i=[];return X(this._settingEvents,(function(e,n){b(n,(function(n){i.push(t.on(e,n))}))})),X(this._privateSettingEvents,(function(e,n){b(n,(function(n){i.push(t.onPrivate(e,n))}))})),this.states._apply(t,e),i.push(this.adapters._apply(t)),i.push(t.events.copyFrom(this.events)),new A(i)}},{key:"_setObjectTemplate",value:function(t){this._entities.push(t)}},{key:"_removeObjectTemplate",value:function(t){k(this._entities,t)}},{key:"_stateChanged",value:function(t){this._entities.forEach((function(e){e._applyStateByKey(t)}))}}],[{key:"new",value:function(e){return new t(e,!0)}}]),t}();function tt(t,e){return t===e?0:t<e?-1:1}function et(t,e,i){for(var n=t.length,r=e.length,o=Math.min(n,r),a=0;a<o;++a){var s=i(t[a],e[a]);if(0!==s)return s}return tt(n,r)}var it=function(){function t(e,i){if(a(this,t),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}return h(t,[{key:"setupDefaultRules",value:function(){}},{key:"_lookupRules",value:function(t){return this._rules[t]}},{key:"ruleRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this._rules[t];i||(i=this._rules[t]=[]),e.sort(tt);var n=function(t,e){for(var i=0,n=t.length,r=!1;i<n;){var o=i+n>>1,a=e(t[o]);a<0?i=o+1:0===a?(r=!0,i=o+1):n=o}return{found:r,index:r?i-1:i}}(i,(function(t){var i=tt(t.tags.length,e.length);return 0===i?et(t.tags,e,tt):i})),r=n.index;if(n.found)return i[r].template;var o=$.new({});return i.splice(r,0,{tags:e,template:o}),o}},{key:"rule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.ruleRaw(t,e)}}],[{key:"new",value:function(t){var e=new this(t,!0);return e.setupDefaultRules(),e}}]),t}(),nt=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"setupDefaultRules",value:function(){d(c(i.prototype),"setupDefaultRules",this).call(this),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500)}}]),i}(it),rt=nt,ot=new(h((function t(){a(this,t),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.3.15"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})})));function at(){at=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(D){u=function(t,e,i){return t[e]=i}}function h(t,e,i,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new M(r||[]);return n(a,"_invoke",{value:k(t,i,s)}),a}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(D){return{type:"throw",arg:D}}}t.wrap=h;var d={};function f(){}function p(){}function g(){}var m={};u(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==e&&i.call(y,o)&&(m=y);var b=g.prototype=f.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(n,o,a,l){var u=c(t[n],t,o);if("throw"!==u.type){var h=u.arg,d=h.value;return d&&"object"==s(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,l)}),(function(t){r("throw",t,a,l)})):e.resolve(d).then((function(t){h.value=t,a(h)}),(function(t){return r("throw",t,a,l)}))}l(u.arg)}var o;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){r(t,i,e,n)}))}return o=o?o.then(n,n):n()}})}function k(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return T()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=_(a,i);if(s){if(s===d)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=c(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}function _(t,e){var i=e.method,n=t.iterator[i];if(void 0===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),d;var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=g,n(b,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:p,configurable:!0}),p.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var a=new w(h(e,i,n,r),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),u(b,l,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),d}},t}function st(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}var lt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new G}),this._values=t}return h(e,[{key:"values",get:function(){return this._values}},{key:"contains",value:function(t){return-1!==this._values.indexOf(t)}},{key:"removeValue",value:function(t){for(var e=0,i=this._values.length;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e}},{key:"indexOf",value:function(t){return v(this._values,t)}},{key:"length",get:function(){return this._values.length}},{key:"hasIndex",value:function(t){return t>=0&&t<this._values.length}},{key:"getIndex",value:function(t){return this._values[t]}},{key:"_onPush",value:function(t){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:t})}},{key:"_onInsertIndex",value:function(t,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e})}},{key:"_onSetIndex",value:function(t,e,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:t,oldValue:e,newValue:i})}},{key:"_onRemoveIndex",value:function(t,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e})}},{key:"_onMoveIndex",value:function(t,e,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:t,newIndex:e,value:i})}},{key:"_onClear",value:function(t){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:t})}},{key:"setIndex",value:function(t,e){st(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this._onSetIndex(t,i,e)),i}},{key:"insertIndex",value:function(t,e){return st(t,this._values.length+1),C(this._values,t,e),this._onInsertIndex(t,e),e}},{key:"swap",value:function(t,e){var i=this._values.length;if(st(t,i),st(e,i),t!==e){var n=this._values[t],r=this._values[e];this._values[t]=r,this._onSetIndex(t,n,r),this._values[e]=n,this._onSetIndex(e,r,n)}}},{key:"removeIndex",value:function(t){st(t,this._values.length);var e=this._values[t];return M(this._values,t),this._onRemoveIndex(t,e),e}},{key:"moveValue",value:function(t,e){var i=this.indexOf(t);if(-1!==i)if(M(this._values,i),null==e){var n=this._values.length;this._values.push(t),this._onMoveIndex(i,n,t)}else C(this._values,e,t),this._onMoveIndex(i,e,t);else null==e?(this._values.push(t),this._onPush(t)):(C(this._values,e,t),this._onInsertIndex(e,t));return t}},{key:"push",value:function(t){return this._values.push(t),this._onPush(t),t}},{key:"unshift",value:function(t){return this.insertIndex(0,t),t}},{key:"pushAll",value:function(t){var e=this;b(t,(function(t){e.push(t)}))}},{key:"copyFrom",value:function(t){this.pushAll(t._values)}},{key:"pop",value:function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}},{key:"shift",value:function(){return this._values.length?this.removeIndex(0):void 0}},{key:"setAll",value:function(t){var e=this,i=this._values;this._values=[],this._onClear(i),b(t,(function(t){e._values.push(t),e._onPush(t)}))}},{key:"clear",value:function(){this.setAll([])}},{key:Symbol.iterator,value:at().mark((function t(){var e,i;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this._values.length,i=0;case 2:if(!(i<e)){t.next=8;break}return t.next=5,this._values[i];case 5:++i,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"each",value:function(t){b(this._values,t)}},{key:"eachReverse",value:function(t){x(this._values,t)}}]),e}(),ut=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(t),"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return h(i,[{key:"_onSetIndex",value:function(t,e,n){this.autoDispose&&e.dispose(),d(c(i.prototype),"_onSetIndex",this).call(this,t,e,n)}},{key:"_onRemoveIndex",value:function(t,e){this.autoDispose&&e.dispose(),d(c(i.prototype),"_onRemoveIndex",this).call(this,t,e)}},{key:"_onClear",value:function(t){this.autoDispose&&b(t,(function(t){t.dispose()})),d(c(i.prototype),"_onClear",this).call(this,t)}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this.autoDispose&&b(this._values,(function(t){t.dispose()})))}}]),i}(lt),ht=function(t){p(i,t);var e=m(i);function i(t,n){var r;return a(this,i),r=e.call(this),Object.defineProperty(g(r),"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.template=t,r.make=n,r}return h(i)}(ut),ct=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._container=t,n._events=n.events.onAll((function(t){if("clear"===t.type)b(t.oldValues,(function(t){n._onRemoved(t)}));else if("push"===t.type)n._onInserted(t.newValue);else if("setIndex"===t.type)n._onRemoved(t.oldValue),n._onInserted(t.newValue,t.index);else if("insertIndex"===t.type)n._onInserted(t.newValue,t.index);else if("removeIndex"===t.type)n._onRemoved(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");n._onRemoved(t.value),n._onInserted(t.value,t.newIndex)}})),n}return h(i,[{key:"_onInserted",value:function(t,e){t._setParent(this._container,!0);var i=this._container._childrenDisplay;void 0===e?i.addChild(t._display):i.addChildAt(t._display,e)}},{key:"_onRemoved",value:function(t){this._container._childrenDisplay.removeChild(t._display),this._container.markDirtyBounds(),this._container.markDirty()}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._events.dispose(),b(this.values,(function(t){t.dispose()})))}}]),i}(lt),dt=function(){function t(e){a(this,t),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}return h(t,[{key:"value",get:function(){return this._value/100}},{key:"percent",get:function(){return this._value}},{key:"toString",value:function(){return this._value+"%"}},{key:"interpolate",value:function(t,e){return t+this.value*(e-t)}}],[{key:"normalize",value:function(e,i,n){return e instanceof t?e:new t(i===n?0:100*Math.min(Math.max(1/(n-i)*(e-i),0),1))}}]),t}();function ft(t){return new dt(t)}ft(0);var pt=ft(100),gt=ft(50);var mt=function(t,e){return mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},mt(t,e)};function vt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}mt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var yt=function(){return yt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},yt.apply(this,arguments)};function bt(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function xt(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function wt(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{l(n.next(t))}catch(e){o(e)}}function s(t){try{l(n.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}Object.create;function kt(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}Object.create;function _t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e,i,n){return t.addEventListener(e,i,n||!1),new I((function(){t.removeEventListener(e,i,n||!1)}))}function Ct(t){return St(window,"resize",(function(e){t()}))}function Mt(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Pt(t){return t.pointerId||0}function Tt(t){if(Mt("pointerevents"))return t;if(Mt("touchevents"))switch(t){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerleave":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(Mt("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function Dt(t){if("undefined"!==typeof Touch&&t instanceof Touch)return!0;if("undefined"!==typeof PointerEvent&&t instanceof PointerEvent&&null!=t.pointerType)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(null!=t.type&&t.type.match(/^mouse/))return!1;return!0}function Nt(t,e,i){t.style[e]=i}function It(t){if(t.composedPath){var e=t.composedPath();return 0===e.length?null:e[0]}return t.target}function Et(t,e){t.style.pointerEvents=e?"auto":"none"}function At(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document?1:void 0}function Ot(t,e){return H(t)?t:null!=t&&H(t.value)&&H(e)?e*t.value:0}function Lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"string"!==typeof t&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(i)+t:t}function Rt(t){return function(t){return t.replace(/^[\s]*/,"")}(function(t){return t.replace(/[\s]*$/,"")}(t))}function jt(t){return t.replace(/\/(date|number|duration)$/i,"")}function Bt(t){return t?t.replace(/<[^>]*>/g,""):t}function Ft(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function zt(t){var e=new Date(t.getFullYear(),0,0),i=t.getTime()-e.getTime()+60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3;return Math.floor(i/864e5)}function Ht(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7)}function Vt(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=e.getUTCDay()||7;return e.setUTCDate(e.getUTCDate()+4-i),new Date(Date.UTC(e.getUTCFullYear(),0,1)).getFullYear()}function Wt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Ht(new Date(t.getFullYear(),t.getMonth(),1),e),n=Ht(t,e);return 1==n&&(n=53),n-i+1}function Ut(t,e){return t>12?t-=12:0===t&&(t=12),null!=e?t+(e-1):t}function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])return e?"Coordinated Universal Time":"UTC";var n=t.toLocaleString("UTC"),r=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(n.length);return!1===i&&(r=r.replace(/ (standard|daylight|summer|winter) /i," ")),r}function Kt(t){var e=new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:t})).getTime()-i.getTime())/6e4*-1}function Yt(t){var e,i,n,r=t.h,o=t.s,a=t.l;if(0==o)e=i=n=a;else{var s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},l=a<.5?a*(1+o):a+o-a*o,u=2*a-l;e=s(u,l,r+1/3),i=s(u,l,r),n=s(u,l,r-1/3)}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*n)}}function Xt(t){var e=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(e,i,n),o=Math.min(e,i,n),a=0,s=0,l=(r+o)/2;if(r===o)a=s=0;else{var u=r-o;switch(s=l>.5?u/(2-r-o):u/(r+o),r){case e:a=(i-n)/u+(i<n?6:0);break;case i:a=(n-e)/u+2;break;case n:a=(e-i)/u+4}a/=6}return{h:a,s:s,l:l}}function qt(t,e){var i=e>0?255-t:t;return Math.round(i*e)}function Zt(t){return(299*t.r+587*t.g+114*t.b)/1e3>=128}function Jt(t,e){return t||(t=[]),[].concat(_t(t),_t(e)).filter((function(t,e,i){return i.indexOf(t)===e}))}function Qt(t){return"#"===t[0]&&(t=t.substr(1)),3==t.length&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function $t(t){return te.fromAny(t)}var te=function(){function t(e){a(this,t),Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|e}return h(t,[{key:"hex",get:function(){return this._hex}},{key:"r",get:function(){return this._hex>>>16}},{key:"g",get:function(){return this._hex>>8&255}},{key:"b",get:function(){return 255&this._hex}},{key:"toCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}},{key:"toCSSHex",value:function(){return"#"+Lt(this.r.toString(16),2)+Lt(this.g.toString(16),2)+Lt(this.b.toString(16),2)}},{key:"toHSL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Xt({r:this.r,g:this.g,b:this.b,a:t})}},{key:"toString",value:function(){return this.toCSSHex()}}],[{key:"fromHSL",value:function(t,e,i){var n=Yt({h:t,s:e,l:i});return this.fromRGB(n.r,n.g,n.b)}},{key:"fromHex",value:function(e){return new t(e)}},{key:"fromRGB",value:function(e,i,n){return new t((0|n)+(i<<8)+(e<<16))}},{key:"fromString",value:function(e){return new t(Qt(e))}},{key:"fromCSS",value:function(e){return new t(function(t){var e=(t=t.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(!(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return 0;for(var i="",n=1;n<=3;n++){var r=parseInt(e[n]).toString(16);1==r.length&&(r="0"+r),i+=r}return Qt(i)}(e))}},{key:"fromAny",value:function(e){if(z(e)){if("#"==e[0])return t.fromString(e);if("rgb"==e.substr(0,3))return t.fromCSS(e)}else{if(H(e))return t.fromHex(e);if(e instanceof t)return t.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}},{key:"alternative",value:function(t,e,i){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{r:255,g:255,b:255},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:255,g:255,b:255},n=e,r=i;return Zt(i)&&(n=i,r=e),Zt(t)?r:n}({r:t.r,g:t.g,b:t.b},e?{r:e.r,g:e.g,b:e.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(n.r,n.g,n.b)}},{key:"interpolate",value:function(e,i,n){if("hsl"==(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb")){var r=i.toHSL(),o=n.toHSL();return t.fromHSL(ie(e,r.h,o.h),ie(e,r.s,o.s),ie(e,r.l,o.l))}return t.fromRGB(ie(e,i.r,n.r),ie(e,i.g,n.g),ie(e,i.b,n.b))}},{key:"lighten",value:function(e,i){var n=function(t,e){return t?{r:Math.max(0,Math.min(255,t.r+qt(t.r,e))),g:Math.max(0,Math.min(255,t.g+qt(t.g,e))),b:Math.max(0,Math.min(255,t.b+qt(t.b,e))),a:t.a}:t}({r:e.r,g:e.g,b:e.b},i);return t.fromRGB(n.r,n.g,n.b)}},{key:"brighten",value:function(e,i){var n=function(t,e){if(t){var i=qt(Math.min(Math.max(t.r,t.g,t.b),230),e);return{r:Math.max(0,Math.min(255,Math.round(t.r+i))),g:Math.max(0,Math.min(255,Math.round(t.g+i))),b:Math.max(0,Math.min(255,Math.round(t.b+i))),a:t.a}}return t}({r:e.r,g:e.g,b:e.b},i);return t.fromRGB(n.r,n.g,n.b)}},{key:"saturate",value:function(e,i){var n=function(t,e){if(void 0===t||1==e)return t;var i=Xt(t);return i.s=e,Yt(i)}({r:e.r,g:e.g,b:e.b},i);return t.fromRGB(n.r,n.g,n.b)}}]),t}();function ee(t){return wt(this,void 0,void 0,at().mark((function e(){var i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return i=[],X(t,(function(t,e){i.push(e.waitForStop())})),e.next=5,Promise.all(i);case 5:case"end":return e.stop()}}),e)})))}function ie(t,e,i){return e+t*(i-e)}function ne(t,e,i){return t>=1?i:e}function re(t,e,i){return new dt(ie(t,e.percent,i.percent))}function oe(t,e,i){return te.interpolate(t,e,i)}function ae(t){return t}function se(t){return t*t*t}function le(t){return function(e){return 1-t(1-e)}}var ue=2*Math.PI,he=.3/ue;Math.asin(1);var ce=function(){function t(e,i){var n=this;a(this,t),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=i,X(i,(function(t){n._userSettings[t]=!0}))}return h(t,[{key:"get",value:function(t,e){var i=this._settings[t];return void 0!==i?i:e}},{key:"setRaw",value:function(t,e){this._settings[t]=e}},{key:"set",value:function(t,e){this._userSettings[t]=!0,this.setRaw(t,e)}},{key:"remove",value:function(t){delete this._userSettings[t],delete this._settings[t]}},{key:"setAll",value:function(t){var e=this;K(t).forEach((function(i){e.set(i,t[i])}))}},{key:"_eachSetting",value:function(t){X(this._settings,t)}},{key:"apply",value:function(){var t=this,e={stateAnimationEasing:!0,stateAnimationDuration:!0},i=this._entity.states.lookup("default");this._eachSetting((function(n,r){e[n]||(e[n]=!0,t!==i&&(n in i._settings||(i._settings[n]=t._entity.get(n))),t._entity.set(n,r))}))}},{key:"applyAnimate",value:function(t){var e=this;null==t&&(t=this._settings.stateAnimationDuration),null==t&&(t=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));var i=this._settings.stateAnimationEasing;null==i&&(i=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",se)));var n=this._entity.states.lookup("default"),r={stateAnimationEasing:!0,stateAnimationDuration:!0},o={};return this._eachSetting((function(a,s){if(!r[a]){r[a]=!0,e!=n&&(a in n._settings||(n._settings[a]=e._entity.get(a)));var l=e._entity.animate({key:a,to:s,duration:t,easing:i});l&&(o[a]=l)}})),o}}]),t}(),de=function(){function t(e){a(this,t),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}return h(t,[{key:"lookup",value:function(t){return this._states[t]}},{key:"create",value:function(t,e){var i=this._states[t];if(i)return i.setAll(e),i;var n=new ce(this._entity,e);return this._states[t]=n,n}},{key:"remove",value:function(t){delete this._states[t]}},{key:"apply",value:function(t){var e=this._states[t];e&&e.apply(),this._entity._applyState(t)}},{key:"applyAnimate",value:function(t,e){var i,n=this._states[t];return n&&(i=n.applyAnimate(e)),this._entity._applyStateAnimated(t,e),i}}]),t}(),fe=function(){function t(e){a(this,t),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}return h(t,[{key:"add",value:function(t,e){var i=this,n=this._callbacks[t];return void 0===n&&(n=this._callbacks[t]=[]),n.push(e),this._entity._markDirtyKey(t),new I((function(){_(n,e)&&i._entity._markDirtyKey(t)}))}},{key:"remove",value:function(t){var e=this._callbacks[t];void 0!==e&&(delete this._callbacks[t],0!==e.length&&this._entity._markDirtyKey(t))}},{key:"enable",value:function(t){this._disabled[t]&&(delete this._disabled[t],this._entity._markDirtyKey(t))}},{key:"disable",value:function(t){this._disabled[t]||(this._disabled[t]=!0,this._entity._markDirtyKey(t))}},{key:"fold",value:function(t,e){if(!this._disabled[t]){var i=this._callbacks[t];if(void 0!==i)for(var n=0,r=i.length;n<r;++n)e=i[n](e,this._entity,t)}return e}}]),t}(),pe=function(){function t(e,i,n,r,o,s,l){a(this,t),Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new G}),this._animation=e,this._from=i,this._to=n,this._duration=r,this._easing=o,this._loops=s,this._interpolate=function(t,e){return"number"===typeof t&&"number"===typeof e?ie:t instanceof dt&&e instanceof dt?re:t instanceof te&&e instanceof te?oe:ne}(i,n),this._oldTime=l}return h(t,[{key:"to",get:function(){return this._to}},{key:"from",get:function(){return this._from}},{key:"playing",get:function(){return this._playing}},{key:"stopped",get:function(){return this._stopped}},{key:"stop",value:function(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}},{key:"pause",value:function(){this._playing=!1,this._oldTime=null}},{key:"play",value:function(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}},{key:"percentage",get:function(){return this._time/this._duration}},{key:"waitForStop",value:function(){var t=this;return new Promise((function(e,i){if(t._stopped)e();else var n=t.events.on("stopped",(function(){n.dispose(),e()}))}))}},{key:"_checkEnded",value:function(){return!(this._loops>1)||(--this._loops,!1)}},{key:"_run",value:function(t){null!==this._oldTime&&(this._time+=t-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=t}},{key:"_reset",value:function(t){this._oldTime=t,this._time=0}},{key:"_value",value:function(t){return this._interpolate(this._easing(t),this._from,this._to)}}]),t}(),ge=0,me=function(){function t(e){a(this,t),Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++ge}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=e}return h(t,[{key:"_checkDirty",value:function(){var t=this;K(this._settings).forEach((function(e){t._userProperties[e]=!0,t._markDirtyKey(e)}))}},{key:"resetUserSettings",value:function(){this._userProperties={}}},{key:"_runAnimation",value:function(t){var e=this;if(this.isDisposed())return!1;var i=!1;return X(this._animatingSettings,(function(n,r){if(r._stopped)e._stopAnimation(n);else if(r._playing){r._run(t);var o=r.percentage;o>=1?r._checkEnded()?e.set(n,r._value(1)):(i=!0,r._reset(t),e._set(n,r._value(1))):(i=!0,e._set(n,r._value(o)))}})),X(this._animatingPrivateSettings,(function(n,r){if(r._stopped)e._stopAnimationPrivate(n);else if(r._playing){r._run(t);var o=r.percentage;o>=1?r._checkEnded()?e.setPrivate(n,r._value(1)):(i=!0,r._reset(t),e._setPrivate(n,r._value(1))):(i=!0,e._setPrivate(n,r._value(o)))}})),i}},{key:"_markDirtyKey",value:function(t){this.markDirty()}},{key:"_markDirtyPrivateKey",value:function(t){this.markDirty()}},{key:"on",value:function(t,e){var i=this,n=this._settingEvents[t];return void 0===n&&(n=this._settingEvents[t]=[]),n.push(e),new I((function(){_(n,e),0===n.length&&delete i._settingEvents[t]}))}},{key:"onPrivate",value:function(t,e){var i=this,n=this._privateSettingEvents[t];return void 0===n&&(n=this._privateSettingEvents[t]=[]),n.push(e),new I((function(){_(n,e),0===n.length&&delete i._privateSettingEvents[t]}))}},{key:"getRaw",value:function(t,e){var i=this._settings[t];return void 0!==i?i:e}},{key:"get",value:function(t,e){return this.getRaw(t,e)}},{key:"_sendKeyEvent",value:function(t,e){var i=this,n=this._settingEvents[t];void 0!==n&&b(n,(function(n){n(e,i,t)}))}},{key:"_sendPrivateKeyEvent",value:function(t,e){var i=this,n=this._privateSettingEvents[t];void 0!==n&&b(n,(function(n){n(e,i,t)}))}},{key:"_setRaw",value:function(t,e,i){this._prevSettings[t]=e,this._sendKeyEvent(t,i)}},{key:"setRaw",value:function(t,e){var i=this._settings[t];this._settings[t]=e,i!==e&&this._setRaw(t,i,e)}},{key:"_set",value:function(t,e){var i=this._settings[t];this._settings[t]=e,i!==e&&(this._setRaw(t,i,e),this._markDirtyKey(t))}},{key:"_stopAnimation",value:function(t){var e=this._animatingSettings[t];e&&(delete this._animatingSettings[t],e.stop())}},{key:"set",value:function(t,e){return this._set(t,e),this._stopAnimation(t),e}},{key:"remove",value:function(t){t in this._settings&&(this._prevSettings[t]=this._settings[t],delete this._settings[t],this._sendKeyEvent(t,void 0),this._markDirtyKey(t)),this._stopAnimation(t)}},{key:"removeAll",value:function(){var t=this;b(K(this._settings),(function(e){t.remove(e)}))}},{key:"getPrivate",value:function(t,e){var i=this._privateSettings[t];return void 0!==i?i:e}},{key:"_setPrivateRaw",value:function(t,e,i){this._prevPrivateSettings[t]=e,this._sendPrivateKeyEvent(t,i)}},{key:"setPrivateRaw",value:function(t,e){var i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&this._setPrivateRaw(t,i,e)}},{key:"_setPrivate",value:function(t,e){var i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&(this._setPrivateRaw(t,i,e),this._markDirtyPrivateKey(t))}},{key:"_stopAnimationPrivate",value:function(t){var e=this._animatingPrivateSettings[t];e&&(e.stop(),delete this._animatingPrivateSettings[t])}},{key:"setPrivate",value:function(t,e){return this._setPrivate(t,e),this._stopAnimationPrivate(t),e}},{key:"removePrivate",value:function(t){t in this._privateSettings&&(this._prevPrivateSettings[t]=this._privateSettings[t],delete this._privateSettings[t],this._markDirtyPrivateKey(t)),this._stopAnimationPrivate(t)}},{key:"setAll",value:function(t){var e=this;X(t,(function(t,i){e.set(t,i)}))}},{key:"animate",value:function(t){var e=t.key,i=t.to,n=t.duration||0,r=t.loops||1,o=void 0===t.from?this.get(e):t.from,a=void 0===t.easing?ae:t.easing;if(0===n)this.set(e,i);else{if(void 0!==o&&o!==i){this.set(e,o);var s=this._animatingSettings[e]=new pe(this,o,i,n,a,r,this._animationTime());return this._startAnimation(),s}this.set(e,i)}var l=new pe(this,o,i,n,a,r,null);return l.stop(),l}},{key:"animatePrivate",value:function(t){var e=t.key,i=t.to,n=t.duration||0,r=t.loops||1,o=void 0===t.from?this.getPrivate(e):t.from,a=void 0===t.easing?ae:t.easing;if(0===n)this.setPrivate(e,i);else{if(void 0!==o&&o!==i){this.setPrivate(e,o);var s=this._animatingPrivateSettings[e]=new pe(this,o,i,n,a,r,this._animationTime());return this._startAnimation(),s}this.setPrivate(e,i)}var l=new pe(this,o,i,n,a,r,null);return l.stop(),l}},{key:"_dispose",value:function(){}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}}]),t}(),ve=function(t){p(i,t);var e=m(i);function i(t,n,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(a(this,i),o=e.call(this,n),Object.defineProperty(g(o),"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"states",{enumerable:!0,configurable:!0,writable:!0,value:new de(g(o))}),Object.defineProperty(g(o),"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new fe(g(o))}),Object.defineProperty(g(o),"events",{enumerable:!0,configurable:!0,writable:!0,value:o._createEvents()}),Object.defineProperty(g(o),"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(o),"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(o),"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(o),"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(o),"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(o),"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(o),"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(o),"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(o),"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");return o._root=t,o._internalTemplates=s,n.id&&o._registerId(n.id),o}return h(i,[{key:"_afterNew",value:function(){var t=this;this._checkDirty();var e=!1,i=this._template;i&&(e=!0,i._setObjectTemplate(this)),b(this._internalTemplates,(function(i){e=!0,i._setObjectTemplate(t)})),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}},{key:"_afterNewApplyThemes",value:function(){var t=this;this._checkDirty();var e=this._template;e&&e._setObjectTemplate(this),b(this._internalTemplates,(function(e){e._setObjectTemplate(t)})),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}},{key:"_createEvents",value:function(){return new G}},{key:"classNames",get:function(){return this.constructor.classNames}},{key:"className",get:function(){return this.constructor.className}},{key:"_setDefaults",value:function(){}},{key:"_setDefault",value:function(t,e){t in this._settings||d(c(i.prototype),"set",this).call(this,t,e)}},{key:"_setRawDefault",value:function(t,e){t in this._settings||d(c(i.prototype),"setRaw",this).call(this,t,e)}},{key:"_clearDirty",value:function(){var t=this;K(this._dirty).forEach((function(e){t._dirty[e]=!1})),K(this._dirtyPrivate).forEach((function(e){t._dirtyPrivate[e]=!1}))}},{key:"isDirty",value:function(t){return!!this._dirty[t]}},{key:"isPrivateDirty",value:function(t){return!!this._dirtyPrivate[t]}},{key:"_markDirtyKey",value:function(t){this._dirty[t]=!0,d(c(i.prototype),"_markDirtyKey",this).call(this,t)}},{key:"_markDirtyPrivateKey",value:function(t){this._dirtyPrivate[t]=!0,d(c(i.prototype),"_markDirtyKey",this).call(this,t)}},{key:"isType",value:function(t){return-1!==this.classNames.indexOf(t)}},{key:"_pushPropertyDisposer",value:function(t,e){var i=this._disposerProperties[t];return void 0===i&&(i=this._disposerProperties[t]=[]),i.push(e),e}},{key:"_disposeProperty",value:function(t){var e=this._disposerProperties[t];void 0!==e&&(b(e,(function(t){t.dispose()})),delete this._disposerProperties[t])}},{key:"template",get:function(){return this._template},set:function(t){var e=this._template;e!==t&&(this._template=t,e&&e._removeObjectTemplate(this),t&&t._setObjectTemplate(this),this._applyTemplates())}},{key:"markDirty",value:function(){this._root._addDirtyEntity(this)}},{key:"_startAnimation",value:function(){this._root._addAnimation(this)}},{key:"_animationTime",value:function(){return this._root.animationTime}},{key:"_applyState",value:function(t){}},{key:"_applyStateAnimated",value:function(t,e){}},{key:"get",value:function(t,e){var i=this.adapters.fold(t,this._settings[t]);return void 0!==i?i:e}},{key:"isUserSetting",value:function(t){return this._userProperties[t]||!1}},{key:"set",value:function(t,e){return this._userProperties[t]=!0,d(c(i.prototype),"set",this).call(this,t,e)}},{key:"setRaw",value:function(t,e){this._userProperties[t]=!0,d(c(i.prototype),"setRaw",this).call(this,t,e)}},{key:"_setSoft",value:function(t,e){return this._userProperties[t]?e:d(c(i.prototype),"set",this).call(this,t,e)}},{key:"remove",value:function(t){delete this._userProperties[t],this._removeTemplateProperty(t)}},{key:"setPrivate",value:function(t,e){return this._userPrivateProperties[t]=!0,d(c(i.prototype),"setPrivate",this).call(this,t,e)}},{key:"setPrivateRaw",value:function(t,e){this._userPrivateProperties[t]=!0,d(c(i.prototype),"setPrivateRaw",this).call(this,t,e)}},{key:"removePrivate",value:function(t){delete this._userPrivateProperties[t],this._removeTemplatePrivateProperty(t)}},{key:"_setTemplateProperty",value:function(t,e,n){this._userProperties[e]||t===this._findTemplateByKey(e)&&d(c(i.prototype),"set",this).call(this,e,n)}},{key:"_setTemplatePrivateProperty",value:function(t,e,n){this._userPrivateProperties[e]||t===this._findTemplateByPrivateKey(e)&&d(c(i.prototype),"setPrivate",this).call(this,e,n)}},{key:"_removeTemplateProperty",value:function(t){if(!this._userProperties[t]){var e=this._findTemplateByKey(t);e?d(c(i.prototype),"set",this).call(this,t,e._settings[t]):d(c(i.prototype),"remove",this).call(this,t)}}},{key:"_removeTemplatePrivateProperty",value:function(t){if(!this._userPrivateProperties[t]){var e=this._findTemplateByPrivateKey(t);e?d(c(i.prototype),"setPrivate",this).call(this,t,e._privateSettings[t]):d(c(i.prototype),"removePrivate",this).call(this,t)}}},{key:"_walkParents",value:function(t){t(this._root._rootContainer),t(this)}},{key:"_applyStateByKey",value:function(t){var e=this.states.create(t,{}),i={};this._eachTemplate((function(n){var r=n.states.lookup(t);r&&r._apply(e,i)})),X(e._settings,(function(t){i[t]||e._userSettings[t]||e.remove(t)}))}},{key:"_applyTemplate",value:function(t,e){var n=this;this._templateDisposers.push(t._apply(this,e)),X(t._settings,(function(t,r){e.settings[t]||n._userProperties[t]||(e.settings[t]=!0,d(c(i.prototype),"set",n).call(n,t,r))})),X(t._privateSettings,(function(t,r){e.privateSettings[t]||n._userPrivateProperties[t]||(e.privateSettings[t]=!0,d(c(i.prototype),"setPrivate",n).call(n,t,r))})),this._runSetup&&t.setup&&(this._runSetup=!1,t.setup(this))}},{key:"_findStaticTemplate",value:function(t){if(this._template&&t(this._template))return this._template}},{key:"_eachTemplate",value:function(t){this._findStaticTemplate((function(e){return t(e),!1})),x(this._internalTemplates,t),b(this._templates,t)}},{key:"_applyTemplates",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this._disposeTemplates();var n={settings:{},privateSettings:{},states:{}};this._eachTemplate((function(e){t._applyTemplate(e,n)})),e&&(X(this._settings,(function(e){t._userProperties[e]||n.settings[e]||d(c(i.prototype),"remove",t).call(t,e)})),X(this._privateSettings,(function(e){t._userPrivateProperties[e]||n.privateSettings[e]||d(c(i.prototype),"removePrivate",t).call(t,e)})))}},{key:"_findTemplate",value:function(t){var e=this._findStaticTemplate(t);if(void 0===e){var i=function(t,e){var i=function(t,e){for(var i=t.length;i>0;)if(e(t[--i],i))return i;return-1}(t,e);if(-1!==i)return t[i]}(this._internalTemplates,t);return void 0===i?T(this._templates,t):i}return e}},{key:"_findTemplateByKey",value:function(t){return this._findTemplate((function(e){return t in e._settings}))}},{key:"_findTemplateByPrivateKey",value:function(t){return this._findTemplate((function(e){return t in e._privateSettings}))}},{key:"_disposeTemplates",value:function(){b(this._templateDisposers,(function(t){t.dispose()})),this._templateDisposers.length=0}},{key:"_removeTemplates",value:function(){var t=this;b(this._templates,(function(e){e._removeObjectTemplate(t)})),this._templates.length=0}},{key:"_applyThemes",value:function(){var t=this,e=!1,i=[],n=[],r=new Set,o=this.get("themeTagsSelf");return o&&b(o,(function(t){r.add(t)})),this._walkParents((function(o){o===t._root._rootContainer&&(e=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);var a=o.get("themes");a&&n.push(a);var s=o.get("themeTags");s&&b(s,(function(t){r.add(t)}))})),n=i.concat(n),this._removeTemplates(),e&&x(this.classNames,(function(e){var i=[];b(n,(function(t){b(t,(function(t){var n=t._lookupRules(e);n&&x(n,(function(t){if(t.tags.every((function(t){return r.has(t)}))){var e=function(t,e){for(var i=0,n=t.length,r=!1;i<n;){var o=i+n>>1,a=e(t[o]);a<0?i=o+1:0===a?(r=!0,n=o):n=o}return{found:r,index:i}}(i,(function(e){var i=tt(t.tags.length,e.tags.length);return 0===i?et(t.tags,e.tags,tt):i}));i.splice(e.index,0,t)}}))}))})),b(i,(function(e){t._templates.push(e.template),e.template._setObjectTemplate(t)}))})),this._applyTemplates(),e&&(this._runSetup=!1),e}},{key:"_changed",value:function(){}},{key:"_beforeChanged",value:function(){if(this.isDirty("id")){var t=this.get("id");t&&this._registerId(t);var e=this._prevSettings.id;e&&delete ot.entitiesById[e]}}},{key:"_registerId",value:function(t){if(ot.entitiesById[t]&&ot.entitiesById[t]!==this)throw new Error('An entity with id "'+t+'" already exists.');ot.entitiesById[t]=this}},{key:"_afterChanged",value:function(){}},{key:"addDisposer",value:function(t){return this._disposers.push(t),t}},{key:"_dispose",value:function(){var t=this;d(c(i.prototype),"_dispose",this).call(this);var e=this._template;e&&e._removeObjectTemplate(this),b(this._internalTemplates,(function(e){e._removeObjectTemplate(t)})),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach((function(t){t.dispose()})),X(this._disposerProperties,(function(t,e){b(e,(function(t){t.dispose()}))}));var n=this.get("id");n&&delete ot.entitiesById[n]}},{key:"setTimeout",value:function(t){function e(e,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var i=this,n=setTimeout((function(){i.removeDispose(r),t()}),e),r=new I((function(){clearTimeout(n)}));return this._disposers.push(r),r}))},{key:"removeDispose",value:function(t){if(!this.isDisposed()){var e=v(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()}},{key:"hasTag",value:function(t){return-1!==v(this.get("themeTags",[]),t)}},{key:"addTag",value:function(t){if(!this.hasTag(t)){var e=this.get("themeTags",[]);e.push(t),this.set("themeTags",e)}}},{key:"removeTag",value:function(t){if(this.hasTag(t)){var e=this.get("themeTags",[]);k(e,t),this.set("themeTags",e)}}},{key:"_t",value:function(t,e){for(var i,n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(i=this._root.language).translate.apply(i,[t,e].concat(r))}},{key:"root",get:function(){return this._root}}],[{key:"new",value:function(t,e,i){var n=new this(t,e,!0);return n._template=i,n._afterNew(),n}},{key:"_new",value:function(t,e){var i=new this(t,e,!0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return i._afterNew(),i}}]),i}(me);Object.defineProperty(ve,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(ve,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});var ye=Math.PI,be=ye/180,xe=180/ye;function we(t,e,i){return Math.min(Math.max(t,e),i)}function ke(t){return Math.sin(be*t)}function _e(t){return Math.cos(be*t)}function Se(t){return(t%=360)<0&&(t+=360),t}function Ce(t,e,i,n,r){var o=Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(Me(r,i)),u.push(Me(r,n));for(var h=Math.min(90*Math.floor(i/90),90*Math.floor(n/90)),c=Math.max(90*Math.ceil(i/90),90*Math.ceil(n/90)),d=h;d<=c;d+=90)d>=i&&d<=n&&u.push(Me(r,d));for(var f=0;f<u.length;f++){var p=u[f];p.x<o&&(o=p.x),p.y<a&&(a=p.y),p.x>s&&(s=p.x),p.y>l&&(l=p.y)}return{left:t+o,top:e+a,right:t+s,bottom:e+l}}function Me(t,e){return{x:t*_e(e),y:t*ke(e)}}var Pe=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(n),"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n._sprite=t,n}return h(i,[{key:"_makePointerEvent",value:function(t,e){return{type:t,originalEvent:e.event,point:e.point,simulated:e.simulated,native:e.native,target:this._sprite}}},{key:"_onRenderer",value:function(t,e){var i=this;this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;var n=this._rendererDisposers[t];if(void 0===n){var r=this._sprite._display.on(t,(function(t){e.call(i,t)}));n=this._rendererDisposers[t]=new O((function(){delete i._rendererDisposers[t],r.dispose()}))}return n.increment()}},{key:"_on",value:function(t,e,n,r,o,a){var s=d(c(i.prototype),"_on",this).call(this,t,e,n,r,o,a),l=i.RENDERER_EVENTS[e];return void 0!==l&&(s.disposer=new A([s.disposer,this._onRenderer(e,l)])),s}},{key:"stopParentDispatch",value:function(){this._dispatchParents=!1}},{key:"dispatchParents",value:function(t,e){var i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(t,e),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(t,e)}finally{this._dispatchParents=i}}}]),i}(G);Object.defineProperty(Pe,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});var Te=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(g(t),"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(g(t),"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(t),"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return h(i,[{key:"_afterNew",value:function(){this.setPrivateRaw("visible",!0),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"_markDirtyKey",value:function(t){d(c(i.prototype),"_markDirtyKey",this).call(this,t),"x"!=t&&"y"!=t&&"dx"!=t&&"dy"!=t||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}},{key:"_markDirtyPrivateKey",value:function(t){d(c(i.prototype),"_markDirtyPrivateKey",this).call(this,t),"x"!=t&&"y"!=t||this.markDirtyPosition()}},{key:"_removeTemplateField",value:function(){this._templateField&&this._templateField._removeObjectTemplate(this)}},{key:"_createEvents",value:function(){return new Pe(this)}},{key:"_processTemplateField",value:function(){var t,e=this.get("templateField");if(e){var i=this.dataItem;if(i){var n=i.dataContext;n&&((t=n[e])instanceof $||!t||(t=$.new(t)))}}this._templateField!==t&&(this._removeTemplateField(),this._templateField=t,t&&t._setObjectTemplate(this),this._applyTemplates())}},{key:"_setDataItem",value:function(t){var e=this._dataItem;this._dataItem=t,this._processTemplateField();var i="dataitemchanged";t!=e&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:e,newDataItem:t})}},{key:"dataItem",get:function(){if(this._dataItem)return this._dataItem;for(var t=this._parent;t;){if(t._dataItem)return t._dataItem;t=t._parent}},set:function(t){this._setDataItem(t)}},{key:"_addPercentageSizeChildren",value:function(){var t=this.parent;t&&(this.get("width")instanceof dt||this.get("height")instanceof dt?S(t._percentageSizeChildren,this):_(t._percentageSizeChildren,this))}},{key:"_addPercentagePositionChildren",value:function(){var t=this.parent;t&&(this.get("x")instanceof dt||this.get("y")instanceof dt?S(t._percentagePositionChildren,this):_(t._percentagePositionChildren,this))}},{key:"markDirtyPosition",value:function(){this._root._addDirtyPosition(this)}},{key:"updatePivotPoint",value:function(){var t=this._localBounds;if(t){var e=this.get("centerX");null!=e&&(this._display.pivot.x=t.left+Ot(e,t.right-t.left));var i=this.get("centerY");null!=i&&(this._display.pivot.y=t.top+Ot(i,t.bottom-t.top))}}},{key:"_beforeChanged",value:function(){var t=this;if(d(c(i.prototype),"_beforeChanged",this).call(this),this._handleStates(),this.isDirty("tooltip")){var e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){var n=this._tooltipMoveDp;n&&(n.dispose(),this._tooltipMoveDp=void 0);var r=this._tooltipPointerDp;r&&(r.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this._tooltipPointerDp=new A([this.events.on("pointerover",(function(){t._tooltipMoveDp=t.events.on("globalpointermove",(function(e){t.showTooltip(e.point)}))})),this.events.on("pointerout",(function(){var e=t._tooltipMoveDp;e&&(e.dispose(),t._tooltipMoveDp=void 0)}))]))}}},{key:"_handleStates",value:function(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}},{key:"_changed",value:function(){var t=this;d(c(i.prototype),"_changed",this).call(this);var e=this._display,n=this.events;if(this.isDirty("draggable")){var r=this.get("draggable");r?(this.set("interactive",!0),this._dragDp=new A([n.on("pointerdown",(function(e){t.dragStart(e)})),n.on("globalpointermove",(function(e){t.dragMove(e)})),n.on("globalpointerup",(function(e){t.dragStop(e)}))])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!r}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){var o=this.get("tooltipText"),a=this.get("tooltipHTML"),s=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(o||a)&&("click"==s?(this._tooltipDp=new A([n.on("click",(function(){t.setTimeout((function(){return t.showTooltip()}),10)})),St(document,"click",(function(e){t.hideTooltip()}))]),this._disposers.push(this._tooltipDp)):"always"==s||(this._tooltipDp=new A([n.on("pointerover",(function(){t.showTooltip()})),n.on("pointerout",(function(){t.hideTooltip()}))]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){var l=this.get("toggleKey");l&&"none"!=l?this._toggleDp=n.on("click",(function(){t._isDragging||t.set(l,!t.get(l))})):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?e.visible=!0:(e.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();var u=this.parent;u&&(this.isDirty("width")&&this.get("width")instanceof dt||this.isDirty("height")&&this.get("height")instanceof dt)&&(u.markDirty(),u._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){var h=this.get("wheelable");h&&this.set("interactive",!0),e.wheelable=!!h}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new A([n.on("focus",(function(){t.showTooltip()})),n.on("blur",(function(){t.hideTooltip()}))]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){var f=this.events;this.get("interactive")?this._hoverDp=new A([f.on("click",(function(e){Dt(e.originalEvent)&&(t.getPrivate("touchHovering")||t.setTimeout((function(){t._handleOver(),(t.get("tooltipText")||t.get("tooltipHTML"))&&t.showTooltip(),t.setPrivateRaw("touchHovering",!0),t.events.dispatch("pointerover",{type:"pointerover",target:e.target,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}),10))})),f.on("globalpointerup",(function(e){Dt(e.originalEvent)&&t.getPrivate("touchHovering")&&(t._handleOut(),(t.get("tooltipText")||t.get("tooltipHTML"))&&t.hideTooltip(),t.setPrivateRaw("touchHovering",!1),t.events.dispatch("pointerout",{type:"pointerout",target:e.target,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})),t._isDown&&t._handleUp(e)})),f.on("pointerover",(function(){t._handleOver()})),f.on("pointerout",(function(){t._handleOut()})),f.on("pointerdown",(function(e){t._handleDown(e)}))]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}},{key:"dragStart",value:function(t){this._dragEvent=t,this.events.stopParentDispatch()}},{key:"dragStop",value:function(t){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;var e="dragstop";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}},{key:"_handleOver",value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}},{key:"_handleOut",value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}},{key:"_handleUp",value:function(t){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;var e=Pt(t.originalEvent);delete this._downPoints[e],0==K(this._downPoints).length&&(this._isDown=!1)}}},{key:"_hasMoved",value:function(t){var e=Pt(t.originalEvent),i=this._downPoints[e];if(i){var n=Math.abs(i.x-t.point.x),r=Math.abs(i.y-t.point.y);return n>5||r>5}return!1}},{key:"_hasDown",value:function(){return K(this._downPoints).length>0}},{key:"_handleDown",value:function(t){var e=this.parent;if(e&&!this.get("draggable")&&e._handleDown(t),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:t.point.x,y:t.point.y},this._isDown=!0;var i=Pt(t.originalEvent);this._downPoints[i]={x:t.point.x,y:t.point.y}}}},{key:"dragMove",value:function(t){var e=this._dragEvent;if(e){if(e.simulated&&!t.simulated)return!0;for(var i=0,n=this.parent;null!=n;)i+=n.get("rotation",0),n=n.parent;var r=t.point.x-e.point.x,o=t.point.y-e.point.y,a=this.events;if(e.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};var s="dragstart";a.isEnabled(s)&&a.dispatch(s,{type:s,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}if(this._isDragging){var l=this._dragPoint;this.set("x",l.x+r*_e(i)+o*ke(i)),this.set("y",l.y+o*_e(i)-r*ke(i));var u="dragged";a.isEnabled(u)&&a.dispatch(u,{type:u,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}else if(Math.hypot(r,o)>5){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};var h="dragstart";a.isEnabled(h)&&a.dispatch(h,{type:h,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}}},{key:"_updateSize",value:function(){}},{key:"_getBounds",value:function(){this._localBounds=this._display.getLocalBounds()}},{key:"depth",value:function(){for(var t=this.parent,e=0;;){if(!t)return e;++e,t=t.parent}}},{key:"markDirtySize",value:function(){this._sizeDirty=!0,this.markDirty()}},{key:"markDirtyBounds",value:function(){if(this.get("isMeasured")){var t=this._display;this._root._addDirtyBounds(this),t.isMeasured=!0,t.invalidateBounds();var e=this.parent;e&&"absolute"!=this.get("position")&&(null==e.get("width")||null==e.get("height")||e.get("layout"))&&e.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}},{key:"markDirtyAccessibility",value:function(){this._root._invalidateAccessibility(this)}},{key:"markDirtyLayer",value:function(){this._display.markDirtyLayer(!0)}},{key:"markDirty",value:function(){d(c(i.prototype),"markDirty",this).call(this),this.markDirtyLayer()}},{key:"_updateBounds",value:function(){var t,e=this._adjustedLocalBounds;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds):(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){var i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}},{key:"_fixMinBounds",value:function(t){var e=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));H(e)&&t.right-t.left<e&&(t.right=t.left+e),H(i)&&t.bottom-t.top<i&&(t.bottom=t.top+i);var n=this.getPrivate("width"),r=this.getPrivate("height");H(n)&&(n>0?t.right=t.left+n:t.left=t.right+n),H(r)&&(r>0?t.bottom=t.top+r:t.top=t.bottom+r)}},{key:"_removeParent",value:function(t){t&&(t.children.removeValue(this),_(t._percentageSizeChildren,this),_(t._percentagePositionChildren,this))}},{key:"_clearDirty",value:function(){d(c(i.prototype),"_clearDirty",this).call(this),this._sizeDirty=!1,this._statesHandled=!1}},{key:"hover",value:function(){this.showTooltip(),this._handleOver()}},{key:"unhover",value:function(){this.hideTooltip(),this._handleOut()}},{key:"showTooltip",value:function(t){var e=this.getTooltip(),i=this.get("tooltipText"),n=this.get("tooltipHTML");if((i||n)&&e){var r=this.get("tooltipPosition"),o=this.getPrivate("tooltipTarget",this);"fixed"!=r&&t||(this._display._setMatrix(),t=this.toGlobal(o._getTooltipPoint())),e.set("pointTo",t),e.set("tooltipTarget",o),e.get("x")||e.set("x",t.x),e.get("y")||e.set("y",t.y),i&&e.label.set("text",i),n&&e.label.set("html",n);var a=this.dataItem;if(a&&e.label._setDataItem(a),"always"==this.get("showTooltipOn")&&(t.x<0||t.x>this._root.width()||t.y<0||t.y>this._root.height()))return void this.hideTooltip();e.label.text.markDirtyText();var s=e.show();return this.setPrivateRaw("showingTooltip",!0),s}}},{key:"hideTooltip",value:function(){var t=this.getTooltip();if(t&&t.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)){var e=t.get("keepTargetHover")&&0==t.get("stateAnimationDuration",0)?400:void 0,i=t.hide(e);return this.setPrivateRaw("showingTooltip",!1),i}}},{key:"_getTooltipPoint",value:function(){var t=this._localBounds;if(t){var e=0,i=0;return this.get("isMeasured")?(e=t.left+Ot(this.get("tooltipX",0),t.right-t.left),i=t.top+Ot(this.get("tooltipY",0),t.bottom-t.top)):(e=Ot(this.get("tooltipX",0),this.width()),i=Ot(this.get("tooltipY",0),this.height())),{x:e,y:i}}return{x:0,y:0}}},{key:"getTooltip",value:function(){var t=this.get("tooltip");if(t)return t;var e=this.parent;return e?e.getTooltip():void 0}},{key:"_updatePosition",value:function(){var t=this.parent,e=this.get("dx",0),i=this.get("dy",0),n=this.get("x"),r=this.getPrivate("x"),o=0,a=0,s=this.get("position");n instanceof dt&&(n=t?t.innerWidth()*n.value+t.get("paddingLeft",0):0),H(n)?o=n+e:null!=r?o=r:t&&"relative"==s&&(o=t.get("paddingLeft",0)+e);var l=this.get("y"),u=this.getPrivate("y");l instanceof dt&&(l=t?t.innerHeight()*l.value+t.get("paddingTop",0):0),H(l)?a=l+i:null!=u?a=u:t&&"relative"==s&&(a=t.get("paddingTop",0)+i);var h=this._display;if(h.x!=o||h.y!=a){h.invalidateBounds(),h.x=o,h.y=a;var c="positionchanged";this.events.isEnabled(c)&&this.events.dispatch(c,{type:c,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}},{key:"x",value:function(){var t=this.get("x"),e=this.getPrivate("x"),i=this.parent;return i?t instanceof dt?Ot(t,i.innerWidth())+i.get("paddingLeft",0):H(t)?t:null!=e?e:i.get("paddingLeft",this._display.x):this._display.x}},{key:"y",value:function(){var t=this.getPrivate("y");if(null!=t)return t;var e=this.get("y"),i=this.parent;return i?e instanceof dt?Ot(e,i.innerHeight())+i.get("paddingTop",0):H(e)?e:null!=t?t:i.get("paddingTop",this._display.y):this._display.y}},{key:"_dispose",value:function(){d(c(i.prototype),"_dispose",this).call(this),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);var t=this.get("tooltip");t&&t.dispose(),this.markDirty()}},{key:"adjustedLocalBounds",value:function(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}},{key:"localBounds",value:function(){return this._localBounds}},{key:"bounds",value:function(){var t=this._adjustedLocalBounds,e=this.x(),i=this.y();return{left:t.left+e,right:t.right+e,top:t.top+i,bottom:t.bottom+i}}},{key:"globalBounds",value:function(){var t=this.localBounds(),e=this.toGlobal({x:t.left,y:t.top}),i=this.toGlobal({x:t.right,y:t.top}),n=this.toGlobal({x:t.right,y:t.bottom}),r=this.toGlobal({x:t.left,y:t.bottom});return{left:Math.min(e.x,i.x,n.x,r.x),top:Math.min(e.y,i.y,n.y,r.y),right:Math.max(e.x,i.x,n.x,r.x),bottom:Math.max(e.y,i.y,n.y,r.y)}}},{key:"_onShow",value:function(t){}},{key:"_onHide",value:function(t){}},{key:"appear",value:function(t,e){return wt(this,void 0,void 0,at().mark((function i(){var n=this;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.hide(0);case 2:if(!e){i.next=6;break}return i.abrupt("return",new Promise((function(i,r){n.setTimeout((function(){i(n.show(t))}),e)})));case 6:return i.abrupt("return",this.show(t));case 7:case"end":return i.stop()}}),i,this)})))}},{key:"show",value:function(t){return wt(this,void 0,void 0,at().mark((function e(){var i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isShowing){e.next=10;break}return this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(t),i=this.states.applyAnimate("default",t),e.next=9,ee(i);case 9:this._isShowing=!1;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"hide",value:function(t){return wt(this,void 0,void 0,at().mark((function e(){var i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isHiding||this._isHidden){e.next=11;break}return this._isHiding=!0,this._isShowing=!1,this.states.lookup("hidden")||this.states.create("hidden",{opacity:0,visible:!1}),this._isHidden=!0,this._onHide(t),i=this.states.applyAnimate("hidden",t),e.next=10,ee(i);case 10:this._isHiding=!1;case 11:case"end":return e.stop()}}),e,this)})))}},{key:"isHidden",value:function(){return this._isHidden}},{key:"isShowing",value:function(){return this._isShowing}},{key:"isHiding",value:function(){return this._isHiding}},{key:"isHover",value:function(){return this._display.hovering()}},{key:"isFocus",value:function(){return this._root.focused(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"isVisible",value:function(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}},{key:"isVisibleDeep",value:function(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}},{key:"compositeOpacity",value:function(){var t=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*t:t}},{key:"width",value:function(){var t=this.get("width"),e=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),n=this.getPrivate("width"),r=0;if(H(n))r=n;else if(null==t)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(t instanceof dt){var o=this.parent;r=o?o.innerWidth()*t.value:this._root.width()*t.value}else H(t)&&(r=t);return H(i)&&(r=Math.max(i,r)),H(e)&&(r=Math.min(e,r)),r}},{key:"maxWidth",value:function(){var t=this.get("maxWidth",this.getPrivate("maxWidth"));if(H(t))return t;var e=this.get("width");if(H(e))return e;var i=this.parent;return i?i.innerWidth():this._root.width()}},{key:"maxHeight",value:function(){var t=this.get("maxHeight",this.getPrivate("maxHeight"));if(H(t))return t;var e=this.get("height");if(H(e))return e;var i=this.parent;return i?i.innerHeight():this._root.height()}},{key:"height",value:function(){var t=this.get("height"),e=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),n=this.getPrivate("height"),r=0;if(H(n))r=n;else if(null==t)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(t instanceof dt){var o=this.parent;r=o?o.innerHeight()*t.value:this._root.height()*t.value}else H(t)&&(r=t);return H(i)&&(r=Math.max(i,r)),H(e)&&(r=Math.min(e,r)),r}},{key:"_findStaticTemplate",value:function(t){return this._templateField&&t(this._templateField)?this._templateField:d(c(i.prototype),"_findStaticTemplate",this).call(this,t)}},{key:"_walkParents",value:function(t){this._parent&&this._walkParent(t)}},{key:"_walkParent",value:function(t){this._parent&&this._parent._walkParent(t),t(this)}},{key:"parent",get:function(){return this._parent}},{key:"_setParent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._parent;t!==i&&(this.markDirtyBounds(),t.markDirty(),this._parent=t,e&&(this._removeParent(i),t&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}},{key:"getNumberFormatter",value:function(){return this.get("numberFormatter",this._root.numberFormatter)}},{key:"getDateFormatter",value:function(){return this.get("dateFormatter",this._root.dateFormatter)}},{key:"getDurationFormatter",value:function(){return this.get("durationFormatter",this._root.durationFormatter)}},{key:"toGlobal",value:function(t){return this._display.toGlobal(t)}},{key:"toLocal",value:function(t){return this._display.toLocal(t)}},{key:"_getDownPoint",value:function(){var t=this._getDownPointId();if(t)return this._downPoints[t]}},{key:"_getDownPointId",value:function(){if(this._downPoints)return Y(this._downPoints,(function(t,e){return t>e?1:t<e?-1:0}))[0]}},{key:"toFront",value:function(){var t=this.parent;t&&t.children.moveValue(this,t.children.length-1)}},{key:"toBack",value:function(){var t=this.parent;t&&t.children.moveValue(this,0)}}]),i}(ve);Object.defineProperty(Te,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(Te,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ve.classNames.concat([Te.className])});var De=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_display",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeGraphics()}),Object.defineProperty(g(t),"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeGraphics()}),Object.defineProperty(g(t),"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"_afterNew",value:function(){d(c(i.prototype),"_afterNewApplyThemes",this).call(this)}},{key:"pattern",get:function(){return this._pattern}},{key:"_draw",value:function(){}},{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("color")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fill")||this.isDirty("fillOpacity"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(d(c(i.prototype),"_changed",this).call(this),this._clear){var t=this.get("repetition",""),e=this.get("width",100),n=this.get("height",100),r=this.get("fill"),o=this.get("fillOpacity",1);this._display.clear(),this._backgroundDisplay.clear(),r&&o>0&&(this._backgroundDisplay.beginFill(r,o),this._backgroundDisplay.drawRect(0,0,e,n),this._backgroundDisplay.endFill()),this._display.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(this._display,this._backgroundDisplay,t,e,n)}}}]),i}(ve);Object.defineProperty(De,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(De,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ve.classNames.concat([De.className])});var Ne,Ie=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),this._clear=!0,this.isDirty("src")&&this._load()}},{key:"_draw",value:function(){d(c(i.prototype),"_draw",this).call(this);var t=this._image;if(t){var e=this.get("width",100),n=this.get("height",100),r=this.get("fit","image"),o=0,a=0;"pattern"==r?(o=e,a=n):(o=t.width,a=t.height,"image"==r&&(this.set("width",o),this.set("height",a)));var s=0,l=0;this.get("centered",!0)&&(s=e/2-o/2,l=n/2-a/2),this._display.image(t,o,a,s,l)}}},{key:"_load",value:function(){var t=this,e=this.get("src");if(e){var i=new Image;i.src=e,i.decode().then((function(){t._image=i,t._draw(),t.events.isEnabled("loaded")&&t.events.dispatch("loaded",{type:"loaded",target:t})})).catch((function(t){}))}}}]),i}(De);Object.defineProperty(Ie,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(Ie,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.classNames.concat([Ie.className])}),function(t){t.ADD="lighter",t.COLOR="color",t.COLOR_BURN="color-burn",t.COLOR_DODGE="color-dodge",t.DARKEN="darken",t.DIFFERENCE="difference",t.DST_OVER="destination-over",t.EXCLUSION="exclusion",t.HARD_LIGHT="hard-light",t.HUE="hue",t.LIGHTEN="lighten",t.LUMINOSITY="luminosity",t.MULTIPLY="multiply",t.NORMAL="source-over",t.OVERLAY="overlay",t.SATURATION="saturation",t.SCREEN="screen",t.SOFT_LIGHT="soft-light",t.SRC_ATOP="source-atop",t.XOR="xor"}(Ne||(Ne={}));var Ee=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"],Ae=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_display",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeGraphics()}),Object.defineProperty(g(t),"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return h(i,[{key:"_beforeChanged",value:function(){var t=this;if(d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){var e=this.get("fillGradient");if(e){this._display.isMeasured=!0;var n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",(function(){t._markDirtyKey("fill")}))),this._disposers.push(n.events.on("positionchanged",(function(){t._markDirtyKey("fill")}))))}}if(this.isDirty("strokeGradient")){var r=this.get("strokeGradient");if(r){this._display.isMeasured=!0;var o=r.get("target");o&&(this._disposers.push(o.events.on("boundschanged",(function(){t._markDirtyKey("stroke")}))),this._disposers.push(o.events.on("positionchanged",(function(){t._markDirtyKey("stroke")}))))}}}},{key:"_changed",value:function(){if(d(c(i.prototype),"_changed",this).call(this),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();var t=this.get("strokeDasharray");H(t)&&(t=t<.5?[0]:[t]),this._display.setLineDash(t);var e=this.get("strokeDashoffset");e&&this._display.setLineDashOffset(e);var n=this.get("blendMode",Ne.NORMAL);this._display.blendMode=n;var r=this.get("draw");r&&r(this._display,this);var o=this.get("svgPath");null!=o&&this._display.svgPath(o)}}},{key:"_afterChanged",value:function(){var t=this;if(d(c(i.prototype),"_afterChanged",this).call(this),this._clear){var e=this.get("fill"),n=this.get("fillGradient"),r=this.get("fillPattern"),o=this.get("fillOpacity"),a=this.get("stroke"),s=this.get("strokeGradient"),l=this.get("strokePattern"),u=this.get("shadowColor"),h=this.get("shadowBlur"),f=this.get("shadowOffsetX"),p=this.get("shadowOffsetY"),g=this.get("shadowOpacity");if(u&&(h||f||p)&&this._display.shadow(u,h,f,p,g),r){var m=!1;!e||r.get("fill")&&!r.get("fillInherited")||(r.set("fill",e),r.set("fillInherited",!0),m=!0),!a||r.get("color")&&!r.get("colorInherited")||(r.set("color",a),r.set("colorInherited",!0),m=!0),m&&r._changed();var v=r.pattern;v&&(this._display.beginFill(v,o),this._display.endFill(),r instanceof Ie&&r.events.once("loaded",(function(){t._clear=!0,t.markDirty()})))}else if(n){if(e){var y=n.get("stops",[]);y.length&&b(y,(function(t){t.color&&!t.colorInherited||!e||(t.color=e,t.colorInherited=!0),(null==t.opacity||t.opacityInherited)&&(t.opacity=o,t.opacityInherited=!0)}))}var x=n.getFill(this);x&&(this._display.beginFill(x,o),this._display.endFill())}else e&&(this._display.beginFill(e,o),this._display.endFill());if(a||s||l){var w=this.get("strokeOpacity"),k=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(k/=this.get("scale",1)),this.get("crisp")&&(k/=this._root._renderer.resolution);var _=this.get("lineJoin");if(l){var S=!1;!a||l.get("color")&&!l.get("colorInherited")||(l.set("color",a),l.set("colorInherited",!0),S=!0),S&&l._changed();var C=l.pattern;C&&(this._display.lineStyle(k,C,w,_),this._display.endStroke(),l instanceof Ie&&l.events.once("loaded",(function(){t._clear=!0,t.markDirty()})))}else if(s){var M=s.get("stops",[]);M.length&&b(M,(function(t){t.color&&!t.colorInherited||!a||(t.color=a,t.colorInherited=!0),(null==t.opacity||t.opacityInherited)&&(t.opacity=w,t.opacityInherited=!0)}));var P=s.getFill(this);P&&(this._display.lineStyle(k,P,w,_),this._display.endStroke())}else a&&(this._display.lineStyle(k,a,w,_),this._display.endStroke())}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}]),i}(Te);Object.defineProperty(Ae,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(Ae,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Te.classNames.concat([Ae.className])});var Oe=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){d(c(i.prototype),"_changed",this).call(this),this._clear&&!this.get("draw")&&this._draw()}},{key:"_draw",value:function(){this._display.drawRect(0,0,this.width(),this.height())}},{key:"_updateSize",value:function(){this.markDirty(),this._clear=!0}}]),i}(Ae);function Le(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}Object.defineProperty(Oe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(Oe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ae.classNames.concat([Oe.className])});var Re=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i)}(ve);Object.defineProperty(Re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(Re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ve.classNames.concat([Re.className])});var je=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"updateContainer",value:function(t){var e=t.get("paddingLeft",0),i=t.innerWidth(),n=0;Le(t,(function(t){if(t.isVisible()&&"relative"==t.get("position")){var e=t.get("width");if(e instanceof dt){n+=e.value;var r=i*e.value,o=t.get("minWidth",t.getPrivate("minWidth",-1/0));o>r&&(i-=o,n-=e.value);var a=t.get("maxWidth",t.getPrivate("maxWidth",1/0));r>a&&(i-=a,n-=e.value)}else H(e)||(e=t.width()),i-=e+t.get("marginLeft",0)+t.get("marginRight",0)}})),(i<=0||i==1/0)&&(i=.1),Le(t,(function(t){if(t.isVisible()&&"relative"==t.get("position")){var e=t.get("width");if(e instanceof dt){var r=i*e.value/n-t.get("marginLeft",0)-t.get("marginRight",0),o=t.get("minWidth",t.getPrivate("minWidth",-1/0)),a=t.get("maxWidth",t.getPrivate("maxWidth",1/0));r=Math.min(Math.max(o,r),a),t.setPrivate("width",r)}}}));var r=e;Le(t,(function(t){if("relative"==t.get("position"))if(t.isVisible()){var e=t.adjustedLocalBounds(),i=t.get("marginLeft",0),n=t.get("marginRight",0),o=t.get("maxWidth"),a=e.left,s=e.right;o&&s-a>o&&(s=a+o);var l=r+i-a;t.setPrivate("x",l),r=l+s+n}else t.setPrivate("x",void 0)}))}}]),i}(Re);Object.defineProperty(je,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(je,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([je.className])});var Be=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"updateContainer",value:function(t){var e=t.get("paddingTop",0),i=t.innerHeight(),n=0;Le(t,(function(t){if(t.isVisible()&&"relative"==t.get("position")){var e=t.get("height");if(e instanceof dt){n+=e.value;var r=i*e.value,o=t.get("minHeight",t.getPrivate("minHeight",-1/0));o>r&&(i-=o,n-=e.value);var a=t.get("maxHeight",t.getPrivate("maxHeight",1/0));r>a&&(i-=a,n-=e.value)}else H(e)||(e=t.height()),i-=e+t.get("marginTop",0)+t.get("marginBottom",0)}})),(i<=0||i==1/0)&&(i=.1),Le(t,(function(t){if(t.isVisible()&&"relative"==t.get("position")){var e=t.get("height");if(e instanceof dt){var r=i*e.value/n-t.get("marginTop",0)-t.get("marginBottom",0),o=t.get("minHeight",t.getPrivate("minHeight",-1/0)),a=t.get("maxHeight",t.getPrivate("maxHeight",1/0));r=Math.min(Math.max(o,r),a),t.setPrivate("height",r)}}}));var r=e;Le(t,(function(t){if("relative"==t.get("position"))if(t.isVisible()){var e=t.adjustedLocalBounds(),i=t.get("marginTop",0),n=e.top,o=e.bottom,a=t.get("maxHeight");a&&o-n>a&&(o=n+a);var s=t.get("marginBottom",0),l=r+i-n;t.setPrivate("y",l),r=l+o+s}else t.setPrivate("y",void 0)}))}}]),i}(Re);Object.defineProperty(Be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(Be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Be.className])});var Fe=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_afterNew",value:function(){this._setRawDefault("maxColumns",Number.MAX_VALUE),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"updateContainer",value:function(t){var e=t.get("paddingLeft",0),i=t.get("paddingRight",0),n=t.get("paddingTop",0),r=t.maxWidth()-e-i,o=r,a=1;Le(t,(function(t){if(t.get("visible")&&t.getPrivate("visible")&&!t.get("forceHidden")&&"absolute"!=t.get("position")){var e=t.width();e<o&&(o=e),e>a&&(a=e)}})),o=we(o,1,r),a=we(a,1,r);var s=1;s=this.get("fixedWidthGrid")?r/a:r/o,s=Math.max(1,Math.floor(s)),s=Math.min(this.get("maxColumns",Number.MAX_VALUE),s);var l=this.getColumnWidths(t,s,a,r),u=n,h=0,c=0;s=l.length;var d=e;Le(t,(function(t){if("relative"==t.get("position")&&t.isVisible()){var i=t.get("marginTop",0),n=t.get("marginBottom",0),r=t.adjustedLocalBounds(),o=t.get("marginLeft",0),a=t.get("marginRight",0),f=d+o-r.left,p=u+i-r.top;t.setPrivate("x",f),t.setPrivate("y",p),d+=l[h]+a,c=Math.max(c,t.height()+i+n),++h>=s&&(h=0,d=e,u+=c)}}))}},{key:"getColumnWidths",value:function(t,e,i,n){var r=this,o=0,a=[],s=0;return Le(t,(function(n){var o=n.adjustedLocalBounds();"absolute"!=n.get("position")&&n.isVisible()&&(r.get("fixedWidthGrid")?a[s]=i:a[s]=Math.max(0|a[s],o.right-o.left+n.get("marginLeft",0)+n.get("marginRight",0)),s<t.children.length-1&&++s==e&&(s=0))})),b(a,(function(t){o+=t})),o>n?e>2?(e-=1,this.getColumnWidths(t,e,i,n)):[n]:a}}]),i}(Re);Object.defineProperty(Fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(Fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Fe.className])});var ze=function(){function t(){a(this,t)}return h(t,null,[{key:"escape",value:function(t){return t.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}},{key:"unescape",value:function(t){return t.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}},{key:"cleanUp",value:function(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}},{key:"chunk",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];t=this.escape(t);for(var r=e?t.split("'"):[t],o=0;o<r.length;o++){var a=r[o];if(""!==a)if(o%2===0){a=a.replace(/\]\[/g,"]"+W+"["),a=a.replace(/\[\]/g,"[ ]");for(var s=a.split(/[\[\]]+/),l=0;l<s.length;l++){var u=this.cleanUp(this.unescape(s[l]));u!==W&&(""!==u&&(l%2===0?n.push({type:"value",text:u}):n.push({type:i?"value":"format",text:"["+u+"]"})))}}else for(var h=a.split(/[\[\]]+/),c=0;c<h.length;c++){var d=this.cleanUp(this.unescape(h[c]));""!==d&&(c%2===0?n.push({type:"text",text:d}):this.isImage(d)?n.push({type:"image",text:"["+d+"]"}):n.push({type:"format",text:"["+d+"]"}))}}return n}},{key:"isImage",value:function(t){return!!t.match(/img[ ]?:/)}},{key:"getTextStyle",value:function(t){var e={};if(""==t||"[ ]"==t)return{};var i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(var n=0;n<i.length;n++)t=t.replace(i[n],i[n].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var r=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!r)return{};for(var o=0;o<r.length;o++)if(r[o].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=r[o];else if(r[o].match(/^(underline|line-through)$/i))e.textDecoration=r[o];else if("/"==r[o]);else if(r[o].match(/:/)){var a=r[o].replace("+"," ").split(/:[ ]*/);e[a[0]]=a[1]}else e.fill=te.fromString(r[o]);return e}}]),t}();function He(t,e){if(null!=e){e=""+e;var i,n=(e=ze.escape(e)).match(/\{([^}]+)\}/g);if(n)for(i=0;i<n.length;i++){var r=Ve(t,n[i].replace(/\{([^}]+)\}/,"$1"),"");null==r&&(r=""),e=e.split(n[i]).join(r)}e=ze.unescape(e)}else e="";return e}function Ve(t,e,i){for(var n,r,o=t.dataItem,a=[],s=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g;null!==(r=s.exec(e));)if(r[3]){a.push({prop:r[3]});var l=t.getDateFormatter().get("dateFields",[]),u=t.getNumberFormatter().get("numericFields",[]),h=t.getDurationFormatter().get("durationFields",[]);-1!==l.indexOf(r[3])?a.push({method:"formatDate",params:[]}):-1!==u.indexOf(r[3])?a.push({method:"formatNumber",params:[]}):-1!==h.indexOf(r[3])&&a.push({method:"formatDuration",params:[]})}else{var c=[];if(""!=Rt(r[2]))for(var d=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,f=void 0;null!==(f=d.exec(r[2]));)c.push(f[1]||f[2]||f[3]);a.push({method:r[1],params:c})}if(o){(null==(n=Ue(t,a,o._settings))||V(n))&&(n=Ue(t,a,o));var p=o.dataContext;null==n&&p&&(null==(n=Ue(t,a,p))&&(n=Ue(t,[{prop:e}],p)),null==n&&p.dataContext&&(n=Ue(t,a,p.dataContext))),null==n&&o.component&&o.component.dataItem!==o&&(n=Ve(o.component,e,i))}return null==n&&(n=Ue(t,a,t)),null==n&&t.parent&&(n=Ve(t.parent,e,i)),n}function We(t,e){var i=t.getPrivate("customData");if(V(i))return i[e]}function Ue(t,e,i,n){for(var r=i,o=!1,a=0,s=e.length;a<s;a++){var l=e[a];if(l.prop){if(r instanceof Te){var u=r.get(l.prop);null==u&&(u=r.getPrivate(l.prop)),null==u&&(u=We(r,l.prop)),null==u&&(u=r[l.prop]),r=u}else if(r.get){var h=r.get(l.prop);null==h&&(h=r[l.prop]),r=h}else r=r[l.prop];if(null==r)return}else switch(l.method){case"formatNumber":var c=R(r);null!=c&&(r=t.getNumberFormatter().format(c,n||l.params[0]||void 0),o=!0);break;case"formatDate":var d=j(r);if(!F(d)||L(d.getTime()))return;null!=d&&(r=t.getDateFormatter().format(d,n||l.params[0]||void 0),o=!0);break;case"formatDuration":var f=R(r);null!=f&&(r=t.getDurationFormatter().format(f,n||l.params[0]||void 0,l.params[1]||void 0),o=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[l.method]&&r[l.method].apply(i,l.params)}}if(!o){var p=[{method:"",params:n}];if(null==n)H(r)?(p[0].method="formatNumber",p[0].params=""):F(r)&&(p[0].method="formatDate",p[0].params="");else{var g=function(t){if("undefined"===typeof t)return"string";var e=(t=(t=(t=t.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return e?e[1]:"number"===t?"number":"date"===t?"date":"duration"===t?"duration":t.match(/[#0]/)?"number":t.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(n);"number"===g?p[0].method="formatNumber":"date"===g?p[0].method="formatDate":"duration"===g&&(p[0].method="formatDuration")}p[0].method&&(r=Ue(t,p,r))}return r}Object.defineProperty(ze,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});var Ge=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_display",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeContainer()}),Object.defineProperty(g(t),"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeContainer()}),Object.defineProperty(g(t),"children",{enumerable:!0,configurable:!0,writable:!0,value:new ct(g(t))}),Object.defineProperty(g(t),"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"_afterNew",value:function(){d(c(i.prototype),"_afterNew",this).call(this),this._display.addChild(this._childrenDisplay)}},{key:"_dispose",value:function(){x(this.allChildren(),(function(t){t.dispose()})),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),d(c(i.prototype),"_dispose",this).call(this)}},{key:"_changed",value:function(){if(d(c(i.prototype),"_changed",this).call(this),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each((function(t){t.removePrivate("x"),t.removePrivate("y")}))),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each((function(t){t.markDirtyPosition()})),this.isDirty("maskContent")){var t=this._childrenDisplay,e=this._contentMask;this.get("maskContent")?e||(e=Oe.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=e,t.addChildAt(e._display,0),t.mask=e._display):e&&(t.removeChild(e._display),t.mask=null,e.dispose(),this._contentMask=void 0)}}},{key:"_updateSize",value:function(){d(c(i.prototype),"_updateSize",this).call(this),b(this._percentageSizeChildren,(function(t){t._updateSize()})),b(this._percentagePositionChildren,(function(t){t.markDirtyPosition(),t._updateSize()})),this.updateBackground()}},{key:"updateBackground",value:function(){var t=this.get("background"),e=this._localBounds;if(e&&!this.isHidden()){var i=e.left,n=e.top,r=e.right-i,o=e.bottom-n,a=this.get("maxWidth"),s=this.get("maxHeight");s&&o>s&&(o=s),a&&r>a&&(r=a);var l=this.width(),u=this.height();t&&(t.setAll({width:r,height:o,x:i,y:n}),this._display.interactive&&(t._display.interactive=!0));var h=this._contentMask;h&&h.setAll({width:l+1,height:u+1});var c=this.get("verticalScrollbar");if(c){c.set("height",u),c.set("x",l-c.width()-c.get("marginRight",0)),c.set("end",c.get("start",0)+u/this._contentHeight);var d=c.get("background");d&&d.setAll({width:c.width(),height:u});var f=!0;this._contentHeight<=u&&(f=!1),c.setPrivate("visible",f)}}}},{key:"_applyThemes",value:function(){return!!d(c(i.prototype),"_applyThemes",this).call(this)&&(this.eachChildren((function(t){t._applyThemes()})),!0)}},{key:"_applyState",value:function(t){d(c(i.prototype),"_applyState",this).call(this,t),this.get("setStateOnChildren")&&this.eachChildren((function(e){e.states.apply(t)}))}},{key:"_applyStateAnimated",value:function(t,e){d(c(i.prototype),"_applyStateAnimated",this).call(this,t,e),this.get("setStateOnChildren")&&this.eachChildren((function(i){i.states.applyAnimate(t,e)}))}},{key:"innerWidth",value:function(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}},{key:"innerHeight",value:function(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}},{key:"_getBounds",value:function(){var t=this.get("width"),e=this.get("height"),i=this.getPrivate("width"),n=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},o=this.get("layout"),a=!1,s=!1;if((o instanceof je||o instanceof Fe)&&(a=!0),o instanceof Be&&(s=!0),null==t&&null==i||null==e&&null==n||this.get("verticalScrollbar")){var l=Number.MAX_VALUE,u=l,h=-l,c=l,d=-l,f=this.get("paddingLeft",0),p=this.get("paddingTop",0),g=this.get("paddingRight",0),m=this.get("paddingBottom",0);this.children.each((function(t){if("absolute"!=t.get("position")&&t.get("isMeasured")){var e=t.adjustedLocalBounds(),i=t.x(),n=t.y(),r=i+e.left,o=i+e.right,l=n+e.top,f=n+e.bottom;a&&(r-=t.get("marginLeft",0),o+=t.get("marginRight",0)),s&&(l-=t.get("marginTop",0),f+=t.get("marginBottom",0)),r<u&&(u=r),o>h&&(h=o),l<c&&(c=l),f>d&&(d=f)}})),u==l&&(u=0),h==-l&&(h=0),c==l&&(c=0),d==-l&&(d=0),r.left=u-f,r.top=c-p,r.right=h+g,r.bottom=d+m}else;this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,H(t)&&(r.left=0,r.right=t),H(i)&&(r.left=0,r.right=i),H(e)&&(r.top=0,r.bottom=e),H(n)&&(r.top=0,r.bottom=n),this._localBounds=r}},{key:"_updateBounds",value:function(){var t=this.get("layout");t&&t.updateContainer(this),d(c(i.prototype),"_updateBounds",this).call(this),this.updateBackground()}},{key:"markDirty",value:function(){d(c(i.prototype),"markDirty",this).call(this),this._root._addDirtyParent(this)}},{key:"_prepareChildren",value:function(){var t=this.innerWidth(),e=this.innerHeight();if(t!=this._prevWidth||e!=this._prevHeight){var i=this.get("layout"),n=!1,r=!1;i&&((i instanceof je||i instanceof Fe)&&(n=!0),i instanceof Be&&(r=!0)),b(this._percentageSizeChildren,(function(i){if(!n){var o=i.get("width");o instanceof dt&&i.setPrivate("width",o.value*t)}if(!r){var a=i.get("height");a instanceof dt&&i.setPrivate("height",a.value*e)}})),b(this._percentagePositionChildren,(function(t){t.markDirtyPosition(),t.markDirtyBounds()})),this._prevWidth=t,this._prevHeight=e,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}},{key:"_updateChildren",value:function(){var t=this;if(this.isDirty("html")){var e=this.get("html");e&&""!==e?this._root._setHTMLContent(this,He(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){var i=this.get("verticalScrollbar");if(i){i._setParent(this),i.startGrip.setPrivate("visible",!1),i.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",i.width()+i.get("marginRight",0)+i.get("marginLeft",0));var n=this.get("background");n||(n=this.set("background",Oe.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",(function(e){var n=e.originalEvent;if(function(t,e){return t.target&&function(t,e){for(var i=e;;){if(t===i)return!0;if(null===i.parentNode){if(null==i.host)return!1;i=i.host}else i=i.parentNode}}(e.root.dom,t.target)}(n,t)){n.preventDefault();var r=n.deltaY/5e3,o=i.get("start",0),a=i.get("end",1);o+r<=0&&(r=-o),a+r>=1&&(r=1-a),o+r>=0&&a+r<=1&&(i.set("start",o+r),i.set("end",a+r))}})),this._disposers.push(this._vsbd0),this._vsbd1=i.events.on("rangechanged",(function(){var e=t._contentHeight,n=t._childrenDisplay,r=t._contentMask;n.y=-i.get("start")*e,n.markDirtyLayer(),r&&(r._display.y=-n.y,n.mask=r._display)})),this._disposers.push(this._vsbd1),this._display.addChild(i._display)}else{var r=this._prevSettings.verticalScrollbar;if(r)this._display.removeChild(r._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose(),this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}if(this.isDirty("background")){var o=this._prevSettings.background;o&&this._display.removeChild(o._display);var a=this.get("background");a instanceof Te&&(a.set("isMeasured",!1),a._setParent(this),this._display.addChildAt(a._display,0))}if(this.isDirty("mask")){var s=this.get("mask"),l=this._prevSettings.mask;if(l&&(this._display.removeChild(l._display),l!=s&&l.dispose()),s){var u=s.parent;u&&u.children.removeValue(s),s._setParent(this),this._display.addChildAt(s._display,0),this._childrenDisplay.mask=s._display}}}},{key:"_processTemplateField",value:function(){d(c(i.prototype),"_processTemplateField",this).call(this),this.children.each((function(t){t._processTemplateField()}))}},{key:"walkChildren",value:function(t){this.children.each((function(e){e instanceof i&&e.walkChildren(t),t(e)}))}},{key:"eachChildren",value:function(t){var e=this.get("background");e&&t(e);var i=this.get("verticalScrollbar");i&&t(i);var n=this.get("mask");n&&t(n),this.children.values.forEach((function(e){t(e)}))}},{key:"allChildren",value:function(){var t=[];return this.eachChildren((function(e){t.push(e)})),t}},{key:"_setDataItem",value:function(t){var e=t!==this._dataItem;d(c(i.prototype),"_setDataItem",this).call(this,t);var n=this.get("html","");n&&""!==n&&e&&this._root._setHTMLContent(this,He(this,n))}}]),i}(Te);Object.defineProperty(Ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(Ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Te.classNames.concat([Ge.className])});var Ke=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeTextStyle()}),Object.defineProperty(g(t),"_display",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeText("",t.textStyle)}),Object.defineProperty(g(t),"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(g(t),"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"_updateBounds",value:function(){if(this.get("text"))d(c(i.prototype),"_updateBounds",this).call(this);else{this._adjustedLocalBounds={left:0,right:0,top:0,bottom:0}}}},{key:"_changed",value:function(){var t=this;d(c(i.prototype),"_changed",this).call(this),this._display.clear();var e=this.textStyle;if(this.isDirty("opacity")){var n=this.get("opacity",1);this._display.alpha=n}((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement"))&&(this.getPrivate("tooltipElement")&&this._disposers.push(new I((function(){t._root._removeTooltipElement(t)}))));if(this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){var r=this.get("fill");r&&(e.fill=r)}if(this.isDirty("fillOpacity")){var o=this.get("fillOpacity",1);o&&(e.fillOpacity=o)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),b(this._textStyles,(function(i){t._dirty[i]&&(e[i]=t.get(i),t.markDirtyBounds())})),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}},{key:"_getText",value:function(){var t=this.get("text","");return this.get("populateText")?He(this,t):t}},{key:"markDirtyText",value:function(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}},{key:"_setDataItem",value:function(t){d(c(i.prototype),"_setDataItem",this).call(this,t),this.get("populateText")&&this.markDirtyText()}},{key:"getNumberFormatter",value:function(){return this.parent?this.parent.getNumberFormatter():d(c(i.prototype),"getNumberFormatter",this).call(this)}},{key:"getDateFormatter",value:function(){return this.parent?this.parent.getDateFormatter():d(c(i.prototype),"getDateFormatter",this).call(this)}},{key:"getDurationFormatter",value:function(){return this.parent?this.parent.getDurationFormatter():d(c(i.prototype),"getDurationFormatter",this).call(this)}}]),i}(Te);Object.defineProperty(Ke,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(Ke,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Te.classNames.concat([Ke.className])});var Ye=function(){function t(){var e=this;a(this,t),Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver((function(t){b(t,(function(t){b(e._targets,(function(e){e.target===t.target&&e.callback()}))}))}))}return h(t,[{key:"addTarget",value:function(t,e){this._observer.observe(t,{box:"border-box"}),this._targets.push({target:t,callback:e})}},{key:"removeTarget",value:function(t){this._observer.unobserve(t),D(this._targets,(function(e){return e.target!==t}))}}]),t}(),Xe=function(){function t(){a(this,t),Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return h(t,[{key:"addTarget",value:function(e,i){var n=this;if(null===this._timer){var r=null;this._timer=requestAnimationFrame((function e(){var i=Date.now();(null===r||i>r+t.delay)&&(r=i,b(n._targets,(function(t){var e=t.target.getBoundingClientRect();e.width===t.size.width&&e.height===t.size.height||(t.size=e,t.callback())}))),0===n._targets.length?n._timer=null:n._timer=requestAnimationFrame(e)}))}this._targets.push({target:e,callback:i,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}},{key:"removeTarget",value:function(t){D(this._targets,(function(e){return e.target!==t})),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}]),t}();Object.defineProperty(Xe,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});var qe=null;var Ze=function(){function t(e,i){a(this,t),Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=(null===qe&&(qe="undefined"!==typeof ResizeObserver?new Ye:new Xe),qe),this._element=e,this._listener=Ct(i),this._sensor.addTarget(e,i)}return h(t,[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}},{key:"sensor",get:function(){return this._sensor}}]),t}(),Je=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i)}(ve);Object.defineProperty(Je,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(Je,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ve.classNames.concat([Je.className])});var Qe=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]}),t}return h(i,[{key:"text",get:function(){return this._text}},{key:"_afterNew",value:function(){var t=this;d(c(i.prototype),"_afterNew",this).call(this),this._makeText(),b(this._textKeys,(function(e){var i=t.get(e);void 0!=i&&t._text.set(e,i)})),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",(function(){t._setMaxDimentions()})),this.onPrivate("maxHeight",(function(){t._setMaxDimentions()}))}},{key:"_makeText",value:function(){this._text=this.children.push(Ke.new(this._root,{}))}},{key:"_updateChildren",value:function(){var t=this;if(d(c(i.prototype),"_updateChildren",this).call(this),b(this._textKeys,(function(e){t._text.set(e,t.get(e))})),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){var e,n=this.get("textAlign");null!=this.get("width")?e="right"==n?pt:"center"==n?gt:0:"left"==n||"start"==n?e=this.get("paddingLeft"):"right"!=n&&"end"!=n||(e=-this.get("paddingRight")),this.text.set("x",e)}}},{key:"_setMaxDimentions",value:function(){var t=this.get("rotation"),e=90==t||270==t||-90==t,i=this.get("maxWidth",this.getPrivate("maxWidth",1/0));H(i)?this.text.set(e?"maxHeight":"maxWidth",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(e?"maxHeight":"maxWidth",void 0);var n=this.get("maxHeight",this.getPrivate("maxHeight",1/0));H(n)?this.text.set(e?"maxWidth":"maxHeight",n-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(e?"maxWidth":"maxHeight",void 0)}},{key:"_setDataItem",value:function(t){d(c(i.prototype),"_setDataItem",this).call(this,t),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}},{key:"getText",value:function(){return this._text._getText()}}]),i}(Ge);Object.defineProperty(Qe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(Qe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([Qe.className])});var $e=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(d(c(i.prototype),"_changed",this).call(this),this._clear){this.markDirtyBounds();var t=this.width(),e=this.height();if(t>0&&e>0){var n=this.get("cornerRadius",8);n=we(n,0,Math.min(t/2,e/2));var r=this.get("pointerX",0),o=this.get("pointerY",0),a=this.get("pointerBaseWidth",15)/2,s=(r-0)*(e-0)-(o-0)*(t-0),l=(r-0)*(0-e)-(o-e)*(t-0),u=this._display;if(u.moveTo(n,0),s>0&&l>0){var h=Math.round(we(r,n+a,t-a-n));o=we(o,-1/0,0),u.lineTo(h-a,0),u.lineTo(r,o),u.lineTo(h+a,0)}if(u.lineTo(t-n,0),u.arcTo(t,0,t,n,n),s>0&&l<0){var f=Math.round(we(o,n+a,e-a-n));r=we(r,t,1/0),u.lineTo(t,n),u.lineTo(t,Math.max(f-a,n)),u.lineTo(r,o),u.lineTo(t,f+a)}if(u.lineTo(t,e-n),u.arcTo(t,e,t-n,e,n),s<0&&l<0){var p=Math.round(we(r,n+a,t-a-n));o=we(o,e,1/0),u.lineTo(t-n,e),u.lineTo(p+a,e),u.lineTo(r,o),u.lineTo(p-a,e)}if(u.lineTo(n,e),u.arcTo(0,e,0,e-n,n),s<0&&l>0){var g=Math.round(we(o,n+a,e-n-a));r=we(r,-1/0,0),u.lineTo(0,e-n),u.lineTo(0,g+a),u.lineTo(r,o),u.lineTo(0,Math.max(g-a,n))}u.lineTo(0,n),u.arcTo(0,0,n,0,n),u.closePath()}}}}]),i}(Ae);Object.defineProperty($e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty($e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ae.classNames.concat([$e.className])});var ti=function(t){p(i,t);var e=m(i);function i(t,n,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return a(this,i),o=e.call(this,t,n,r,s),Object.defineProperty(g(o),"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(o),"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(o),"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(o),"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(o),"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1}),o}return h(i,[{key:"_afterNew",value:function(){var t=this;this._settings.themeTags=Jt(this._settings.themeTags,["tooltip"]),d(c(i.prototype),"_afterNew",this).call(this),this.set("background",$e.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(Qe.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",(function(){t._updateBackground()}))),this._disposers.push(this.on("bounds",(function(){t._updateBackground()}))),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",(function(e){e&&(St(e,"pointerover",(function(e){t._htmlContentHovered=!0})),St(e,"pointerout",(function(e){t._htmlContentHovered=!1})))}))),this._root._tooltips.push(this)}},{key:"label",get:function(){return this._label}},{key:"dispose",value:function(){d(c(i.prototype),"dispose",this).call(this),k(this._root._tooltips,this)}},{key:"_updateChildren",value:function(){d(c(i.prototype),"_updateChildren",this).call(this),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML"))}},{key:"_changed",value:function(){var t=this;if(d(c(i.prototype),"_changed",this).call(this),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){var e=this.get("background");this._keepHoverDp=new A([e.events.on("pointerover",(function(e){var i=t.get("tooltipTarget");i&&(i.parent&&i.parent.getPrivate("tooltipTarget")==i&&(i=i.parent),i.hover())})),e.events.on("pointerout",(function(e){var i=t.get("tooltipTarget");i&&(i.parent&&i.parent.getPrivate("tooltipTarget")==i&&(i=i.parent),t._htmlContentHovered||i.unhover())}))]),this.label.onPrivate("htmlElement",(function(i){t._keepHoverDp&&i&&t._keepHoverDp.disposers.push(St(i,"pointerleave",(function(i){var n=t.root._renderer.getEvent(i);e.events.dispatch("pointerout",{type:"pointerout",originalEvent:n.event,point:n.point,simulated:!1,target:e})})))}))}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}},{key:"_onShow",value:function(){d(c(i.prototype),"_onShow",this).call(this),this.updateBackgroundColor()}},{key:"updateBackgroundColor",value:function(){var t,e,i=this,n=this.get("tooltipTarget"),r=this.get("background");n&&r&&(t=n.get("fill"),e=n.get("stroke"),null==t&&(t=e),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=t&&r.set("fill",t),this._fillDp=n.on("fill",(function(t){null!=t&&(r.set("fill",t),i._updateTextColor(t))})),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=t&&r.set("stroke",t),this._strokeDp=n.on("fill",(function(t){null!=t&&r.set("stroke",t)})),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=t&&this.label.set("fill",t),this._labelDp=n.on("fill",(function(t){null!=t&&i.label.set("fill",t)})),this._disposers.push(this._labelDp))),this._updateTextColor(t)}},{key:"_updateTextColor",value:function(t){this.get("autoTextColor")&&(null==t&&(t=this.get("background").get("fill")),null==t&&(t=this._root.interfaceColors.get("background")),t instanceof te&&this.label.set("fill",te.alternative(t,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}},{key:"_setDataItem",value:function(t){d(c(i.prototype),"_setDataItem",this).call(this,t),this.label._setDataItem(t)}},{key:"_updateBackground",value:function(){d(c(i.prototype),"updateBackground",this).call(this);var t=this._root.container;if(t){var e=.5,n=.5,r=this.get("centerX");r instanceof dt&&(e=r.value);var o=this.get("centerY");o instanceof dt&&(n=o.value);var a=t.width(),s=t.height(),l=this.parent,u=0,h=0;if(l){u=l.x(),h=l.y();var f=l.get("layerMargin");f&&(u+=f.left||0,h+=f.top||0,a+=(f.left||0)+(f.right||0),s+=(f.top||0)+(f.bottom||0))}var p=this.get("bounds",{left:-u,top:-h,right:a-u,bottom:s-h});this._updateBounds();var g=this.width(),m=this.height();0===g&&(g=this._w),0===m&&(m=this._h);var v=this.get("pointTo",{x:a/2,y:s/2}),y=v.x,b=v.y,x=this.get("pointerOrientation"),w=this.get("background"),k=0,_=0,S=0;w instanceof $e&&(k=w.get("pointerLength",0),S=_=w.get("strokeWidth",0)/2,w.set("width",g),w.set("height",m));var C,M,P=p.right-p.left,T=p.bottom-p.top;"horizontal"==x||"left"==x||"right"==x?(_=0,"horizontal"==x?y>p.left+P/2?(y-=g*(1-e)+k,S*=-1):y+=g*e+k:"left"==x?y+=g*(1-e)+k:(y-=g*e+k,S*=-1)):(S=0,"vertical"==x?b>p.top+m/2+k?b-=m*(1-n)+k:(b+=m*n+k,_*=-1):"down"==x?b-=m*(1-n)+k:(b+=m*n+k,_*=-1)),y=we(y,p.left+g*e,p.left+P-g*(1-e))+S,b=we(b,p.top+m*n,p.top+T-m*(1-n))-_,C=v.x-y+g*e+S,M=v.y-b+m*n-_,this._fx=y,this._fy=b;var D=this.get("animationDuration",0);if(D>0&&this.get("visible")&&this.get("opacity")>.1){var N=this.get("animationEasing");this.animate({key:"x",to:y,duration:D,easing:N}),this.animate({key:"y",to:b,duration:D,easing:N})}else this.set("x",y),this.set("y",b);w instanceof $e&&(w.set("pointerX",C),w.set("pointerY",M)),g>0&&(this._w=g),m>0&&(this._h=m)}}}]),i}(Ge);Object.defineProperty(ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([ti.className])});var ei=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_setDefaults",value:function(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);var t="_big_number_suffix_",e="_small_number_suffix_",n="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(t+"3")},{number:1e6,suffix:this._t(t+"6")},{number:1e9,suffix:this._t(t+"9")},{number:1e12,suffix:this._t(t+"12")},{number:1e15,suffix:this._t(t+"15")},{number:1e18,suffix:this._t(t+"18")},{number:1e21,suffix:this._t(t+"21")},{number:1e24,suffix:this._t(t+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(e+"24")},{number:1e-21,suffix:this._t(e+"21")},{number:1e-18,suffix:this._t(e+"18")},{number:1e-15,suffix:this._t(e+"15")},{number:1e-12,suffix:this._t(e+"12")},{number:1e-9,suffix:this._t(e+"9")},{number:1e-6,suffix:this._t(e+"6")},{number:.001,suffix:this._t(e+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(n+"B")},{number:1024,suffix:this._t(n+"KB")},{number:1048576,suffix:this._t(n+"MB")},{number:1073741824,suffix:this._t(n+"GB")},{number:1099511627776,suffix:this._t(n+"TB")},{number:0x4000000000000,suffix:this._t(n+"PB")}]),d(c(i.prototype),"_setDefaults",this).call(this)}},{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this)}},{key:"format",value:function(t,e,i){var n;(null==e||z(e)&&"number"===e.toLowerCase())&&(e=this.get("numberFormat",""));var r,o=Number(t);if(V(e))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),e).format(o):new Intl.NumberFormat(void 0,e).format(o)}catch(l){return"Invalid"}else{e=jt(e);var a,s=this.parseFormat(e,this._root.language);a=o>this.get("negativeBase")?s.positive:o<this.get("negativeBase")?s.negative:s.zero,null==i||a.mod||(r=a,(a=Object.assign({},r)).decimals.active=0==o?0:i),n=a.template.split(W).join(this.applyFormat(o,a))}return!0===this.get("forceLTR")&&(n="\u200e"+n),n}},{key:"parseFormat",value:function(t,e){var i=this,n=e.translateEmpty("_thousandSeparator"),r=e.translateEmpty("_decimalSeparator"),o={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:n},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:n},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:n},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1}},a=(t=t.replace("||",U)).split("|");return o.positive.source=a[0],"undefined"===typeof a[2]?o.zero=o.positive:o.zero.source=a[2],"undefined"===typeof a[1]?o.negative=o.positive:o.negative.source=a[1],X(o,(function(t,e){if(!e.parsed){var n=e.source;"number"===n.toLowerCase()&&(n=i.get("numberFormat","#,###.#####"));for(var r=ze.chunk(n,!0),o=0;o<r.length;o++){var a=r[o];if(a.text=a.text.replace(U,"|"),"value"===a.type){var s=a.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP\u2030!]?/);if(s)if(null===s||""===s[0])e.template+=a.text;else{var l=s[0].match(/[abespABESP%\u2030!]{2}|[abespABESP%\u2030]{1}$/);l&&(e.mod=l[0].toLowerCase(),e.modSpacing=!!s[0].match(/[ ]{1}[abespABESP%\u2030!]{1}$/));var u=s[0].split(".");if(""===u[0]);else{e.thousands.active=(u[0].match(/0/g)||[]).length,e.thousands.passive=(u[0].match(/\#/g)||[]).length+e.thousands.active;var h=u[0].split(",");1===h.length||(e.thousands.interval=(h.pop()||"").length,0===e.thousands.interval&&(e.thousands.interval=-1))}"undefined"===typeof u[1]||(e.decimals.active=(u[1].match(/0/g)||[]).length,e.decimals.passive=(u[1].match(/\#/g)||[]).length+e.decimals.active),e.template+=a.text.split(s[0]).join(W)}}else e.template+=a.text}e.parsed=!0}})),o}},{key:"applyFormat",value:function(t,e){var i=t<0;t=Math.abs(t);var n,r="",o="",a=e.mod?e.mod.split(""):[];if(-1!==a.indexOf("b")){var s=this.applyPrefix(t,this.get("bytePrefixes"),-1!==a.indexOf("!"));t=s[0],r=s[1],o=s[2],e.modSpacing&&(o=" "+o)}else if(-1!==a.indexOf("a")){var l=this.applyPrefix(t,t<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==a.indexOf("!"));t=l[0],r=l[1],o=l[2],e.modSpacing&&(o=" "+o)}else if(-1!==a.indexOf("p")){var u=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(u)),r=this._root.language.translate("_percentPrefix"),o=this._root.language.translate("_percentSuffix"),""==r&&""==o&&(o="%")}else if(-1!==a.indexOf("%")){var h=Math.min(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(h)),o="%"}else if(-1!==a.indexOf("\u2030")){var c=Math.min(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(c)),o="\u2030"}if(-1!==a.indexOf("e"))n=e.decimals.passive>=0?t.toExponential(e.decimals.passive).split("e"):t.toExponential().split("e"),t=Number(n[0]),o="e"+n[1],e.modSpacing&&(o=" "+o);else if(0===e.decimals.passive)t=Math.round(t);else if(e.decimals.passive>0){var d=Math.pow(10,e.decimals.passive);t=Math.round(t*d)/d}var f="",p=function(t){if(L(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(0===t&&1/t===-1/0)return"-0";var e=t<0;t=Math.abs(t);var i,n=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),r=n[1],o=n[2]||"";if(void 0===n[3])i=""===o?r:r+"."+o;else{var a=+n[3];if(t<1)i="0."+B("0",a-1)+r+o;else{var s=a-o.length;i=0===s?r+o:s<0?r+o.slice(0,s)+"."+o.slice(s):r+o+B("0",s)}}return e?"-"+i:i}(t).split("."),g=p[0];if(g.length<e.thousands.active&&(g=Array(e.thousands.active-g.length+1).join("0")+g),e.thousands.interval>0){for(var m=[],v=g.split("").reverse().join(""),y=0,b=g.length;y<=b;y+=e.thousands.interval){var x=v.substr(y,e.thousands.interval).split("").reverse().join("");""!==x&&m.unshift(x)}g=m.join(e.thousands.separator)}f+=g,1===p.length&&p.push("");var w=p[1];return w.length<e.decimals.active&&(w+=Array(e.decimals.active-w.length+1).join("0")),""!==w&&(f+=e.decimals.separator+w),""===f&&(f="0"),0!==t&&i&&-1===a.indexOf("s")&&(f="-"+f),r&&(f=r+f),o&&(f+=o),f}},{key:"applyPrefix",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t,r="",o="",a=!1,s=1,l=0,u=e.length;l<u;l++)e[l].number<=t&&(0===e[l].number?n=0:(n=t/e[l].number,s=e[l].number),r=e[l].prefix,o=e[l].suffix,a=!0);return!a&&i&&e.length&&0!=t&&(n=t/e[0].number,r=e[0].prefix,o=e[0].suffix,a=!0),a&&(n=parseFloat(n.toPrecision(Math.min(s.toString().length+Math.floor(n).toString().replace(/[^0-9]*/g,"").length,21)))),[n,r,o]}},{key:"escape",value:function(t){return t.replace("||",U)}},{key:"unescape",value:function(t){return t.replace(U,"|")}}]),i}(ve);function ii(t,e){var i=0,n=0,r=1,o=0,a=0,s=0,l=0,u=0;return t.formatToParts(e).forEach((function(t){switch(t.type){case"year":i=+t.value;break;case"month":n=+t.value-1;break;case"day":r=+t.value;break;case"hour":o=+t.value;break;case"minute":a=+t.value;break;case"second":s=+t.value;break;case"fractionalSecond":l=+t.value;break;case"weekday":switch(t.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6}}})),24===o&&(o=0),{year:i,month:n,day:r,hour:o,minute:a,second:s,millisecond:l,weekday:u}}function ni(t,e){var i=ii(t,e),n=i.year,r=i.month,o=i.day,a=i.hour,s=i.minute,l=i.second,u=i.millisecond;return Date.UTC(n,r,o,a,s,l,u)}var ri=function(){function t(e,i){if(a(this,t),Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}return h(t,[{key:"convertLocal",value:function(t){var e=this.offsetUTC(t),i=t.getTimezoneOffset(),n=new Date(t);n.setUTCMinutes(n.getUTCMinutes()-(e-i));var r=n.getTimezoneOffset();return i!=r&&n.setUTCMinutes(n.getUTCMinutes()+r-i),n}},{key:"offsetUTC",value:function(t){return(ni(this._utc,t)-ni(this._dtf,t))/6e4}},{key:"parseDate",value:function(t){return ii(this._dtf,t)}}],[{key:"new",value:function(t){return new this(t,!0)}}]),t}(),oi=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_setDefaults",value:function(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),d(c(i.prototype),"_setDefaults",this).call(this)}},{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this)}},{key:"format",value:function(t,e){var i;"undefined"!==typeof e&&""!==e||(e=this.get("dateFormat","yyyy-MM-dd"));var n=t;if(V(e))try{var r=this.get("intlLocales");return r?new Intl.DateTimeFormat(r,e).format(n):new Intl.DateTimeFormat(void 0,e).format(n)}catch(s){return"Invalid"}var o=this.parseFormat(e),a=this._root.timezone;return a&&!this._root.utc&&(n=a.convertLocal(n)),H(n.getTime())?(i=this.applyFormat(n,o),this.get("capitalize")&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase())),i):"Invalid date"}},{key:"applyFormat",value:function(t,e){var i,n,r,o,a,s,l,u,h=e.template,c=t.getTime();this._root.utc?(i=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),o=t.getUTCDate(),a=t.getUTCHours(),s=t.getUTCMinutes(),l=t.getUTCSeconds(),u=t.getUTCMilliseconds()):(i=t.getFullYear(),n=t.getMonth(),r=t.getDay(),o=t.getDate(),a=t.getHours(),s=t.getMinutes(),l=t.getSeconds(),u=t.getMilliseconds());for(var d=0,f=e.parts.length;d<f;d++){var p="";switch(e.parts[d]){case"G":p=this._t(i<0?"_era_bc":"_era_ad");break;case"yyyy":p=Math.abs(i).toString(),i<0&&(p+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":p=Math.abs(i).toString().substr(-e.parts[d].length),i<0&&(p+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var g=Vt(t,this._root.utc);p="YYYY"==e.parts[d]?Math.abs(g).toString():Math.abs(g).toString().substr(-e.parts[d].length),g<0&&(p+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":p=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":p=this._t(this._getMonth(n)).substr(0,1);break;case"MMMM":p=this._t(this._getMonth(n));break;case"MMM":p=this._t(this._getShortMonth(n));break;case"MM":p=Lt(n+1,2,"0");break;case"M":p=(n+1).toString();break;case"ww":p=Lt(Ht(t,this._root.utc),2,"0");break;case"w":p=Ht(t,this._root.utc).toString();break;case"W":p=Wt(t,this._root.utc).toString();break;case"dd":p=Lt(o,2,"0");break;case"d":p=o.toString();break;case"DD":case"DDD":p=Lt(zt(t,this._root.utc).toString(),e.parts[d].length,"0");break;case"D":p=zt(t,this._root.utc).toString();break;case"t":p=this._root.language.translateFunc("_dateOrd").call(this,o);break;case"E":p=(r||7).toString();break;case"EE":p=Lt((r||7).toString(),2,"0");break;case"EEE":case"eee":p=this._t(this._getShortWeekday(r));break;case"EEEE":case"eeee":p=this._t(this._getWeekday(r));break;case"EEEEE":case"eeeee":p=this._t(this._getShortWeekday(r)).substr(0,1);break;case"e":case"ee":p=(r-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==e.parts[d]&&(p=Lt(p,2,"0"));break;case"a":p=a>=12?this._t("PM"):this._t("AM");break;case"aa":p=a>=12?this._t("P.M."):this._t("A.M.");break;case"aaa":p=a>=12?this._t("P"):this._t("A");break;case"h":p=Ut(a).toString();break;case"hh":p=Lt(Ut(a),2,"0");break;case"H":p=a.toString();break;case"HH":p=Lt(a,2,"0");break;case"K":p=Ut(a,0).toString();break;case"KK":p=Lt(Ut(a,0),2,"0");break;case"k":p=(a+1).toString();break;case"kk":p=Lt(a+1,2,"0");break;case"m":p=s.toString();break;case"mm":p=Lt(s,2,"0");break;case"s":p=l.toString();break;case"ss":p=Lt(l,2,"0");break;case"S":case"SS":case"SSS":p=Math.round(u/1e3*Math.pow(10,e.parts[d].length)).toString();break;case"x":p=c.toString();break;case"n":case"nn":case"nnn":p=Lt(u,e.parts[d].length,"0");break;case"z":p=Gt(t,!1,!1,this._root.utc);break;case"zz":p=Gt(t,!0,!1,this._root.utc);break;case"zzz":p=Gt(t,!1,!0,this._root.utc);break;case"zzzz":p=Gt(t,!0,!0,this._root.utc);break;case"Z":case"ZZ":var m=this._root.utc?"UTC":this._root.timezone;m instanceof ri&&(m=m.name);var v=m?Kt(m):t.getTimezoneOffset(),y=Math.abs(v)/60,b=Math.floor(y),x=60*y-60*b;this._root.utc&&(b=0,x=0),"Z"==e.parts[d]?(p="GMT",p+=v>0?"-":"+",p+=Lt(b,2)+":"+Lt(x,2)):(p=v>0?"-":"+",p+=Lt(b,2)+Lt(x,2));break;case"i":p=t.toISOString();break;case"I":p=t.toUTCString()}h=h.replace(W,p)}return h}},{key:"parseFormat",value:function(t){for(var e={template:"",parts:[]},i=ze.chunk(t,!0),n=0;n<i.length;n++){var r=i[n];if("value"===r.type){if(r.text.match(/^date$/i)){var o=this.get("dateFormat","yyyy-MM-dd");z(o)||(o="yyyy-MM-dd"),r.text=o}var a=r.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(var s=0;s<a.length;s++)e.parts.push(a[s]),r.text=r.text.replace(a[s],W)}e.template+=r.text}return e}},{key:"_months",value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},{key:"_getMonth",value:function(t){return this._months()[t]}},{key:"_shortMonths",value:function(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},{key:"_getShortMonth",value:function(t){return this._shortMonths()[t]}},{key:"_weekdays",value:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},{key:"_getWeekday",value:function(t){return this._weekdays()[t]}},{key:"_shortWeekdays",value:function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},{key:"_getShortWeekday",value:function(t){return this._shortWeekdays()[t]}},{key:"parse",value:function(t,e){if(t instanceof Date)return t;if(H(t))return new Date(t);var i;z(t)||(t=t.toString());var n="";e=(e=jt(e)).substr(0,t.length);for(var r=this.parseFormat(e),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},a={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},s=0,l=0,u=0;u<r.parts.length;u++){switch(l=u+s+1,r.parts[u]){case"yyyy":case"YYYY":n+="([0-9]{4})",o.year=l;break;case"yyy":case"YYY":n+="([0-9]{3})",o.year3=l;break;case"yy":case"YY":n+="([0-9]{2})",o.year2=l;break;case"y":case"Y":n+="([0-9]{1})",o.year1=l;break;case"MMMM":n+="("+this.getStringList(this._months()).join("|")+")",o.monthLong=l;break;case"MMM":n+="("+this.getStringList(this._shortMonths()).join("|")+")",o.monthShort=l;break;case"MM":case"M":n+="([0-9]{2}|[0-9]{1})",o.month=l;break;case"ww":case"w":n+="([0-9]{2}|[0-9]{1})",o.week=l;break;case"dd":case"d":n+="([0-9]{2}|[0-9]{1})",o.day=l;break;case"DDD":case"DD":case"D":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=l;break;case"dddd":n+="("+this.getStringList(this._weekdays()).join("|")+")",o.weekdayLong=l;break;case"ddd":n+="("+this.getStringList(this._shortWeekdays()).join("|")+")",o.weekdayShort=l;break;case"aaa":case"aa":case"a":n+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=l;break;case"hh":case"h":n+="([0-9]{2}|[0-9]{1})",o.hour12Base1=l;break;case"HH":case"H":n+="([0-9]{2}|[0-9]{1})",o.hourBase0=l;break;case"KK":case"K":n+="([0-9]{2}|[0-9]{1})",o.hour12Base0=l;break;case"kk":case"k":n+="([0-9]{2}|[0-9]{1})",o.hourBase1=l;break;case"mm":case"m":n+="([0-9]{2}|[0-9]{1})",o.minute=l;break;case"ss":case"s":n+="([0-9]{2}|[0-9]{1})",o.second=l;break;case"SSS":case"SS":case"S":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=l,o.millisecondDigits=r.parts[u].length;break;case"nnn":case"nn":case"n":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=l;break;case"x":n+="([0-9]{1,})",o.timestamp=l;break;case"Z":n+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=l;break;case"ZZ":n+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=l;break;case"i":n+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",o.iso=l,s+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":s--}n+="[^0-9]*"}var h=new RegExp(n),c=t.match(h);if(c){if(o.year>-1&&(a.year=parseInt(c[o.year])),o.year3>-1){var d=parseInt(c[o.year3]);d+=1e3,a.year=d}if(o.year2>-1){var f=parseInt(c[o.year2]);f+=f>50?1e3:2e3,a.year=f}if(o.year1>-1){var p=parseInt(c[o.year1]);p=10*Math.floor((new Date).getFullYear()/10)+p,a.year=p}if(o.monthLong>-1&&(a.month=this.resolveMonth(c[o.monthLong])),o.monthShort>-1&&(a.month=this.resolveShortMonth(c[o.monthShort])),o.month>-1&&(a.month=parseInt(c[o.month])-1),o.week>-1&&-1===o.day&&(a.month=0,a.day=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=new Date(e,0,4,0,0,0,0);return n&&r.setUTCFullYear(e),7*t+i-((r.getDay()||7)+3)}(parseInt(c[o.week]),a.year,1,this._root.utc)),o.day>-1&&(a.day=parseInt(c[o.day])),o.yearDay>-1&&(a.month=0,a.day=parseInt(c[o.yearDay])),o.hourBase0>-1&&(a.hour=parseInt(c[o.hourBase0])),o.hourBase1>-1&&(a.hour=parseInt(c[o.hourBase1])-1),o.hour12Base0>-1){var g=parseInt(c[o.hour12Base0]);11==g&&(g=0),o.am>-1&&!this.isAm(c[o.am])&&(g+=12),a.hour=g}if(o.hour12Base1>-1){var m=parseInt(c[o.hour12Base1]);12==m&&(m=0),o.am>-1&&!this.isAm(c[o.am])&&(m+=12),a.hour=m}if(o.minute>-1&&(a.minute=parseInt(c[o.minute])),o.second>-1&&(a.second=parseInt(c[o.second])),o.millisecond>-1){var v=parseInt(c[o.millisecond]);2==o.millisecondDigits?v*=10:1==o.millisecondDigits&&(v*=100),a.millisecond=v}if(o.timestamp>-1){a.timestamp=parseInt(c[o.timestamp]);var y=new Date(a.timestamp);a.year=y.getUTCFullYear(),a.month=y.getUTCMonth(),a.day=y.getUTCDate(),a.hour=y.getUTCHours(),a.minute=y.getUTCMinutes(),a.second=y.getUTCSeconds(),a.millisecond=y.getUTCMilliseconds()}o.zone>-1&&(a.offset=this.resolveTimezoneOffset(new Date(a.year,a.month,a.day),c[o.zone])),o.iso>-1&&(a.year=R(c[o.iso+0]),a.month=R(c[o.iso+1])-1,a.day=R(c[o.iso+2]),a.hour=R(c[o.iso+3]),a.minute=R(c[o.iso+4]),a.second=R(c[o.iso+5]),a.millisecond=R(c[o.iso+6]),"Z"==c[o.iso+7]||"z"==c[o.iso+7]?a.utc=!0:""!=c[o.iso+7]&&(a.offset=this.resolveTimezoneOffset(new Date(a.year,a.month,a.day),c[o.iso+7]))),i=a.utc?new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond)):new Date(a.year,a.month,a.day,a.hour,a.minute+a.offset,a.second,a.millisecond)}else i=new Date(t);return i}},{key:"resolveTimezoneOffset",value:function(t,e){if(e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){var i=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),n=i[1],r=i[2],o=i[3],a=60*parseInt(r)+parseInt(o);return"+"==n&&(a*=-1),a-(t||new Date).getTimezoneOffset()}return 0}},{key:"resolveMonth",value:function(t){var e=this._months().indexOf(t);return e>-1||!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._months()).indexOf(t))>-1?e:0}},{key:"resolveShortMonth",value:function(t){var e=this._shortMonths().indexOf(t);return e>-1||(e=this._months().indexOf(t))>-1||this._root.language&&!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._shortMonths()).indexOf(t))>-1?e:0}},{key:"isAm",value:function(t){return this.getStringList(["AM","A.M.","A"]).indexOf(t.toUpperCase())>-1}},{key:"getStringList",value:function(t){for(var e=[],i=0;i<t.length;i++)this._root.language?e.push(Ft(this._t(t[i]))):e.push(Ft(t[i]));return e}}]),i}(ve),ai=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}}),t}return h(i,[{key:"_setDefaults",value:function(){var t="_duration_millisecond",e="_duration_second",n="_duration_minute",r="_duration_hour",o="_duration_day",a="_duration_week",s="_duration_month",l="_minute",u="_hour",h="_day",f="_week",p="_week",g="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(t),second:this._t(t+"_second"),minute:this._t(t+l),hour:this._t(t+u),day:this._t(t+h),week:this._t(t+f),month:this._t(t+p),year:this._t(t+g)},second:{second:this._t(e),minute:this._t(e+l),hour:this._t(e+u),day:this._t(e+h),week:this._t(e+f),month:this._t(e+p),year:this._t(e+g)},minute:{minute:this._t(n),hour:this._t(n+u),day:this._t(n+h),week:this._t(n+f),month:this._t(n+p),year:this._t(n+g)},hour:{hour:this._t(r),day:this._t(r+h),week:this._t(r+f),month:this._t(r+p),year:this._t(r+g)},day:{day:this._t(o),week:this._t(o+f),month:this._t(o+p),year:this._t(o+g)},week:{week:this._t(a),month:this._t(a+p),year:this._t(a+g)},month:{month:this._t(s),year:this._t(s+g)},year:{year:this._t("_duration_year")}}),d(c(i.prototype),"_setDefaults",this).call(this)}},{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this)}},{key:"format",value:function(t,e,i){var n=i||this.get("baseUnit");"undefined"!==typeof e&&""!==e||(e=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(R(t),void 0,n)),e=jt(e);var r,o=this.parseFormat(e,n),a=Number(t);r=a>this.get("negativeBase")?o.positive:a<this.get("negativeBase")?o.negative:o.zero;var s=this.applyFormat(a,r);return""!==r.color&&(s="["+r.color+"]"+s+"[/]"),s}},{key:"parseFormat",value:function(t,e){var i=this,n=e||this.get("baseUnit"),r={positive:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1}},o=(t=t.replace("||",U)).split("|");return r.positive.source=o[0],"undefined"===typeof o[2]?r.zero=r.positive:r.zero.source=o[2],"undefined"===typeof o[1]?r.negative=r.positive:r.negative.source=o[1],X(r,(function(t,e){if(!e.parsed){var n,r=e.source;(n=e.source.match(/^\[([^\]]*)\]/))&&n.length&&""!==n[0]&&(r=e.source.substr(n[0].length),e.color=n[1]);for(var o=ze.chunk(r,!0),a=0;a<o.length;a++){var s=o[a];if(s.text=s.text.replace(U,"|"),"value"===s.type){s.text.match(/[yYMdDwhHKkmsSn]+a/)&&(e.absolute=!0,s.text=s.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var l=s.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(l)for(var u=0;u<l.length;u++)null==l[u]&&(l[u]=i._unitAliases[l[u]]),e.parts.push(l[u]),s.text=s.text.replace(l[u],W)}e.template+=s.text}e.parsed=!0}})),r}},{key:"applyFormat",value:function(t,e){var i=!e.absolute&&t<this.get("negativeBase");t=Math.abs(t);for(var n=this.toTimeStamp(t,e.baseUnit),r=e.template,o=0,a=e.parts.length;o<a;o++){var s=e.parts[o],l=this._toTimeUnit(s.substr(0,1)),u=s.length,h=Math.floor(n/this._getUnitValue(l));r=r.replace(W,Lt(h,u,"0")),n-=h*this._getUnitValue(l)}return i&&(r="-"+r),r}},{key:"toTimeStamp",value:function(t,e){return t*this._getUnitValue(e)}},{key:"_toTimeUnit",value:function(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}},{key:"getFormat",value:function(t,e,i){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(i||(i=this.get("baseUnit")),null!=e&&t!=e){t=Math.abs(t),e=Math.abs(e);var n=this.getValueUnit(Math.max(t,e),i);return this.get("durationFormats")[i][n]}var r=this.getValueUnit(t,i);return this.get("durationFormats")[i][r]}},{key:"getValueUnit",value:function(t,e){var i;e||(e=this.get("baseUnit"));var n=this.getMilliseconds(t,e);return function(t,e){for(var i in t)if(q(t,i)&&!e(i,t[i]))break}(this._getUnitValues(),(function(t,r){if(t==e||i){if(n/r<=1)return i||(i=t),!1;i=t}return!0})),i}},{key:"getMilliseconds",value:function(t,e){return e||(e=this.get("baseUnit")),t*this._getUnitValue(e)}},{key:"_getUnitValue",value:function(t){return this._getUnitValues()[t]}},{key:"_getUnitValues",value:function(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}]),i}(ve),si={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){var e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd"}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},li=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_setDefaults",value:function(){this.setPrivate("defaultLocale",si),d(c(i.prototype),"_setDefaults",this).call(this)}},{key:"translate",value:function(t,e){e||(e=this._root.locale||this.getPrivate("defaultLocale"));for(var i=t,n=e[t],r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(null===n)i="";else if(null!=n)n&&(i=n);else if(e!==this.getPrivate("defaultLocale"))return this.translate.apply(this,[t,this.getPrivate("defaultLocale")].concat(o));if(o.length)for(var s=o.length,l=0;l<s;++l)i=i.split("%"+(l+1)).join(o[l]);return i}},{key:"translateAny",value:function(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return this.translate.apply(this,[t,e].concat(n))}},{key:"setTranslationAny",value:function(t,e,i){(i||this._root.locale)[t]=e}},{key:"setTranslationsAny",value:function(t,e){var i=this;X(t,(function(t,n){i.setTranslationAny(t,n,e)}))}},{key:"translateEmpty",value:function(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];var o=this.translate.apply(this,[t,e].concat(n));return o==t?"":o}},{key:"translateFunc",value:function(t,e){return this._root.locale[t]?this._root.locale[t]:e!==this.getPrivate("defaultLocale")?this.translateFunc(t,this.getPrivate("defaultLocale")):function(){return""}}},{key:"translateAll",value:function(t,e){var i=this;return this.isDefault()?t:y(t,(function(t){return i.translate(t,e)}))}},{key:"isDefault",value:function(){return this.getPrivate("defaultLocale")===this._root.locale}}]),i}(ve);function ui(t,e,i,n){t.set(e,i.get(n)),i.on(n,(function(i){t.set(e,i)}))}var hi=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"setupDefaultRules",value:function(){d(c(i.prototype),"setupDefaultRules",this).call(this);var t=this._root.language,e=this._root.interfaceColors,n=this._root.horizontalLayout,r=this._root.verticalLayout,o=this.rule.bind(this);o("InterfaceColors").setAll({stroke:te.fromHex(15066597),fill:te.fromHex(15987699),primaryButton:te.fromHex(6788316),primaryButtonHover:te.fromHex(6779356),primaryButtonDown:te.fromHex(6872182),primaryButtonActive:te.fromHex(6872182),primaryButtonText:te.fromHex(16777215),primaryButtonStroke:te.fromHex(16777215),secondaryButton:te.fromHex(14277081),secondaryButtonHover:te.fromHex(10724259),secondaryButtonDown:te.fromHex(9276813),secondaryButtonActive:te.fromHex(15132390),secondaryButtonText:te.fromHex(0),secondaryButtonStroke:te.fromHex(16777215),grid:te.fromHex(0),background:te.fromHex(16777215),alternativeBackground:te.fromHex(0),text:te.fromHex(0),alternativeText:te.fromHex(16777215),disabled:te.fromHex(11382189),positive:te.fromHex(5288704),negative:te.fromHex(11730944)});var a=o("ColorSet");a.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[te.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),a.setPrivate("currentStep",0),a.setPrivate("currentPass",0),o("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:le(se)}),o("Component").setAll({interpolationDuration:0,interpolationEasing:le(se)}),o("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:gt,tooltipY:gt,tooltipPosition:"fixed",isMeasured:!0}),o("Sprite").states.create("default",{visible:!0,opacity:1}),o("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),o("Graphics").setAll({strokeWidth:1}),o("Chart").setAll({width:pt,height:pt,interactiveChildren:!1}),o("Sprite",["horizontal","center"]).setAll({centerX:gt,x:gt}),o("Sprite",["vertical","center"]).setAll({centerY:gt,y:gt}),o("Container",["horizontal","layout"]).setAll({layout:n}),o("Container",["vertical","layout"]).setAll({layout:r}),o("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),o("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),o("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),o("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),o("LinearGradient").setAll({rotation:90}),o("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:Fe.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),o("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:n,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:t.translate("Press ENTER to toggle"),role:"checkbox"});var s=o("Rectangle",["legend","item","background"]);s.setAll({fillOpacity:0}),ui(s,"fill",e,"background"),o("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:gt,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),o("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:pt,height:pt,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});var l=o("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});ui(l,"fill",e,"disabled"),ui(l,"stroke",e,"disabled"),o("Label",["legend","label"]).setAll({centerY:gt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),ui(o("Label",["legend","label"]).states.create("disabled",{}),"fill",e,"disabled"),o("Label",["legend","value","label"]).setAll({centerY:gt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:pt,populateText:!0}),ui(o("Label",["legend","value","label"]).states.create("disabled",{}),"fill",e,"disabled"),o("HeatLegend").setAll({stepCount:1}),o("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),o("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:pt,width:15}),o("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:pt,height:15}),o("HeatLegend",["vertical"]).setAll({height:pt}),o("HeatLegend",["horizontal"]).setAll({width:pt}),o("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),o("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});var u=o("Label");u.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),ui(u,"fill",e,"text"),o("RadialLabel").setAll({textType:"regular",centerY:gt,centerX:gt,inside:!1,radius:0,baseRadius:pt,orientation:"auto",textAlign:"center"}),o("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),o("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),o("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});var h=o("Tick");h.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),ui(h,"stroke",e,"grid"),o("Bullet").setAll({locationX:.5,locationY:.5}),o("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:gt,centerY:gt,animationEasing:le(se),exportable:!1}),o("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:te.fromHex(16777215)});var f=o("Label",["tooltip"]);f.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),ui(f,"fill",e,"alternativeText"),o("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:n,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),o("Button").states.create("hover",{}),o("Button").states.create("down",{stateAnimationDuration:0}),o("Button").states.create("active",{});var p=o("RoundedRectangle",["button","background"]);ui(p,"fill",e,"primaryButton"),ui(p,"stroke",e,"primaryButtonStroke"),ui(o("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",e,"primaryButtonHover"),ui(o("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",e,"primaryButtonDown"),ui(o("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",e,"primaryButtonActive"),ui(o("Graphics",["button","icon"]),"stroke",e,"primaryButtonText"),ui(o("Label",["button"]),"fill",e,"primaryButtonText"),o("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:pt,role:"button",ariaLabel:t.translate("Zoom Out"),layer:30});var g=o("RoundedRectangle",["background","button","zoom"]);g.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),ui(g,"fill",e,"primaryButton"),ui(o("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",e,"primaryButtonHover"),ui(o("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",e,"primaryButtonDown");var m=o("Graphics",["icon","button","zoom"]);m.setAll({crisp:!0,strokeOpacity:.7,draw:function(t){t.moveTo(0,0),t.lineTo(12,0)}}),ui(m,"stroke",e,"primaryButtonText"),o("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:gt,centerY:gt,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:t.translate("Use up and down arrows to move selection")});var v=o("RoundedRectangle",["background","resize","button"]);v.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),ui(v,"fill",e,"secondaryButton"),ui(v,"stroke",e,"secondaryButtonStroke"),ui(o("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",e,"secondaryButtonHover"),ui(o("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",e,"secondaryButtonDown");var y=o("Graphics",["resize","button","icon"]);y.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:function(t){t.moveTo(0,.5),t.lineTo(0,12.5),t.moveTo(4,.5),t.lineTo(4,12.5)}}),ui(y,"stroke",e,"secondaryButtonText"),o("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),o("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),o("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:t.translate("Play"),toggleKey:"active"});var b=o("RoundedRectangle",["play","background"]);b.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),ui(b,"fill",e,"primaryButton");var x=o("Graphics",["play","icon"]);x.setAll({stateAnimationDuration:0,dx:1,draw:function(t){t.moveTo(0,-5),t.lineTo(8,0),t.lineTo(0,5),t.lineTo(0,-5)}}),ui(x,"fill",e,"primaryButtonText"),o("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),o("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:function(t){t.moveTo(-4,-5),t.lineTo(-1,-5),t.lineTo(-1,5),t.lineTo(-4,5),t.lineTo(-4,-5),t.moveTo(4,-5),t.lineTo(1,-5),t.lineTo(1,5),t.lineTo(4,5),t.lineTo(4,-5)}}),o("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:t.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});var w=o("RoundedRectangle",["switch","background"]);w.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),ui(w,"fill",e,"primaryButton");var k=o("Circle",["switch","icon"]);k.setAll({radius:8,centerY:0,centerX:0,dx:0}),ui(k,"fill",e,"primaryButtonText"),o("Graphics",["switch","icon"]).states.create("active",{dx:16}),o("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:le(se)}),o("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:pt}),o("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:pt}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});var _=o("RoundedRectangle",["scrollbar","main","background"]);_.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),ui(_,"fill",e,"fill");var S=o("RoundedRectangle",["scrollbar","thumb"]);S.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),ui(S,"fill",e,"secondaryButton"),ui(o("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",e,"secondaryButtonHover"),ui(o("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",e,"secondaryButtonDown"),o("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:gt,width:pt,centerX:gt,ariaLabel:t.translate("Use up and down arrows to move selection")}),o("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:gt,centerY:gt,height:pt,ariaLabel:t.translate("Use left and right arrows to move selection")});var C=o("PointedRectangle",["axis","tooltip","background"]);C.setAll({cornerRadius:0}),ui(C,"fill",e,"alternativeBackground"),o("Label",["axis","tooltip"]).setAll({role:void 0}),o("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),o("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),o("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),o("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),o("Star").setAll({spikes:5,innerRadius:5,radius:10}),o("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),o("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),o("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),o("SpriteResizer").setAll({rotationStep:10}),o("Container",["resizer","grip"]).states.create("hover",{});var M=o("RoundedRectangle",["resizer","grip"]);M.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),ui(M,"fill",e,"background"),ui(M,"stroke",e,"alternativeBackground");var P=o("RoundedRectangle",["resizer","grip","outline"]);P.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),P.states.create("hover",{fillOpacity:.3}),ui(P,"fill",e,"alternativeBackground"),o("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),o("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});var T=o("Rectangle",["resizer","rectangle"]);T.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),ui(T,"stroke",e,"alternativeBackground")}}]),i}(it),ci=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;a(this,t),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=i,this.c=n,this.d=r,this.tx=o,this.ty=s}return h(t,[{key:"setTransform",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;this.a=Math.cos(r)*o,this.b=Math.sin(r)*o,this.c=-Math.sin(r)*o,this.d=Math.cos(r)*o,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d)}},{key:"apply",value:function(t){return{x:this.a*t.x+this.c*t.y+this.tx,y:this.b*t.x+this.d*t.y+this.ty}}},{key:"applyInverse",value:function(t){var e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*t.x+-this.c*e*t.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*t.y+-this.b*e*t.x+(-this.ty*this.a+this.tx*this.b)*e}}},{key:"append",value:function(t){var e=this.a,i=this.b,n=this.c,r=this.d;this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty}},{key:"prepend",value:function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty}},{key:"copyFrom",value:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}}]),t}(),di=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(l){r=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},fi=2*Math.PI,pi=function(t,e,i,n,r,o,a){var s=t.x,l=t.y;return{x:n*(s*=e)-r*(l*=i)+o,y:r*s+n*l+a}},gi=function(t,e){var i=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),n=Math.cos(t),r=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:n-r*i,y:r+n*i},{x:o+a*i,y:a-o*i},{x:o,y:a}]},mi=function(t,e,i,n){var r=t*i+e*n;return r>1&&(r=1),r<-1&&(r=-1),(t*n-e*i<0?-1:1)*Math.acos(r)},vi=function(t){var e=t.px,i=t.py,n=t.cx,r=t.cy,o=t.rx,a=t.ry,s=t.xAxisRotation,l=void 0===s?0:s,u=t.largeArcFlag,h=void 0===u?0:u,c=t.sweepFlag,d=void 0===c?0:c,f=[];if(0===o||0===a)return[];var p=Math.sin(l*fi/360),g=Math.cos(l*fi/360),m=g*(e-n)/2+p*(i-r)/2,v=-p*(e-n)/2+g*(i-r)/2;if(0===m&&0===v)return[];o=Math.abs(o),a=Math.abs(a);var y=Math.pow(m,2)/Math.pow(o,2)+Math.pow(v,2)/Math.pow(a,2);y>1&&(o*=Math.sqrt(y),a*=Math.sqrt(y));var b=function(t,e,i,n,r,o,a,s,l,u,h,c){var d=Math.pow(r,2),f=Math.pow(o,2),p=Math.pow(h,2),g=Math.pow(c,2),m=d*f-d*g-f*p;m<0&&(m=0),m/=d*g+f*p;var v=(m=Math.sqrt(m)*(a===s?-1:1))*r/o*c,y=m*-o/r*h,b=u*v-l*y+(t+i)/2,x=l*v+u*y+(e+n)/2,w=(h-v)/r,k=(c-y)/o,_=(-h-v)/r,S=(-c-y)/o,C=mi(1,0,w,k),M=mi(w,k,_,S);return 0===s&&M>0&&(M-=fi),1===s&&M<0&&(M+=fi),[b,x,C,M]}(e,i,n,r,o,a,h,d,p,g,m,v),x=di(b,4),w=x[0],k=x[1],_=x[2],S=x[3],C=Math.abs(S)/(fi/4);Math.abs(1-C)<1e-7&&(C=1);var M=Math.max(Math.ceil(C),1);S/=M;for(var P=0;P<M;P++)f.push(gi(_,S)),_+=S;return f.map((function(t){var e=pi(t[0],o,a,g,p,w,k),i=e.x,n=e.y,r=pi(t[1],o,a,g,p,w,k),s=r.x,l=r.y,u=pi(t[2],o,a,g,p,w,k);return{x1:i,y1:n,x2:s,y2:l,x:u.x,y:u.y}}))};function yi(t,e,i){if(e!==i)throw new Error("Required "+i+" arguments for "+t+" but got "+e)}function bi(t,e,i){if(e<i)throw new Error("Required at least "+i+" arguments for "+t+" but got "+e)}function xi(t,e,i){if(bi(t,e,i),e%i!==0)throw new Error("Arguments for "+t+" must be in pairs of "+i)}function wi(t){for(var e=0;e<t.length;e+=7){var i=e+3,n=t[i];if(n.length>1){var r=/^([01])([01])(.*)$/.exec(n);null!==r&&(t.splice(i,0,r[1]),++i,t.splice(i,0,r[2]),++i,r[3].length>0?t[i]=r[3]:t.splice(i,1))}if((n=t[++i]).length>1){var o=/^([01])(.+)$/.exec(n);null!==o&&(t.splice(i,0,o[1]),t[++i]=o[2])}}}function ki(t){if(0===t||1===t)return t;throw new Error("Flag must be 0 or 1")}function _i(t,e){for(;(!t.interactive||e(t))&&t._parent;)t=t._parent}function Si(t,e,i){return St(t,Tt(e),(function(t){var e=It(t),n=t.touches;n?(0==n.length&&(n=t.changedTouches),i(function(t){for(var e=t.length,i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}(n),e)):i([t],e)}))}function Ci(t){var e=document.createElement("canvas");e.width=1,e.height=1;var i=e.getContext("2d",{willReadFrequently:!0});i.drawImage(t,0,0,1,1);try{return i.getImageData(0,0,1,1),!1}catch(n){return console.warn('Image "'+t.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Mi(t){t.width=0,t.height=0,t.style.width="0px",t.style.height="0px"}var Pi=function(){function t(){a(this,t),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}return h(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}(),Ti=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(g(n),"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(n),"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(n),"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(g(n),"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(g(n),"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(g(n),"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Pi}),Object.defineProperty(g(n),"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ci}),Object.defineProperty(g(n),"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new ci}),Object.defineProperty(g(n),"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ci}),Object.defineProperty(g(n),"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._renderer=t,n}return h(i,[{key:"_dispose",value:function(){this._renderer._removeObject(this),this.getLayer().dirty=!0}},{key:"getCanvas",value:function(){return this.getLayer().view}},{key:"getLayer",value:function(){for(var t=this;;){if(t._layer)return t._layer;if(!t._parent)return this._renderer.defaultLayer;t=t._parent}}},{key:"setLayer",value:function(t,e){if(null==t)this._layer=void 0;else{this._layer=this._renderer.getLayer(t,true),this._layer.visible=true,this._layer.margin=e,e&&Et(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost()}}},{key:"markDirtyLayer",value:function(){this.getLayer().dirty=!0}},{key:"clear",value:function(){this.invalidateBounds()}},{key:"invalidateBounds",value:function(){this._localBounds=void 0}},{key:"_addBounds",value:function(t){}},{key:"_getColorId",value:function(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}},{key:"_isInteractive",value:function(){return 0==this.inactive&&(this.interactive||this._renderer._forceInteractive>0)}},{key:"_isInteractiveMask",value:function(){return this._isInteractive()}},{key:"contains",value:function(t){for(;;){if(t===this)return!0;if(!t._parent)return!1;t=t._parent}}},{key:"toGlobal",value:function(t){return this._matrix.apply(t)}},{key:"toLocal",value:function(t){return this._matrix.applyInverse(t)}},{key:"getLocalMatrix",value:function(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}},{key:"getLocalBounds",value:function(){if(!this._localBounds){var t=1e7;this._localBounds={left:t,top:t,right:-t,bottom:-t},this._addBounds(this._localBounds)}return this._localBounds}},{key:"getAdjustedBounds",value:function(t){this._setMatrix();var e=this.getLocalMatrix(),i=e.apply({x:t.left,y:t.top}),n=e.apply({x:t.right,y:t.top}),r=e.apply({x:t.right,y:t.bottom}),o=e.apply({x:t.left,y:t.bottom});return{left:Math.min(i.x,n.x,r.x,o.x),top:Math.min(i.y,n.y,r.y,o.y),right:Math.max(i.x,n.x,r.x,o.x),bottom:Math.max(i.y,n.y,r.y,o.y)}}},{key:"on",value:function(t,e,i){return this.interactive?this._renderer._addEvent(this,t,e,i):new I((function(){}))}},{key:"_setMatrix",value:function(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}},{key:"_transform",value:function(t,e){var i=this._matrix,n=i.tx*e,r=i.ty*e;this.crisp&&(n=Math.floor(n)+.5,r=Math.floor(r)+.5),t.setTransform(i.a*e,i.b*e,i.c*e,i.d*e,n,r)}},{key:"_transformMargin",value:function(t,e,i){var n=this._matrix;t.setTransform(n.a*e,n.b*e,n.c*e,n.d*e,(n.tx+i.left)*e,(n.ty+i.top)*e)}},{key:"_transformLayer",value:function(t,e,i){i.margin?this._transformMargin(t,i.scale||e,i.margin):this._transform(t,i.scale||e)}},{key:"render",value:function(t){var e=this;if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();var i=this._renderer.resolution,n=this._renderer.layers,r=this._renderer._ghostLayer,o=r.context,a=this.mask;a&&a._setMatrix(),b(n,(function(t){if(t){var n=t.context;n.save(),a&&(a._transformLayer(n,i,t),a._runPath(n),n.clip()),n.globalAlpha=e.compoundAlpha*e.alpha,e._transformLayer(n,i,t),e.filter&&(n.filter=e.filter)}})),o.save(),a&&this._isInteractiveMask()&&(a._transformMargin(o,i,r.margin),a._runPath(o),o.clip()),this._transformMargin(o,i,r.margin),this._render(t),o.restore(),b(n,(function(t){t&&t.context.restore()}))}}},{key:"_render",value:function(t){!1===this.exportable&&((this._layer||t).tainted=!0)}},{key:"hovering",value:function(){return this._renderer._hovering.has(this)}},{key:"dragging",value:function(){var t=this;return this._renderer._dragging.some((function(e){return e.value===t}))}},{key:"shouldCancelTouch",value:function(){var t=this._renderer;return!(t.tapToActivate&&!t._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}]),i}(N),Di=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(t),"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t}return h(i,[{key:"_isInteractiveMask",value:function(){return this.interactiveChildren||d(c(i.prototype),"_isInteractiveMask",this).call(this)}},{key:"addChild",value:function(t){t._parent=this,this._children.push(t),t._layer&&this.registerChildLayer(t._layer)}},{key:"addChildAt",value:function(t,e){t._parent=this,this._children.splice(e,0,t),t._layer&&this.registerChildLayer(t._layer)}},{key:"removeChild",value:function(t){t._parent=void 0,_(this._children,t)}},{key:"_render",value:function(t){var e=this;d(c(i.prototype),"_render",this).call(this,t);var n=this._renderer;this.interactive&&this.interactiveChildren&&++n._forceInteractive;var r=this._layer||t;b(this._children,(function(t){t.compoundAlpha=e.compoundAlpha*e.alpha,t.render(r)})),this.interactive&&this.interactiveChildren&&--n._forceInteractive}},{key:"registerChildLayer",value:function(t){this._childLayers||(this._childLayers=[]),S(this._childLayers,t),this._parent&&this._parent.registerChildLayer(t)}},{key:"markDirtyLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(c(i.prototype),"markDirtyLayer",this).call(this),t&&this._childLayers&&b(this._childLayers,(function(t){return t.dirty=!0}))}},{key:"_dispose",value:function(){d(c(i.prototype),"_dispose",this).call(this),this._childLayers&&b(this._childLayers,(function(t){t.dirty=!0}))}}]),i}(Ti);function Ni(t,e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.right=Math.max(t.right,e.x),t.bottom=Math.max(t.bottom,e.y)}var Ii=function(){function t(){a(this,t)}return h(t,[{key:"colorize",value:function(t,e){}},{key:"path",value:function(t){}},{key:"addBounds",value:function(t){}}]),t}(),Ei=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"colorize",value:function(t,e){t.beginPath()}}]),i}(Ii),Ai=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}return h(i,[{key:"colorize",value:function(t,e){t.fillStyle=void 0!==e?e:this.color}}]),i}(Ii),Oi=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}return h(i,[{key:"colorize",value:function(t,e){t.fill(),this.clearShadow&&(t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),i}(Ii),Li=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"colorize",value:function(t,e){t.stroke()}}]),i}(Ii),Ri=function(t){p(i,t);var e=m(i);function i(t,n,r){var o;return a(this,i),o=e.call(this),Object.defineProperty(g(o),"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(o),"color",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(o),"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:r}),o}return h(i,[{key:"colorize",value:function(t,e){t.strokeStyle=void 0!==e?e:this.color,t.lineWidth=this.width,this.lineJoin&&(t.lineJoin=this.lineJoin)}}]),i}(Ii),ji=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"dash",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}return h(i,[{key:"colorize",value:function(t,e){t.setLineDash(this.dash)}}]),i}(Ii),Bi=function(t){p(i,t);var e=m(i);function i(t){var n;return a(this,i),n=e.call(this),Object.defineProperty(g(n),"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}return h(i,[{key:"colorize",value:function(t,e){t.lineDashOffset=this.dashOffset}}]),i}(Ii),Fi=function(t){p(i,t);var e=m(i);function i(t,n,r,o){var s;return a(this,i),s=e.call(this),Object.defineProperty(g(s),"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(s),"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(s),"width",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(s),"height",{enumerable:!0,configurable:!0,writable:!0,value:o}),s}return h(i,[{key:"path",value:function(t){t.rect(this.x,this.y,this.width,this.height)}},{key:"addBounds",value:function(t){var e=this.x,i=this.y,n=e+this.width,r=i+this.height;Ni(t,{x:e,y:i}),Ni(t,{x:n,y:i}),Ni(t,{x:e,y:r}),Ni(t,{x:n,y:r})}}]),i}(Ii),zi=function(t){p(i,t);var e=m(i);function i(t,n,r){var o;return a(this,i),o=e.call(this),Object.defineProperty(g(o),"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(o),"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(o),"radius",{enumerable:!0,configurable:!0,writable:!0,value:r}),o}return h(i,[{key:"path",value:function(t){t.moveTo(this.x+this.radius,this.y),t.arc(this.x,this.y,this.radius,0,2*Math.PI)}},{key:"addBounds",value:function(t){Ni(t,{x:this.x-this.radius,y:this.y-this.radius}),Ni(t,{x:this.x+this.radius,y:this.y+this.radius})}}]),i}(Ii),Hi=function(t){p(i,t);var e=m(i);function i(t,n,r,o){var s;return a(this,i),s=e.call(this),Object.defineProperty(g(s),"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(s),"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(s),"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(s),"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:o}),s}return h(i,[{key:"path",value:function(t){t.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}},{key:"addBounds",value:function(t){Ni(t,{x:this.x-this.radiusX,y:this.y-this.radiusY}),Ni(t,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}]),i}(Ii),Vi=function(t){p(i,t);var e=m(i);function i(t,n,r,o,s,l){var u;return a(this,i),u=e.call(this),Object.defineProperty(g(u),"cx",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(u),"cy",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(u),"radius",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(u),"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(g(u),"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(g(u),"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:l}),u}return h(i,[{key:"path",value:function(t){this.radius>0&&t.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}},{key:"addBounds",value:function(t){var e=Ce(this.cx,this.cy,this.startAngle*xe,this.endAngle*xe,this.radius);Ni(t,{x:e.left,y:e.top}),Ni(t,{x:e.right,y:e.bottom})}}]),i}(Ii),Wi=function(t){p(i,t);var e=m(i);function i(t,n,r,o,s){var l;return a(this,i),l=e.call(this),Object.defineProperty(g(l),"x1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(l),"y1",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(l),"x2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(l),"y2",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(g(l),"radius",{enumerable:!0,configurable:!0,writable:!0,value:s}),l}return h(i,[{key:"path",value:function(t){this.radius>0&&t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}},{key:"addBounds",value:function(t){}}]),i}(Ii),Ui=function(t){p(i,t);var e=m(i);function i(t,n){var r;return a(this,i),r=e.call(this),Object.defineProperty(g(r),"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(r),"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),r}return h(i,[{key:"path",value:function(t){t.lineTo(this.x,this.y)}},{key:"addBounds",value:function(t){Ni(t,{x:this.x,y:this.y})}}]),i}(Ii),Gi=function(t){p(i,t);var e=m(i);function i(t,n){var r;return a(this,i),r=e.call(this),Object.defineProperty(g(r),"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(r),"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),r}return h(i,[{key:"path",value:function(t){t.moveTo(this.x,this.y)}},{key:"addBounds",value:function(t){Ni(t,{x:this.x,y:this.y})}}]),i}(Ii),Ki=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"path",value:function(t){t.closePath()}}]),i}(Ii),Yi=function(t){p(i,t);var e=m(i);function i(t,n,r,o,s,l){var u;return a(this,i),u=e.call(this),Object.defineProperty(g(u),"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(u),"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(u),"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(u),"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(g(u),"toX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(g(u),"toY",{enumerable:!0,configurable:!0,writable:!0,value:l}),u}return h(i,[{key:"path",value:function(t){t.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}},{key:"addBounds",value:function(t){Ni(t,{x:this.cpX,y:this.cpY}),Ni(t,{x:this.cpX2,y:this.cpY2}),Ni(t,{x:this.toX,y:this.toY})}}]),i}(Ii),Xi=function(t){p(i,t);var e=m(i);function i(t,n,r,o){var s;return a(this,i),s=e.call(this),Object.defineProperty(g(s),"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(s),"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(s),"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(s),"toY",{enumerable:!0,configurable:!0,writable:!0,value:o}),s}return h(i,[{key:"path",value:function(t){t.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}},{key:"addBounds",value:function(t){Ni(t,{x:this.cpX,y:this.cpY}),Ni(t,{x:this.toX,y:this.toY})}}]),i}(Ii),qi=function(t){p(i,t);var e=m(i);function i(t,n,r,o,s){var l;return a(this,i),l=e.call(this),Object.defineProperty(g(l),"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(l),"blur",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(l),"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(l),"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(g(l),"opacity",{enumerable:!0,configurable:!0,writable:!0,value:s}),l}return h(i,[{key:"colorize",value:function(t,e){this.opacity&&(t.fillStyle=this.color),t.shadowColor=this.color,t.shadowBlur=this.blur,t.shadowOffsetX=this.offsetX,t.shadowOffsetY=this.offsetY}}]),i}(Ii),Zi=function(t){p(i,t);var e=m(i);function i(t,n,r,o,s){var l;return a(this,i),l=e.call(this),Object.defineProperty(g(l),"image",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(g(l),"width",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(g(l),"height",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(g(l),"x",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(g(l),"y",{enumerable:!0,configurable:!0,writable:!0,value:s}),l}return h(i,[{key:"path",value:function(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}},{key:"addBounds",value:function(t){Ni(t,{x:this.x,y:this.y}),Ni(t,{x:this.width,y:this.height})}}]),i}(Ii),Ji=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Ne.NORMAL}),Object.defineProperty(g(t),"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"clear",value:function(){d(c(i.prototype),"clear",this).call(this),this._operations.length=0}},{key:"_pushOp",value:function(t){this._operations.push(t)}},{key:"beginFill",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fillAlpha=e,t?t instanceof te?this._pushOp(new Ai(t.toCSS(e))):(this.isMeasured=!0,this._pushOp(new Ai(t))):this._pushOp(new Ai("rgba(0, 0, 0, "+e+")"))}},{key:"endFill",value:function(){this._pushOp(new Oi(this._hasShadows))}},{key:"endStroke",value:function(){this._pushOp(new Li)}},{key:"beginPath",value:function(){this._pushOp(new Ei)}},{key:"lineStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0;this._strokeAlpha=i,e?e instanceof te?this._pushOp(new Ri(t,e.toCSS(i),n)):this._pushOp(new Ri(t,e,n)):this._pushOp(new Ri(t,"rgba(0, 0, 0, "+i+")",n))}},{key:"setLineDash",value:function(t){this._pushOp(new ji(t||[]))}},{key:"setLineDashOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._pushOp(new Bi(t))}},{key:"drawRect",value:function(t,e,i,n){this._pushOp(new Fi(t,e,i,n))}},{key:"drawCircle",value:function(t,e,i){this._pushOp(new zi(t,e,i))}},{key:"drawEllipse",value:function(t,e,i,n){this._pushOp(new Hi(t,e,i,n))}},{key:"arc",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this._pushOp(new Vi(t,e,i,n,r,o))}},{key:"arcTo",value:function(t,e,i,n,r){this._pushOp(new Wi(t,e,i,n,r))}},{key:"lineTo",value:function(t,e){this._pushOp(new Ui(t,e))}},{key:"moveTo",value:function(t,e){this._pushOp(new Gi(t,e))}},{key:"bezierCurveTo",value:function(t,e,i,n,r,o){this._pushOp(new Yi(t,e,i,n,r,o))}},{key:"quadraticCurveTo",value:function(t,e,i,n){this._pushOp(new Xi(t,e,i,n))}},{key:"closePath",value:function(){this._pushOp(new Ki)}},{key:"shadow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;this._hasShadows=!0,this._pushOp(new qi(r?t.toCSS(r):t.toCSS(this._fillAlpha||this._strokeAlpha),e,i,n))}},{key:"image",value:function(t,e,i,n,r){this._pushOp(new Zi(t,e,i,n,r))}},{key:"svgPath",value:function(t){for(var e,i=this,n=0,r=0,o=null,a=null,s=null,l=null,u=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,h=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;null!==(e=u.exec(t));){for(var c=e[1],d=e[2],f=[];null!==(e=h.exec(d));)f.push(e[1]);switch("S"!==c&&"s"!==c&&"C"!==c&&"c"!==c&&(o=null,a=null),"Q"!==c&&"q"!==c&&"T"!==c&&"t"!==c&&(s=null,l=null),c){case"M":xi(c,f.length,2),n=+f[0],r=+f[1],this.moveTo(n,r);for(var p=2;p<f.length;p+=2)n=+f[p],r=+f[p+1],this.lineTo(n,r);break;case"m":xi(c,f.length,2),n+=+f[0],r+=+f[1],this.moveTo(n,r);for(var g=2;g<f.length;g+=2)n+=+f[g],r+=+f[g+1],this.lineTo(n,r);break;case"L":xi(c,f.length,2);for(var m=0;m<f.length;m+=2)n=+f[m],r=+f[m+1],this.lineTo(n,r);break;case"l":xi(c,f.length,2);for(var v=0;v<f.length;v+=2)n+=+f[v],r+=+f[v+1],this.lineTo(n,r);break;case"H":bi(c,f.length,1);for(var y=0;y<f.length;++y)n=+f[y],this.lineTo(n,r);break;case"h":bi(c,f.length,1);for(var x=0;x<f.length;++x)n+=+f[x],this.lineTo(n,r);break;case"V":bi(c,f.length,1);for(var w=0;w<f.length;++w)r=+f[w],this.lineTo(n,r);break;case"v":bi(c,f.length,1);for(var k=0;k<f.length;++k)r+=+f[k],this.lineTo(n,r);break;case"C":xi(c,f.length,6);for(var _=0;_<f.length;_+=6){var S=+f[_],C=+f[_+1];o=+f[_+2],a=+f[_+3],n=+f[_+4],r=+f[_+5],this.bezierCurveTo(S,C,o,a,n,r)}break;case"c":xi(c,f.length,6);for(var M=0;M<f.length;M+=6){var P=+f[M]+n,T=+f[M+1]+r;o=+f[M+2]+n,a=+f[M+3]+r,n+=+f[M+4],r+=+f[M+5],this.bezierCurveTo(P,T,o,a,n,r)}break;case"S":xi(c,f.length,4),null!==o&&null!==a||(o=n,a=r);for(var D=0;D<f.length;D+=4){var N=2*n-o,I=2*r-a;o=+f[D],a=+f[D+1],n=+f[D+2],r=+f[D+3],this.bezierCurveTo(N,I,o,a,n,r)}break;case"s":xi(c,f.length,4),null!==o&&null!==a||(o=n,a=r);for(var E=0;E<f.length;E+=4){var A=2*n-o,O=2*r-a;o=+f[E]+n,a=+f[E+1]+r,n+=+f[E+2],r+=+f[E+3],this.bezierCurveTo(A,O,o,a,n,r)}break;case"Q":xi(c,f.length,4);for(var L=0;L<f.length;L+=4)s=+f[L],l=+f[L+1],n=+f[L+2],r=+f[L+3],this.quadraticCurveTo(s,l,n,r);break;case"q":xi(c,f.length,4);for(var R=0;R<f.length;R+=4)s=+f[R]+n,l=+f[R+1]+r,n+=+f[R+2],r+=+f[R+3],this.quadraticCurveTo(s,l,n,r);break;case"T":xi(c,f.length,2),null!==s&&null!==l||(s=n,l=r);for(var j=0;j<f.length;j+=2)s=2*n-s,l=2*r-l,n=+f[j],r=+f[j+1],this.quadraticCurveTo(s,l,n,r);break;case"t":xi(c,f.length,2),null!==s&&null!==l||(s=n,l=r);for(var B=0;B<f.length;B+=2)s=2*n-s,l=2*r-l,n+=+f[B],r+=+f[B+1],this.quadraticCurveTo(s,l,n,r);break;case"A":case"a":var F="a"===c;wi(f),xi(c,f.length,7);for(var z=0;z<f.length;z+=7){var H=+f[z+5],V=+f[z+6];F&&(H+=n,V+=r),b(vi({px:n,py:r,rx:+f[z],ry:+f[z+1],xAxisRotation:+f[z+2],largeArcFlag:ki(+f[z+3]),sweepFlag:ki(+f[z+4]),cx:H,cy:V}),(function(t){i.bezierCurveTo(t.x1,t.y1,t.x2,t.y2,t.x,t.y),n=t.x,r=t.y}))}break;case"Z":case"z":yi(c,f.length,0),this.closePath()}}}},{key:"_runPath",value:function(t){t.beginPath(),b(this._operations,(function(e){e.path(t)}))}},{key:"_render",value:function(t){d(c(i.prototype),"_render",this).call(this,t);var e=this._layer||t,n=e.dirty,r=this._isInteractive();if(n||r){var o,a=e.context,s=this._renderer._ghostLayer.context;n&&(a.globalCompositeOperation=this.blendMode,a.beginPath()),r&&(s.beginPath(),o=this._getColorId()),b(this._operations,(function(t){n&&(t.path(a),t.colorize(a,void 0)),r&&(t.path(s),t.colorize(s,o))}))}}},{key:"renderDetached",value:function(t){if(this.visible){this._setMatrix(),t.save();var e=this.mask;e&&(e._setMatrix(),e._transform(t,1),e._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transform(t,1),this.filter&&(t.filter=this.filter),t.globalCompositeOperation=this.blendMode,t.beginPath(),b(this._operations,(function(e){e.path(t),e.colorize(t,void 0)})),t.restore()}}},{key:"_addBounds",value:function(t){this.visible&&this.isMeasured&&b(this._operations,(function(e){e.addBounds(t)}))}}]),i}(Ti),Qi=function(t){p(i,t);var e=m(i);function i(t,n,r){var o;return a(this,i),o=e.call(this,t),Object.defineProperty(g(o),"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(g(o),"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(o),"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),o.text=n,o.style=r,o}return h(i,[{key:"invalidateBounds",value:function(){d(c(i.prototype),"invalidateBounds",this).call(this),this._textInfo=void 0}},{key:"_shared",value:function(t){this.style.textAlign&&(t.textAlign=this.style.textAlign),this.style.direction&&(t.direction=this.style.direction),this.style.textBaseline&&(t.textBaseline=this.style.textBaseline)}},{key:"_prerender",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(c(i.prototype),"_render",this).call(this,t);var r=t.context,o=this._renderer._ghostLayer.context,a=this.style,s=this._getFontStyle(void 0,n);r.font=s,this._isInteractive()&&!e&&(o.font=s),a.fill&&(a.fill instanceof te?r.fillStyle=a.fill.toCSS(void 0!=a.fillOpacity?a.fillOpacity:1):r.fillStyle=a.fill),a.shadowColor&&(t.context.shadowColor=a.shadowColor.toCSS(a.shadowOpacity||1)),a.shadowBlur&&(t.context.shadowBlur=a.shadowBlur),a.shadowOffsetX&&(t.context.shadowOffsetX=a.shadowOffsetX),a.shadowOffsetY&&(t.context.shadowOffsetY=a.shadowOffsetY),this._shared(r),this._isInteractive()&&!e&&(o.fillStyle=this._getColorId(),this._shared(o))}},{key:"_getFontStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.style,n=[];return t&&t.fontVariant?n.push(t.fontVariant):i.fontVariant&&n.push(i.fontVariant),e||(t&&t.fontWeight?n.push(t.fontWeight):i.fontWeight&&n.push(i.fontWeight)),t&&t.fontStyle?n.push(t.fontStyle):i.fontStyle&&n.push(i.fontStyle),t&&t.fontSize?(H(t.fontSize)&&(t.fontSize=t.fontSize+"px"),n.push(t.fontSize)):i.fontSize&&(H(i.fontSize)&&(i.fontSize=i.fontSize+"px"),n.push(i.fontSize)),t&&t.fontFamily?n.push(t.fontFamily):i.fontFamily?n.push(i.fontFamily):n.length&&n.push("Arial"),n.join(" ")}},{key:"_render",value:function(t){var e=this,i=this._layer||t;if(this._textInfo||this._measure(i),this.textVisible){var n=this._isInteractive(),r=i.context,o=i.dirty,a=this._renderer._ghostLayer.context;r.save(),a.save(),this._prerender(i),b(this._textInfo,(function(t,i){b(t.textChunks,(function(i,s){if(i.style&&(r.save(),a.save(),r.font=i.style,e._isInteractive()&&(a.font=i.style)),i.fill&&(r.save(),r.fillStyle=i.fill.toCSS()),o&&r.fillText(i.text,i.offsetX,t.offsetY+i.offsetY),"underline"==i.textDecoration||"line-through"==i.textDecoration){var l,u=1,h=1,c=i.height,d=i.offsetX;switch(e.style.textAlign){case"right":case"end":d-=i.width;break;case"center":d-=i.width/2}if(i.style)switch(ze.getTextStyle(i.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":u=2}c&&(h=c/20),l="line-through"==i.textDecoration?u+t.offsetY+i.offsetY-i.height/2:u+1.5*h+t.offsetY+i.offsetY,r.save(),r.beginPath(),i.fill?r.strokeStyle=i.fill.toCSS():e.style.fill&&e.style.fill instanceof te&&(r.strokeStyle=e.style.fill.toCSS()),r.lineWidth=u*h,r.moveTo(d,l),r.lineTo(d+i.width,l),r.stroke(),r.restore()}n&&e.interactive&&a.fillText(i.text,i.offsetX,t.offsetY+i.offsetY),i.fill&&r.restore(),i.style&&(r.restore(),a.restore())}))})),r.restore(),a.restore()}}},{key:"_addBounds",value:function(t){if(this.visible&&this.isMeasured){var e=this._measure(this.getLayer());Ni(t,{x:e.left,y:e.top}),Ni(t,{x:e.right,y:e.bottom})}}},{key:"_ignoreFontWeight",value:function(){return/apple/i.test(navigator.vendor)}},{key:"_measure",value:function(t){var e=this,i=t.context,n=this._renderer._ghostLayer.context,r="rtl"==this.style.direction;this._textInfo=[];var o=this.style.oversizedBehavior,a=this.style.maxWidth,s=H(a)&&"truncate"==o,l=H(a)&&("wrap"==o||"wrap-no-break"==o);i.save(),n.save(),this._prerender(t,!0,this._ignoreFontWeight());var u,h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",c=this.text.toString().replace(/\r/g,"").split(/\n/),d=!0,f=0,p=0,g=0;b(c,(function(t,r){var o;o=""==t?[{type:"value",text:""}]:ze.chunk(t,!1,e.style.ignoreFormatting);for(var c=function(){var t,r={offsetY:g,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},c=e._measureText(h,i),m=c.actualBoundingBoxAscent+c.actualBoundingBoxDescent;r.height=m,r.ascent=c.actualBoundingBoxAscent;var v,y,b,x=e.style.textDecoration,k=!1,_=!0,S=[];w(o,(function(c,f){if("format"==c.type)if("[/]"==c.text)d||(i.restore(),n.restore(),d=!0),v=void 0,u=void 0,y=void 0,x=e.style.textDecoration,b=void 0,t=c.text;else{d||(i.restore(),n.restore());var p=ze.getTextStyle(c.text),g=e._getFontStyle(p);i.save(),n.save(),i.font=g,u=g,t=c.text,p.textDecoration&&(x=p.textDecoration),p.fill&&(v=p.fill),p.width&&(y=R(p.width)),p.verticalAlign&&(b=p.verticalAlign),d=!1;var m=e._measureText(h,i),w=m.actualBoundingBoxAscent+m.actualBoundingBoxDescent;w>r.height&&(r.height=w),m.actualBoundingBoxAscent>r.ascent&&(r.ascent=m.actualBoundingBoxAscent)}else if("value"==c.type&&!k){var C=e._measureText(c.text,i),M=C.actualBoundingBoxLeft+C.actualBoundingBoxRight;if(s){var P=_||e.style.breakWords||!1,T=e.style.ellipsis||"",D=e._measureText(T,i),N=D.actualBoundingBoxLeft+D.actualBoundingBoxRight;if(r.width+M>a){var I=a-r.width-N;c.text=e._truncateText(i,c.text,I,P),c.text+=T,k=!0}}else if(l&&r.width+M>a){var E=a-r.width,A=e._truncateText(i,c.text,E,!1,_&&"wrap-no-break"!=e.style.oversizedBehavior);if(""==A)return e.textVisible=!0,!1;S=o.slice(f+1),Rt(A)!=Rt(c.text)&&(S.unshift({type:"value",text:c.text.substr(A.length)}),t&&S.unshift({type:"format",text:t})),c.text=Rt(A),o=[],k=!0}var O=1,L=1;if(u&&y&&y>M){var j=M/y;switch(e.style.textAlign){case"right":case"end":O=j;break;case"center":O=j,L=j;break;default:L=j}M=y}var B=C.actualBoundingBoxAscent+C.actualBoundingBoxDescent;B>r.height&&(r.height=B),C.actualBoundingBoxAscent>r.ascent&&(r.ascent=C.actualBoundingBoxAscent),r.width+=M,r.left+=C.actualBoundingBoxLeft/O,r.right+=C.actualBoundingBoxRight/L,r.textChunks.push({style:u,fill:v,text:c.text,width:M,height:B,left:C.actualBoundingBoxLeft,right:C.actualBoundingBoxRight,ascent:C.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:x,verticalAlign:b}),_=!1}return!0})),e.style.lineHeight instanceof dt?(r.height*=e.style.lineHeight.value,r.ascent*=e.style.lineHeight.value):(r.height*=e.style.lineHeight||1.2,r.ascent*=e.style.lineHeight||1.2),f<r.left&&(f=r.left),p<r.right&&(p=r.right),e._textInfo.push(r),g+=r.height,o=S||[]};o.length>0;)c()})),d||(i.restore(),n.restore()),b(this._textInfo,(function(t,i){var n=0;b(t.textChunks,(function(i){if(i.offsetX=n+i.left-t.left,i.offsetY+=t.height-t.height*(e.style.baselineRatio||.19),n+=i.width,i.verticalAlign)switch(i.verticalAlign){case"super":i.offsetY-=t.height/2-i.height/2;break;case"sub":i.offsetY+=i.height/2}}))}));var m={left:r?-p:-f,top:0,right:r?f:p,bottom:g};if("none"!==o){var v=this._fitRatio(m);if(v<1)if("fit"==o)H(this.style.minScale)&&v<this.style.minScale?(this.textVisible=!1,m.left=0,m.top=0,m.right=0,m.bottom=0):(this._originalScale&&1!=this._originalScale||(this._originalScale=this.scale),this.scale=v,this.textVisible=!0);else if("hide"==o)this.textVisible=!1,m.left=0,m.top=0,m.right=0,m.bottom=0;else{switch(this.style.textAlign){case"right":case"end":m.left=-a,m.right=0;break;case"center":m.left=-a/2,m.right=a/2;break;default:m.left=0,m.right=a}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return i.restore(),n.restore(),m}},{key:"_fitRatio",value:function(t){var e=this.style.maxWidth,i=this.style.maxHeight;if(!H(e)&&!H(i))return 1;var n=t.right-t.left,r=t.bottom-t.top;return Math.min(e/n||1,i/r||1)}},{key:"_truncateText",value:function(t,e,i){var n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];do{if(r)e=e.slice(0,-1);else{var a=e.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if(""==a&&o)r=!0;else{if(""==a)return e;e=a}}var s=this._measureText(e,t);n=s.actualBoundingBoxLeft+s.actualBoundingBoxRight}while(n>i&&""!=e);return e}},{key:"_measureText",value:function(t,e){var i=e.measureText(t),n={};if(null==i.actualBoundingBoxAscent){var r=document.createElement("div");r.innerText=t,r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000000px;",r.style.fontFamily=this.style.fontFamily||"",r.style.fontSize=this.style.fontSize+"",document.body.appendChild(r);var o=r.getBoundingClientRect();document.body.removeChild(r);var a=o.height,s=i.width;n={actualBoundingBoxAscent:a,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:s,fontBoundingBoxAscent:a,fontBoundingBoxDescent:0,width:s}}else n={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};var l=i.width;switch(this.style.textAlign){case"right":case"end":n.actualBoundingBoxLeft=l,n.actualBoundingBoxRight=0;break;case"center":n.actualBoundingBoxLeft=l/2,n.actualBoundingBoxRight=l/2;break;default:n.actualBoundingBoxLeft=0,n.actualBoundingBoxRight=l}return n}}]),i}(Ti),$i=h((function t(){a(this,t),Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:ft(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})})),tn=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(g(t),"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(g(t),"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return h(i,[{key:"_render",value:function(t){if("circular"===this.textType)this._renderCircular(t);else d(c(i.prototype),"_render",this).call(this,t)}},{key:"_renderCircular",value:function(t){if(this.textVisible){var e=this._layer||t;this._prerender(e);var i=this._isInteractive(),n=e.context,r=e.dirty,o=this._renderer._ghostLayer.context;n.save(),i&&o.save(),this._textInfo||this._measure(e);var a=this.radius||0,s=this.startAngle||0,l=0,u=this.orientation,h="auto"==u?"auto":"inward"==u,c=this.inside,d=this.style.textAlign||"left",f=this.kerning||0,p="left"==d?1:-1,g=!this._textReversed;if("auto"==h){var m=0,v=0;b(this._textInfo,(function(t,e){var i=s+t.width/(a-t.height)/2*-p;i>m&&(m=i)})),v=Se(v="left"==d?(m+l/2)*xe:"right"==d?(m-l/2)*xe:s*xe),h=v>=270||v<=90}1==h&&g&&(this._textInfo.reverse(),this._textReversed=!0),b(this._textInfo,(function(t,e){var u=t.height;c||(a+=u),(-1==p&&h||1==p&&!h)&&g&&t.textChunks.reverse();var m=s;l=0,"center"==d&&(m+=t.width/(a-u)/2*-p,l=m-s),m+=Math.PI*(h?0:1),n.save(),i&&o.save(),n.rotate(m),i&&o.rotate(m);var v=0;b(t.textChunks,(function(t,e){var s=t.text,l=t.width;v=l/2/(a-u)*p,n.rotate(v),i&&o.rotate(v),t.style&&(n.save(),o.save(),n.font=t.style,i&&(o.font=t.style)),t.fill&&(n.save(),n.fillStyle=t.fill.toCSS()),n.textBaseline="middle",n.textAlign="center",i&&(o.textBaseline="middle",o.textAlign="center"),r&&n.fillText(s,0,(h?1:-1)*(0-a+u/2)),i&&o.fillText(s,0,(h?1:-1)*(0-a+u/2)),t.fill&&n.restore(),t.style&&(n.restore(),o.restore()),v=(l/2+f)/(a-u)*p,n.rotate(v),i&&o.rotate(v)})),n.restore(),i&&o.restore(),c&&(a-=u)})),n.restore(),i&&o.restore()}}},{key:"_measure",value:function(t){return"circular"===this.textType?this._measureCircular(t):d(c(i.prototype),"_measure",this).call(this,t)}},{key:"_measureCircular",value:function(t){var e,i=this,n=t.context,r=this._renderer._ghostLayer.context,o="rtl"==this.style.direction,a=this.style.oversizedBehavior,s=this.style.maxWidth,l=H(s)&&"truncate"==a,u=this.style.ellipsis||"";this.textVisible=!0,this._textInfo=[],this._textReversed=!1,n.save(),r.save(),this._prerender(t,!0);var h=this.text.toString().replace(/\r/g,"").split(/\n/),c=!0,d=0,f=0;return b(h,(function(t,a){var h,p,g,m=ze.chunk(t,!1,i.style.ignoreFormatting),v={offsetY:f,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};b(m,(function(t,a){if("format"==t.type){if("[/]"==t.text)c||(n.restore(),r.restore(),c=!0),p=void 0,h=void 0,g=void 0;else{var f=ze.getTextStyle(t.text),m=i._getFontStyle(f);n.save(),r.save(),n.font=m,h=m,f.fill&&(p=f.fill),f.width&&(g=R(f.width)),c=!1}l&&(e=i._measureText(u,n))}else if("value"==t.type){var y=t.text.match(/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g)||[];o&&y.reverse();for(var b=0;b<y.length;b++){var x=y[b],w=i._measureText(x,n),k=w.width;h&&g&&g>k&&(k=g);var _=w.actualBoundingBoxAscent+w.actualBoundingBoxDescent;if(_>v.height&&(v.height=_),w.actualBoundingBoxAscent>v.ascent&&(v.ascent=w.actualBoundingBoxAscent),v.width+=k,v.left+=w.actualBoundingBoxLeft,v.right+=w.actualBoundingBoxRight,v.textChunks.push({style:h,fill:p,text:x,width:k,height:_+w.actualBoundingBoxDescent,left:w.actualBoundingBoxLeft,right:w.actualBoundingBoxRight,ascent:w.actualBoundingBoxAscent,offsetX:0,offsetY:_,textDecoration:void 0}),d+=k,l){e||(e=i._measureText(u,n));var S=e.actualBoundingBoxLeft+e.actualBoundingBoxRight;if((d+=S)+S>s){1==v.textChunks.length?i.textVisible=!1:(v.width+=S,v.left+=e.actualBoundingBoxLeft,v.right+=e.actualBoundingBoxRight,v.textChunks.push({style:h,fill:p,text:u,width:S,height:_+e.actualBoundingBoxDescent,left:e.actualBoundingBoxLeft,right:e.actualBoundingBoxRight,ascent:e.actualBoundingBoxAscent,offsetX:0,offsetY:_,textDecoration:void 0}));break}}if(o)break}}})),i.style.lineHeight instanceof dt?v.height*=i.style.lineHeight.value:v.height*=i.style.lineHeight||1.2,i._textInfo.push(v),f+=v.height})),c||(n.restore(),r.restore()),"hide"==a&&d>s&&(this.textVisible=!1),b(this._textInfo,(function(t){b(t.textChunks,(function(e){e.offsetY+=Math.round((t.height-e.height+(t.ascent-e.ascent))/2)}))})),n.restore(),r.restore(),{left:0,top:0,right:0,bottom:0}}}]),i}(Qi),en=function(t){p(i,t);var e=m(i);function i(t,n){var r;return a(this,i),r=e.call(this,t),Object.defineProperty(g(r),"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(r),"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.image=n,r}return h(i,[{key:"_dispose",value:function(){d(c(i.prototype),"_dispose",this).call(this),this._imageMask&&Mi(this._imageMask)}},{key:"getLocalBounds",value:function(){if(!this._localBounds){var t=0,e=0;this.width&&(t=this.width),this.height&&(e=this.height),this._localBounds={left:0,top:0,right:t,bottom:e},this._addBounds(this._localBounds)}return this._localBounds}},{key:"_render",value:function(t){if(d(c(i.prototype),"_render",this).call(this,t),this.image){var e=this._layer||t;if(void 0===this.tainted&&(this.tainted=Ci(this.image),e.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.dirty){this.shadowColor&&(e.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.context.shadowOffsetY=this.shadowOffsetY);var n=this.width||this.image.naturalWidth,r=this.height||this.image.naturalHeight;e.context.drawImage(this.image,0,0,n,r)}if(this.interactive&&this._isInteractive()){var o=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(o,0,0)}}}},{key:"clear",value:function(){d(c(i.prototype),"clear",this).call(this),this.image=void 0,this._imageMask=void 0}},{key:"_getMask",value:function(t){if(void 0===this._imageMask){var e=this.width||t.naturalWidth,i=this.height||t.naturalHeight,n=document.createElement("canvas");n.width=e,n.height=i;var r=n.getContext("2d");r.imageSmoothingEnabled=!1,r.fillStyle=this._getColorId(),r.fillRect(0,0,e,i),Ci(t)||(r.globalCompositeOperation="destination-in",r.drawImage(t,0,0,e,i)),this._imageMask=n}return this._imageMask}}]),i}(Ti),nn=h((function t(e,i,n,r){a(this,t),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Mt("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null})),rn=function(t){p(i,t);var e=m(i);function i(t){var n;if(a(this,i),n=e.call(this),Object.defineProperty(g(n),"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(g(n),"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(g(n),"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(n),"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(n),"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:n.getLayer(0)}),Object.defineProperty(g(n),"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new on}),Object.defineProperty(g(n),"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(g(n),"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:n._patternCanvas.getContext("2d")}),Object.defineProperty(g(n),"_domWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"_domHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"_canvasWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"_canvasHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(g(n),"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(n),"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(n),"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(g(n),"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(n),"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(g(n),"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(n),"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(n),"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(n),"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(g(n),"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(n),"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n.resolution=null==t?window.devicePixelRatio:t,n.view.style.position="absolute",n.view.appendChild(n._layerDom),n._disposers.push(new I((function(){X(n._events,(function(t,e){e.disposer.dispose()})),b(n.layers,(function(t){Mi(t.view),t.exportableView&&Mi(t.exportableView)})),Mi(n._ghostLayer.view),Mi(n._patternCanvas)}))),n._disposers.push(Ct((function(){null==t&&(n.resolution=window.devicePixelRatio)}))),Mt("touchevents")){var r=function(t){0!==n._dragging.length&&w(n._dragging,(function(e){return!e.value.shouldCancelTouch()||(t.preventDefault(),!1)})),n._touchActiveTimeout&&n._delayTouchDeactivate()};n._disposers.push(St(window,"touchstart",r,{passive:!1})),n._disposers.push(St(n.view,"touchstart",r,{passive:!1})),n._disposers.push(St(n.view,"touchmove",(function(){n._touchActiveTimeout&&n._delayTouchDeactivate()}),{passive:!0})),n._disposers.push(St(window,"click",(function(t){n._touchActive=!1}),{passive:!0})),n._disposers.push(St(n.view,"click",(function(t){window.setTimeout((function(){n._touchActive=!0,n._delayTouchDeactivate()}),100)}),{passive:!0}))}return Mt("wheelevents")&&n._disposers.push(St(n.view,"wheel",(function(t){var e=!1;n._hovering.forEach((function(t){if(t.wheelable)return e=!0,!1})),e&&t.preventDefault()}),{passive:!1})),n}return h(i,[{key:"_delayTouchDeactivate",value:function(){var t=this;this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout((function(){t._touchActive=!1}),this.tapToActivateTimeout))}},{key:"debugGhostView",get:function(){return!!this._ghostLayer.view.parentNode},set:function(t){t?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}},{key:"createLinearGradient",value:function(t,e,i,n){return this.defaultLayer.context.createLinearGradient(t,e,i,n)}},{key:"createRadialGradient",value:function(t,e,i,n,r,o){return this.defaultLayer.context.createRadialGradient(t,e,i,n,r,o)}},{key:"createPattern",value:function(t,e,i,n,r){return this._patternCanvas.width=n,this._patternCanvas.height=r,this._patternContext.clearRect(0,0,n,r),e.renderDetached(this._patternContext),t.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}},{key:"makeContainer",value:function(){return new Di(this)}},{key:"makeGraphics",value:function(){return new Ji(this)}},{key:"makeText",value:function(t,e){return new Qi(this,t,e)}},{key:"makeTextStyle",value:function(){return new $i}},{key:"makeRadialText",value:function(t,e){return new tn(this,t,e)}},{key:"makePicture",value:function(t){return new en(this,t)}},{key:"resizeLayer",value:function(t){t.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}},{key:"resizeGhost",value:function(){this._ghostLayer.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}},{key:"resize",value:function(t,e,i,n){var r=this;this._canvasWidth=t,this._canvasHeight=e,this._domWidth=i,this._domHeight=n,b(this.layers,(function(t){t&&(t.dirty=!0,r.resizeLayer(t))})),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=n+"px"}},{key:"createDetachedLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:t}),n=new an(e,i);return e.style.position="absolute",e.style.top="0px",e.style.left="0px",n}},{key:"getLayerByOrder",value:function(t){for(var e=this.layers,i=e.length,n=0;n<i;n++){var r=e[n];if(r.order==t)return r}}},{key:"getLayer",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getLayerByOrder(t);if(i)return i;var n=this.createDetachedLayer(99==t);n.order=t,n.visible=e,n.visible&&this.resizeLayer(n);var r=this.layers;r.push(n),r.sort((function(t,e){return t.order>e.order?1:t.order<e.order?-1:0}));for(var o,a=r.length,s=v(r,n)+1;s<a;s++)if(r[s].visible){o=r[s];break}return n.visible&&(void 0===o?this._layerDom.appendChild(n.view):this._layerDom.insertBefore(n.view,o.view)),n}},{key:"render",value:function(t){var e=this;if(this._dirtyLayers.length=0,b(this.layers,(function(t){t&&t.dirty&&t.visible&&(e._dirtyLayers.push(t),t.clear())})),this._ghostLayer.clear(),t.render(this.defaultLayer),this._ghostLayer.context.restore(),b(this.layers,(function(t){if(t){var e=t.context;e.beginPath(),e.moveTo(0,0),e.stroke()}})),b(this._dirtyLayers,(function(t){t.context.restore(),t.dirty=!1})),this._hovering.size&&this._lastPointerMoveEvent){var i=this._lastPointerMoveEvent,n=i.events,r=i.target,o=i.native;b(n,(function(t){e._dispatchGlobalMousemove(t,r,o)}))}}},{key:"paintId",value:function(t){var e=function(t){for(var e=[0,0,0],i=0;i<24;i++)e[i%3]<<=1,e[i%3]|=1&t,t>>=1;return(0|e[2])+(e[1]<<8)+(e[0]<<16)}(++this._colorId),i=te.fromHex(e).toCSS();return this._colorMap[i]=t,i}},{key:"_removeObject",value:function(t){void 0!==t._colorId&&delete this._colorMap[t._colorId]}},{key:"_adjustBoundingBox",value:function(t){var e=this._ghostLayer.margin;return new DOMRect(t.left-e.left,t.top-e.top,t.width+e.left+e.right,t.height+e.top+e.bottom)}},{key:"getEvent",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.view.getBoundingClientRect(),n={x:t.clientX||0,y:t.clientY||0},r={x:n.x-(e?i.left:0),y:n.y-(e?i.top:0)};return new nn(t,n,r,this._adjustBoundingBox(i))}},{key:"_getHitTarget",value:function(t,e,i){if(!(0===e.width||0===e.height||t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom)&&i&&this._layerDom.contains(i)){var n=this._ghostLayer.getImageData(t,e);if(0===n.data[0]&&0===n.data[1]&&0===n.data[2])return!1;var r=te.fromRGB(n.data[0],n.data[1],n.data[2]).toCSS();return this._colorMap[r]}}},{key:"_withEvents",value:function(t,e){var i=this._events[t];if(void 0!==i){i.dispatching=!0;try{e(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,D(i.callbacks,(function(t){return!t.disposed})),0===i.callbacks.length&&(i.disposer.dispose(),delete this._events[t]))}}}},{key:"_dispatchEventAll",value:function(t,e){this.interactionsEnabled&&this._withEvents(t,(function(t){b(t.callbacks,(function(t){t.disposed||t.callback.call(t.context,e)}))}))}},{key:"_dispatchEvent",value:function(t,e,i){if(!this.interactionsEnabled)return!1;var n=!1;return this._withEvents(t,(function(t){b(t.callbacks,(function(t){t.disposed||t.object!==e||(t.callback.call(t.context,i),n=!0)}))})),n}},{key:"_dispatchMousedown",value:function(t,e){var i=this,n=t.button;if(0==n||2==n||1==n||void 0===n){var r=this.getEvent(t),o=this._getHitTarget(r.originalPoint,r.bbox,e);if(o){var a=r.id,s=!1;_i(o,(function(t){var e={id:a,value:t};if(i._mousedown.push(e),!s&&i._dispatchEvent("pointerdown",t,r)){s=!0;var n=i._dragging.some((function(e){return e.value===t&&e.id===a}));n||i._dragging.push(e)}return!0}))}}}},{key:"_dispatchGlobalMousemove",value:function(t,e,i){var n=this,r=this.getEvent(t),o=this._getHitTarget(r.originalPoint,r.bbox,e);r.native=i,o?(this._hovering.forEach((function(t){t.contains(o)||(n._hovering.delete(t),t.cursorOverStyle&&Nt(document.body,"cursor",t._replacedCursorStyle),n._dispatchEvent("pointerout",t,r))})),r.native&&_i(o,(function(t){return n._hovering.has(t)||(n._hovering.add(t),t.cursorOverStyle&&(t._replacedCursorStyle=function(t,e){return t.style[e]}(document.body,"cursor"),Nt(document.body,"cursor",t.cursorOverStyle)),n._dispatchEvent("pointerover",t,r)),!0}))):(this._hovering.forEach((function(t){t.cursorOverStyle&&Nt(document.body,"cursor",t._replacedCursorStyle),n._dispatchEvent("pointerout",t,r)})),this._hovering.clear()),this._dispatchEventAll("globalpointermove",r)}},{key:"_dispatchGlobalMouseup",value:function(t,e){var i=this.getEvent(t);i.native=e,this._dispatchEventAll("globalpointerup",i)}},{key:"_dispatchDragMove",value:function(t){var e=this;if(0!==this._dragging.length){var i=this.getEvent(t),n=i.id;this._dragging.forEach((function(t){t.id===n&&e._dispatchEvent("pointermove",t.value,i)}))}}},{key:"_dispatchDragEnd",value:function(t,e){var i,n=this,r=t.button;if(0==r||void 0===r)i="click";else if(2==r)i="rightclick";else{if(1!=r)return;i="middleclick"}var o=this.getEvent(t),a=o.id;if(0!==this._mousedown.length){var s=this._getHitTarget(o.originalPoint,o.bbox,e);s&&this._mousedown.forEach((function(t){t.id===a&&t.value.contains(s)&&n._dispatchEvent(i,t.value,o)})),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach((function(t){t.id===a&&n._dispatchEvent("pointerup",t.value,o)})),this._dragging.length=0)}},{key:"_dispatchDoubleClick",value:function(t,e){var i=this,n=this.getEvent(t),r=this._getHitTarget(n.originalPoint,n.bbox,e);r&&_i(r,(function(t){return!i._dispatchEvent("dblclick",t,n)}))}},{key:"_dispatchWheel",value:function(t,e){var i=this,n=this.getEvent(t),r=this._getHitTarget(n.originalPoint,n.bbox,e);r&&_i(r,(function(t){return!i._dispatchEvent("wheel",t,n)}))}},{key:"_makeSharedEvent",value:function(t,e){var i=this;if(void 0===this._listeners[t]){var n=e();this._listeners[t]=new O((function(){delete i._listeners[t],n.dispose()}))}return this._listeners[t].increment()}},{key:"_onPointerEvent",value:function(t,e){var i=!1,n=null;function r(){n=null,i=!1}return new A([new I((function(){null!==n&&clearTimeout(n),r()})),St(this.view,Tt(t),(function(t){i=!0,null!==n&&clearTimeout(n),n=window.setTimeout(r,0)})),Si(window,t,(function(t,r){null!==n&&(clearTimeout(n),n=null),e(t,r,i),i=!1}))])}},{key:"_initEvent",value:function(t){var e=this;switch(t){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",(function(){var t=function(t,i,n){e._lastPointerMoveEvent={events:t,target:i,native:n},b(t,(function(t){e._dispatchGlobalMousemove(t,i,n)}))};return new A([e._onPointerEvent("pointerdown",t),e._onPointerEvent("pointermove",t)])}));case"globalpointerup":return this._makeSharedEvent("pointerup",(function(){var t=e._onPointerEvent("pointerup",(function(t,i,n){b(t,(function(t){e._dispatchGlobalMouseup(t,n)})),e._lastPointerMoveEvent={events:t,target:i,native:n}})),i=e._onPointerEvent("pointercancel",(function(t,i,n){b(t,(function(t){e._dispatchGlobalMouseup(t,n)})),e._lastPointerMoveEvent={events:t,target:i,native:n}}));return new I((function(){t.dispose(),i.dispose()}))}));case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",(function(){var t=e._onPointerEvent("pointerdown",(function(t,i){b(t,(function(t){e._dispatchMousedown(t,i)}))})),i=e._onPointerEvent("pointermove",(function(t){b(t,(function(t){e._dispatchDragMove(t)}))})),n=e._onPointerEvent("pointerup",(function(t,i){b(t,(function(t){e._dispatchDragEnd(t,i)}))})),r=e._onPointerEvent("pointercancel",(function(t,i){b(t,(function(t){e._dispatchDragEnd(t,i)}))}));return new I((function(){t.dispose(),i.dispose(),n.dispose(),r.dispose()}))}));case"dblclick":return this._makeSharedEvent("dblclick",(function(){return e._onPointerEvent("dblclick",(function(t,i){b(t,(function(t){e._dispatchDoubleClick(t,i)}))}))}));case"wheel":return this._makeSharedEvent("wheel",(function(){return St(window,Tt("wheel"),(function(t){e._dispatchWheel(t,It(t))}),{passive:!1})}))}}},{key:"_addEvent",value:function(t,e,i,n){var r=this,o=this._events[e];void 0===o&&(o=this._events[e]={disposer:this._initEvent(e),callbacks:[],dispatching:!1,cleanup:!1});var a={object:t,context:n,callback:i,disposed:!1};return o.callbacks.push(a),new I((function(){a.disposed=!0,o.dispatching?o.cleanup=!0:(_(o.callbacks,a),0===o.callbacks.length&&(o.disposer.dispose(),delete r._events[e]))}))}},{key:"getCanvas",value:function(t,e){var i=this;this.render(t),e||(e={});var n=this.resolution,r=Math.floor(this._canvasWidth*this.resolution),o=Math.floor(this._canvasHeight*this.resolution);if(e.minWidth&&e.minWidth>r){var a=e.minWidth/r;a>n&&(n=a*this.resolution)}if(e.minHeight&&e.minHeight>o){var s=e.minHeight/o;s>n&&(n=s*this.resolution)}if(e.maxWidth&&e.maxWidth<r){var l=e.maxWidth/r;l<n&&(n=l*this.resolution)}if(e.maxHeight&&e.maxHeight>o){var u=e.maxHeight/o;u<n&&(n=u*this.resolution)}e.maintainPixelRatio&&(n/=this.resolution);var h=[],c=!1,d=document.createElement("canvas");n!=this.resolution&&(c=!0,r=r*n/this.resolution,o=o*n/this.resolution),d.width=r,d.height=o,d.style.position="fixed",d.style.top="-10000px",this.view.appendChild(d),h.push(d);var f=d.getContext("2d"),p=0,g=0,m=!1;return b(this.layers,(function(t){if(t&&t.visible&&(t.tainted||c)){m=!0,t.exportableView=t.view,t.exportableContext=t.context,t.view=document.createElement("canvas"),t.view.style.position="fixed",t.view.style.top="-10000px",i.view.appendChild(t.view),h.push(t.view);var e=0,a=0;t.margin&&(e+=t.margin.left||0+t.margin.right||0,a+=t.margin.top||0+t.margin.bottom||0),t.view.width=r+e,t.view.height=o+a,t.context=t.view.getContext("2d"),t.dirty=!0,t.scale=n}})),m&&(this._omitTainted=!0,this.render(t),this._omitTainted=!1),b(this.layers,(function(t){if(t&&t.visible){var e=0,n=0;t.margin&&(e=-(t.margin.left||0)*i.resolution,n=-(t.margin.top||0)*i.resolution),f.drawImage(t.view,e,n),t.exportableView&&(t.view=t.exportableView,t.exportableView=void 0),t.exportableContext&&(t.context=t.exportableContext,t.exportableContext=void 0),p<t.view.clientWidth&&(p=t.view.clientWidth),g<t.view.clientHeight&&(g=t.view.clientHeight),t.scale=void 0}})),d.style.width=p+"px",d.style.height=g+"px",b(h,(function(t){t.style.position="",t.style.top="",i.view.removeChild(t)})),d}}]),i}(E),on=function(){function t(){a(this,t),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}return h(t,[{key:"resize",value:function(t,e,i,n,r){t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(t*r),this._height=Math.floor(e*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=n+"px"}},{key:"getImageData",value:function(t,e){return this.context.getImageData(Math.round((t.x-e.left)/e.width*this._width),Math.round((t.y-e.top)/e.height*this._height),1,1)}},{key:"setMargin",value:function(t){var e=this;this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,b(t,(function(t){t.margin&&(e.margin.left=Math.max(e.margin.left,t.margin.left),e.margin.right=Math.max(e.margin.right,t.margin.right),e.margin.top=Math.max(e.margin.top,t.margin.top),e.margin.bottom=Math.max(e.margin.bottom,t.margin.bottom))}))}},{key:"clear",value:function(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}]),t}(),an=function(){function t(e,i){a(this,t),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=i}return h(t,[{key:"resize",value:function(t,e,i,n,r){null!=this.width&&(t=this.width,i=this.width),null!=this.height&&(e=this.height,n=this.height),this.margin?(t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(t*r),this._height=Math.floor(e*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=n+"px"}},{key:"clear",value:function(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}]),t}();function sn(t,e){null==t?requestAnimationFrame(e):setTimeout((function(){requestAnimationFrame(e)}),1e3/t)}var ln=function(){function t(e){var i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(a(this,t),Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new G}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:li.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:si}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ei.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:oi.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ai.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Be.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:je.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:Fe.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!o)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");if(this._settings=r,0==r.accessible&&(this._a11yD=!0),null==r.useSafeResolution&&(r.useSafeResolution=!0),r.useSafeResolution&&(i=At()),this._renderer=new rn(i),n=e instanceof HTMLElement?e:document.getElementById(e),b(ot.rootElements,(function(t){if(t.dom===n)throw new Error("You cannot have multiple Roots on the same DOM node")})),this.interfaceColors=Je.new(this,{}),null===n)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=n;var s=document.createElement("div");s.style.position="relative",s.style.height="100%",n.appendChild(s);var l=r.tooltipContainerBounds;l&&(this._tooltipContainerSettings=l),this._inner=s,this._updateComputedStyles(),ot.rootElements.push(this)}return h(t,[{key:"moveDOM",value:function(t){var e;if(e=t instanceof HTMLElement?t:document.getElementById(t)){for(;this.dom.childNodes.length>0;)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}},{key:"_handleLogo",value:function(){if(this._logo){var t=this.dom.offsetWidth,e=this.dom.offsetHeight;t<=150||e<=60?this._logo.hide():this._logo.show()}}},{key:"_showBranding",value:function(){if(!this._logo){var t=this.tooltipContainer.children.push(Ge.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:ft(100),centerY:pt,tooltipText:"Created using amCharts 5",tooltipX:pt,cursorOverStyle:"pointer",background:Oe.new(this,{fill:$t(4671320),fillOpacity:0,tooltipY:5})})),e=ti.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});e.label.setAll({fontSize:12}),e.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),t.set("tooltip",e),t.events.on("click",(function(){window.open("https://www.amcharts.com/","_blank")})),t.states.create("hover",{}),t.children.push(Ae.new(this,{stroke:$t(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:$t(3976191)}),t.children.push(Ae.new(this,{stroke:$t(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:$t(4671320)}),this._logo=t,this._handleLogo()}}},{key:"_getRealSize",value:function(){return this.dom.getBoundingClientRect()}},{key:"_getCalculatedSize",value:function(t){return this._settings.calculateSize?this._settings.calculateSize(t):{width:t.width,height:t.height}}},{key:"_init",value:function(){var t=this,e=this._renderer,i=this._getRealSize(),n=this._getCalculatedSize(i),r=Math.floor(n.width),o=Math.floor(n.height),a=Math.floor(i.width),s=Math.floor(i.height),l=Ge.new(this,{visible:!0,width:a,height:s});this._rootContainer=l,this._rootContainer._defaultThemes.push(hi.new(this));var u=l.children.push(Ge.new(this,{visible:!0,width:pt,height:pt}));this.container=u,e.resize(a,s,r,o),this._inner.appendChild(e.view),this._initResizeSensor();var h=document.createElement("div");if(this._htmlElementContainer=h,h.className="am5-html-container",h.style.position="absolute",h.style.pointerEvents="none",this._tooltipContainerSettings||(h.style.overflow="hidden"),this._inner.appendChild(h),!0!==this._a11yD){var c=document.createElement("div");c.className="am5-reader-container",c.setAttribute("role","alert"),c.style.position="absolute",c.style.width="1px",c.style.height="1px",c.style.overflow="hidden",c.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=c,this._inner.appendChild(this._readerAlertElement);var d=document.createElement("div");d.className="am5-focus-container",d.style.position="absolute",d.style.pointerEvents="none",d.style.top="0px",d.style.left="0px",d.style.overflow="hidden",d.style.width=r+"px",d.style.height=o+"px",d.setAttribute("role","application"),Et(d,!1),this._focusElementContainer=d,this._inner.appendChild(this._focusElementContainer);var f=document.createElement("div");this._tooltipElementContainer=f,f.className="am5-tooltip-container",this._inner.appendChild(f),Mt("keyboardevents")&&(this._disposers.push(St(window,"keydown",(function(e){16==e.keyCode?t._isShift=!0:9==e.keyCode&&(t._isShift=e.shiftKey)}))),this._disposers.push(St(window,"keyup",(function(e){16==e.keyCode&&(t._isShift=!1)}))),this._disposers.push(St(d,"keydown",(function(i){var n=t._focusedSprite;if(n){27==i.keyCode&&(!function(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}(),t._focusedSprite=void 0);var r=0,o=0;switch(i.keyCode){case 13:i.preventDefault();var a=e.getEvent(new MouseEvent("click"));return void n.events.dispatch("click",{type:"click",originalEvent:a.event,point:a.point,simulated:!0,target:n});case 37:r=-6;break;case 39:r=6;break;case 38:o=-6;break;case 40:o=6;break;default:return}if(0!=r||0!=o){if(i.preventDefault(),!n.isDragging()){t._keyboardDragPoint={x:0,y:0};var s=e.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));n.events.isEnabled("pointerdown")&&n.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:s.event,point:s.point,simulated:!0,target:n})}var l=t._keyboardDragPoint;l.x+=r,l.y+=o;var u=e.getEvent(new MouseEvent("mousemove",{clientX:l.x,clientY:l.y}),!1);n.events.isEnabled("globalpointermove")&&n.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:u.event,point:u.point,simulated:!0,target:n})}}}))),this._disposers.push(St(d,"keyup",(function(i){if(t._focusedSprite){var n=t._focusedSprite,r=i.keyCode;switch(r){case 37:case 39:case 38:case 40:if(n.isDragging()){var o=t._keyboardDragPoint,a=e.getEvent(new MouseEvent("mouseup",{clientX:o.x,clientY:o.y}));return n.events.isEnabled("globalpointerup")&&n.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:a.event,point:a.point,simulated:!0,target:n}),void(t._keyboardDragPoint=void 0)}if(n.get("focusableGroup")){var s=n.get("focusableGroup"),l=t._tabindexes.filter((function(t){return t.get("focusableGroup")==s})),u=l.indexOf(n),h=l.length-1;(u+=39==r||40==r?1:-1)<0?u=h:u>h&&(u=0),(c=l[u].getPrivate("focusElement").dom)&&c.focus()}}}var c}))))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}},{key:"_initResizeSensor",value:function(){var t=this;this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Ze(this.dom,(function(){t.autoResize&&t.resize()})),this._disposers.push(this._resizeSensorDisposer)}},{key:"resize",value:function(){var t=this._getRealSize(),e=this._getCalculatedSize(t),i=Math.floor(e.width),n=Math.floor(e.height);if(i>0&&n>0){var r=Math.floor(t.width),o=Math.floor(t.height),a=this._htmlElementContainer;if(a.style.width=i+"px",a.style.height=n+"px",!0!==this._a11yD){var s=this._focusElementContainer;s.style.width=i+"px",s.style.height=n+"px"}this._renderer.resize(r,o,i,n);var l=this._rootContainer;l.setPrivate("width",r),l.setPrivate("height",o),this._render(),this._handleLogo()}}},{key:"_render",value:function(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}},{key:"_runTickers",value:function(t){b(this._tickers,(function(e){e(t)}))}},{key:"_runAnimations",value:function(t){D(this._animations,(function(e){return e._runAnimation(t)}))}},{key:"_runDirties",value:function(){for(var t=this,e={};this._isDirtyParents;)this._isDirtyParents=!1,K(this._dirtyParents).forEach((function(i){var n=t._dirtyParents[i];delete t._dirtyParents[i],n.isDisposed()||(e[n.uid]=n,n._prepareChildren())}));K(e).forEach((function(t){e[t]._updateChildren()}));var i=[];K(this._dirty).forEach((function(e){var n=t._dirty[e];n.isDisposed()?delete t._dirty[n.uid]:(i.push(n),n._beforeChanged())})),i.forEach((function(e){e._changed(),delete t._dirty[e.uid],e._clearDirty()})),this._isDirty=!1;var n={},r=[];K(this._dirtyBounds).forEach((function(e){var i=t._dirtyBounds[e];delete t._dirtyBounds[e],i.isDisposed()||(n[i.uid]=i.depth(),r.push(i))})),this._positionHTMLElements(),r.sort((function(t,e){return tt(n[e.uid],n[t.uid])})),r.forEach((function(t){t._updateBounds()}));var o=this._dirtyPositions;K(o).forEach((function(t){var e=o[t];delete o[t],e.isDisposed()||e._updatePosition()})),i.forEach((function(t){t._afterChanged()}))}},{key:"_renderFrame",value:function(t){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:t}),this._checkComputedStyles(),this._runTickers(t),this._runAnimations(t),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:t}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}},{key:"_runTicker",value:function(t,e){this.isDisposed()||(this.animationTime=t,this._renderFrame(t)?(this._ticker=null,this.animationTime=null):this._paused||(e?this._ticker:sn(this.fps,this._ticker)))}},{key:"_runTickerNow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;if(!this.isDisposed())for(var e=performance.now()+t;;){var i=performance.now();if(i>=e){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}},{key:"_startTicker",value:function(){var t=this;null===this._ticker&&(this.animationTime=null,this._ticker=function(e){t._runTicker(e)},sn(this.fps,this._ticker))}},{key:"updateTick",get:function(){return this._updateTick},set:function(t){this._updateTick=t,t&&this._startTicker()}},{key:"_addDirtyEntity",value:function(t){void 0===this._dirty[t.uid]&&(this._isDirty=!0,this._dirty[t.uid]=t,this._startTicker())}},{key:"_addDirtyParent",value:function(t){void 0===this._dirtyParents[t.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[t.uid]=t,this._startTicker())}},{key:"_addDirtyBounds",value:function(t){void 0===this._dirtyBounds[t.uid]&&(this._isDirty=!0,this._dirtyBounds[t.uid]=t,this._startTicker())}},{key:"_addDirtyPosition",value:function(t){void 0===this._dirtyPositions[t.uid]&&(this._isDirty=!0,this._dirtyPositions[t.uid]=t,this._startTicker())}},{key:"_addAnimation",value:function(t){-1===this._animations.indexOf(t)&&(this._animations.push(t),this._startTicker())}},{key:"_markDirty",value:function(){this._isDirty=!0}},{key:"_markDirtyRedraw",value:function(){var t=this;this.events.once("frameended",(function(){t._isDirty=!0,t._startTicker()}))}},{key:"eachFrame",value:function(t){var e=this;return this._tickers.push(t),this._startTicker(),new I((function(){_(e._tickers,t)}))}},{key:"markDirtyGlobal",value:function(t){var e=this;t||(t=this.container),t.walkChildren((function(t){t instanceof Ge&&e.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()}))}},{key:"width",value:function(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}},{key:"height",value:function(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}},{key:"dispose",value:function(){var t;this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),b(this._disposers,(function(t){t.dispose()})),this._inner&&(t=this._inner).parentNode&&t.parentNode.removeChild(t),k(ot.rootElements,this))}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"readerAlert",value:function(t){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=Bt(t))}},{key:"setThemes",value:function(t){this._rootContainer.set("themes",t);var e=this.tooltipContainer;e&&e._applyThemes();var i=this.interfaceColors;i&&i._applyThemes()}},{key:"_addTooltip",value:function(){if(!this.tooltipContainer){var t=this._tooltipContainerSettings,e=this._rootContainer.children.push(Ge.new(this,{position:"absolute",isMeasured:!1,width:pt,height:pt,layer:t?35:30,layerMargin:t||void 0}));this.tooltipContainer=e;var i=ti.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}},{key:"_registerTabindexOrder",value:function(t){1!=this._a11yD&&(t.get("focusable")?S(this._tabindexes,t):k(this._tabindexes,t),this._invalidateTabindexes())}},{key:"_unregisterTabindexOrder",value:function(t){1!=this._a11yD&&(k(this._tabindexes,t),this._invalidateTabindexes())}},{key:"_invalidateTabindexes",value:function(){var t=this;if(1!=this._a11yD){this._tabindexes.sort((function(t,e){var i=t.get("tabindexOrder",0),n=e.get("tabindexOrder",0);return i==n?0:i>n?1:-1}));var e=[];b(this._tabindexes,(function(i,n){i.getPrivate("focusElement")?t._moveFocusElement(n,i):t._makeFocusElement(n,i);var r=i.get("focusableGroup");r&&(-1!==e.indexOf(r)?i.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(r))}))}}},{key:"_updateCurrentFocus",value:function(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}},{key:"_decorateFocusElement",value:function(t,e){if(1!=this._a11yD&&(e||(e=t.getPrivate("focusElement").dom),e)){t.get("visible")&&"tooltip"!=t.get("role")&&!t.isHidden()?"-1"!=e.getAttribute("tabindex")&&e.setAttribute("tabindex",""+this.tabindex):e.removeAttribute("tabindex");var i=t.get("role");i?e.setAttribute("role",i):e.removeAttribute("role");var n=t.get("ariaLabel");if(n){var r=He(t,n);e.setAttribute("aria-label",r)}else e.removeAttribute("aria-label");var o=t.get("ariaLive");o?e.setAttribute("aria-live",o):e.removeAttribute("aria-live");var a=t.get("ariaChecked");null!=a?e.setAttribute("aria-checked",a?"true":"false"):e.removeAttribute("aria-checked"),t.get("ariaHidden")?e.setAttribute("aria-hidden","hidden"):e.removeAttribute("aria-hidden");var s=t.get("ariaOrientation");s?e.setAttribute("aria-orientation",s):e.removeAttribute("aria-orientation");var l=t.get("ariaValueNow");l?e.setAttribute("aria-valuenow",l):e.removeAttribute("aria-valuenow");var u=t.get("ariaValueMin");u?e.setAttribute("aria-valuemin",u):e.removeAttribute("aria-valuemin");var h=t.get("ariaValueMax");h?e.setAttribute("aria-valuemax",h):e.removeAttribute("aria-valuemax");var c=t.get("ariaValueText");c?e.setAttribute("aria-valuetext",c):e.removeAttribute("aria-valuetext");var d=t.get("ariaControls");d?e.setAttribute("aria-controls",d):e.removeAttribute("aria-controls")}}},{key:"_makeFocusElement",value:function(t,e){var i=this;if(!e.getPrivate("focusElement")&&1!=this._a11yD){var n=document.createElement("div");"tooltip"!=e.get("role")&&(n.tabIndex=this.tabindex),n.style.position="absolute",Et(n,!1);var r=[];e.setPrivate("focusElement",{dom:n,disposers:r}),this._decorateFocusElement(e),r.push(St(n,"focus",(function(e){i._handleFocus(e,t)}))),r.push(St(n,"blur",(function(e){i._handleBlur(e,t)}))),this._moveFocusElement(t,e)}}},{key:"_removeFocusElement",value:function(t){if(1!=this._a11yD){k(this._tabindexes,t);var e=t.getPrivate("focusElement");if(e)this._focusElementContainer.removeChild(e.dom),b(e.disposers,(function(t){t.dispose()}))}}},{key:"_hideFocusElement",value:function(t){1!=this._a11yD&&(t.getPrivate("focusElement").dom.style.display="none")}},{key:"_moveFocusElement",value:function(t,e){if(1!=this._a11yD){var i=this._focusElementContainer,n=e.getPrivate("focusElement").dom;if(n!==this._focusElementContainer.children[t]){var r=this._focusElementContainer.children[t+1];r?i.insertBefore(n,r):i.append(n)}}}},{key:"_positionFocusElement",value:function(t){if(1!=this._a11yD){var e=t.globalBounds(),i=e.right==e.left?t.width():e.right-e.left,n=e.top==e.bottom?t.height():e.bottom-e.top,r=e.left-2,o=e.top-2;i<0&&(r+=i,i=Math.abs(i)),n<0&&(o+=n,n=Math.abs(n));var a=t.getPrivate("focusElement").dom;a.style.top=o+"px",a.style.left=r+"px",a.style.width=i+4+"px",a.style.height=n+4+"px"}}},{key:"_handleFocus",value:function(t,e){if(1!=this._a11yD){var i=this._tabindexes[e];i.isVisibleDeep()?(this._positionFocusElement(i),this._focusedSprite=i,i.events.isEnabled("focus")&&i.events.dispatch("focus",{type:"focus",originalEvent:t,target:i})):this._focusNext(t.target,this._isShift?-1:1)}}},{key:"_focusNext",value:function(t,e){if(1!=this._a11yD){var i=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(","))),n=i.indexOf(t)+e;n<0?n=i.length-1:n>=i.length&&(n=0),i[n].focus()}}},{key:"_handleBlur",value:function(t,e){if(1!=this._a11yD){var i=this._focusedSprite;i&&i.events.isEnabled("blur")&&i.events.dispatch("blur",{type:"blur",originalEvent:t,target:i}),this._focusedSprite=void 0}}},{key:"updateTooltip",value:function(t){if(1!=this._a11yD){var e=Bt(t._getText()),i=t.getPrivate("tooltipElement");"tooltip"==t.get("role")&&""!=e?(i||(i=this._makeTooltipElement(t)),i.innerHTML!=e&&(i.innerHTML=e)):i&&(i.remove(),t.removePrivate("tooltipElement"))}}},{key:"_makeTooltipElement",value:function(t){var e=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",Et(i,!1),this._decorateFocusElement(t,i),e.append(i),t.setPrivate("tooltipElement",i),i}},{key:"_removeTooltipElement",value:function(t){if(1!=this._a11yD){var e=t.getPrivate("tooltipElement");if(e){var i=e.parentElement;i&&i.removeChild(e)}}}},{key:"_invalidateAccessibility",value:function(t){if(1!=this._a11yD){this._focusElementDirty=!0;var e=t.getPrivate("focusElement");t.get("focusable")?e&&(this._decorateFocusElement(t),this._positionFocusElement(t)):e&&this._removeFocusElement(t)}}},{key:"focused",value:function(t){return this._focusedSprite===t}},{key:"documentPointToRoot",value:function(t){var e=this.dom.getBoundingClientRect();return{x:t.x-e.left,y:t.y-e.top}}},{key:"rootPointToDocument",value:function(t){var e=this.dom.getBoundingClientRect();return{x:t.x+e.left,y:t.y+e.top}}},{key:"addDisposer",value:function(t){return this._disposers.push(t),t}},{key:"_updateComputedStyles",value:function(){var t=window.getComputedStyle(this.dom),e="";X(t,(function(t,i){z(t)&&t.match(/^font/)&&(e+=i)}));var i=e!=this._fontHash;return i&&(this._fontHash=e),i}},{key:"_checkComputedStyles",value:function(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}},{key:"_invalidateLabelBounds",value:function(t){var e=this;t instanceof Ge?t.children.each((function(t){e._invalidateLabelBounds(t)})):t instanceof Ke&&t.markDirtyBounds()}},{key:"_hasLicense",value:function(){for(var t=0;t<ot.licenses.length;t++)if(ot.licenses[t].match(/^AM5C.{5,}/i))return!0;return!1}},{key:"_licenseApplied",value:function(){this._logo&&this._logo.set("forceHidden",!0)}},{key:"debugGhostView",get:function(){return this._renderer.debugGhostView},set:function(t){this._renderer.debugGhostView=t}},{key:"tapToActivate",get:function(){return this._renderer.tapToActivate},set:function(t){this._renderer.tapToActivate=t}},{key:"tapToActivateTimeout",get:function(){return this._renderer.tapToActivateTimeout},set:function(t){this._renderer.tapToActivateTimeout=t}},{key:"_makeHTMLElement",value:function(t){var e=this,i=this._htmlElementContainer,n=document.createElement("div");return t.setPrivate("htmlElement",n),n.style.position="absolute",n.style.overflow="auto",n.style.boxSizing="border-box",Et(n,t.get("interactive",!1)),t.events.isEnabled("click")&&(Et(n,!0),this._disposers.push(St(n,"click",(function(i){var n=e._renderer.getEvent(i);t.events.dispatch("click",{type:"click",originalEvent:n.event,point:n.point,simulated:!1,target:t})})))),this._positionHTMLElement(t),i.append(n),S(this._htmlEnabledContainers,t),n}},{key:"_positionHTMLElements",value:function(){var t=this;b(this._htmlEnabledContainers,(function(e){t._positionHTMLElement(e)}))}},{key:"_positionHTMLElement",value:function(t){var e=t.getPrivate("htmlElement");if(e){b(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],(function(i){var n=t.get(i);e.style[i]=n?n+"px":""}));var i=t.compositeOpacity();setTimeout((function(){e.style.opacity=i+""}),10);var n=t.isVisibleDeep();n&&(e.style.display="block");var r=t.globalBounds();e.style.top=r.top+"px",e.style.left=r.left+"px";var o=t.get("width"),a=t.get("height"),s=0,l=0;if(o&&(s=t.width()),a&&(l=t.height()),o&&a)t.removePrivate("minWidth"),t.removePrivate("minHeight");else{e.style.position="fixed",e.style.width="",e.style.height="";var u=e.getBoundingClientRect();e.style.position="absolute",s=u.width,l=u.height,t._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},t.setPrivate("minWidth",s),t.setPrivate("minHeight",l)}s>0&&(e.style.minWidth=s+"px"),l>0&&(e.style.minHeight=l+"px"),n&&0!=i||(e.style.display="none")}}},{key:"_setHTMLContent",value:function(t,e){var i=t.getPrivate("htmlElement");i||(i=this._makeHTMLElement(t)),i.innerHTML!=e&&(i.innerHTML=e)}},{key:"_removeHTMLContent",value:function(t){var e=t.getPrivate("htmlElement");e&&this._htmlElementContainer.removeChild(e),k(this._htmlEnabledContainers,t)}}],[{key:"new",value:function(e,i){var n=new t(e,i,!0);return n._init(),n}}]),t}(),un=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_afterNew",value:function(){d(c(i.prototype),"_afterNewApplyThemes",this).call(this),this._dirty.colors=!1}},{key:"_beforeChanged",value:function(){this.isDirty("colors")&&this.reset()}},{key:"generateColors",value:function(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);var t=this.getPrivate("currentPass"),e=this.get("colors",[this.get("baseColor",te.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",e.length);for(var i=this.getPrivate("numColors"),n=this.get("passOptions"),r=this.get("reuse"),o=0;o<i;o++)if(r)e.push(e[o]);else{for(var a=e[o].toHSL(),s=a.h+(n.hue||0)*t;s>1;)s-=1;var l=a.s+(n.saturation||0)*t;l>1&&(l=1),l<0&&(l=0);for(var u=a.l+(n.lightness||0)*t;u>1;)u-=1;e.push(te.fromHSL(s,l,u))}}},{key:"getIndex",value:function(t){var e=this.get("colors",[]),i=this.get("saturation");return t>=e.length?(this.generateColors(),this.getIndex(t)):null!=i?te.saturate(e[t],i):e[t]}},{key:"next",value:function(){var t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}},{key:"reset",value:function(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}]),i}(ve);Object.defineProperty(un,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(un,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ve.classNames.concat([un.className])});var hn=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"setupDefaultRules",value:function(){d(c(i.prototype),"setupDefaultRules",this).call(this);var t=this._root.interfaceColors,e=this._root.gridLayout,n=this.rule.bind(this);n("Hierarchy").setAll({legendLabelText:"{category}",legendValueText:"{sum.formatNumber('#.#')}",width:pt,height:pt,colors:un.new(this._root,{step:2}),downDepth:1,initialDepth:5,singleBranchOnly:!0,maskContent:!0,animationEasing:le(se)}),n("HierarchyNode").setAll({toggleKey:"disabled",setStateOnChildren:!0,position:"absolute",isMeasured:!1,cursorOverStyle:"pointer",tooltipText:"{category}: {sum}"}),n("HierarchyNode",["last"]).setAll({cursorOverStyle:"default"});var r=n("Label",["hierarchy","node"]);r.setAll({centerX:gt,centerY:gt,position:"absolute",paddingBottom:1,paddingTop:1,paddingRight:4,paddingLeft:4,text:"{category}",populateText:!0,oversizedBehavior:"fit",minScale:.3}),ui(r,"fill",t,"alternativeText");var o=n("HierarchyLink");o.setAll({isMeasured:!1,position:"absolute",strokeWidth:1,strokeOpacity:1,strength:.9,distance:1.1}),ui(o,"stroke",t,"grid"),n("Circle",["linkedhierarchy","shape"]).setAll({position:"absolute",fillOpacity:1,strokeOpacity:0,radius:15,tooltipY:0}),n("Circle",["linkedhierarchy","shape","outer"]).setAll({position:"absolute",opacity:1,fillOpacity:0,strokeDasharray:0,strokeOpacity:1,radius:15,scale:1.1,interactive:!1}),n("Circle",["linkedhierarchy","shape","outer"]).states.create("disabled",{opacity:1,scale:1.1,strokeDasharray:2}),n("Circle",["linkedhierarchy","shape","outer"]).states.create("hoverDisabled",{scale:1.2,opacity:1,strokeDasharray:2}),n("Circle",["linkedhierarchy","shape","outer"]).states.create("hover",{scale:1.05,strokeDasharray:0}),n("Circle",["linkedhierarchy","shape","outer"]).states.create("hidden",{opacity:0,strokeDasharray:0}),n("BreadcrumbBar").setAll({paddingLeft:8,layout:e});var a=n("Label",["breadcrumb"]);a.setAll({paddingRight:4,paddingLeft:4,cursorOverStyle:"pointer",populateText:!0,text:"{category}:"}),ui(a,"fill",t,"primaryButton"),ui(n("Label",["breadcrumb"]).states.create("hover",{}),"fill",t,"primaryButtonHover"),ui(n("Label",["breadcrumb"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"primaryButtonDown");var s=n("Label",["breadcrumb","last"]);s.setAll({populateText:!0,text:"{category}",fontWeight:"bold",cursorOverStyle:"default"}),ui(s,"fill",t,"primaryButton");var l=n("RoundedRectangle",["breadcrumb","label","background"]);l.setAll({fillOpacity:0}),ui(l,"fill",t,"background"),n("Partition").setAll({downDepth:1,upDepth:0,initialDepth:5}),n("HierarchyNode",["partition"]).setAll({setStateOnChildren:!1}),n("HierarchyNode",["partition"]).states.create("hidden",{opacity:1,visible:!0});var u=n("Label",["partition","node"]);u.setAll({x:gt,y:gt,centerY:gt,centerX:gt,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,rotation:90,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),ui(u,"fill",t,"alternativeText"),n("Label",["horizontal","partition","node"]).setAll({rotation:0});var h=n("RoundedRectangle",["partition","node","shape"]);h.setAll({strokeOpacity:1,strokeWidth:1,cornerRadiusBR:0,cornerRadiusTR:0,cornerRadiusBL:0,cornerRadiusTL:0}),ui(h,"stroke",t,"background"),n("RoundedRectangle",["partition","node","shape","last"]).setAll({fillOpacity:.75}),n("Sunburst").setAll({singleBranchOnly:!0}),n("HierarchyNode",["sunburst"]).setAll({setStateOnChildren:!1}),n("HierarchyNode",["sunburst"]).states.create("hidden",{opacity:0,visible:!1});var f=n("Slice",["sunburst","node","shape"]);f.setAll({strokeOpacity:1,strokeWidth:1,cornerRadius:0}),ui(f,"stroke",t,"background"),n("Slice",["sunburst","node","shape","last"]).setAll({fillOpacity:.75});var p=n("RadialLabel",["sunburst","node"]);p.setAll({x:0,y:0,textType:"radial",paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,centerX:gt,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4,baseRadius:gt,rotation:0}),ui(p,"fill",t,"alternativeText"),n("ForceDirected").setAll({minRadius:ft(1),maxRadius:ft(8),initialFrames:500,centerStrength:.8,manyBodyStrength:-14,velocityDecay:.5,linkWithStrength:.5,showOnFrame:10,singleBranchOnly:!1,upDepth:1/0,downDepth:1,initialDepth:5,topDepth:0}),n("Tree").setAll({orientation:"vertical",paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:20,singleBranchOnly:!1,upDepth:1/0,downDepth:1,initialDepth:5,topDepth:0}),n("Pack").setAll({paddingLeft:20,paddingTop:20,paddingBottom:20,paddingRight:20,nodePadding:0});var g=n("Label",["pack","node"]);g.setAll({centerY:gt,centerX:gt,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),ui(g,"fill",t,"alternativeText");var m=n("Circle",["pack","node","shape"]);m.setAll({strokeOpacity:.5,fillOpacity:.8,strokeWidth:1}),ui(m,"stroke",t,"background"),n("LinkedHierarchyNode").setAll({draggable:!0}),n("LinkedHierarchyNode").states.create("hidden",{scale:0,opacity:0,visible:!1}),n("Treemap").setAll({upDepth:0,layoutAlgorithm:"squarify"});var v=n("Label",["treemap","node"]);v.setAll({x:gt,y:gt,centerY:gt,centerX:gt,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),ui(v,"fill",t,"alternativeText"),n("HierarchyNode",["treemap","node"]).setAll({tooltipY:ft(40),isMeasured:!1,position:"absolute"});var y=n("RoundedRectangle",["treemap","node","shape"]);y.setAll({strokeOpacity:1,strokeWidth:1,cornerRadiusBR:0,cornerRadiusTR:0,cornerRadiusBL:0,cornerRadiusTL:0,fillOpacity:1}),ui(y,"stroke",t,"background")}}]),i}(it),cn=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"incrementRef",value:function(){}},{key:"decrementRef",value:function(){}},{key:"_onPush",value:function(t){this.processor&&this.processor.processRow(t),d(c(i.prototype),"_onPush",this).call(this,t)}},{key:"_onInsertIndex",value:function(t,e){this.processor&&this.processor.processRow(e),d(c(i.prototype),"_onInsertIndex",this).call(this,t,e)}},{key:"_onSetIndex",value:function(t,e,n){this.processor&&this.processor.processRow(n),d(c(i.prototype),"_onSetIndex",this).call(this,t,e,n)}}]),i}(lt),dn=function(t){p(i,t);var e=m(i);function i(t,n,r){var o;return a(this,i),o=e.call(this,r),Object.defineProperty(g(o),"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(o),"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o.dataContext=n,o.component=t,o._settings.visible=!0,o._checkDirty(),o}return h(i,[{key:"markDirty",value:function(){this.component.markDirtyValues(this)}},{key:"_startAnimation",value:function(){this.component._root._addAnimation(this)}},{key:"_animationTime",value:function(){return this.component._root.animationTime}},{key:"_dispose",value:function(){this.component&&this.component.disposeDataItem(this),d(c(i.prototype),"_dispose",this).call(this)}},{key:"show",value:function(t){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,t)}},{key:"hide",value:function(t){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,t)}},{key:"isHidden",value:function(){return!this.get("visible")}}]),i}(me),fn=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_data",{enumerable:!0,configurable:!0,writable:!0,value:new cn}),Object.defineProperty(g(t),"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:t._dataItems}),Object.defineProperty(g(t),"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(g(t),"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return h(i,[{key:"data",get:function(){return this._data},set:function(t){t.incrementRef(),this._data.decrementRef(),this._data=t}},{key:"_dispose",value:function(){d(c(i.prototype),"_dispose",this).call(this),this._data.decrementRef()}},{key:"_onDataClear",value:function(){}},{key:"_afterNew",value:function(){var t=this;d(c(i.prototype),"_afterNew",this).call(this),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((function(e){var i=t._mainDataItems;if(t.markDirtyValues(),t._markDirtyGroup(),t._dataChanged=!0,"clear"===e.type)b(i,(function(t){t.dispose()})),i.length=0,t._onDataClear();else if("push"===e.type){var n=new dn(t,e.newValue,t._makeDataItem(e.newValue));i.push(n),t.processDataItem(n)}else if("setIndex"===e.type){var r=i[e.index],o=t._makeDataItem(e.newValue);r.bullets&&0==r.bullets.length&&(r.bullets=void 0),K(o).forEach((function(e){r.animate({key:e,to:o[e],duration:t.get("interpolationDuration",0),easing:t.get("interpolationEasing")})})),r.dataContext=e.newValue}else if("insertIndex"===e.type){var a=new dn(t,e.newValue,t._makeDataItem(e.newValue));i.splice(e.index,0,a),t.processDataItem(a)}else if("removeIndex"===e.type){i[e.index].dispose(),i.splice(e.index,1)}else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");var s=i[e.oldIndex];i.splice(e.oldIndex,1),i.splice(e.newIndex,0,s)}t._afterDataChange()})))}},{key:"_updateFields",value:function(){var t=this;this.valueFields&&(this._valueFields=[],this._valueFieldsF={},b(this.valueFields,(function(e){t.get(e+"Field")&&(t._valueFields.push(e),t._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},b(this.fields,(function(e){t.get(e+"Field")&&(t._fields.push(e),t._fieldsF[e]=e+"Field")})))}},{key:"dataItems",get:function(){return this._dataItems}},{key:"processDataItem",value:function(t){}},{key:"_makeDataItem",value:function(t){var e=this,i={};return this._valueFields&&b(this._valueFields,(function(n){var r=e.get(e._valueFieldsF[n].fieldKey);i[n]=t[r],i[e._valueFieldsF[n].workingKey]=i[n]})),this._fields&&b(this._fields,(function(n){var r=e.get(e._fieldsF[n]);i[n]=t[r]})),i}},{key:"makeDataItem",value:function(t){var e=new dn(this,void 0,t);return this.processDataItem(e),e}},{key:"pushDataItem",value:function(t){var e=this.makeDataItem(t);return this._mainDataItems.push(e),e}},{key:"disposeDataItem",value:function(t){}},{key:"showDataItem",value:function(t,e){return wt(this,void 0,void 0,at().mark((function e(){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.set("visible",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"hideDataItem",value:function(t,e){return wt(this,void 0,void 0,at().mark((function e(){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.set("visible",!1);case 1:case"end":return e.stop()}}),e)})))}},{key:"_clearDirty",value:function(){d(c(i.prototype),"_clearDirty",this).call(this),this._valuesDirty=!1}},{key:"_afterDataChange",value:function(){}},{key:"_afterChanged",value:function(){if(d(c(i.prototype),"_afterChanged",this).call(this),this._dataChanged){var t="datavalidated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this._dataChanged=!1}this.inited=!0}},{key:"markDirtyValues",value:function(t){this.markDirty(),this._valuesDirty=!0}},{key:"_markDirtyGroup",value:function(){this._dataGrouped=!1}},{key:"markDirtySize",value:function(){this._sizeDirty=!0,this.markDirty()}}]),i}(Ge);function pn(t){return new Promise((function(e,i){setTimeout(e,t)}))}Object.defineProperty(fn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(fn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([fn.className])});var gn=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(g(t),"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new lt}),Object.defineProperty(g(t),"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ge.new(t._root,{width:pt,height:pt,position:"absolute"})}),t}return h(i,[{key:"_afterNew",value:function(){var t=this;this.valueFields.push("value"),d(c(i.prototype),"_afterNew",this).call(this),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((function(e){if("clear"===e.type)t._handleBullets(t.dataItems);else if("push"===e.type)t._handleBullets(t.dataItems);else if("setIndex"===e.type)t._handleBullets(t.dataItems);else if("insertIndex"===e.type)t._handleBullets(t.dataItems);else if("removeIndex"===e.type)t._handleBullets(t.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");t._handleBullets(t.dataItems)}})))}},{key:"_dispose",value:function(){this.bulletsContainer.dispose(),d(c(i.prototype),"_dispose",this).call(this)}},{key:"startIndex",value:function(){var t=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),t)}},{key:"endIndex",value:function(){var t=this.dataItems.length;return Math.min(this.getPrivate("endIndex",t),t)}},{key:"_handleBullets",value:function(t){b(t,(function(t){var e=t.bullets;e&&(b(e,(function(t){t.dispose()})),t.bullets=void 0)})),this.markDirtyValues()}},{key:"getDataItemById",value:function(t){return T(this.dataItems,(function(e){return e.get("id")==t}))}},{key:"_makeBullets",value:function(t){var e=this;this._shouldMakeBullet(t)&&(t.bullets=[],this.bullets.each((function(i){e._makeBullet(t,i)})))}},{key:"_shouldMakeBullet",value:function(t){return!0}},{key:"_makeBullet",value:function(t,e,i){var n=e(this._root,this,t);if(n){var r=n.get("sprite");r&&(r._setDataItem(t),r.setRaw("position","absolute"),this.bulletsContainer.children.push(r)),n._index=i,n.series=this,t.bullets.push(n)}return n}},{key:"_clearDirty",value:function(){d(c(i.prototype),"_clearDirty",this).call(this),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}},{key:"_prepareChildren",value:function(){var t=this;d(c(i.prototype),"_prepareChildren",this).call(this);var e=this.startIndex(),n=this.endIndex();if(this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){var r=this.getPrivate("baseValueSeries");r&&this._disposers.push(r.onPrivate("startIndex",(function(){t.markDirtyValues()})))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),this._psi==e&&this._pei==n||this._selectionAggregatesCalculated||(0===e&&n===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,n),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){var o=this.get("tooltip");o&&(o.hide(0),o.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){var a,s=this.get("legendDataItem");if(s&&(a=s.get("markerRectangle"))&&this.isVisible()){if(this.isDirty("stroke")){var l=this.get("stroke");a.set("stroke",l)}if(this.isDirty("fill")){var u=this.get("fill");a.set("fill",u)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){var h=this.startIndex(),f=this.endIndex();f<this.dataItems.length&&f++;for(var p=h;p<f;p++){var g=this.dataItems[p];g.bullets||this._makeBullets(g)}}}},{key:"_calculateAggregates",value:function(t,e){var i=this,n=this._valueFields;if(!n)throw new Error("No value fields are set for the series.");var r={},o={},a={},s={},l={},u={},h={},c={},d={};b(n,(function(t){r[t]=0,o[t]=0,a[t]=0})),b(n,(function(n){var f=n+"Change",p=n+"ChangePercent",g=n+"ChangePrevious",m=n+"ChangePreviousPercent",v=n+"ChangeSelection",y=n+"ChangeSelectionPercent",b="valueY";"valueX"!=n&&"openValueX"!=n&&"lowValueX"!=n&&"highValueX"!=n||(b="valueX");for(var x=i.getPrivate("baseValueSeries"),w=t;w<e;w++){var k=i.dataItems[w],_=k.get(n);null!=_&&(a[n]++,r[n]+=_,o[n]+=Math.abs(_),c[n]=r[n]/a[n],(s[n]>_||null==s[n])&&(s[n]=_),(l[n]<_||null==l[n])&&(l[n]=_),h[n]=_,null==u[n]&&(u[n]=_,d[n]=_,x&&(u[b]=x._getBase(b))),0===t&&(k.setRaw(f,_-u[b]),k.setRaw(p,(_-u[b])/u[b]*100)),k.setRaw(g,_-d[b]),k.setRaw(m,(_-d[b])/d[b]*100),k.setRaw(v,_-u[b]),k.setRaw(y,(_-u[b])/u[b]*100),d[n]=_)}})),b(n,(function(t){i.setPrivate(t+"AverageSelection",c[t]),i.setPrivate(t+"CountSelection",a[t]),i.setPrivate(t+"SumSelection",r[t]),i.setPrivate(t+"AbsoluteSumSelection",o[t]),i.setPrivate(t+"LowSelection",s[t]),i.setPrivate(t+"HighSelection",l[t]),i.setPrivate(t+"OpenSelection",u[t]),i.setPrivate(t+"CloseSelection",h[t])})),0===t&&e===this.dataItems.length&&b(n,(function(t){i.setPrivate(t+"Average",c[t]),i.setPrivate(t+"Count",a[t]),i.setPrivate(t+"Sum",r[t]),i.setPrivate(t+"AbsoluteSum",o[t]),i.setPrivate(t+"Low",s[t]),i.setPrivate(t+"High",l[t]),i.setPrivate(t+"Open",u[t]),i.setPrivate(t+"Close",h[t])}))}},{key:"_updateChildren",value:function(){var t=this;d(c(i.prototype),"_updateChildren",this).call(this),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));var e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&b(e,(function(e){var i=e.minValue||t.getPrivate(e.dataField+"Low")||0,n=e.maxValue||t.getPrivate(e.dataField+"High")||0;b(e.target._entities,(function(r){var o,a,s=r.dataItem.get(e.dataField);H(s)?e.customFunction?e.customFunction.call(t,r,i,n,s):(o=e.logarithmic?(Math.log(s)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E):(s-i)/(n-i),!H(s)||H(o)&&Math.abs(o)!=1/0||(o=.5),H(e.min)?a=e.min+(e.max-e.min)*o:e.min instanceof te?a=te.interpolate(o,e.min,e.max):e.min instanceof dt&&(a=re(o,e.min,e.max)),r.set(e.key,a)):e.neutral&&r.set(e.key,e.neutral)}))})),this.get("visible")&&this.bullets.length>0){var n=this.dataItems.length,r=this.startIndex(),o=this.endIndex();o<n&&o++,r>0&&r--;for(var a=0;a<r;a++)this._hideBullets(this.dataItems[a]);for(var s=r;s<o;s++)this._positionBullets(this.dataItems[s]);for(var l=o;l<n;l++)this._hideBullets(this.dataItems[l])}}},{key:"_positionBullets",value:function(t){var e=this;t.bullets&&b(t.bullets,(function(t){e._positionBullet(t);var i=t.get("sprite");t.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof Ge&&i.walkChildren((function(t){t._markDirtyKey("fill"),t.markDirtySize(),t instanceof Qe&&t.text.markDirtyText()}))),i instanceof Qe&&i.get("populateText")&&i.text.markDirtyText()}))}},{key:"_hideBullets",value:function(t){t.bullets&&b(t.bullets,(function(t){var e=t.get("sprite");e&&e.setPrivate("visible",!1)}))}},{key:"_positionBullet",value:function(t){}},{key:"_placeBulletsContainer",value:function(t){t.bulletsContainer.children.moveValue(this.bulletsContainer)}},{key:"_removeBulletsContainer",value:function(){var t=this.bulletsContainer;t.parent&&t.parent.children.removeValue(t)}},{key:"disposeDataItem",value:function(t){var e=t.bullets;e&&b(e,(function(t){t.dispose()}))}},{key:"_getItemReaderLabel",value:function(){return""}},{key:"showDataItem",value:function(t,e){var n=this,r=Object.create(null,{showDataItem:{get:function(){return d(c(i.prototype),"showDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.showDataItem.call(this,t,e)],(o=t.bullets)&&b(o,(function(t){n.push(t.get("sprite").show(e))})),i.next=5,Promise.all(n);case 5:case"end":return i.stop()}}),i,this)})))}},{key:"hideDataItem",value:function(t,e){var n=this,r=Object.create(null,{hideDataItem:{get:function(){return d(c(i.prototype),"hideDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.hideDataItem.call(this,t,e)],(o=t.bullets)&&b(o,(function(t){n.push(t.get("sprite").hide(e))})),i.next=5,Promise.all(n);case 5:case"end":return i.stop()}}),i,this)})))}},{key:"_sequencedShowHide",value:function(t,e){return wt(this,void 0,void 0,at().mark((function i(){var n,r,o=this;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.get("sequencedInterpolation")){i.next=11;break}if(H(e)||(e=this.get("interpolationDuration",0)),!(e>0)){i.next=9;break}return n=this.startIndex(),r=this.endIndex(),i.next=7,Promise.all(y(this.dataItems,(function(i,a){return wt(o,void 0,void 0,at().mark((function o(){var s,l;return at().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=e||0,(a<n-10||a>r+10)&&(s=0),l=this.get("sequencedDelay",0)+s/(r-n),o.next=5,pn(l*(a-n));case 5:if(!t){o.next=10;break}return o.next=8,this.showDataItem(i,s);case 8:o.next=12;break;case 10:return o.next=12,this.hideDataItem(i,s);case 12:case"end":return o.stop()}}),o,this)})))})));case 7:i.next=11;break;case 9:return i.next=11,Promise.all(y(this.dataItems,(function(e){return t?o.showDataItem(e,0):o.hideDataItem(e,0)})));case 11:case"end":return i.stop()}}),i,this)})))}},{key:"updateLegendValue",value:function(t){if(t){var e=t.get("legendDataItem");if(e){var i=e.get("valueLabel");if(i){var n,r=i.text;i._setDataItem(t),n=this.get("legendValueText",r.get("text","")),i.set("text",n),r.markDirtyText()}var o=e.get("label");if(o){var a,s=o.text;o._setDataItem(t),a=this.get("legendLabelText",s.get("text","")),o.set("text",a),s.markDirtyText()}}}}},{key:"updateLegendMarker",value:function(t){}},{key:"_onHide",value:function(){d(c(i.prototype),"_onHide",this).call(this);var t=this.getTooltip();t&&t.hide()}},{key:"hoverDataItem",value:function(t){}},{key:"unhoverDataItem",value:function(t){}},{key:"_getBase",value:function(t){var e=this.dataItems[this.startIndex()];return e?e.get(t):0}}]),i}(fn);Object.defineProperty(gn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(gn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fn.classNames.concat([gn.className])});var mn=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_clickDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"_afterNew",value:function(){var t=this;d(c(i.prototype),"_afterNew",this).call(this),this.states.create("disabled",{}),this.states.create("hover",{}),this.states.create("hoverDisabled",{}),this.on("disabled",(function(){var e=t.dataItem;if(e.get("children")){var i=t.get("disabled"),n=t.series;e&&n&&e.get("disabled")!=i&&(i?n.disableDataItem(e):n.enableDataItem(e,n.get("downDepth",1),0))}else t.set("disabled",!0)}))}},{key:"_changed",value:function(){var t=this;(d(c(i.prototype),"_changed",this).call(this),this.isDirty("toggleKey"))&&("disabled"==this.get("toggleKey")?this._clickDisposer=this.events.on("click",(function(){if(!t._isDragging){var e=t.series;e&&e.selectDataItem(t.dataItem)}})):this._clickDisposer&&this._clickDisposer.dispose())}}]),i}(Ge);function vn(t,e,i){return(e=l(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function yn(t){var e=0,i=t.children,n=i&&i.length;if(n)for(;--n>=0;)e+=i[n].value;else e=1;t.value=e}function bn(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=r(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}Object.defineProperty(mn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HierarchyNode"}),Object.defineProperty(mn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([mn.className])});var xn=at().mark(wn);function wn(){var t,e,i,n,r,o;return at().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=[t=this];case 1:e=i.reverse(),i=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(n=t.children)for(r=0,o=n.length;r<o;++r)i.push(n[r]);a.next=2;break;case 8:if(i.length){a.next=1;break}case 9:case"end":return a.stop()}}),xn,this)}function kn(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Sn)):void 0===e&&(e=_n);for(var i,n,r,o,a,s=new Pn(t),l=[s];i=l.pop();)if((r=e(i.data))&&(a=(r=Array.from(r)).length))for(i.children=r,o=a-1;o>=0;--o)l.push(n=r[o]=new Pn(r[o])),n.parent=i,n.depth=i.depth+1;return s.eachBefore(Mn)}function _n(t){return t.children}function Sn(t){return Array.isArray(t)?t[1]:null}function Cn(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Mn(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Pn(t){this.data=t,this.depth=this.height=0,this.parent=null}Pn.prototype=kn.prototype=vn({constructor:Pn,count:function(){return this.eachAfter(yn)},each:function(t,e){var i,n=-1,r=bn(this);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.call(e,o,++n,this)}}catch(a){r.e(a)}finally{r.f()}return this},eachAfter:function(t,e){for(var i,n,r,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),i=o.children)for(n=0,r=i.length;n<r;++n)a.push(i[n]);for(;o=s.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var i,n,r=this,o=[r],a=-1;r=o.pop();)if(t.call(e,r,++a,this),i=r.children)for(n=i.length-1;n>=0;--n)o.push(i[n]);return this},find:function(t,e){var i,n=-1,r=bn(this);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.call(e,o,++n,this))return o}}catch(a){r.e(a)}finally{r.f()}},sum:function(t){return this.eachAfter((function(e){for(var i=+t(e.data)||0,n=e.children,r=n&&n.length;--r>=0;)i+=n[r].value;e.value=i}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,i=function(t,e){if(t===e)return t;var i=t.ancestors(),n=e.ancestors(),r=null;t=i.pop(),e=n.pop();for(;t===e;)r=t,t=i.pop(),e=n.pop();return r}(e,t),n=[e];e!==i;)e=e.parent,n.push(e);for(var r=n.length;t!==i;)n.splice(r,0,t),t=t.parent;return n},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(i){i!==t&&e.push({source:i.parent,target:i})})),e},copy:function(){return kn(this).eachBefore(Cn)}},Symbol.iterator,wn);var Tn=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"nodesContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{isMeasured:!1}))}),Object.defineProperty(g(t),"_rootNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_treeData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"_index",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"hierarchy"}),Object.defineProperty(g(t),"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return mn.new(t._root,{themeTags:Jt(t.nodes.template.get("themeTags",[]),[t._tag,"hierarchy","node"])},t.nodes.template)}))}),Object.defineProperty(g(t),"labels",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Qe.new(t._root,{themeTags:Jt(t.labels.template.get("themeTags",[]),[t._tag])},t.labels.template)}))}),Object.defineProperty(g(t),"_currentDownDepth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"makeNode",value:function(t){var e=t.get("childData"),i=this.nodes.make();i.series=this,i._setDataItem(t),this.nodes.push(i),t.setRaw("node",i);var n=this.labels.make();n._setDataItem(t),t.setRaw("label",n),this.labels.push(n),e&&0!=e.length||i.addTag("last");var r=t.get("depth");return i.addTag("depth"+r),this.nodesContainer.children.push(i),i.children.push(n),i}},{key:"_afterNew",value:function(){this._defaultThemes.push(hn.new(this._root)),this.fields.push("category","childData","disabled","fill"),this.children.push(this.bulletsContainer),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"_prepareChildren",value:function(){if(d(c(i.prototype),"_prepareChildren",this).call(this),this._valuesDirty){this._treeData={};var t=this.dataItems[0];if(t&&(this._makeHierarchyData(this._treeData,t),this._index=0,this._rootNode=kn(this._treeData),this._rootNode)){this._rootNode.sum((function(t){return t.value}));var e=this.get("sort");"descending"==e?this._rootNode.sort((function(t,e){return e.value-t.value})):"ascending"==e&&this._rootNode.sort((function(t,e){return t.value-e.value})),this.setPrivateRaw("valueLow",1/0),this.setPrivateRaw("valueHigh",-1/0),this.setPrivateRaw("maxDepth",0),this._updateValues(this._rootNode)}}if((this._valuesDirty||this._sizeDirty)&&this._updateVisuals(),this._sizeDirty){var n=this.get("selectedDataItem");n&&this._zoom(n)}}},{key:"_changed",value:function(){d(c(i.prototype),"_changed",this).call(this),this.isDirty("selectedDataItem")&&this._selectDataItem(this.get("selectedDataItem"))}},{key:"_updateVisuals",value:function(){this._rootNode&&this._updateNodes(this._rootNode)}},{key:"_updateNodes",value:function(t){var e=this,i=t.data.dataItem;if(i){this._updateNode(i),this.bullets.length>0&&!i.bullets&&this._makeBullets(i);var n=t.children;n&&b(n,(function(t){e._updateNodes(t)}))}}},{key:"_updateNode",value:function(t){}},{key:"getDataItemById",value:function(t){return this._getDataItemById(this.dataItems,t)}},{key:"_getDataItemById",value:function(t,e){var i,n=this;return b(t,(function(t){t.get("id")==e&&(i=t);var r=t.get("children");if(r){var o=n._getDataItemById(r,e);o&&(i=o)}})),i}},{key:"_handleBullets",value:function(t){var e=this;b(t,(function(t){var i=t.bullets;i&&(b(i,(function(t){t.dispose()})),t.bullets=void 0);var n=t.get("children");n&&e._handleBullets(n)})),this._updateVisuals()}},{key:"_onDataClear",value:function(){d(c(i.prototype),"_onDataClear",this).call(this);var t=this.get("colors");t&&t.reset()}},{key:"processDataItem",value:function(t){var e=this;d(c(i.prototype),"processDataItem",this).call(this,t);var n=t.get("childData"),r=this.get("colors"),o=this.get("topDepth",0);t.get("parent")||(t.setRaw("depth",0),r&&0==o&&null==t.get("fill")&&t.setRaw("fill",r.next()));var a=t.get("depth"),s=this.get("initialDepth",1);if(this.makeNode(t),this._processDataItem(t),n){var l=[];t.setRaw("children",l),b(n,(function(i){var n=new dn(e,i,e._makeDataItem(i));l.push(n),n.setRaw("parent",t),n.setRaw("depth",a+1),1==e.dataItems.length&&0==a?r&&null==n.get("fill")&&n.setRaw("fill",r.next()):null==n.get("fill")&&n.setRaw("fill",t.get("fill")),e.processDataItem(n)}))}var u=t.get("children");u&&0!=u.length||t.get("node").setAll({toggleKey:void 0});null==t.get("disabled")&&a>=o+s&&this.disableDataItem(t,0)}},{key:"_processDataItem",value:function(t){}},{key:"_updateValues",value:function(t){var e=this,i=t.data.dataItem;if(t.depth>this.getPrivate("maxDepth")&&this.setPrivateRaw("maxDepth",t.depth),i){i.setRaw("d3HierarchyNode",t),t.index=this._index,this._index++,i.get("node").set("disabled",i.get("disabled"));var n=t.data.value,r=t.value;if(null!=n&&(r=n,t.value=r),H(r)){i.setRaw("sum",r),i.setRaw("valuePercentTotal",r/this.dataItems[0].get("sum")*100);var o=100,a=i.get("parent");a&&(o=r/a.get("sum")*100),i.get("label").text.markDirtyText(),i.setRaw("valuePercent",o),this.getPrivate("valueLow")>r&&this.setPrivateRaw("valueLow",r),this.getPrivate("valueHigh")<r&&this.setPrivateRaw("valueHigh",r)}this.updateLegendValue(i)}var s=t.children;s&&b(s,(function(t){e._updateValues(t)}))}},{key:"_makeHierarchyData",value:function(t,e){var i=this;t.dataItem=e;var n=e.get("children");if(n){var r=[];t.children=r,b(n,(function(t){var e={};r.push(e),i._makeHierarchyData(e,t)}));var o=e.get("valueWorking");H(o)&&(t.value=o)}else{var a=e.get("valueWorking");H(a)&&(t.value=a)}}},{key:"disposeDataItem",value:function(t){var e=this;d(c(i.prototype),"disposeDataItem",this).call(this,t);var n=t.get("node");n&&(this.nodes.removeValue(n),n.dispose());var r=t.get("label");r&&(this.labels.removeValue(r),r.dispose());var o=t.get("children");o&&b(o,(function(t){e.disposeDataItem(t)}))}},{key:"hideDataItem",value:function(t,e){var n=this,r=Object.create(null,{hideDataItem:{get:function(){return d(c(i.prototype),"hideDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o,a,s,l,u,h,c=this;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.hideDataItem.call(this,t,e)],o=this.states.create("hidden",{}),H(e)||(a="stateAnimationDuration",e=o.get(a,this.get(a,0))),s="stateAnimationEasing",l=o.get(s,this.get(s)),(u=t.get("children"))&&0!=u.length||!H(t.get("value"))||n.push(t.animate({key:"valueWorking",to:0,duration:e,easing:l}).waitForStop()),(h=t.get("node")).hide(),h.hideTooltip(),u&&b(u,(function(t){n.push(c.hideDataItem(t))})),i.next=13,Promise.all(n);case 13:case"end":return i.stop()}}),i,this)})))}},{key:"showDataItem",value:function(t,e){var n=this,r=Object.create(null,{showDataItem:{get:function(){return d(c(i.prototype),"showDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o,a,s=this;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.showDataItem.call(this,t,e)],H(e)||(e=this.get("stateAnimationDuration",0)),o=this.get("stateAnimationEasing"),(a=t.get("children"))&&0!=a.length||!H(t.get("value"))||n.push(t.animate({key:"valueWorking",to:t.get("value"),duration:e,easing:o}).waitForStop()),t.get("node").show(),a&&b(a,(function(t){n.push(s.showDataItem(t))})),i.next=10,Promise.all(n);case 10:case"end":return i.stop()}}),i,this)})))}},{key:"enableDataItem",value:function(t,e,i,n){var r=this;null==i&&(i=0),null==e&&(e=1),t.set("disabled",!1),t.get("node").set("disabled",!1),t.isHidden()||t.get("node").show(n);var o=this.get("topDepth",0);if(t.get("depth")<o&&t.get("node").hide(0),0==i)for(var a=this.get("upDepth",1/0),s=t,l=0;void 0!==s;)l>a&&s.get("node").hide(),s=s.get("parent"),l++;var u=t.get("children");u&&b(u,i<e-1?function(t){var o=r.get("disabledField");o?1!=t.dataContext[o]?r.enableDataItem(t,e,i+1,n):r.disableDataItem(t):r.enableDataItem(t,e,i+1,n)}:function(t){t.isHidden()||(t.get("node").show(n),t.get("node").states.applyAnimate("disabled"),t.set("disabled",!0),r.disableDataItem(t))})}},{key:"disableDataItem",value:function(t,e){var i=this;t.set("disabled",!0);var n=t.get("children");n&&b(n,(function(t){i.disableDataItem(t,e),t.get("node").hide(e)}))}},{key:"_selectDataItem",value:function(t,e,i){if(t){if(!i){var n="dataitemselected";this.events.dispatch(n,{type:n,target:this,dataItem:t})}var r=this.getPrivate("maxDepth",1),o=this.get("topDepth",0);null==e&&(e=Math.min(this.get("downDepth",1),r-t.get("depth"))),this.inited||(e=Math.min(this.get("initialDepth",1),r-o)),this._currentDownDepth=e;var a=t.get("d3HierarchyNode"),s=a.depth;s+e>r&&(e=r-s),s<o&&(e+=o-s,s=o);var l=t.get("children");l&&l.length>0?(e>0?this.enableDataItem(t,e):(t.get("node").show(),b(l,(function(t){t.get("node").hide()}))),a.depth<o&&t.get("node").hide(0),this.get("singleBranchOnly")&&this._handleSingle(t)):this.enableDataItem(this.dataItems[0],e,0),this._zoom(t)}}},{key:"_zoom",value:function(t){}},{key:"_handleSingle",value:function(t){var e=this,i=t.get("parent");if(i){var n=i.get("children");n&&b(n,(function(i){i!=t&&e.disableDataItem(i)}))}}},{key:"selectDataItem",value:function(t){var e=t.get("parent"),i=this.getPrivate("maxDepth",1);if(this.get("selectedDataItem")==t)if(e)this.set("selectedDataItem",e);else{var n=Math.min(this.get("downDepth",1),i-t.get("depth"));this._currentDownDepth==n&&(n=Math.min(this.get("initialDepth",1),i-this.get("topDepth",0))),this._selectDataItem(t,n)}else this.set("selectedDataItem",t)}},{key:"_makeBullet",value:function(t,e,n){var r=this,o=d(c(i.prototype),"_makeBullet",this).call(this,t,e,n);if(o){var a=o.get("sprite"),s=t.get("node");a&&(s.children.push(a),s.on("width",(function(){r._positionBullet(o)})),s.on("height",(function(){r._positionBullet(o)})))}return o}},{key:"_positionBullet",value:function(t){var e=t.get("sprite");if(e){var i=e.dataItem,n=t.get("locationX",.5),r=t.get("locationY",.5),o=i.get("node");e.set("x",o.width()*n),e.set("y",o.height()*r)}}},{key:"hoverDataItem",value:function(t){var e=t.get("node");e&&!e.isHidden()&&e.hover()}},{key:"unhoverDataItem",value:function(t){var e=t.get("node");e&&e.unhover()}}]),i}(gn);Object.defineProperty(Tn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Hierarchy"}),Object.defineProperty(Tn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([Tn.className])});var Dn=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}},{key:"_draw",value:function(){var t=this.width(),e=this.height(),i=t,n=e,r=i/Math.abs(t),o=n/Math.abs(e);if(H(i)&&H(n)){var a=Math.min(i,n)/2,s=Ot(this.get("cornerRadiusTL",8),a),l=Ot(this.get("cornerRadiusTR",8),a),u=Ot(this.get("cornerRadiusBR",8),a),h=Ot(this.get("cornerRadiusBL",8),a),c=Math.min(Math.abs(i/2),Math.abs(n/2));s=we(s,0,c),l=we(l,0,c),u=we(u,0,c),h=we(h,0,c);var d=this._display;d.moveTo(s*r,0),d.lineTo(i-l*r,0),l>0&&d.arcTo(i,0,i,l*o,l),d.lineTo(i,n-u*o),u>0&&d.arcTo(i,n,i-u*r,n,u),d.lineTo(h*r,n),h>0&&d.arcTo(0,n,0,n-h*o,h),d.lineTo(0,s*o),s>0&&d.arcTo(0,0,s*r,0,s),d.closePath()}}}]),i}(Oe);function Nn(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function In(){var t=1,e=1,i=0,n=!1;function r(r){var o=r.height+1;return r.x0=r.y0=i,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(n){n.children&&function(t,e,i,n,r){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(n-e)/t.value;++s<l;)(o=a[s]).y0=i,o.y1=r,o.x0=e,o.x1=e+=o.value*u}(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,s=n.y1-i;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=s}}(e,o)),n&&r.eachBefore(Nn),r}return r.round=function(t){return arguments.length?(n=!!t,r):n},r.size=function(i){return arguments.length?(t=+i[0],e=+i[1],r):[t,e]},r.padding=function(t){return arguments.length?(i=+t,r):i},r}Object.defineProperty(Dn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(Dn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Oe.classNames.concat([Dn.className])});var En=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"partition"}),Object.defineProperty(g(t),"rectangles",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Dn._new(t._root,{themeTags:Jt(t.rectangles.template.get("themeTags",[]),[t._tag,"shape"])},[t.rectangles.template])}))}),Object.defineProperty(g(t),"_partitionLayout",{enumerable:!0,configurable:!0,writable:!0,value:In()}),t}return h(i,[{key:"_afterNew",value:function(){this._settings.themeTags=Jt(this._settings.themeTags,["partition",this._settings.orientation||"vertical"]),d(c(i.prototype),"_afterNew",this).call(this),this.setPrivate("scaleX",1),this.setPrivate("scaleY",1)}},{key:"_prepareChildren",value:function(){d(c(i.prototype),"_prepareChildren",this).call(this),this.isDirty("nodePadding")&&this._rootNode&&this._updateNodes(this._rootNode),(this.isPrivateDirty("scaleX")||this.isPrivateDirty("scaleY"))&&this._rootNode&&this._updateNodesScale(this._rootNode),this.isDirty("orientation")&&this._updateVisuals()}},{key:"_updateVisuals",value:function(){if(this._rootNode){var t=this._partitionLayout,e=this.innerWidth(),i=this.innerHeight();if("horizontal"==this.get("orientation")){var n=[i,e];e=n[0],i=n[1]}t.size([e,i]);var r=this.get("nodePadding");H(r)&&t.padding(r),t(this._rootNode),this._updateNodes(this._rootNode)}}},{key:"_updateNode",value:function(t){d(c(i.prototype),"_updateNode",this).call(this,t);var e,n,r,o,a=t.get("node"),s=t.get("rectangle"),l=t.get("d3HierarchyNode"),u=this.getPrivate("scaleX",1),h=this.getPrivate("scaleY",1);"horizontal"==this.get("orientation")?(e=l.y0*u,n=l.y1*u,r=l.x0*h,o=l.x1*h):(e=l.x0*u,n=l.x1*u,r=l.y0*h,o=l.y1*h);var f=n-e,p=o-r,g=this.get("animationDuration",0),m=this.get("animationEasing");if(a.animate({key:"x",to:e,duration:g,easing:m}),a.animate({key:"y",to:r,duration:g,easing:m}),a.animate({key:"width",to:f,duration:g,easing:m}),a.animate({key:"height",to:p,duration:g,easing:m}),s){var v=t.get("fill");s.animate({key:"width",to:f,duration:g,easing:m}),s.animate({key:"height",to:p,duration:g,easing:m}),s._setDefault("fill",v),s._setDefault("stroke",v)}}},{key:"_updateNodesScale",value:function(t){var e=this,i=t.data.dataItem;if(i){var n,r,o,a,s=i.get("node"),l=i.get("rectangle"),u=this.getPrivate("scaleX",1),h=this.getPrivate("scaleY",1);"horizontal"==this.get("orientation")?(n=t.y0*u,r=t.y1*u,o=t.x0*h,a=t.x1*h):(n=t.x0*u,r=t.x1*u,o=t.y0*h,a=t.y1*h);var c=r-n,d=a-o;s.setAll({x:n,y:o,width:c,height:d}),l.setAll({width:c,height:d});var f=t.children;f&&b(f,(function(t){e._updateNodesScale(t)}))}}},{key:"makeNode",value:function(t){var e=d(c(i.prototype),"makeNode",this).call(this,t);return this._makeNode(t,e),e}},{key:"_makeNode",value:function(t,e){var i=e.children.moveValue(this.rectangles.make(),0);e.setPrivate("tooltipTarget",i),t.setRaw("rectangle",i),i._setDataItem(t);var n=t.get("label");i.on("width",(function(){n.set("maxWidth",i.width())})),i.on("height",(function(){n.set("maxHeight",i.height())}))}},{key:"_zoom",value:function(t){var e=0,i=0,n=0,r=0,o=this.get("upDepth",0)+1,a=this.get("topDepth",0),s=this.innerWidth(),l=this.innerHeight(),u=this.getPrivate("maxDepth",1),h=l/(u+1),c=s/(u+1),d=Math.min(this.get("initialDepth",1),u-a),f=this._currentDownDepth;if(null==f&&(f=this.get("downDepth",1)),t){var p=t.get("d3HierarchyNode"),g=p.depth;"horizontal"==this.get("orientation")?(e=p.y0,i=p.y1,n=p.x0,r=p.x1,i=(e=i-c*o)+c*(f+1),g<a&&(n=0,r=l,i=(e=c*a)+c*d)):(e=p.x0,i=p.x1,n=p.y0,r=(n=(r=p.y1)-h*o)+h*(f+1),g<a&&(e=0,i=s,r=(n=h*a)+h*d))}var m=s/(i-e),v=l/(r-n),y=this.get("animationEasing"),b=this.get("animationDuration",0);this.inited||(b=0),this.animatePrivate({key:"scaleX",to:m,duration:b,easing:y}),this.animatePrivate({key:"scaleY",to:v,duration:b,easing:y}),this.nodesContainer.animate({key:"x",to:-e*m,duration:b,easing:y}),this.nodesContainer.animate({key:"y",to:-n*v,duration:b,easing:y})}}]),i}(Tn);Object.defineProperty(En,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Partition"}),Object.defineProperty(En,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tn.classNames.concat([En.className])});var An=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"labels",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Qe._new(t._root,{themeTags:Jt(t.labels.template.get("themeTags",[]),["label"]),background:Dn.new(t._root,{themeTags:["background"]})},[t.labels.template])}))}),Object.defineProperty(g(t),"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return h(i,[{key:"makeLabel",value:function(t){var e=this,i=this.labels.make();return i._setDataItem(t),i.states.create("hover",{}),i.states.create("down",{}),i.events.on("click",(function(){var i=e.get("series");i&&i.selectDataItem(t)})),this.labels.push(i),i}},{key:"_afterNew",value:function(){this._defaultThemes.push(hn.new(this._root)),this._settings.themeTags=Jt(this._settings.themeTags,["breadcrumb"]),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"_changed",value:function(){var t=this;if(d(c(i.prototype),"_changed",this).call(this),this.isDirty("series")){var e=this.get("series"),n=this._prevSettings.series;e!=n?this._disposer=e.events.on("dataitemselected",(function(e){t._handleDataItem(e.dataItem)})):n&&this._disposer&&this._disposer.dispose(),this._handleDataItem(e.get("selectedDataItem"))}}},{key:"_handleDataItem",value:function(t){if(this.set("minHeight",this.height()),this.children.clear(),this.labels.clear(),t)for(var e=t;e;){var i=this.makeLabel(e);e==t&&i.addTag("last"),this.children.moveValue(i,0),e=e.get("parent")}}}]),i}(Ge);function On(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&1===t.length&&t[0]&&!t[0].subComponentStyles)return t[0];for(var i={},n={},r=0,o=t;r<o.length;r++){var a=o[r];if(a)for(var s in a)if(a.hasOwnProperty(s)){if("subComponentStyles"===s&&void 0!==a.subComponentStyles){var l=a.subComponentStyles;for(var u in l)l.hasOwnProperty(u)&&(n.hasOwnProperty(u)?n[u].push(l[u]):n[u]=[l[u]]);continue}var h=i[s],c=a[s];i[s]=void 0===h?c:kt(kt([],Array.isArray(h)?h:[h],!0),Array.isArray(c)?c:[c],!0)}}if(Object.keys(n).length>0){i.subComponentStyles={};var d=i.subComponentStyles,f=function(t){if(n.hasOwnProperty(t)){var e=n[t];d[t]=function(t){return On.apply(void 0,e.map((function(e){return"function"===typeof e?e(t):e})))}}};for(var u in n)f(u)}return i}function Ln(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r];a&&n.push("function"===typeof a?a(t):a)}return 1===n.length?n[0]:n.length?On.apply(void 0,n):{}}function Rn(){return"undefined"!==typeof window&&!(!window.document||!window.document.createElement)}Object.defineProperty(An,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BreadcrumbBar"}),Object.defineProperty(An,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([An.className])});var jn=void 0;try{jn=window}catch(SS){}function Bn(t){if(Rn()&&"undefined"!==typeof jn){var e=t;return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:jn}}var Fn="__globalSettings__",zn="__callbacks__",Hn=0,Vn=function(){function t(){}return t.getValue=function(t,e){var i=Wn();return void 0===i[t]&&(i[t]="function"===typeof e?e():e),i[t]},t.setValue=function(t,e){var i=Wn(),n=i[zn],r=i[t];if(e!==r){i[t]=e;var o={oldValue:r,value:e,key:t};for(var a in n)n.hasOwnProperty(a)&&n[a](o)}return e},t.addChangeListener=function(t){var e=t.__id__,i=Un();e||(e=t.__id__=String(Hn++)),i[e]=t},t.removeChangeListener=function(t){delete Un()[t.__id__]},t}();function Wn(){var t,e=Bn()||{};return e[Fn]||(e[Fn]=((t={})[zn]={},t)),e[Fn]}function Un(){return Wn()[zn]}var Gn={settings:{},scopedSettings:{},inCustomizerContext:!1},Kn=Vn.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),Yn=[],Xn=function(){function t(){}return t.reset=function(){Kn.settings={},Kn.scopedSettings={}},t.applySettings=function(e){Kn.settings=yt(yt({},Kn.settings),e),t._raiseChange()},t.applyScopedSettings=function(e,i){Kn.scopedSettings[e]=yt(yt({},Kn.scopedSettings[e]),i),t._raiseChange()},t.getSettings=function(t,e,i){void 0===i&&(i=Gn);for(var n={},r=e&&i.scopedSettings[e]||{},o=e&&Kn.scopedSettings[e]||{},a=0,s=t;a<s.length;a++){var l=s[a];n[l]=r[l]||i.settings[l]||o[l]||Kn.settings[l]}return n},t.applyBatchedUpdates=function(e,i){t._suppressUpdates=!0;try{e()}catch(Wr){}t._suppressUpdates=!1,i||t._raiseChange()},t.observe=function(t){Yn.push(t)},t.unobserve=function(t){Yn=Yn.filter((function(e){return e!==t}))},t._raiseChange=function(){t._suppressUpdates||Yn.forEach((function(t){return t()}))},t}(),qn=t.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function Zn(e,i){var n=function(){var e=t.useState(0),i=e[1];return function(){return i((function(t){return++t}))}}(),r=t.useContext(qn).customizations,o=r.inCustomizerContext;return t.useEffect((function(){return o||Xn.observe(n),function(){o||Xn.unobserve(n)}}),[o]),Xn.getSettings(e,i,r)}var Jn=["theme","styles"];function Qn(e,i,n,r,o){var a=(r=r||{scope:"",fields:void 0}).scope,s=r.fields,l=void 0===s?Jn:s,u=t.forwardRef((function(r,o){var s=t.useRef(),u=Zn(l,a),h=u.styles,c=(u.dir,bt(u,["styles","dir"])),d=n?n(r):void 0,f=s.current&&s.current.__cachedInputs__||[],p=r.styles;if(!s.current||h!==f[1]||p!==f[2]){var g=function(t){return Ln(t,i,h,p)};g.__cachedInputs__=[i,h,p],g.__noStyleOverride__=!h&&!p,s.current=g}return t.createElement(e,yt({ref:o},c,d,r,{styles:s.current}))}));u.displayName="Styled".concat(e.displayName||e.name);var h=o?t.memo(u):u;return u.displayName&&(h.displayName=u.displayName),h}var $n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i={},n=0,r=t;n<r.length;n++)for(var o=r[n],a=0,s=Array.isArray(o)?o:Object.keys(o);a<s.length;a++){i[s[a]]=1}return i},tr=$n(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),er=$n(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),ir=$n(er,tr),nr=$n(ir,["form"]),rr=$n(ir,["height","loop","muted","preload","src","width"]),or=$n(rr,["poster"]),ar=$n(ir,["start"]),sr=$n(ir,["value"]),lr=$n(ir,["download","href","hrefLang","media","rel","target","type"]),ur=$n(ir,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),hr=$n(ur,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),cr=$n(ur,["autoCapitalize","cols","dirname","form","maxLength","minLength","placeholder","readOnly","required","rows","wrap"]),dr=$n(ur,["form","multiple","required"]),fr=$n(ir,["selected","value"]),pr=$n(ir,["cellPadding","cellSpacing"]),gr=ir,mr=$n(ir,["rowSpan","scope"]),vr=$n(ir,["colSpan","headers","rowSpan","scope"]),yr=$n(ir,["span"]),br=$n(ir,["span"]),xr=$n(ir,["acceptCharset","action","encType","encType","method","noValidate","target"]),wr=$n(ir,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),kr=$n(ir,["alt","crossOrigin","height","src","srcSet","useMap","width"]),_r=ir;function Sr(t,e,i){for(var n=Array.isArray(e),r={},o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];!(!n&&e[s]||n&&e.indexOf(s)>=0||0===s.indexOf("data-")||0===s.indexOf("aria-"))||i&&-1!==(null===i||void 0===i?void 0:i.indexOf(s))||(r[s]=t[s])}return r}var Cr,Mr=0,Pr=1,Tr=2,Dr="__stylesheet__",Nr="undefined"!==typeof navigator&&/rv:11.0/.test(navigator.userAgent),Ir={};try{Ir=window||{}}catch(Wr){}var Er,Ar=function(){function t(t,e){var i,n,r,o,a,s;this._rules=[],this._preservedRules=[],this._counter=0,this._keyToClassName={},this._onInsertRuleCallbacks=[],this._onResetCallbacks=[],this._classNameToArgs={},this._config=yt({injectionMode:"undefined"===typeof document?Mr:Pr,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},t),this._classNameToArgs=null!==(i=null===e||void 0===e?void 0:e.classNameToArgs)&&void 0!==i?i:this._classNameToArgs,this._counter=null!==(n=null===e||void 0===e?void 0:e.counter)&&void 0!==n?n:this._counter,this._keyToClassName=null!==(o=null!==(r=this._config.classNameCache)&&void 0!==r?r:null===e||void 0===e?void 0:e.keyToClassName)&&void 0!==o?o:this._keyToClassName,this._preservedRules=null!==(a=null===e||void 0===e?void 0:e.preservedRules)&&void 0!==a?a:this._preservedRules,this._rules=null!==(s=null===e||void 0===e?void 0:e.rules)&&void 0!==s?s:this._rules}return t.getInstance=function(){if(!(Cr=Ir[Dr])||Cr._lastStyleElement&&Cr._lastStyleElement.ownerDocument!==document){var e=(null===Ir||void 0===Ir?void 0:Ir.FabricConfig)||{},i=new t(e.mergeStyles,e.serializedStylesheet);Cr=i,Ir[Dr]=i}return Cr},t.prototype.serialize=function(){return JSON.stringify({classNameToArgs:this._classNameToArgs,counter:this._counter,keyToClassName:this._keyToClassName,preservedRules:this._preservedRules,rules:this._rules})},t.prototype.setConfig=function(t){this._config=yt(yt({},this._config),t)},t.prototype.onReset=function(t){var e=this;return this._onResetCallbacks.push(t),function(){e._onResetCallbacks=e._onResetCallbacks.filter((function(e){return e!==t}))}},t.prototype.onInsertRule=function(t){var e=this;return this._onInsertRuleCallbacks.push(t),function(){e._onInsertRuleCallbacks=e._onInsertRuleCallbacks.filter((function(e){return e!==t}))}},t.prototype.getClassName=function(t){var e=this._config.namespace,i=t||this._config.defaultPrefix;return"".concat(e?e+"-":"").concat(i,"-").concat(this._counter++)},t.prototype.cacheClassName=function(t,e,i,n){this._keyToClassName[e]=t,this._classNameToArgs[t]={args:i,rules:n}},t.prototype.classNameFromKey=function(t){return this._keyToClassName[t]},t.prototype.getClassNameCache=function(){return this._keyToClassName},t.prototype.argsFromClassName=function(t){var e=this._classNameToArgs[t];return e&&e.args},t.prototype.insertedRulesFromClassName=function(t){var e=this._classNameToArgs[t];return e&&e.rules},t.prototype.insertRule=function(t,e){var i=this._config.injectionMode,n=i!==Mr?this._getStyleElement():void 0;if(e&&this._preservedRules.push(t),n)switch(i){case Pr:var r=n.sheet;try{r.insertRule(t,r.cssRules.length)}catch(SS){}break;case Tr:n.appendChild(document.createTextNode(t))}else this._rules.push(t);this._config.onInsertRule&&this._config.onInsertRule(t),this._onInsertRuleCallbacks.forEach((function(t){return t()}))},t.prototype.getRules=function(t){return(t?this._preservedRules.join(""):"")+this._rules.join("")},t.prototype.reset=function(){this._rules=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(t){return t()}))},t.prototype.resetKeys=function(){this._keyToClassName={}},t.prototype._getStyleElement=function(){var t=this;return this._styleElement||"undefined"===typeof document||(this._styleElement=this._createStyleElement(),Nr||window.requestAnimationFrame((function(){t._styleElement=void 0}))),this._styleElement},t.prototype._createStyleElement=function(){var t=document.head,e=document.createElement("style"),i=null;e.setAttribute("data-merge-styles","true");var n=this._config.cspSettings;if(n&&n.nonce&&e.setAttribute("nonce",n.nonce),this._lastStyleElement)i=this._lastStyleElement.nextElementSibling;else{var r=this._findPlaceholderStyleTag();i=r?r.nextElementSibling:t.childNodes[0]}return t.insertBefore(e,t.contains(i)?i:null),this._lastStyleElement=e,e},t.prototype._findPlaceholderStyleTag=function(){var t=document.head;return t?t.querySelector("style[data-merge-styles]"):null},t}();function Or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=[],n=[],r=Ar.getInstance();return function t(e){for(var o=0,a=e;o<a.length;o++){var s=a[o];if(s)if("string"===typeof s)if(s.indexOf(" ")>=0)t(s.split(" "));else{var l=r.argsFromClassName(s);l?t(l):-1===i.indexOf(s)&&i.push(s)}else Array.isArray(s)?t(s):"object"===typeof s&&n.push(s)}}(t),{classes:i,objects:n}}function Lr(t){Er!==t&&(Er=t)}function Rr(){return void 0===Er&&(Er="undefined"!==typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),Er}function jr(){return{rtl:Rr()}}Er=Rr();var Br,Fr={};function zr(t,e){var i=t[e];"-"!==i.charAt(0)&&(t[e]=Fr[i]=Fr[i]||i.replace(/([A-Z])/g,"-$1").toLowerCase())}var Hr={"user-select":1};function Vr(t,e){var i=function(){var t;if(!Br){var e="undefined"!==typeof document?document:void 0,i="undefined"!==typeof navigator?navigator:void 0,n=null===(t=null===i||void 0===i?void 0:i.userAgent)||void 0===t?void 0:t.toLowerCase();Br=e?{isWebkit:!(!e||!("WebkitAppearance"in e.documentElement.style)),isMoz:!!(n&&n.indexOf("firefox")>-1),isOpera:!!(n&&n.indexOf("opera")>-1),isMs:!(!i||!/rv:11.0/i.test(i.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return Br}(),n=t[e];if(Hr[n]){var r=t[e+1];Hr[n]&&(i.isWebkit&&t.push("-webkit-"+n,r),i.isMoz&&t.push("-moz-"+n,r),i.isMs&&t.push("-ms-"+n,r),i.isOpera&&t.push("-o-"+n,r))}}var Wr,Ur=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function Gr(t,e){var i=t[e],n=t[e+1];if("number"===typeof n){var r=Ur.indexOf(i)>-1,o=i.indexOf("--")>-1,a=r||o?"":"px";t[e+1]="".concat(n).concat(a)}}var Kr="left",Yr="right",Xr="@noflip",qr=((Wr={})[Kr]=Yr,Wr[Yr]=Kr,Wr),Zr={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function Jr(t,e,i){if(t.rtl){var n=e[i];if(!n)return;var r=e[i+1];if("string"===typeof r&&r.indexOf(Xr)>=0)e[i+1]=r.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(n.indexOf(Kr)>=0)e[i]=n.replace(Kr,Yr);else if(n.indexOf(Yr)>=0)e[i]=n.replace(Yr,Kr);else if(String(r).indexOf(Kr)>=0)e[i+1]=r.replace(Kr,Yr);else if(String(r).indexOf(Yr)>=0)e[i+1]=r.replace(Yr,Kr);else if(qr[n])e[i]=qr[n];else if(Zr[r])e[i+1]=Zr[r];else switch(n){case"margin":case"padding":e[i+1]=function(t){if("string"===typeof t){var e=t.split(" ");if(4===e.length)return"".concat(e[0]," ").concat(e[3]," ").concat(e[2]," ").concat(e[1])}return t}(r);break;case"box-shadow":e[i+1]=function(t,e){var i=t.split(" "),n=parseInt(i[e],10);return i[0]=i[0].replace(String(n),String(-1*n)),i.join(" ")}(r,0)}}}var Qr="displayName";var $r=/\:global\((.+?)\)/g;function to(t,e){return t.indexOf(":global(")>=0?t.replace($r,"$1"):0===t.indexOf(":")?e+t:t.indexOf("&")<0?e+" "+t:t}function eo(t,e,i,n){void 0===e&&(e={__order:[]}),0===i.indexOf("@")?io([n],e,i=i+"{"+t):i.indexOf(",")>-1?function(t){if(!$r.test(t))return t;for(var e=[],i=/\:global\((.+?)\)/g,n=null;n=i.exec(t);)n[1].indexOf(",")>-1&&e.push([n.index,n.index+n[0].length,n[1].split(",").map((function(t){return":global(".concat(t.trim(),")")})).join(", ")]);return e.reverse().reduce((function(t,e){var i=e[0],n=e[1],r=e[2];return t.slice(0,i)+r+t.slice(n)}),t)}(i).split(",").map((function(t){return t.trim()})).forEach((function(i){return io([n],e,to(i,t))})):io([n],e,to(i,t))}function io(t,e,i){void 0===e&&(e={__order:[]}),void 0===i&&(i="&");var n=Ar.getInstance(),r=e[i];r||(r={},e[i]=r,e.__order.push(i));for(var o=0,a=t;o<a.length;o++){var s=a[o];if("string"===typeof s){var l=n.argsFromClassName(s);l&&io(l,e,i)}else if(Array.isArray(s))io(s,e,i);else for(var u in s)if(s.hasOwnProperty(u)){var h=s[u];if("selectors"===u){var c=s.selectors;for(var d in c)c.hasOwnProperty(d)&&eo(i,e,d,c[d])}else"object"===typeof h?null!==h&&eo(i,e,u,h):void 0!==h&&("margin"===u||"padding"===u?no(r,u,h):r[u]=h)}}return e}function no(t,e,i){var n="string"===typeof i?function(t){for(var e=[],i=0,n=0,r=0;r<t.length;r++)switch(t[r]){case"(":n++;break;case")":n&&n--;break;case"\t":case" ":n||(r>i&&e.push(t.substring(i,r)),i=r+1)}return i<t.length&&e.push(t.substring(i)),e}(i):[i];0===n.length&&n.push(i),"!important"===n[n.length-1]&&(n=n.slice(0,-1).map((function(t){return t+" !important"}))),t[e+"Top"]=n[0],t[e+"Right"]=n[1]||n[0],t[e+"Bottom"]=n[2]||n[0],t[e+"Left"]=n[3]||n[1]||n[0]}function ro(t,e){return e<=0?"":1===e?t:t+ro(t,e-1)}function oo(t,e){if(!e)return"";var i=[];for(var n in e)e.hasOwnProperty(n)&&n!==Qr&&void 0!==e[n]&&i.push(n,e[n]);for(var r=0;r<i.length;r+=2)zr(i,r),Gr(i,r),Jr(t,i,r),Vr(i,r);for(r=1;r<i.length;r+=4)i.splice(r,1,":",i[r],";");return i.join("")}function ao(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=io(e),r=function(t,e){for(var i=[t.rtl?"rtl":"ltr"],n=!1,r=0,o=e.__order;r<o.length;r++){var a=o[r];i.push(a);var s=e[a];for(var l in s)s.hasOwnProperty(l)&&void 0!==s[l]&&(n=!0,i.push(l,s[l]))}return n?i.join(""):void 0}(t,n);if(r){var o=Ar.getInstance(),a={className:o.classNameFromKey(r),key:r,args:e};if(!a.className){a.className=o.getClassName(function(t){var e=t&&t["&"];return e?e.displayName:void 0}(n));for(var s=[],l=0,u=n.__order;l<u.length;l++){var h=u[l];s.push(h,oo(t,n[h]))}a.rulesToInsert=s}return a}}function so(t,e){void 0===e&&(e=1);var i=Ar.getInstance(),n=t.className,r=t.key,o=t.args,a=t.rulesToInsert;if(a){for(var s=0;s<a.length;s+=2){var l=a[s+1];if(l){var u=a[s];u=u.replace(/&/g,ro(".".concat(t.className),e));var h="".concat(u,"{").concat(l,"}").concat(0===u.indexOf("@")?"}":"");i.insertRule(h)}}i.cacheClassName(n,r,o,a)}}function lo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uo(t,jr())}function uo(t,e){var i={subComponentStyles:{}};if(!t[0]&&t.length<=1)return{subComponentStyles:{}};var n=On.apply(void 0,t),r=[];for(var o in n)if(n.hasOwnProperty(o)){if("subComponentStyles"===o){i.subComponentStyles=n.subComponentStyles||{};continue}var a=Or(n[o]),s=a.classes,l=a.objects;if(null===l||void 0===l?void 0:l.length)(c=ao(e||{},{displayName:o},l))&&(r.push(c),i[o]=s.concat([c.className]).join(" "));else i[o]=s.join(" ")}for(var u=0,h=r;u<h.length;u++){var c;(c=h[u])&&so(c,null===e||void 0===e?void 0:e.specificityMultiplier)}return i}var ho={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,colon:58,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222};function co(t){if(Rn()&&"undefined"!==typeof document){var e=t;return e&&e.ownerDocument?e.ownerDocument:document}}function fo(t){var e=null;try{var i=Bn();e=i?i.sessionStorage.getItem(t):null}catch(SS){}return e}var po,go="isRTL";function mo(t){if(void 0===t&&(t={}),void 0!==t.rtl)return t.rtl;if(void 0===po){var e=fo(go);null!==e&&function(t,e){void 0===e&&(e=!1);var i=co();i&&i.documentElement.setAttribute("dir",t?"rtl":"ltr");e&&function(t,e){var i;try{null===(i=Bn())||void 0===i||i.sessionStorage.setItem(t,e)}catch(SS){}}(go,t?"1":"0");Lr(po=t)}(po="1"===e);var i=co();void 0===po&&i&&Lr(po="rtl"===(i.body&&i.body.getAttribute("dir")||i.documentElement.getAttribute("dir")))}return!!po}function vo(t,e){return void 0===e&&(e={}),mo(e)&&(t===ho.left?t=ho.right:t===ho.right&&(t=ho.left)),t}var yo=0,bo=Ar.getInstance();bo&&bo.onReset&&bo.onReset((function(){return yo++}));var xo="__retval__";function wo(t){void 0===t&&(t={});var e=new Map,i=0,n=0,r=yo;return function(o,a){var s;if(void 0===a&&(a={}),t.useStaticStyles&&"function"===typeof o&&o.__noStyleOverride__)return o(a);n++;var l=e,u=a.theme,h=u&&void 0!==u.rtl?u.rtl:mo(),c=t.disableCaching;if(r!==yo&&(r=yo,e=new Map,i=0),t.disableCaching||(l=_o(e,o),l=_o(l,a)),!c&&l[xo]||(l[xo]=void 0===o?{}:uo(["function"===typeof o?o(a):o],{rtl:!!h,specificityMultiplier:t.useStaticStyles?5:void 0}),c||i++),i>(t.cacheSize||50)){var d=Bn();(null===(s=null===d||void 0===d?void 0:d.FabricConfig)||void 0===s?void 0:s.enableClassNameCacheFullWarning)&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is ".concat(i,"/").concat(n,".")),console.trace()),e.clear(),i=0,t.disableCaching=!0}return l[xo]}}function ko(t,e){return e=function(t){switch(t){case void 0:return"__undefined__";case null:return"__null__";default:return t}}(e),t.has(e)||t.set(e,new Map),t.get(e)}function _o(t,e){if("function"===typeof e)if(e.__cachedInputs__)for(var i=0,n=e.__cachedInputs__;i<n.length;i++){t=ko(t,n[i])}else t=ko(t,e);else if("object"===typeof e)for(var r in e)e.hasOwnProperty(r)&&(t=ko(t,e[r]));return t}var So=wo({cacheSize:100}),Co=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.as,n=void 0===i?"label":i,r=e.children,o=e.className,a=e.disabled,s=e.styles,l=e.required,u=e.theme,h=So(s,{className:o,disabled:a,required:l,theme:u});return t.createElement(n,yt({},Sr(this.props,_r),{className:h.root}),r)},i}(t.Component);function Mo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(t,e){var i=t instanceof Array?t:[t],n=Or(i),r=n.classes,o=n.objects;o.length&&r.push(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=ao.apply(void 0,kt([t],e,!1));return n?(so(n,t.specificityMultiplier),n.className):""}(e||{},o));return r.join(" ")}(t,jr())}function Po(t){var e=Ar.getInstance(),i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(n,"{",oo(jr(),t[n]),"}");var r=i.join(""),o=e.classNameFromKey(r);if(o)return o;var a=e.getClassName();return e.insertRule("@keyframes ".concat(a,"{").concat(r,"}"),!0),e.cacheClassName(a,r,[],["keyframes",r]),a}var To="cubic-bezier(.1,.9,.2,1)",Do="cubic-bezier(.1,.25,.75,.9)",No="0.167s",Io="0.267s",Eo="0.367s",Ao="0.467s",Oo=Po({from:{opacity:0},to:{opacity:1}}),Lo=Po({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),Ro=ba(-10),jo=ba(-20),Bo=ba(-40),Fo=ba(-400),zo=ba(10),Ho=ba(20),Vo=ba(40),Wo=ba(400),Uo=xa(10),Go=xa(20),Ko=xa(-10),Yo=xa(-20),Xo=wa(10),qo=wa(20),Zo=wa(40),Jo=wa(400),Qo=wa(-10),$o=wa(-20),ta=wa(-40),ea=wa(-400),ia=ka(-10),na=ka(-20),ra=ka(10),oa=ka(20),aa=Po({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),sa=Po({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),la=Po({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),ua=Po({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),ha=Po({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),ca=Po({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),da=Do,fa=No,pa=Io,ga=Eo,ma=Ao,va={slideRightIn10:ya("".concat(Oo,",").concat(Ro),Eo,To),slideRightIn20:ya("".concat(Oo,",").concat(jo),Eo,To),slideRightIn40:ya("".concat(Oo,",").concat(Bo),Eo,To),slideRightIn400:ya("".concat(Oo,",").concat(Fo),Eo,To),slideLeftIn10:ya("".concat(Oo,",").concat(zo),Eo,To),slideLeftIn20:ya("".concat(Oo,",").concat(Ho),Eo,To),slideLeftIn40:ya("".concat(Oo,",").concat(Vo),Eo,To),slideLeftIn400:ya("".concat(Oo,",").concat(Wo),Eo,To),slideUpIn10:ya("".concat(Oo,",").concat(Uo),Eo,To),slideUpIn20:ya("".concat(Oo,",").concat(Go),Eo,To),slideDownIn10:ya("".concat(Oo,",").concat(Ko),Eo,To),slideDownIn20:ya("".concat(Oo,",").concat(Yo),Eo,To),slideRightOut10:ya("".concat(Lo,",").concat(Xo),Eo,To),slideRightOut20:ya("".concat(Lo,",").concat(qo),Eo,To),slideRightOut40:ya("".concat(Lo,",").concat(Zo),Eo,To),slideRightOut400:ya("".concat(Lo,",").concat(Jo),Eo,To),slideLeftOut10:ya("".concat(Lo,",").concat(Qo),Eo,To),slideLeftOut20:ya("".concat(Lo,",").concat($o),Eo,To),slideLeftOut40:ya("".concat(Lo,",").concat(ta),Eo,To),slideLeftOut400:ya("".concat(Lo,",").concat(ea),Eo,To),slideUpOut10:ya("".concat(Lo,",").concat(ia),Eo,To),slideUpOut20:ya("".concat(Lo,",").concat(na),Eo,To),slideDownOut10:ya("".concat(Lo,",").concat(ra),Eo,To),slideDownOut20:ya("".concat(Lo,",").concat(oa),Eo,To),scaleUpIn100:ya("".concat(Oo,",").concat(aa),Eo,To),scaleDownIn100:ya("".concat(Oo,",").concat(la),Eo,To),scaleUpOut103:ya("".concat(Lo,",").concat(ua),No,Do),scaleDownOut98:ya("".concat(Lo,",").concat(sa),No,Do),fadeIn100:ya(Oo,No,Do),fadeIn200:ya(Oo,Io,Do),fadeIn400:ya(Oo,Eo,Do),fadeIn500:ya(Oo,Ao,Do),fadeOut100:ya(Lo,No,Do),fadeOut200:ya(Lo,Io,Do),fadeOut400:ya(Lo,Eo,Do),fadeOut500:ya(Lo,Ao,Do),rotate90deg:ya(ha,"0.1s",Do),rotateN90deg:ya(ca,"0.1s",Do)};function ya(t,e,i){return{animationName:t,animationDuration:e,animationTimingFunction:i,animationFillMode:"both"}}function ba(t){return Po({from:{transform:"translate3d(".concat(t,"px,0,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function xa(t){return Po({from:{transform:"translate3d(0,".concat(t,"px,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function wa(t){return Po({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(".concat(t,"px,0,0)")}})}function ka(t){return Po({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,".concat(t,"px,0)")}})}var _a,Sa,Ca,Ma,Pa,Ta=function(t){var e={},i=function(i){var n;t.hasOwnProperty(i)&&Object.defineProperty(e,i,{get:function(){return void 0===n&&(n=Mo(t[i]).toString()),n},enumerable:!0,configurable:!0})};for(var n in t)i(n);return e}(va);!function(t){t.Arabic="Segoe UI Web (Arabic)",t.Cyrillic="Segoe UI Web (Cyrillic)",t.EastEuropean="Segoe UI Web (East European)",t.Greek="Segoe UI Web (Greek)",t.Hebrew="Segoe UI Web (Hebrew)",t.Thai="Leelawadee UI Web",t.Vietnamese="Segoe UI Web (Vietnamese)",t.WestEuropean="Segoe UI Web (West European)",t.Selawik="Selawik Web",t.Armenian="Segoe UI Web (Armenian)",t.Georgian="Segoe UI Web (Georgian)"}(_a||(_a={})),function(t){t.Arabic="'".concat(_a.Arabic,"'"),t.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",t.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",t.Cyrillic="'".concat(_a.Cyrillic,"'"),t.EastEuropean="'".concat(_a.EastEuropean,"'"),t.Greek="'".concat(_a.Greek,"'"),t.Hebrew="'".concat(_a.Hebrew,"'"),t.Hindi="'Nirmala UI'",t.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",t.Korean="'Malgun Gothic', Gulim",t.Selawik="'".concat(_a.Selawik,"'"),t.Thai="'Leelawadee UI Web', 'Kmer UI'",t.Vietnamese="'".concat(_a.Vietnamese,"'"),t.WestEuropean="'".concat(_a.WestEuropean,"'"),t.Armenian="'".concat(_a.Armenian,"'"),t.Georgian="'".concat(_a.Georgian,"'")}(Sa||(Sa={})),function(t){t.size10="10px",t.size12="12px",t.size14="14px",t.size16="16px",t.size18="18px",t.size20="20px",t.size24="24px",t.size28="28px",t.size32="32px",t.size42="42px",t.size68="68px",t.mini="10px",t.xSmall="10px",t.small="12px",t.smallPlus="12px",t.medium="14px",t.mediumPlus="16px",t.icon="16px",t.large="18px",t.xLarge="20px",t.xLargePlus="24px",t.xxLarge="28px",t.xxLargePlus="32px",t.superLarge="42px",t.mega="68px"}(Ca||(Ca={})),function(t){t.light=100,t.semilight=300,t.regular=400,t.semibold=600,t.bold=700}(Ma||(Ma={})),function(t){t.xSmall="10px",t.small="12px",t.medium="16px",t.large="20px"}(Pa||(Pa={}));var Da="@media screen and (-ms-high-contrast: active), screen and (forced-colors: active)";function Na(t,e){var i="number"===typeof t?" and (min-width: ".concat(t,"px)"):"",n="number"===typeof e?" and (max-width: ".concat(e,"px)"):"";return"@media only screen".concat(i).concat(n)}var Ia,Ea="ms-Fabric--isFocusVisible",Aa="ms-Fabric--isFocusHidden";function Oa(t,e){t&&(t.classList.add(e?Ea:Aa),t.classList.remove(e?Aa:Ea))}function La(t,e,i){var n;i?i.forEach((function(e){return Oa(e.current,t)})):Oa(null===(n=Bn(e))||void 0===n?void 0:n.document.body,t)}function Ra(t,e,i,n,r,o,a,s){return ja(t,"number"!==typeof e&&e?e:{inset:e,position:i,highContrastStyle:n,borderColor:r,outlineColor:o,isFocusedOnly:a,borderRadius:s})}function ja(t,e){var i,n;void 0===e&&(e={});var r=e.borderRadius,o=e.inset,a=void 0===o?0:o,s=e.width,l=void 0===s?1:s,u=e.position,h=void 0===u?"relative":u,c=e.highContrastStyle,d=e.borderColor,f=void 0===d?t.palette.white:d,p=e.outlineColor,g=void 0===p?t.palette.neutralSecondary:p,m=e.isFocusedOnly,v=void 0===m||m,y=e.pointerEvents;return{outline:"transparent",position:h,selectors:(i={"::-moz-focus-inner":{border:"0"}},i[".".concat(Ea," &").concat(v?":focus":"",":after")]={content:'""',position:"absolute",pointerEvents:y,left:a+1,top:a+1,bottom:a+1,right:a+1,border:"".concat(l,"px solid ").concat(f),outline:"".concat(l,"px solid ").concat(g),zIndex:Ia.FocusStyle,borderRadius:r,selectors:(n={},n[Da]=c,n)},i)}}!function(t){t.Nav=1,t.ScrollablePane=1,t.FocusStyle=1,t.Coachmark=1e3,t.Layer=1e6,t.KeytipLayer=1000001}(Ia||(Ia={}));var Ba=function(t,e,i,n){var r,o,a;void 0===i&&(i="border"),void 0===n&&(n=-1);var s="borderBottom"===i;return{borderColor:t,selectors:{":after":(r={pointerEvents:"none",content:"''",position:"absolute",left:s?0:n,top:n,bottom:n,right:s?0:n},r[i]="2px solid ".concat(t),r.borderRadius=e,r.width="borderBottom"===i?"100%":void 0,r.selectors=(o={},o[Da]=(a={},a["border"===i?"borderColor":"borderBottomColor"]="Highlight",a),o),r)}}},Fa={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden",whiteSpace:"nowrap"},za=!1,Ha=0,Va={empty:!0},Wa={},Ua="undefined"===typeof WeakMap?null:WeakMap;function Ga(){Ha++}function Ka(t,e,i){if(void 0===e&&(e=100),void 0===i&&(i=!1),!Ua)return t;if(!za){var n=Ar.getInstance();n&&n.onReset&&Ar.getInstance().onReset(Ga),za=!0}var r,o=0,a=Ha;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var l=r;(void 0===r||a!==Ha||e>0&&o>e)&&(r=qa(),o=0,a=Ha),l=r;for(var u=0;u<n.length;u++){var h=Xa(n[u]);l.map.has(h)||l.map.set(h,qa()),l=l.map.get(h)}return l.hasOwnProperty("value")||(l.value=t.apply(void 0,n),o++),!i||null!==l.value&&void 0!==l.value||(l.value=t.apply(void 0,n)),l.value}}function Ya(t){if(!Ua)return t;var e=new Ua;return function(i){if(!i||"function"!==typeof i&&"object"!==typeof i)return t(i);if(e.has(i))return e.get(i);var n=t(i);return e.set(i,n),n}}function Xa(t){return t?"object"===typeof t||"function"===typeof t?t:(Wa[t]||(Wa[t]={val:t}),Wa[t]):Va}function qa(){return{map:Ua?new Ua:null}}var Za=Ka((function(t,e){var i=Ar.getInstance();return e?Object.keys(t).reduce((function(e,n){return e[n]=i.getClassName(t[n]),e}),{}):t}));function Ja(t,e,i){return Za(t,void 0!==i?i:e.disableGlobalClassNames)}var Qa=function(){return Qa=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Qa.apply(this,arguments)},$a="undefined"===typeof window?i.g:window,ts=$a&&$a.CSPSettings&&$a.CSPSettings.nonce,es=function(){var t=$a.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};t.runState||(t=Qa(Qa({},t),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}}));t.registeredThemableStyles||(t=Qa(Qa({},t),{registeredThemableStyles:[]}));return $a.__themeState__=t,t}();function is(t,e){es.loadStyles?es.loadStyles(os(t).styleString,t):function(t){if("undefined"===typeof document)return;var e=document.getElementsByTagName("head")[0],i=document.createElement("style"),n=os(t),r=n.styleString,o=n.themable;i.setAttribute("data-load-themed-styles","true"),ts&&i.setAttribute("nonce",ts);i.appendChild(document.createTextNode(r)),es.perf.count++,e.appendChild(i);var a=document.createEvent("HTMLEvents");a.initEvent("styleinsert",!0,!1),a.args={newStyle:i},document.dispatchEvent(a);var s={styleElement:i,themableStyle:t};o?es.registeredThemableStyles.push(s):es.registeredStyles.push(s)}(t)}function ns(t){es.theme=t,function(){if(es.theme){for(var t=[],e=0,i=es.registeredThemableStyles;e<i.length;e++){var n=i[e];t.push(n.themableStyle)}t.length>0&&(!function(t){void 0===t&&(t=3);3!==t&&2!==t||(rs(es.registeredStyles),es.registeredStyles=[]);3!==t&&1!==t||(rs(es.registeredThemableStyles),es.registeredThemableStyles=[])}(1),is([].concat.apply([],t)))}}()}function rs(t){t.forEach((function(t){var e=t&&t.styleElement;e&&e.parentElement&&e.parentElement.removeChild(e)}))}function os(t){var e=es.theme,i=!1;return{styleString:(t||[]).map((function(t){var n=t.theme;if(n){i=!0;var r=e?e[n]:void 0,o=t.defaultValue||"inherit";return e&&!r&&console&&!(n in e)&&"undefined"!==typeof DEBUG&&DEBUG&&console.warn('Theming value not provided for "'.concat(n,'". Falling back to "').concat(o,'".')),r||o}return t.rawString})).join(""),themable:i}}var as,ss={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"};!function(t){t.depth0="0 0 0 0 transparent",t.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",t.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",t.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",t.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"}(as||(as={}));var ls={elevation4:as.depth4,elevation8:as.depth8,elevation16:as.depth16,elevation64:as.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"};function us(t){var e=Ar.getInstance(),i=oo(jr(),t);if(!e.classNameFromKey(i)){var n=e.getClassName();e.insertRule("@font-face{".concat(i,"}"),!0),e.cacheClassName(n,i,[],["font-face",i])}}var hs,cs="'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif",ds="'Segoe UI', '".concat(_a.WestEuropean,"'"),fs={ar:Sa.Arabic,bg:Sa.Cyrillic,cs:Sa.EastEuropean,el:Sa.Greek,et:Sa.EastEuropean,he:Sa.Hebrew,hi:Sa.Hindi,hr:Sa.EastEuropean,hu:Sa.EastEuropean,ja:Sa.Japanese,kk:Sa.EastEuropean,ko:Sa.Korean,lt:Sa.EastEuropean,lv:Sa.EastEuropean,pl:Sa.EastEuropean,ru:Sa.Cyrillic,sk:Sa.EastEuropean,"sr-latn":Sa.EastEuropean,th:Sa.Thai,tr:Sa.EastEuropean,uk:Sa.Cyrillic,vi:Sa.Vietnamese,"zh-hans":Sa.ChineseSimplified,"zh-hant":Sa.ChineseTraditional,hy:Sa.Armenian,ka:Sa.Georgian};function ps(t,e,i){return{fontFamily:i,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:t,fontWeight:e}}var gs="language";var ms=function(t){var e=function(t){for(var e in fs)if(fs.hasOwnProperty(e)&&t&&0===e.indexOf(t))return fs[e];return ds}(t),i="".concat(e,", ").concat(cs);return{tiny:ps(Ca.mini,Ma.regular,i),xSmall:ps(Ca.xSmall,Ma.regular,i),small:ps(Ca.small,Ma.regular,i),smallPlus:ps(Ca.smallPlus,Ma.regular,i),medium:ps(Ca.medium,Ma.regular,i),mediumPlus:ps(Ca.mediumPlus,Ma.regular,i),large:ps(Ca.large,Ma.regular,i),xLarge:ps(Ca.xLarge,Ma.semibold,i),xLargePlus:ps(Ca.xLargePlus,Ma.semibold,i),xxLarge:ps(Ca.xxLarge,Ma.semibold,i),xxLargePlus:ps(Ca.xxLargePlus,Ma.semibold,i),superLarge:ps(Ca.superLarge,Ma.semibold,i),mega:ps(Ca.mega,Ma.semibold,i)}}(function(t){if(void 0===t&&(t="sessionStorage"),void 0===hs){var e=co(),i="localStorage"===t?function(t){var e=null;try{var i=Bn();e=i?i.localStorage.getItem(t):null}catch(SS){}return e}(gs):"sessionStorage"===t?fo(gs):void 0;i&&(hs=i),void 0===hs&&e&&(hs=e.documentElement.getAttribute("lang")),void 0===hs&&(hs="en")}return hs}());function vs(t,e,i,n){us({fontFamily:t="'".concat(t,"'"),src:(void 0!==n?"local('".concat(n,"'),"):"")+"url('".concat(e,".woff2') format('woff2'),")+"url('".concat(e,".woff') format('woff')"),fontWeight:i,fontStyle:"normal",fontDisplay:"swap"})}function ys(t,e,i,n,r){void 0===n&&(n="segoeui");var o="".concat(t,"/").concat(i,"/").concat(n);vs(e,o+"-light",Ma.light,r&&r+" Light"),vs(e,o+"-semilight",Ma.semilight,r&&r+" SemiLight"),vs(e,o+"-regular",Ma.regular,r),vs(e,o+"-semibold",Ma.semibold,r&&r+" SemiBold"),vs(e,o+"-bold",Ma.bold,r&&r+" Bold")}function bs(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,r=e;n<r.length;n++){xs(t||{},r[n])}return t}function xs(t,e,i){for(var n in void 0===i&&(i=[]),i.push(e),e)if(e.hasOwnProperty(n)&&"__proto__"!==n&&"constructor"!==n&&"prototype"!==n){var r=e[n];if("object"!==typeof r||null===r||Array.isArray(r))t[n]=r;else{var o=i.indexOf(r)>-1;t[n]=o?r:xs(t[n]||{},r,i)}}return i.pop(),t}function ws(t,e,i,n,r){return void 0===r&&(r=!1),function(t,e){var i="";!0===e&&(i=" /* @deprecated */");return t.listTextColor=t.listText+i,t.menuItemBackgroundChecked+=i,t.warningHighlight+=i,t.warningText=t.messageText+i,t.successText+=i,t}(ks(t,e,yt({primaryButtonBorder:"transparent",errorText:n?"#F1707B":"#a4262c",messageText:n?"#F3F2F1":"#323130",messageLink:n?"#6CB8F6":"#005A9E",messageLinkHovered:n?"#82C7FF":"#004578",infoIcon:n?"#C8C6C4":"#605e5c",errorIcon:n?"#F1707B":"#A80000",blockingIcon:n?"#442726":"#FDE7E9",warningIcon:n?"#C8C6C4":"#797775",severeWarningIcon:n?"#FCE100":"#D83B01",successIcon:n?"#92C353":"#107C10",infoBackground:n?"#323130":"#f3f2f1",errorBackground:n?"#442726":"#FDE7E9",blockingBackground:n?"#442726":"#FDE7E9",warningBackground:n?"#433519":"#FFF4CE",severeWarningBackground:n?"#4F2A0F":"#FED9CC",successBackground:n?"#393D1B":"#DFF6DD",warningHighlight:n?"#fff100":"#ffb900",successText:n?"#92c353":"#107C10"},i),n),r)}function ks(t,e,i,n,r){void 0===r&&(r=!1);var o={},a=t||{},s=a.white,l=a.black,u=a.themePrimary,h=a.themeDark,c=a.themeDarker,d=a.themeDarkAlt,f=a.themeLighter,p=a.neutralLight,g=a.neutralLighter,m=a.neutralDark,v=a.neutralQuaternary,y=a.neutralQuaternaryAlt,b=a.neutralPrimary,x=a.neutralSecondary,w=a.neutralSecondaryAlt,k=a.neutralTertiary,_=a.neutralTertiaryAlt,S=a.neutralLighterAlt,C=a.accent;return s&&(o.bodyBackground=s,o.bodyFrameBackground=s,o.accentButtonText=s,o.buttonBackground=s,o.primaryButtonText=s,o.primaryButtonTextHovered=s,o.primaryButtonTextPressed=s,o.inputBackground=s,o.inputForegroundChecked=s,o.listBackground=s,o.menuBackground=s,o.cardStandoutBackground=s),l&&(o.bodyTextChecked=l,o.buttonTextCheckedHovered=l),u&&(o.link=u,o.primaryButtonBackground=u,o.inputBackgroundChecked=u,o.inputIcon=u,o.inputFocusBorderAlt=u,o.menuIcon=u,o.menuHeader=u,o.accentButtonBackground=u),h&&(o.primaryButtonBackgroundPressed=h,o.inputBackgroundCheckedHovered=h,o.inputIconHovered=h),c&&(o.linkHovered=c),d&&(o.primaryButtonBackgroundHovered=d),f&&(o.inputPlaceholderBackgroundChecked=f),p&&(o.bodyBackgroundChecked=p,o.bodyFrameDivider=p,o.bodyDivider=p,o.variantBorder=p,o.buttonBackgroundCheckedHovered=p,o.buttonBackgroundPressed=p,o.listItemBackgroundChecked=p,o.listHeaderBackgroundPressed=p,o.menuItemBackgroundPressed=p,o.menuItemBackgroundChecked=p),g&&(o.bodyBackgroundHovered=g,o.buttonBackgroundHovered=g,o.buttonBackgroundDisabled=g,o.buttonBorderDisabled=g,o.primaryButtonBackgroundDisabled=g,o.disabledBackground=g,o.listItemBackgroundHovered=g,o.listHeaderBackgroundHovered=g,o.menuItemBackgroundHovered=g),v&&(o.primaryButtonTextDisabled=v,o.disabledSubtext=v),y&&(o.listItemBackgroundCheckedHovered=y),k&&(o.disabledBodyText=k,o.variantBorderHovered=(null===i||void 0===i?void 0:i.variantBorderHovered)||k,o.buttonTextDisabled=k,o.inputIconDisabled=k,o.disabledText=k),b&&(o.bodyText=b,o.actionLink=b,o.buttonText=b,o.inputBorderHovered=b,o.inputText=b,o.listText=b,o.menuItemText=b),S&&(o.bodyStandoutBackground=S,o.defaultStateBackground=S),m&&(o.actionLinkHovered=m,o.buttonTextHovered=m,o.buttonTextChecked=m,o.buttonTextPressed=m,o.inputTextHovered=m,o.menuItemTextHovered=m),x&&(o.bodySubtext=x,o.focusBorder=x,o.inputBorder=x,o.smallInputBorder=x,o.inputPlaceholderText=x),w&&(o.buttonBorder=w),_&&(o.disabledBodySubtext=_,o.disabledBorder=_,o.buttonBackgroundChecked=_,o.menuDivider=_),C&&(o.accentButtonBackground=C),(null===e||void 0===e?void 0:e.elevation4)&&(o.cardShadow=e.elevation4),!n&&(null===e||void 0===e?void 0:e.elevation8)?o.cardShadowHovered=e.elevation8:o.variantBorderHovered&&(o.cardShadowHovered="0 0 1px "+o.variantBorderHovered),o=yt(yt({},o),i)}!function(t){if(t){var e="".concat(t,"/fonts");ys(e,_a.Thai,"leelawadeeui-thai","leelawadeeui"),ys(e,_a.Arabic,"segoeui-arabic"),ys(e,_a.Cyrillic,"segoeui-cyrillic"),ys(e,_a.EastEuropean,"segoeui-easteuropean"),ys(e,_a.Greek,"segoeui-greek"),ys(e,_a.Hebrew,"segoeui-hebrew"),ys(e,_a.Vietnamese,"segoeui-vietnamese"),ys(e,_a.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),ys(e,Sa.Selawik,"selawik","selawik"),ys(e,_a.Armenian,"segoeui-armenian"),ys(e,_a.Georgian,"segoeui-georgian"),vs("Leelawadee UI Web","".concat(e,"/leelawadeeui-thai/leelawadeeui-semilight"),Ma.light),vs("Leelawadee UI Web","".concat(e,"/leelawadeeui-thai/leelawadeeui-bold"),Ma.semibold)}}(function(){var t,e,i=null===(t=Bn())||void 0===t?void 0:t.FabricConfig;return null!==(e=null===i||void 0===i?void 0:i.fontBaseUrl)&&void 0!==e?e:"https://res-1.cdn.office.net/files/fabric-cdn-prod_20221209.001/assets"}());var _s={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"};function Ss(t,e){void 0===t&&(t={}),void 0===e&&(e=!1);var i=!!t.isInverted;return function(t,e){var i,n,r;void 0===e&&(e={});var o=bs({},t,e,{semanticColors:ks(e.palette,e.effects,e.semanticColors,void 0===e.isInverted?t.isInverted:e.isInverted)});if((null===(i=e.palette)||void 0===i?void 0:i.themePrimary)&&!(null===(n=e.palette)||void 0===n?void 0:n.accent)&&(o.palette.accent=e.palette.themePrimary),e.defaultFontStyle)for(var a=0,s=Object.keys(o.fonts);a<s.length;a++){var l=s[a];o.fonts[l]=bs(o.fonts[l],e.defaultFontStyle,null===(r=null===e||void 0===e?void 0:e.fonts)||void 0===r?void 0:r[l])}return o}({palette:ss,effects:ls,fonts:ms,spacing:_s,isInverted:i,disableGlobalClassNames:!1,semanticColors:ws(ss,ls,void 0,i,e),rtl:void 0},t)}var Cs=Ss({}),Ms=[],Ps="theme";function Ts(){var t,e,i,n=Bn();(null===(e=null===n||void 0===n?void 0:n.FabricConfig)||void 0===e?void 0:e.legacyTheme)?function(t,e){var i;void 0===e&&(e=!1);Cs=Ss(t,e),ns(yt(yt(yt(yt({},Cs.palette),Cs.semanticColors),Cs.effects),function(t){for(var e={},i=0,n=Object.keys(t.fonts);i<n.length;i++)for(var r=n[i],o=t.fonts[r],a=0,s=Object.keys(o);a<s.length;a++){var l=s[a],u=r+l.charAt(0).toUpperCase()+l.slice(1),h=o[l];"fontSize"===l&&"number"===typeof h&&(h+="px"),e[u]=h}return e}(Cs))),Xn.applySettings((i={},i[Ps]=Cs,i)),Ms.forEach((function(t){try{t(Cs)}catch(SS){}}))}(n.FabricConfig.legacyTheme):Xn.getSettings([Ps]).theme||((null===(i=null===n||void 0===n?void 0:n.FabricConfig)||void 0===i?void 0:i.theme)&&(Cs=Ss(n.FabricConfig.theme)),Xn.applySettings(((t={})[Ps]=Cs,t)))}Ts();var Ds={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"};function Ns(t){return{selectors:{"::placeholder":t,":-ms-input-placeholder":t,"::-ms-input-placeholder":t}}}function Is(t){console&&console.warn&&console.warn(t)}var Es=Vn.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),As=Ar.getInstance();As&&As.onReset&&As.onReset((function(){for(var t in Es)Es.hasOwnProperty(t)&&Es[t].subset&&(Es[t].subset.className=void 0)}));var Os=function(t){return t.toLowerCase()};var Ls={},Rs=void 0;try{Rs=window}catch(SS){}function js(t,e){if("undefined"!==typeof Rs){var i=Rs.__packages__=Rs.__packages__||{};if(!i[t]||!Ls[t])Ls[t]=e,(i[t]=i[t]||[]).push(e)}}js("@fluentui/set-version","6.0.0"),js("@fluentui/style-utilities","8.9.14"),Ts();var Bs,Fs,zs,Hs,Vs=Qn(Co,(function(t){var e,i=t.theme,n=t.className,r=t.disabled,o=t.required,a=i.semanticColors,s=Ma.semibold,l=a.bodyText,u=a.disabledBodyText,h=a.errorText;return{root:["ms-Label",i.fonts.medium,{fontWeight:s,color:l,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},r&&{color:u,selectors:(e={},e[Da]=yt({color:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),e)},o&&{selectors:{"::after":{content:"' *'",color:h,paddingRight:12}}},n]}}),void 0,{scope:"Label"});!function(t){t[t.default=0]="default",t[t.image=1]="image",t[t.Default=1e5]="Default",t[t.Image=100001]="Image"}(Bs||(Bs={})),function(t){t[t.center=0]="center",t[t.contain=1]="contain",t[t.cover=2]="cover",t[t.none=3]="none",t[t.centerCover=4]="centerCover",t[t.centerContain=5]="centerContain"}(Fs||(Fs={})),function(t){t[t.landscape=0]="landscape",t[t.portrait=1]="portrait"}(zs||(zs={})),function(t){t[t.notLoaded=0]="notLoaded",t[t.loaded=1]="loaded",t[t.error=2]="error",t[t.errorLoaded=3]="errorLoaded"}(Hs||(Hs={}));var Ws=Rn()?t.useLayoutEffect:t.useEffect;function Us(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.useCallback((function(t){n.current=t;for(var i=0,r=e;i<r.length;i++){var o=r[i];"function"===typeof o?o(t):o&&(o.current=t)}}),kt([],e,!0));return n}var Gs=wo(),Ks=/\.svg$/i;var Ys=t.forwardRef((function(e,i){var n=t.useRef(),r=t.useRef(),o=function(e,i){var n=e.onLoadingStateChange,r=e.onLoad,o=e.onError,a=e.src,s=t.useState(Hs.notLoaded),l=s[0],u=s[1];Ws((function(){u(Hs.notLoaded)}),[a]),t.useEffect((function(){l===Hs.notLoaded&&i.current&&(a&&i.current.naturalWidth>0&&i.current.naturalHeight>0||i.current.complete&&Ks.test(a))&&u(Hs.loaded)})),t.useEffect((function(){null===n||void 0===n||n(l)}),[l]);var h=t.useCallback((function(t){null===r||void 0===r||r(t),a&&u(Hs.loaded)}),[a,r]),c=t.useCallback((function(t){null===o||void 0===o||o(t),u(Hs.error)}),[o]);return[l,h,c]}(e,r),a=o[0],s=o[1],l=o[2],u=Sr(e,kr,["width","height"]),h=e.src,c=e.alt,d=e.width,f=e.height,p=e.shouldFadeIn,g=void 0===p||p,m=e.shouldStartVisible,v=e.className,y=e.imageFit,b=e.role,x=e.maximizeFrame,w=e.styles,k=e.theme,_=e.loading,S=function(e,i,n,r){var o=t.useRef(i),a=t.useRef();(void 0===a||o.current===Hs.notLoaded&&i===Hs.loaded)&&(a.current=function(t,e,i,n){var r=t.imageFit,o=t.width,a=t.height;if(void 0!==t.coverStyle)return t.coverStyle;if(e===Hs.loaded&&(r===Fs.cover||r===Fs.contain||r===Fs.centerContain||r===Fs.centerCover)&&i.current&&n.current){var s=void 0;if(s="number"===typeof o&&"number"===typeof a&&r!==Fs.centerContain&&r!==Fs.centerCover?o/a:n.current.clientWidth/n.current.clientHeight,i.current.naturalWidth/i.current.naturalHeight>s)return zs.landscape}return zs.portrait}(e,i,n,r));return o.current=i,a.current}(e,a,r,n),C=Gs(w,{theme:k,className:v,width:d,height:f,maximizeFrame:x,shouldFadeIn:g,shouldStartVisible:m,isLoaded:a===Hs.loaded||a===Hs.notLoaded&&e.shouldStartVisible,isLandscape:S===zs.landscape,isCenter:y===Fs.center,isCenterContain:y===Fs.centerContain,isCenterCover:y===Fs.centerCover,isContain:y===Fs.contain,isCover:y===Fs.cover,isNone:y===Fs.none,isError:a===Hs.error,isNotImageFit:void 0===y});return t.createElement("div",{className:C.root,style:{width:d,height:f},ref:n},t.createElement("img",yt({},u,{onLoad:s,onError:l,key:"fabricImage"+e.src||"",className:C.image,ref:Us(r,i),src:h,alt:c,role:b,loading:_})))}));Ys.displayName="ImageBase";var Xs={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},qs=Qn(Ys,(function(t){var e=t.className,i=t.width,n=t.height,r=t.maximizeFrame,o=t.isLoaded,a=t.shouldFadeIn,s=t.shouldStartVisible,l=t.isLandscape,u=t.isCenter,h=t.isContain,c=t.isCover,d=t.isCenterContain,f=t.isCenterCover,p=t.isNone,g=t.isError,m=t.isNotImageFit,v=t.theme,y=Ja(Xs,v),b={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},x=Bn(),w=void 0!==x&&void 0===x.navigator.msMaxTouchPoints,k=h&&l||c&&!l?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[y.root,v.fonts.medium,{overflow:"hidden"},r&&[y.rootMaximizeFrame,{height:"100%",width:"100%"}],o&&a&&!s&&Ta.fadeIn400,(u||h||c||d||f)&&{position:"relative"},e],image:[y.image,{display:"block",opacity:0},o&&["is-loaded",{opacity:1}],u&&[y.imageCenter,b],h&&[y.imageContain,w&&{width:"100%",height:"100%",objectFit:"contain"},!w&&k,!w&&b],c&&[y.imageCover,w&&{width:"100%",height:"100%",objectFit:"cover"},!w&&k,!w&&b],d&&[y.imageCenterContain,l&&{maxWidth:"100%"},!l&&{maxHeight:"100%"},b],f&&[y.imageCenterCover,l&&{maxHeight:"100%"},!l&&{maxWidth:"100%"},b],p&&[y.imageNone,{width:"auto",height:"auto"}],m&&[!!i&&!n&&{height:"auto",width:"100%"},!i&&!!n&&{height:"100%",width:"auto"},!!i&&!!n&&{height:"100%",width:"100%"}],l&&y.imageLandscape,!l&&y.imagePortrait,!o&&"is-notLoaded",a&&"is-fadeIn",g&&"is-error"]}}),void 0,{scope:"Image"},!0);qs.displayName="Image";var Zs=lo({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),Js="ms-Icon";function Qs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n];if(o)if("string"===typeof o)i.push(o);else if(o.hasOwnProperty("toString")&&"function"===typeof o.toString)i.push(o.toString());else for(var a in o)o[a]&&i.push(a)}return i.join(" ")}var $s=Ka((function(t){var e=function(t){var e=void 0,i=Es.__options;if(t=t?Os(t):"",t=Es.__remapped[t]||t)if(e=Es[t]){var n=e.subset;n&&n.fontFace&&(n.isRegistered||(us(n.fontFace),n.isRegistered=!0),n.className||(n.className=Mo(n.style,{fontFamily:n.fontFace.fontFamily,fontWeight:n.fontFace.fontWeight||"normal",fontStyle:n.fontFace.fontStyle||"normal"})))}else!i.disableWarnings&&i.warnOnMissingIcons&&Is('The icon "'.concat(t,'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.'));return e}(t)||{subset:{},code:void 0},i=e.code,n=e.subset;return i?{children:i,iconClassName:n.className,fontFamily:n.fontFace&&n.fontFace.fontFamily,mergeImageProps:n.mergeImageProps}:null}),void 0,!0),tl=function(e){var i=e.iconName,n=e.className,r=e.style,o=void 0===r?{}:r,a=$s(i)||{},s=a.iconClassName,l=a.children,u=a.fontFamily,h=a.mergeImageProps,c=Sr(e,ir),d=e["aria-label"]||e.title,f=e["aria-label"]||e["aria-labelledby"]||e.title?{role:h?void 0:"img"}:{"aria-hidden":!0},p=l;return h&&"object"===typeof l&&"object"===typeof l.props&&d&&(p=t.cloneElement(l,{alt:d})),t.createElement("i",yt({"data-icon-name":i},f,c,h?{title:void 0,"aria-label":void 0}:{},{className:Qs(Js,Zs.root,s,!i&&Zs.placeholder,n),style:yt({fontFamily:u},o)}),p)},el=(Ka((function(t,e,i){return tl({iconName:t,className:e,"aria-label":i})})),wo({cacheSize:100})),il=function(e){function i(t){var i=e.call(this,t)||this;return i._onImageLoadingStateChange=function(t){i.props.imageProps&&i.props.imageProps.onLoadingStateChange&&i.props.imageProps.onLoadingStateChange(t),t===Hs.error&&i.setState({imageLoadError:!0})},i.state={imageLoadError:!1},i}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.children,n=e.className,r=e.styles,o=e.iconName,a=e.imageErrorAs,s=e.theme,l="string"===typeof o&&0===o.length,u=!!this.props.imageProps||this.props.iconType===Bs.image||this.props.iconType===Bs.Image,h=$s(o)||{},c=h.iconClassName,d=h.children,f=h.mergeImageProps,p=el(r,{theme:s,className:n,iconClassName:c,isImage:u,isPlaceholder:l}),g=u?"span":"i",m=Sr(this.props,ir,["aria-label"]),v=this.state.imageLoadError,y=yt(yt({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),b=v&&a||qs,x=this.props["aria-label"]||this.props.ariaLabel,w=y.alt||x||this.props.title,k=!!(w||this.props["aria-labelledby"]||y["aria-label"]||y["aria-labelledby"])?{role:u||f?void 0:"img","aria-label":u||f?void 0:w}:{"aria-hidden":!0},_=d;return f&&d&&"object"===typeof d&&w&&(_=t.cloneElement(d,{alt:w})),t.createElement(g,yt({"data-icon-name":o},k,m,f?{title:void 0,"aria-label":void 0}:{},{className:p.root}),u?t.createElement(b,yt({},y)):i||_)},i}(t.Component),nl=Qn(il,(function(t){var e=t.className,i=t.iconClassName,n=t.isPlaceholder,r=t.isImage,o=t.styles;return{root:[n&&Zs.placeholder,Zs.root,r&&Zs.image,i,e,o&&o.root,o&&o.imageContainer]}}),void 0,{scope:"Icon"},!0);function rl(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.length<2?e[0]:function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];e.forEach((function(e){return e&&e.apply(t,i)}))}}function ol(t){!function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=rl(t,t[i],e[i]))}(t,{componentDidMount:al,componentDidUpdate:sl,componentWillUnmount:ll})}function al(){ul(this.props.componentRef,this)}function sl(t){t.componentRef!==this.props.componentRef&&(ul(t.componentRef,null),ul(this.props.componentRef,this))}function ll(){ul(this.props.componentRef,null)}function ul(t,e){t&&("object"===typeof t?t.current=e:"function"===typeof t&&t(e))}nl.displayName="Icon";var hl=function(){function t(t,e){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=t||null,this._onErrorHandler=e,this._noop=function(){}}return t.prototype.dispose=function(){var t;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(t in this._timeoutIds)this._timeoutIds.hasOwnProperty(t)&&this.clearTimeout(parseInt(t,10));this._timeoutIds=null}if(this._immediateIds){for(t in this._immediateIds)this._immediateIds.hasOwnProperty(t)&&this.clearImmediate(parseInt(t,10));this._immediateIds=null}if(this._intervalIds){for(t in this._intervalIds)this._intervalIds.hasOwnProperty(t)&&this.clearInterval(parseInt(t,10));this._intervalIds=null}if(this._animationFrameIds){for(t in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(t)&&this.cancelAnimationFrame(parseInt(t,10));this._animationFrameIds=null}},t.prototype.setTimeout=function(t,e){var i=this,n=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),n=setTimeout((function(){try{i._timeoutIds&&delete i._timeoutIds[n],t.apply(i._parent)}catch(SS){i._logError(SS)}}),e),this._timeoutIds[n]=!0),n},t.prototype.clearTimeout=function(t){this._timeoutIds&&this._timeoutIds[t]&&(clearTimeout(t),delete this._timeoutIds[t])},t.prototype.setImmediate=function(t,e){var i=this,n=0,r=Bn(e);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});n=r.setTimeout((function(){try{i._immediateIds&&delete i._immediateIds[n],t.apply(i._parent)}catch(SS){i._logError(SS)}}),0),this._immediateIds[n]=!0}return n},t.prototype.clearImmediate=function(t,e){var i=Bn(e);this._immediateIds&&this._immediateIds[t]&&(i.clearTimeout(t),delete this._immediateIds[t])},t.prototype.setInterval=function(t,e){var i=this,n=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),n=setInterval((function(){try{t.apply(i._parent)}catch(SS){i._logError(SS)}}),e),this._intervalIds[n]=!0),n},t.prototype.clearInterval=function(t){this._intervalIds&&this._intervalIds[t]&&(clearInterval(t),delete this._intervalIds[t])},t.prototype.throttle=function(t,e,i){var n=this;if(this._isDisposed)return this._noop;var r,o,a=e||0,s=!0,l=!0,u=0,h=null;i&&"boolean"===typeof i.leading&&(s=i.leading),i&&"boolean"===typeof i.trailing&&(l=i.trailing);var c=function e(i){var c=Date.now(),d=c-u,f=s?a-d:a;return d>=a&&(!i||s)?(u=c,h&&(n.clearTimeout(h),h=null),r=t.apply(n._parent,o)):null===h&&l&&(h=n.setTimeout(e,f)),r};return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o=t,c(!0)}},t.prototype.debounce=function(t,e,i){var n=this;if(this._isDisposed){var r=function(){};return r.cancel=function(){},r.flush=function(){return null},r.pending=function(){return!1},r}var o,a,s=e||0,l=!1,u=!0,h=null,c=0,d=Date.now(),f=null;i&&"boolean"===typeof i.leading&&(l=i.leading),i&&"boolean"===typeof i.trailing&&(u=i.trailing),i&&"number"===typeof i.maxWait&&!isNaN(i.maxWait)&&(h=i.maxWait);var p=function(t){f&&(n.clearTimeout(f),f=null),d=t},g=function(e){p(e),o=t.apply(n._parent,a)},m=function t(e){var i=Date.now(),r=!1;e&&(l&&i-c>=s&&(r=!0),c=i);var a=i-c,p=s-a,m=i-d,v=!1;return null!==h&&(m>=h&&f?v=!0:p=Math.min(p,h-m)),a>=s||v||r?g(i):null!==f&&e||!u||(f=n.setTimeout(t,p)),o},v=function(){return!!f},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a=t,m(!0)};return y.cancel=function(){v()&&p(Date.now())},y.flush=function(){return v()&&g(Date.now()),o},y.pending=v,y},t.prototype.requestAnimationFrame=function(t,e){var i=this,n=0,r=Bn(e);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var o=function(){try{i._animationFrameIds&&delete i._animationFrameIds[n],t.apply(i._parent)}catch(SS){i._logError(SS)}};n=r.requestAnimationFrame?r.requestAnimationFrame(o):r.setTimeout(o,0),this._animationFrameIds[n]=!0}return n},t.prototype.cancelAnimationFrame=function(t,e){var i=Bn(e);this._animationFrameIds&&this._animationFrameIds[t]&&(i.cancelAnimationFrame?i.cancelAnimationFrame(t):i.clearTimeout(t),delete this._animationFrameIds[t])},t.prototype._logError=function(t){this._onErrorHandler&&this._onErrorHandler(t)},t}(),cl="__currentId__",dl="id__",fl=Bn()||{};void 0===fl[cl]&&(fl[cl]=0);var pl=!1;function gl(t){if(!pl){var e=Ar.getInstance();e&&e.onReset&&e.onReset(ml),pl=!0}var i=fl[cl]++;return(void 0===t?dl:t)+i}function ml(t){void 0===t&&(t=0),fl[cl]=t}var vl=function(e){function i(t){var i=e.call(this,t)||this;return i.state={isRendered:void 0===Bn()},i}return vt(i,e),i.prototype.componentDidMount=function(){var t=this,e=this.props.delay;this._timeoutId=window.setTimeout((function(){t.setState({isRendered:!0})}),e)},i.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},i.prototype.render=function(){return this.state.isRendered?t.Children.only(this.props.children):null},i.defaultProps={delay:0},i}(t.Component);var yl,bl=function(){var t,e=Bn();return!!(null===(t=null===e||void 0===e?void 0:e.navigator)||void 0===t?void 0:t.userAgent)&&e.navigator.userAgent.indexOf("rv:11.0")>-1},xl=wo(),wl="TextField",kl=function(e){function i(i){var n=e.call(this,i)||this;n._textElement=t.createRef(),n._onFocus=function(t){n.props.onFocus&&n.props.onFocus(t),n.setState({isFocused:!0},(function(){n.props.validateOnFocusIn&&n._validate(n.value)}))},n._onBlur=function(t){n.props.onBlur&&n.props.onBlur(t),n.setState({isFocused:!1},(function(){n.props.validateOnFocusOut&&n._validate(n.value)}))},n._onRenderLabel=function(e){var i=e.label,r=e.required,o=n._classNames.subComponentStyles?n._classNames.subComponentStyles.label:void 0;return i?t.createElement(Vs,{required:r,htmlFor:n._id,styles:o,disabled:e.disabled,id:n._labelId},e.label):null},n._onRenderDescription=function(e){return e.description?t.createElement("span",{className:n._classNames.description},e.description):null},n._onRevealButtonClick=function(t){n.setState((function(t){return{isRevealingPassword:!t.isRevealingPassword}}))},n._onInputChange=function(t){var e,i,r=t.target.value,o=_l(n.props,n.state)||"";void 0!==r&&r!==n._lastChangeValue&&r!==o?(n._lastChangeValue=r,null===(i=(e=n.props).onChange)||void 0===i||i.call(e,t,r),n._isControlled||n.setState({uncontrolledValue:r})):n._lastChangeValue=void 0},ol(n),n._async=new hl(n),n._fallbackId=gl(wl),n._descriptionId=gl(wl+"Description"),n._labelId=gl(wl+"Label"),n._prefixId=gl(wl+"Prefix"),n._suffixId=gl(wl+"Suffix"),n._warnControlledUsage();var r=i.defaultValue,o=void 0===r?"":r;return"number"===typeof o&&(o=String(o)),n.state={uncontrolledValue:n._isControlled?void 0:o,isFocused:!1,errorMessage:""},n._delayedValidate=n._async.debounce(n._validate,n.props.deferredValidationTime),n._lastValidation=0,n}return vt(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return _l(this.props,this.state)},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){this._adjustInputHeight(),this.props.validateOnLoad&&this._validate(this.value)},i.prototype.componentWillUnmount=function(){this._async.dispose()},i.prototype.getSnapshotBeforeUpdate=function(t,e){return{selection:[this.selectionStart,this.selectionEnd]}},i.prototype.componentDidUpdate=function(t,e,i){var n=this.props,r=(i||{}).selection,o=void 0===r?[null,null]:r,a=o[0],s=o[1];!!t.multiline!==!!n.multiline&&e.isFocused&&(this.focus(),null!==a&&null!==s&&a>=0&&s>=0&&this.setSelectionRange(a,s)),t.value!==n.value&&(this._lastChangeValue=void 0);var l=_l(t,e),u=this.value;l!==u&&(this._warnControlledUsage(t),this.state.errorMessage&&!n.errorMessage&&this.setState({errorMessage:""}),this._adjustInputHeight(),Sl(n)&&this._delayedValidate(u))},i.prototype.render=function(){var e=this.props,i=e.borderless,n=e.className,r=e.disabled,o=e.invalid,a=e.iconProps,s=e.inputClassName,l=e.label,u=e.multiline,h=e.required,c=e.underlined,d=e.prefix,f=e.resizable,p=e.suffix,g=e.theme,m=e.styles,v=e.autoAdjustHeight,y=e.canRevealPassword,b=e.revealPasswordAriaLabel,x=e.type,w=e.onRenderPrefix,k=void 0===w?this._onRenderPrefix:w,_=e.onRenderSuffix,S=void 0===_?this._onRenderSuffix:_,C=e.onRenderLabel,M=void 0===C?this._onRenderLabel:C,P=e.onRenderDescription,T=void 0===P?this._onRenderDescription:P,D=this.state,N=D.isFocused,I=D.isRevealingPassword,E=this._errorMessage,A="boolean"===typeof o?o:!!E,O=!!y&&"password"===x&&function(){if("boolean"!==typeof yl){var t=Bn();if(null===t||void 0===t?void 0:t.navigator){var e=/Edg/.test(t.navigator.userAgent||"");yl=!(bl()||e)}else yl=!0}return yl}(),L=this._classNames=xl(m,{theme:g,className:n,disabled:r,focused:N,required:h,multiline:u,hasLabel:!!l,hasErrorMessage:A,borderless:i,resizable:f,hasIcon:!!a,underlined:c,inputClassName:s,autoAdjustHeight:v,hasRevealButton:O});return t.createElement("div",{ref:this.props.elementRef,className:L.root},t.createElement("div",{className:L.wrapper},M(this.props,this._onRenderLabel),t.createElement("div",{className:L.fieldGroup},(void 0!==d||this.props.onRenderPrefix)&&t.createElement("div",{className:L.prefix,id:this._prefixId},k(this.props,this._onRenderPrefix)),u?this._renderTextArea():this._renderInput(),a&&t.createElement(nl,yt({className:L.icon},a)),O&&t.createElement("button",{"aria-label":b,className:L.revealButton,onClick:this._onRevealButtonClick,"aria-pressed":!!I,type:"button"},t.createElement("span",{className:L.revealSpan},t.createElement(nl,{className:L.revealIcon,iconName:I?"Hide":"RedEye"}))),(void 0!==p||this.props.onRenderSuffix)&&t.createElement("div",{className:L.suffix,id:this._suffixId},S(this.props,this._onRenderSuffix)))),this._isDescriptionAvailable&&t.createElement("span",{id:this._descriptionId},T(this.props,this._onRenderDescription),E&&t.createElement("div",{role:"alert"},t.createElement(vl,null,this._renderErrorMessage()))))},i.prototype.focus=function(){this._textElement.current&&this._textElement.current.focus()},i.prototype.blur=function(){this._textElement.current&&this._textElement.current.blur()},i.prototype.select=function(){this._textElement.current&&this._textElement.current.select()},i.prototype.setSelectionStart=function(t){this._textElement.current&&(this._textElement.current.selectionStart=t)},i.prototype.setSelectionEnd=function(t){this._textElement.current&&(this._textElement.current.selectionEnd=t)},Object.defineProperty(i.prototype,"selectionStart",{get:function(){return this._textElement.current?this._textElement.current.selectionStart:-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectionEnd",{get:function(){return this._textElement.current?this._textElement.current.selectionEnd:-1},enumerable:!1,configurable:!0}),i.prototype.setSelectionRange=function(t,e){this._textElement.current&&this._textElement.current.setSelectionRange(t,e)},i.prototype._warnControlledUsage=function(t){this._id,this.props,null!==this.props.value||this._hasWarnedNullValue||(this._hasWarnedNullValue=!0,Is("Warning: 'value' prop on '".concat(wl,"' should not be null. Consider using an ")+"empty string to clear the component or undefined to indicate an uncontrolled component."))},Object.defineProperty(i.prototype,"_id",{get:function(){return this.props.id||this._fallbackId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isControlled",{get:function(){return void 0!==(t=this.props)[e="value"]&&null!==t[e];var t,e},enumerable:!1,configurable:!0}),i.prototype._onRenderPrefix=function(e){var i=e.prefix;return t.createElement("span",{style:{paddingBottom:"1px"}},i)},i.prototype._onRenderSuffix=function(e){var i=e.suffix;return t.createElement("span",{style:{paddingBottom:"1px"}},i)},Object.defineProperty(i.prototype,"_errorMessage",{get:function(){var t=this.props.errorMessage;return(void 0===t?this.state.errorMessage:t)||""},enumerable:!1,configurable:!0}),i.prototype._renderErrorMessage=function(){var e=this._errorMessage;return e?"string"===typeof e?t.createElement("p",{className:this._classNames.errorMessage},t.createElement("span",{"data-automation-id":"error-message"},e)):t.createElement("div",{className:this._classNames.errorMessage,"data-automation-id":"error-message"},e):null},Object.defineProperty(i.prototype,"_isDescriptionAvailable",{get:function(){var t=this.props;return!!(t.onRenderDescription||t.description||this._errorMessage)},enumerable:!1,configurable:!0}),i.prototype._renderTextArea=function(){var e=this.props.invalid,i=void 0===e?!!this._errorMessage:e,n=Sr(this.props,cr,["defaultValue"]),r=this.props["aria-labelledby"]||(this.props.label?this._labelId:void 0);return t.createElement("textarea",yt({id:this._id},n,{ref:this._textElement,value:this.value||"",onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-labelledby":r,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":i,"aria-label":this.props.ariaLabel,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},i.prototype._renderInput=function(){var e=this.props,i=e.ariaLabel,n=e.invalid,r=void 0===n?!!this._errorMessage:n,o=e.onRenderPrefix,a=e.onRenderSuffix,s=e.prefix,l=e.suffix,u=e.type,h=void 0===u?"text":u,c=[];e.label&&c.push(this._labelId),(void 0!==s||o)&&c.push(this._prefixId),(void 0!==l||a)&&c.push(this._suffixId);var d=yt(yt({type:this.state.isRevealingPassword?"text":h,id:this._id},Sr(this.props,hr,["defaultValue","type"])),{"aria-labelledby":this.props["aria-labelledby"]||(c.length>0?c.join(" "):void 0),ref:this._textElement,value:this.value||"",onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-label":i,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":r,onFocus:this._onFocus,onBlur:this._onBlur}),f=function(e){return t.createElement("input",yt({},e))};return(this.props.onRenderInput||f)(d,f)},i.prototype._validate=function(t){var e=this;if(this._latestValidateValue!==t||!Sl(this.props)){this._latestValidateValue=t;var i=this.props.onGetErrorMessage,n=i&&i(t||"");if(void 0!==n)if("string"!==typeof n&&"then"in n){var r=++this._lastValidation;n.then((function(i){r===e._lastValidation&&e.setState({errorMessage:i}),e._notifyAfterValidate(t,i)}))}else this.setState({errorMessage:n}),this._notifyAfterValidate(t,n);else this._notifyAfterValidate(t,"")}},i.prototype._notifyAfterValidate=function(t,e){t===this.value&&this.props.onNotifyValidationResult&&this.props.onNotifyValidationResult(e,t)},i.prototype._adjustInputHeight=function(){if(this._textElement.current&&this.props.autoAdjustHeight&&this.props.multiline){var t=this._textElement.current;t.style.height="",t.style.height=t.scrollHeight+"px"}},i.defaultProps={resizable:!0,deferredValidationTime:200,validateOnLoad:!0},i}(t.Component);function _l(t,e){var i=t.value,n=void 0===i?e.uncontrolledValue:i;return"number"===typeof n?String(n):n}function Sl(t){return!(t.validateOnFocusIn||t.validateOnFocusOut)}var Cl={root:"ms-TextField",description:"ms-TextField-description",errorMessage:"ms-TextField-errorMessage",field:"ms-TextField-field",fieldGroup:"ms-TextField-fieldGroup",prefix:"ms-TextField-prefix",suffix:"ms-TextField-suffix",wrapper:"ms-TextField-wrapper",revealButton:"ms-TextField-reveal",multiline:"ms-TextField--multiline",borderless:"ms-TextField--borderless",underlined:"ms-TextField--underlined",unresizable:"ms-TextField--unresizable",required:"is-required",disabled:"is-disabled",active:"is-active"};function Ml(t){var e=t.underlined,i=t.disabled,n=t.focused,r=t.theme,o=r.palette,a=r.fonts;return function(){var t;return{root:[e&&i&&{color:o.neutralTertiary},e&&{fontSize:a.medium.fontSize,marginRight:8,paddingLeft:12,paddingRight:0,lineHeight:"22px",height:32},e&&n&&{selectors:(t={},t[Da]={height:31},t)}]}}}var Pl,Tl=Qn(kl,(function(t){var e,i,n,r,o,a,s,l,u,h,c,d,f=t.theme,p=t.className,g=t.disabled,m=t.focused,v=t.required,y=t.multiline,b=t.hasLabel,x=t.borderless,w=t.underlined,k=t.hasIcon,_=t.resizable,S=t.hasErrorMessage,C=t.inputClassName,M=t.autoAdjustHeight,P=t.hasRevealButton,T=f.semanticColors,D=f.effects,N=f.fonts,I=Ja(Cl,f),E={background:T.disabledBackground,color:g?T.disabledText:T.inputPlaceholderText,display:"flex",alignItems:"center",padding:"0 10px",lineHeight:1,whiteSpace:"nowrap",flexShrink:0,selectors:(e={},e[Da]={background:"Window",color:g?"GrayText":"WindowText"},e)},A=[{color:T.inputPlaceholderText,opacity:1,selectors:(i={},i[Da]={color:"GrayText"},i)}],O={color:T.disabledText,selectors:(n={},n[Da]={color:"GrayText"},n)};return{root:[I.root,N.medium,v&&I.required,g&&I.disabled,m&&I.active,y&&I.multiline,x&&I.borderless,w&&I.underlined,Ds,{position:"relative"},p],wrapper:[I.wrapper,w&&[{display:"flex",borderBottom:"1px solid ".concat(S?T.errorText:T.inputBorder),width:"100%"},g&&{borderBottomColor:T.disabledBackground,selectors:(r={},r[Da]=yt({borderColor:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),r)},!g&&{selectors:{":hover":{borderBottomColor:S?T.errorText:T.inputBorderHovered,selectors:(o={},o[Da]=yt({borderBottomColor:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),o)}}},m&&[{position:"relative"},Ba(S?T.errorText:T.inputFocusBorderAlt,0,"borderBottom")]]],fieldGroup:[I.fieldGroup,Ds,{border:"1px solid ".concat(T.inputBorder),borderRadius:D.roundedCorner2,background:T.inputBackground,cursor:"text",height:32,display:"flex",flexDirection:"row",alignItems:"stretch",position:"relative"},y&&{minHeight:"60px",height:"auto",display:"flex"},!m&&!g&&{selectors:{":hover":{borderColor:T.inputBorderHovered,selectors:(a={},a[Da]=yt({borderColor:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),a)}}},m&&!w&&Ba(S?T.errorText:T.inputFocusBorderAlt,D.roundedCorner2),g&&{borderColor:T.disabledBackground,selectors:(s={},s[Da]=yt({borderColor:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),s),cursor:"default"},x&&{border:"none"},x&&m&&{border:"none",selectors:{":after":{border:"none"}}},w&&{flex:"1 1 0px",border:"none",textAlign:"left"},w&&g&&{backgroundColor:"transparent"},S&&!w&&{borderColor:T.errorText,selectors:{"&:hover":{borderColor:T.errorText}}},!b&&v&&{selectors:(l={":before":{content:"'*'",color:T.errorText,position:"absolute",top:-5,right:-10}},l[Da]={selectors:{":before":{color:"WindowText",right:-14}}},l)}],field:[N.medium,I.field,Ds,{borderRadius:0,border:"none",background:"none",backgroundColor:"transparent",color:T.inputText,padding:"0 8px",width:"100%",minWidth:0,textOverflow:"ellipsis",outline:0,selectors:(u={"&:active, &:focus, &:hover":{outline:0},"::-ms-clear":{display:"none"}},u[Da]={background:"Window",color:g?"GrayText":"WindowText"},u)},Ns(A),y&&!_&&[I.unresizable,{resize:"none"}],y&&{minHeight:"inherit",lineHeight:17,flexGrow:1,paddingTop:6,paddingBottom:6,overflow:"auto",width:"100%"},y&&M&&{overflow:"hidden"},k&&!P&&{paddingRight:24},y&&k&&{paddingRight:40},g&&[{backgroundColor:T.disabledBackground,color:T.disabledText,borderColor:T.disabledBackground},Ns(O)],w&&{textAlign:"left"},m&&!x&&{selectors:(h={},h[Da]={paddingLeft:11,paddingRight:11},h)},m&&y&&!x&&{selectors:(c={},c[Da]={paddingTop:4},c)},C],icon:[y&&{paddingRight:24,alignItems:"flex-end"},{pointerEvents:"none",position:"absolute",bottom:6,right:8,top:"auto",fontSize:Pa.medium,lineHeight:18},g&&{color:T.disabledText}],description:[I.description,{color:T.bodySubtext,fontSize:N.xSmall.fontSize}],errorMessage:[I.errorMessage,Ta.slideDownIn20,N.small,{color:T.errorText,margin:0,paddingTop:5,display:"flex",alignItems:"center"}],prefix:[I.prefix,E],suffix:[I.suffix,E],revealButton:[I.revealButton,"ms-Button","ms-Button--icon",Ra(f,{inset:1}),{height:30,width:32,border:"none",padding:"0px 4px",backgroundColor:"transparent",color:T.link,selectors:{":hover":{outline:0,color:T.primaryButtonBackgroundHovered,backgroundColor:T.buttonBackgroundHovered,selectors:(d={},d[Da]={borderColor:"Highlight",color:"Highlight"},d)},":focus":{outline:0}}},k&&{marginRight:28}],revealSpan:{display:"flex",height:"100%",alignItems:"center"},revealIcon:{margin:"0px 4px",pointerEvents:"none",bottom:6,right:8,top:"auto",fontSize:Pa.medium,lineHeight:18},subComponentStyles:{label:Ml(t)}}}),void 0,{scope:"TextField"});function Dl(e){var i=t.useRef();return void 0===i.current&&(i.current={value:"function"===typeof e?e():e}),i.current.value}function Nl(e,i,n){var r=t.useState(i),o=r[0],a=r[1],s=Dl(void 0!==e),l=s?e:o,u=t.useRef(l),h=t.useRef(n);t.useEffect((function(){u.current=l,h.current=n}));var c=Dl((function(){return function(t,e){var i="function"===typeof t?t(u.current):t;h.current&&h.current(e,i),s||a(i)}}));return[l,c]}function Il(e,i){var n=t.useRef(i);return n.current||(n.current=gl(e)),n.current}var El=((Pl={})[ho.up]=1,Pl[ho.down]=1,Pl[ho.left]=1,Pl[ho.right]=1,Pl[ho.home]=1,Pl[ho.end]=1,Pl[ho.tab]=1,Pl[ho.pageUp]=1,Pl[ho.pageDown]=1,Pl);function Al(t){return!!El[t]}var Ol=new WeakMap,Ll=new WeakMap;function Rl(t,e){var i,n=Ol.get(t);return i=n?n+e:1,Ol.set(t,i),i}function jl(t){var e=Ll.get(t);if(e)return e;return e={onMouseDown:function(e){return Hl(e,t.registeredProviders)},onPointerDown:function(e){return Vl(e,t.registeredProviders)},onKeyDown:function(e){return Wl(e,t.registeredProviders)},onKeyUp:function(e){return Ul(e,t.registeredProviders)}},Ll.set(t,e),e}var Bl=t.createContext(void 0);function Fl(e){var i=t.useContext(Bl);t.useEffect((function(){var t,n,r=Bn(null===e||void 0===e?void 0:e.current);if(r&&!0!==(null===(t=r.FabricConfig)||void 0===t?void 0:t.disableFocusRects)){var o,a,s,l,u=r;if(null===(n=null===i||void 0===i?void 0:i.providerRef)||void 0===n?void 0:n.current){u=i.providerRef.current;var h=jl(i);o=h.onMouseDown,a=h.onPointerDown,s=h.onKeyDown,l=h.onKeyUp}else o=Hl,a=Vl,s=Wl,l=Ul;var c=Rl(u,1);return c<=1&&(u.addEventListener("mousedown",o,!0),u.addEventListener("pointerdown",a,!0),u.addEventListener("keydown",s,!0),u.addEventListener("keyup",l,!0)),function(){var t;r&&!0!==(null===(t=r.FabricConfig)||void 0===t?void 0:t.disableFocusRects)&&0===(c=Rl(u,-1))&&(u.removeEventListener("mousedown",o,!0),u.removeEventListener("pointerdown",a,!0),u.removeEventListener("keydown",s,!0),u.removeEventListener("keyup",l,!0))}}}),[i,e])}var zl=function(t){return Fl(t.rootRef),null};function Hl(t,e){La(!1,t.target,e)}function Vl(t,e){"mouse"!==t.pointerType&&La(!1,t.target,e)}function Wl(t,e){Al(t.which)&&La(!0,t.target,e)}function Ul(t,e){Al(t.which)&&La(!0,t.target,e)}var Gl=wo(),Kl="Toggle",Yl=t.forwardRef((function(e,i){var n=e.as,r=void 0===n?"div":n,o=e.ariaLabel,a=e.checked,s=e.className,l=e.defaultChecked,u=void 0!==l&&l,h=e.disabled,c=e.inlineLabel,d=e.label,f=e.offAriaLabel,p=e.offText,g=e.onAriaLabel,m=e.onChange,v=e.onChanged,y=e.onClick,b=e.onText,x=e.role,w=e.styles,k=e.theme,_=Nl(a,u,t.useCallback((function(t,e){null===m||void 0===m||m(t,e),null===v||void 0===v||v(e)}),[m,v])),S=_[0],C=_[1],M=Gl(w,{theme:k,className:s,disabled:h,checked:S,inlineLabel:c,onOffMissing:!b&&!p}),P=S?g:f,T=Il(Kl,e.id),D="".concat(T,"-label"),N="".concat(T,"-stateText"),I=S?b:p,E=Sr(e,hr,["defaultChecked"]),A=void 0;o||P||(d&&(A=D),I&&!A&&(A=N));var O=t.useRef(null);Fl(O),Zl(e,S,O);var L={root:{className:M.root,hidden:E.hidden},label:{children:d,className:M.label,htmlFor:T,id:D},container:{className:M.container},pill:yt(yt({},E),{"aria-disabled":h,"aria-checked":S,"aria-label":o||P,"aria-labelledby":A,className:M.pill,"data-is-focusable":!0,"data-ktp-target":!0,disabled:h,id:T,onClick:function(t){h||(C(!S,t),y&&y(t))},ref:O,role:x||"switch",type:"button"}),thumb:{className:M.thumb},stateText:{children:I,className:M.text,htmlFor:T,id:N}};return t.createElement(r,yt({ref:i},L.root),d&&t.createElement(Vs,yt({},L.label)),t.createElement("div",yt({},L.container),t.createElement("button",yt({},L.pill),t.createElement("span",yt({},L.thumb))),(S&&b||p)&&t.createElement(Vs,yt({},L.stateText))))}));Yl.displayName=Kl+"Base";var Xl,ql,Zl=function(e,i,n){t.useImperativeHandle(e.componentRef,(function(){return{get checked(){return!!i},focus:function(){n.current&&n.current.focus()}}}),[i,n])},Jl=Qn(Yl,(function(t){var e,i,n,r,o,a,s,l=t.theme,u=t.className,h=t.disabled,c=t.checked,d=t.inlineLabel,f=t.onOffMissing,p=l.semanticColors,g=l.palette,m=p.bodyBackground,v=p.inputBackgroundChecked,y=p.inputBackgroundCheckedHovered,b=g.neutralDark,x=p.disabledBodySubtext,w=p.smallInputBorder,k=p.inputForegroundChecked,_=p.disabledBodySubtext,S=p.disabledBackground,C=p.smallInputBorder,M=p.inputBorderHovered,P=p.disabledBodySubtext,T=p.disabledText;return{root:["ms-Toggle",c&&"is-checked",!h&&"is-enabled",h&&"is-disabled",l.fonts.medium,{marginBottom:"8px"},d&&{display:"flex",alignItems:"center"},u],label:["ms-Toggle-label",{display:"inline-block"},h&&{color:T,selectors:(e={},e[Da]={color:"GrayText"},e)},d&&!f&&{marginRight:16},f&&d&&{order:1,marginLeft:16},d&&{wordBreak:"break-word"}],container:["ms-Toggle-innerContainer",{display:"flex",position:"relative"}],pill:["ms-Toggle-background",Ra(l,{inset:-3}),{fontSize:"20px",boxSizing:"border-box",width:40,height:20,borderRadius:10,transition:"all 0.1s ease",border:"1px solid ".concat(C),background:m,cursor:"pointer",display:"flex",alignItems:"center",padding:"0 3px",overflow:"visible"},!h&&[!c&&{selectors:{":hover":[{borderColor:M}],":hover .ms-Toggle-thumb":[{backgroundColor:b,selectors:(i={},i[Da]={borderColor:"Highlight"},i)}]}},c&&[{background:v,borderColor:"transparent",justifyContent:"flex-end"},{selectors:(n={":hover":[{backgroundColor:y,borderColor:"transparent",selectors:(r={},r[Da]={backgroundColor:"Highlight"},r)}]},n[Da]=yt({backgroundColor:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),n)}]],h&&[{cursor:"default"},!c&&[{borderColor:P}],c&&[{backgroundColor:x,borderColor:"transparent",justifyContent:"flex-end"}]],!h&&{selectors:{"&:hover":{selectors:(o={},o[Da]={borderColor:"Highlight"},o)}}}],thumb:["ms-Toggle-thumb",{display:"block",width:12,height:12,borderRadius:"50%",transition:"all 0.1s ease",backgroundColor:w,borderColor:"transparent",borderWidth:6,borderStyle:"solid",boxSizing:"border-box"},!h&&c&&[{backgroundColor:k,selectors:(a={},a[Da]={backgroundColor:"Window",borderColor:"Window"},a)}],h&&[!c&&[{backgroundColor:_}],c&&[{backgroundColor:S}]]],text:["ms-Toggle-stateText",{selectors:{"&&":{padding:"0",margin:"0 8px",userSelect:"none",fontWeight:Ma.regular}}},h&&{selectors:{"&&":{color:T,selectors:(s={},s[Da]={color:"GrayText"},s)}}}]}}),void 0,{scope:"Toggle"}),Ql=wo(),$l=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.message,n=e.styles,r=e.as,o=void 0===r?"div":r,a=e.className,s=Ql(n,{className:a});return t.createElement(o,yt({role:"status",className:s.root},Sr(this.props,_r,["className"])),t.createElement(vl,null,t.createElement("div",{className:s.screenReaderText},i)))},i.defaultProps={"aria-live":"polite"},i}(t.Component),tu=Qn($l,(function(t){return{root:t.className,screenReaderText:Fa}})),eu="change";function iu(t,e){if(!t||!e)return!t&&!e;for(var i in t)if(t.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||e[i]!==t[i]))return!1;for(var i in e)if(e.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;return!0}function nu(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return ru.apply(this,[null,t].concat(e))}function ru(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];e=e||{};for(var r=0,o=i;r<o.length;r++){var a=o[r];if(a)for(var s in a)!a.hasOwnProperty(s)||t&&!t(s)||(e[s]=a[s])}return e}!function(t){t[t.none=0]="none",t[t.single=1]="single",t[t.multiple=2]="multiple"}(Xl||(Xl={})),function(t){t[t.horizontal=0]="horizontal",t[t.vertical=1]="vertical"}(ql||(ql={}));var ou,au,su,lu,uu,hu=function(){function t(e){this._id=t._uniqueId++,this._parent=e,this._eventRecords=[]}return t.raise=function(e,i,n,r){var o;if(t._isElement(e)){if("undefined"!==typeof document&&document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent(i,r||!1,!0),nu(a,n),o=e.dispatchEvent(a)}else if("undefined"!==typeof document&&document.createEventObject){var s=document.createEventObject(n);e.fireEvent("on"+i,s)}}else for(;e&&!1!==o;){var l=e.__events__,u=l?l[i]:null;if(u)for(var h in u)if(u.hasOwnProperty(h))for(var c=u[h],d=0;!1!==o&&d<c.length;d++){var f=c[d];f.objectCallback&&(o=f.objectCallback.call(f.parent,n))}e=r?e.parent:null}return o},t.isObserved=function(t,e){var i=t&&t.__events__;return!!i&&!!i[e]},t.isDeclared=function(t,e){var i=t&&t.__declaredEvents;return!!i&&!!i[e]},t.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},t._isElement=function(t){return!!t&&(!!t.addEventListener||"undefined"!==typeof HTMLElement&&t instanceof HTMLElement)},t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},t.prototype.onAll=function(t,e,i){for(var n in e)e.hasOwnProperty(n)&&this.on(t,n,e[n],i)},t.prototype.on=function(e,i,n,r){var o=this;if(i.indexOf(",")>-1)for(var a=i.split(/[ ,]+/),s=0;s<a.length;s++)this.on(e,a[s],n,r);else{var l=this._parent,u={target:e,eventName:i,parent:l,callback:n,options:r};if((a=e.__events__=e.__events__||{})[i]=a[i]||{count:0},a[i][this._id]=a[i][this._id]||[],a[i][this._id].push(u),a[i].count++,t._isElement(e)){var h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!o._isDisposed){var i;try{if(!1===(i=n.apply(l,t))&&t[0]){var r=t[0];r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.cancelBubble=!0}}catch(r){}return i}};u.elementCallback=h,e.addEventListener?e.addEventListener(i,h,r):e.attachEvent&&e.attachEvent("on"+i,h)}else{u.objectCallback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!o._isDisposed)return n.apply(l,t)}}this._eventRecords.push(u)}},t.prototype.off=function(t,e,i,n){for(var r=0;r<this._eventRecords.length;r++){var o=this._eventRecords[r];if((!t||t===o.target)&&(!e||e===o.eventName)&&(!i||i===o.callback)&&("boolean"!==typeof n||n===o.options)){var a=o.target.__events__,s=a[o.eventName],l=s?s[this._id]:null;l&&(1!==l.length&&i?(s.count--,l.splice(l.indexOf(o),1)):(s.count-=l.length,delete a[o.eventName][this._id]),s.count||delete a[o.eventName]),o.elementCallback&&(o.target.removeEventListener?o.target.removeEventListener(o.eventName,o.elementCallback,o.options):o.target.detachEvent&&o.target.detachEvent("on"+o.eventName,o.elementCallback)),this._eventRecords.splice(r--,1)}}},t.prototype.raise=function(e,i,n){return t.raise(this._parent,e,i,n)},t.prototype.declare=function(t){var e=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"===typeof t)e[t]=!0;else for(var i=0;i<t.length;i++)e[t[i]]=!0},t._uniqueId=0,t}(),cu=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0]||{},n=i.onSelectionChanged,r=i.onItemsChanged,o=i.getKey,a=i.canSelectItem,s=void 0===a?function(){return!0}:a,l=i.items,u=i.selectionMode,h=void 0===u?Xl.multiple:u;this.mode=h,this._getKey=o||du,this._changeEventSuppressionCount=0,this._exemptedCount=0,this._anchoredIndex=0,this._unselectableCount=0,this._onSelectionChanged=n,this._onItemsChanged=r,this._canSelectItem=s,this._keyToIndexMap={},this._isModal=!1,this.setItems(l||[],!0),this.count=this.getSelectedCount()}return t.prototype.canSelectItem=function(t,e){return!("number"===typeof e&&e<0)&&this._canSelectItem(t,e)},t.prototype.getKey=function(t,e){var i=this._getKey(t,e);return"number"===typeof i||i?"".concat(i):""},t.prototype.setChangeEvents=function(t,e){this._changeEventSuppressionCount+=t?-1:1,0===this._changeEventSuppressionCount&&this._hasChanged&&(this._hasChanged=!1,e||this._change())},t.prototype.isModal=function(){return this._isModal},t.prototype.setModal=function(t){this._isModal!==t&&(this.setChangeEvents(!1),this._isModal=t,t||this.setAllSelected(!1),this._change(),this.setChangeEvents(!0))},t.prototype.setItems=function(t,e){void 0===e&&(e=!0);var i={},n={},r=!1;this.setChangeEvents(!1),this._unselectableCount=0;for(var o=!1,a=0;a<t.length;a++){if(h=t[a])(m=this.getKey(h,a))&&(o||m in this._keyToIndexMap&&this._keyToIndexMap[m]===a||(o=!0),i[m]=a);n[a]=h&&!this.canSelectItem(h),n[a]&&this._unselectableCount++}(e||0===t.length)&&this._setAllSelected(!1,!0);var s={},l=0;for(var u in this._exemptedIndices)if(this._exemptedIndices.hasOwnProperty(u)){var h,c=Number(u),d=(h=this._items[c])?this.getKey(h,Number(c)):void 0,f=d?i[d]:c;void 0===f?r=!0:(s[f]=!0,l++,r=r||f!==c)}if(this._items&&0===this._exemptedCount&&t.length!==this._items.length&&this._isAllSelected&&(r=!0),!o)for(var p=0,g=Object.keys(this._keyToIndexMap);p<g.length;p++){var m;if(!((m=g[p])in i)){o=!0;break}}this._exemptedIndices=s,this._exemptedCount=l,this._keyToIndexMap=i,this._unselectableIndices=n,this._items=t,this._selectedItems=null,r&&this._updateCount(),o&&(hu.raise(this,"items-change"),this._onItemsChanged&&this._onItemsChanged()),r&&this._change(),this.setChangeEvents(!0)},t.prototype.getItems=function(){return this._items},t.prototype.getSelection=function(){if(!this._selectedItems){this._selectedItems=[];var t=this._items;if(t)for(var e=0;e<t.length;e++)this.isIndexSelected(e)&&this._selectedItems.push(t[e])}return this._selectedItems},t.prototype.getSelectedCount=function(){return this._isAllSelected?this._items.length-this._exemptedCount-this._unselectableCount:this._exemptedCount},t.prototype.getSelectedIndices=function(){if(!this._selectedIndices){this._selectedIndices=[];var t=this._items;if(t)for(var e=0;e<t.length;e++)this.isIndexSelected(e)&&this._selectedIndices.push(e)}return this._selectedIndices},t.prototype.getItemIndex=function(t){var e=this._keyToIndexMap[t];return null!==e&&void 0!==e?e:-1},t.prototype.isRangeSelected=function(t,e){if(0===e)return!1;for(var i=t+e,n=t;n<i;n++)if(!this.isIndexSelected(n))return!1;return!0},t.prototype.isAllSelected=function(){var t=this._items.length-this._unselectableCount;return this.mode===Xl.single&&(t=Math.min(t,1)),this.count>0&&this._isAllSelected&&0===this._exemptedCount||!this._isAllSelected&&this._exemptedCount===t&&t>0},t.prototype.isKeySelected=function(t){var e=this._keyToIndexMap[t];return this.isIndexSelected(e)},t.prototype.isIndexSelected=function(t){return!!(this.count>0&&this._isAllSelected&&!this._exemptedIndices[t]&&!this._unselectableIndices[t]||!this._isAllSelected&&this._exemptedIndices[t])},t.prototype.setAllSelected=function(t){if(!t||this.mode===Xl.multiple){var e=this._items?this._items.length-this._unselectableCount:0;this.setChangeEvents(!1),e>0&&(this._exemptedCount>0||t!==this._isAllSelected)&&(this._exemptedIndices={},(t!==this._isAllSelected||this._exemptedCount>0)&&(this._exemptedCount=0,this._isAllSelected=t,this._change()),this._updateCount()),this.setChangeEvents(!0)}},t.prototype.setKeySelected=function(t,e,i){var n=this._keyToIndexMap[t];n>=0&&this.setIndexSelected(n,e,i)},t.prototype.setIndexSelected=function(t,e,i){if(this.mode!==Xl.none&&!((t=Math.min(Math.max(0,t),this._items.length-1))<0||t>=this._items.length)){this.setChangeEvents(!1);var n=this._exemptedIndices[t];!this._unselectableIndices[t]&&(e&&this.mode===Xl.single&&this._setAllSelected(!1,!0),n&&(e&&this._isAllSelected||!e&&!this._isAllSelected)&&(delete this._exemptedIndices[t],this._exemptedCount--),!n&&(e&&!this._isAllSelected||!e&&this._isAllSelected)&&(this._exemptedIndices[t]=!0,this._exemptedCount++),i&&(this._anchoredIndex=t)),this._updateCount(),this.setChangeEvents(!0)}},t.prototype.setRangeSelected=function(t,e,i,n){if(this.mode!==Xl.none&&(t=Math.min(Math.max(0,t),this._items.length-1),e=Math.min(Math.max(0,e),this._items.length-t),!(t<0||t>=this._items.length||0===e))){this.setChangeEvents(!1);for(var r=t,o=t+e-1,a=(this._anchoredIndex||0)>=o?r:o;r<=o;r++)this.setIndexSelected(r,i,!!n&&r===a);this.setChangeEvents(!0)}},t.prototype.selectToKey=function(t,e){this.selectToIndex(this._keyToIndexMap[t],e)},t.prototype.selectToRange=function(t,e,i){if(this.mode!==Xl.none)if(this.mode!==Xl.single){var n=this._anchoredIndex||0,r=Math.min(t,n),o=Math.max(t+e-1,n);for(this.setChangeEvents(!1),i&&this._setAllSelected(!1,!0);r<=o;r++)this.setIndexSelected(r,!0,!1);this.setChangeEvents(!0)}else 1===e&&this.setIndexSelected(t,!0,!0)},t.prototype.selectToIndex=function(t,e){if(this.mode!==Xl.none)if(this.mode!==Xl.single){var i=this._anchoredIndex||0,n=Math.min(t,i),r=Math.max(t,i);for(this.setChangeEvents(!1),e&&this._setAllSelected(!1,!0);n<=r;n++)this.setIndexSelected(n,!0,!1);this.setChangeEvents(!0)}else this.setIndexSelected(t,!0,!0)},t.prototype.toggleAllSelected=function(){this.setAllSelected(!this.isAllSelected())},t.prototype.toggleKeySelected=function(t){this.setKeySelected(t,!this.isKeySelected(t),!0)},t.prototype.toggleIndexSelected=function(t){this.setIndexSelected(t,!this.isIndexSelected(t),!0)},t.prototype.toggleRangeSelected=function(t,e){if(this.mode!==Xl.none){var i=this.isRangeSelected(t,e),n=t+e;if(!(this.mode===Xl.single&&e>1)){this.setChangeEvents(!1);for(var r=t;r<n;r++)this.setIndexSelected(r,!i,!1);this.setChangeEvents(!0)}}},t.prototype._updateCount=function(t){void 0===t&&(t=!1);var e=this.getSelectedCount();e!==this.count&&(this.count=e,this._change()),this.count||t||this.setModal(!1)},t.prototype._setAllSelected=function(t,e){if(void 0===e&&(e=!1),!t||this.mode===Xl.multiple){var i=this._items?this._items.length-this._unselectableCount:0;this.setChangeEvents(!1),i>0&&(this._exemptedCount>0||t!==this._isAllSelected)&&(this._exemptedIndices={},(t!==this._isAllSelected||this._exemptedCount>0)&&(this._exemptedCount=0,this._isAllSelected=t,this._change()),this._updateCount(e)),this.setChangeEvents(!0)}},t.prototype._change=function(){0===this._changeEventSuppressionCount?(this._selectedItems=null,this._selectedIndices=void 0,hu.raise(this,eu),this._onSelectionChanged&&this._onSelectionChanged()):this._hasChanged=!0},t}();function du(t,e){var i=(t||{}).key;return void 0===i?"".concat(e):i}function fu(t){return t&&!!t._virtual}function pu(t,e){return void 0===e&&(e=!0),t&&(e&&function(t){var e;return t&&fu(t)&&(e=t._virtual.parent),e}(t)||t.parentNode&&t.parentNode)}function gu(t,e,i){void 0===i&&(i=!0);var n=!1;if(t&&e)if(i)if(t===e)n=!0;else for(n=!1;e;){var r=pu(e);if(r===t){n=!0;break}e=r}else t.contains&&(n=t.contains(e));return n}!function(t){t[t.disabled=0]="disabled",t[t.clickable=1]="clickable",t[t.hasDropdown=2]="hasDropdown"}(ou||(ou={})),function(t){t[t.unconstrained=0]="unconstrained",t[t.horizontalConstrained=1]="horizontalConstrained"}(au||(au={})),function(t){t[t.outside=0]="outside",t[t.surface=1]="surface",t[t.header=2]="header"}(su||(su={})),function(t){t[t.fixedColumns=0]="fixedColumns",t[t.justified=1]="justified"}(lu||(lu={})),function(t){t[t.onHover=0]="onHover",t[t.always=1]="always",t[t.hidden=2]="hidden"}(uu||(uu={}));var mu,vu=1,yu=2;function bu(t,e,i){void 0===i&&(i=0);for(var n=-1,r=i;t&&r<t.length;r++)if(e(t[r],r)){n=r;break}return n}!function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal",t[t.bidirectional=2]="bidirectional",t[t.domOrder=3]="domOrder"}(mu||(mu={}));var xu=function(t){var e={refs:[]};return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.resolver&&function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(e.refs,t)||(e.resolver=function(t){return function(e){for(var i=0,n=t.refs;i<n.length;i++){var r=n[i];"function"===typeof r?r(e):r&&(r.current=e)}}}(e)),e.refs=t,e.resolver}};function wu(t,e){return t&&t!==document.body?e(t)?t:wu(pu(t),e):null}var ku="data-is-focusable",_u="data-is-visible",Su="data-focuszone-id",Cu="data-is-sub-focuszone";function Mu(t,e,i,n,r,o,a,s){if(!e||!a&&e===t)return null;var l=Tu(e);if(r&&l&&(o||!Iu(e)&&!Eu(e))){var u=Mu(t,e.lastElementChild,!0,!0,!0,o,a,s);if(u){if(s&&Nu(u,!0)||!s)return u;var h=Mu(t,u.previousElementSibling,!0,!0,!0,o,a,s);if(h)return h;for(var c=u.parentElement;c&&c!==e;){var d=Mu(t,c.previousElementSibling,!0,!0,!0,o,a,s);if(d)return d;c=c.parentElement}}}if(i&&l&&Nu(e,s))return e;var f=Mu(t,e.previousElementSibling,!0,!0,!0,o,a,s);return f||(n?null:Mu(t,e.parentElement,!0,!1,!1,o,a,s))}function Pu(t,e,i,n,r,o,a,s,l){if(!e||e===t&&r&&!a)return null;var u=(l?Du:Tu)(e);if(i&&u&&Nu(e,s))return e;if(!r&&u&&(o||!Iu(e)&&!Eu(e))){var h=Pu(t,e.firstElementChild,!0,!0,!1,o,a,s,l);if(h)return h}if(e===t)return null;var c=Pu(t,e.nextElementSibling,!0,!0,!1,o,a,s,l);return c||(n?null:Pu(t,e.parentElement,!1,!1,!0,o,a,s,l))}function Tu(t){if(!t||!t.getAttribute)return!1;var e=t.getAttribute(_u);return null!==e&&void 0!==e?"true"===e:0!==t.offsetHeight||null!==t.offsetParent||!0===t.isVisible}function Du(t){return!!t&&Tu(t)&&!t.hidden&&"hidden"!==window.getComputedStyle(t).visibility}function Nu(t,e){if(!t||t.disabled)return!1;var i=0,n=null;t&&t.getAttribute&&(n=t.getAttribute("tabIndex"))&&(i=parseInt(n,10));var r=t.getAttribute?t.getAttribute(ku):null,o=null!==n&&i>=0,a=!!t&&"false"!==r&&("A"===t.tagName||"BUTTON"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||"true"===r||o);return e?-1!==i&&a:a}function Iu(t){return!!(t&&t.getAttribute&&t.getAttribute(Su))}function Eu(t){return!(!t||!t.getAttribute||"true"!==t.getAttribute(Cu))}function Au(t,e){return"true"!==function(t,e){var i=wu(t,(function(t){return t.hasAttribute(e)}));return i&&i.getAttribute(e)}(t,e)}var Ou,Lu=void 0;function Ru(t){if(t){if(Lu)return void(Lu=t);Lu=t;var e=Bn(t);e&&e.requestAnimationFrame((function(){Lu&&Lu.focus(),Lu=void 0}))}}Mo({overflow:"hidden !important"});var ju="data-is-scrollable";function Bu(t){for(var e=t,i=co(t);e&&e!==i.body;){if("true"===e.getAttribute(ju))return e;e=e.parentElement}for(e=t;e&&e!==i.body;){if("false"!==e.getAttribute(ju)){var n=getComputedStyle(e),r=n?n.getPropertyValue("overflow-y"):"";if(r&&("scroll"===r||"auto"===r))return e}e=e.parentElement}return e&&e!==i.body||(e=Bn(t)),e}var Fu="data-portal-element";function zu(t,e){var i=wu(t,(function(t){return e===t||t.hasAttribute(Fu)}));return null!==i&&i.hasAttribute(Fu)}var Hu,Vu="data-is-focusable",Wu="data-focuszone-id",Uu="tabindex",Gu="data-no-vertical-wrap",Ku="data-no-horizontal-wrap",Yu=999999999,Xu=-999999999;function qu(t,e){var i;"function"===typeof MouseEvent?i=new MouseEvent("click",{ctrlKey:null===e||void 0===e?void 0:e.ctrlKey,metaKey:null===e||void 0===e?void 0:e.metaKey,shiftKey:null===e||void 0===e?void 0:e.shiftKey,altKey:null===e||void 0===e?void 0:e.altKey,bubbles:null===e||void 0===e?void 0:e.bubbles,cancelable:null===e||void 0===e?void 0:e.cancelable}):(i=document.createEvent("MouseEvents")).initMouseEvent("click",!!e&&e.bubbles,!!e&&e.cancelable,window,0,0,0,0,0,!!e&&e.ctrlKey,!!e&&e.altKey,!!e&&e.shiftKey,!!e&&e.metaKey,0,null),t.dispatchEvent(i)}var Zu={},Ju=new Set,Qu=["text","number","password","email","tel","url","search","textarea"],$u=!1,th=function(e){function i(n){var r,o,a,s,l=e.call(this,n)||this;l._root=t.createRef(),l._mergedRef=xu(),l._onFocus=function(t){if(!l._portalContainsElement(t.target)){var e,i=l.props,n=i.onActiveElementChanged,r=i.doNotAllowFocusEventToPropagate,o=i.stopFocusPropagation,a=i.onFocusNotification,s=i.onFocus,u=i.shouldFocusInnerElementWhenReceivedFocus,h=i.defaultTabbableElement,c=l._isImmediateDescendantOfZone(t.target);if(c)e=t.target;else for(var d=t.target;d&&d!==l._root.current;){if(Nu(d)&&l._isImmediateDescendantOfZone(d)){e=d;break}d=pu(d,$u)}if(u&&t.target===l._root.current){var f=h&&"function"===typeof h&&l._root.current&&h(l._root.current);f&&Nu(f)?(e=f,f.focus()):(l.focus(!0),l._activeElement&&(e=null))}var p=!l._activeElement;e&&e!==l._activeElement&&((c||p)&&l._setFocusAlignment(e,!0,!0),l._activeElement=e,p&&l._updateTabIndexes()),n&&n(l._activeElement,t),(o||r)&&t.stopPropagation(),s?s(t):a&&a()}},l._onBlur=function(){l._setParkedFocus(!1)},l._onMouseDown=function(t){if(!l._portalContainsElement(t.target)&&!l.props.disabled){for(var e=t.target,i=[];e&&e!==l._root.current;)i.push(e),e=pu(e,$u);for(;i.length&&((e=i.pop())&&Nu(e)&&l._setActiveElement(e,!0),!Iu(e)););}},l._onKeyDown=function(t,e){if(!l._portalContainsElement(t.target)){var i=l.props,n=i.direction,r=i.disabled,o=i.isInnerZoneKeystroke,a=i.pagingSupportDisabled,s=i.shouldEnterInnerZone;if(!r&&(l.props.onKeyDown&&l.props.onKeyDown(t),!t.isDefaultPrevented()&&(l._getDocument().activeElement!==l._root.current||!l._isInnerZone))){if((s&&s(t)||o&&o(t))&&l._isImmediateDescendantOfZone(t.target)){var u=l._getFirstInnerZone();if(u){if(!u.focus(!0))return}else{if(!Eu(t.target))return;if(!l.focusElement(Pu(t.target,t.target.firstChild,!0)))return}}else{if(t.altKey)return;switch(t.which){case ho.space:if(l._shouldRaiseClicksOnSpace&&l._tryInvokeClickForFocusable(t.target,t))break;return;case ho.left:if(n!==mu.vertical&&(l._preventDefaultWhenHandled(t),l._moveFocusLeft(e)))break;return;case ho.right:if(n!==mu.vertical&&(l._preventDefaultWhenHandled(t),l._moveFocusRight(e)))break;return;case ho.up:if(n!==mu.horizontal&&(l._preventDefaultWhenHandled(t),l._moveFocusUp()))break;return;case ho.down:if(n!==mu.horizontal&&(l._preventDefaultWhenHandled(t),l._moveFocusDown()))break;return;case ho.pageDown:if(!a&&l._moveFocusPaging(!0))break;return;case ho.pageUp:if(!a&&l._moveFocusPaging(!1))break;return;case ho.tab:if(l.props.allowTabKey||l.props.handleTabKey===vu||l.props.handleTabKey===yu&&l._isElementInput(t.target)){var h=!1;if(l._processingTabKey=!0,n!==mu.vertical&&l._shouldWrapFocus(l._activeElement,Ku))h=(mo(e)?!t.shiftKey:t.shiftKey)?l._moveFocusLeft(e):l._moveFocusRight(e);else h=t.shiftKey?l._moveFocusUp():l._moveFocusDown();if(l._processingTabKey=!1,h)break;l.props.shouldResetActiveElementWhenTabFromZone&&(l._activeElement=null)}return;case ho.home:if(l._isContentEditableElement(t.target)||l._isElementInput(t.target)&&!l._shouldInputLoseFocus(t.target,!1))return!1;var c=l._root.current&&l._root.current.firstChild;if(l._root.current&&c&&l.focusElement(Pu(l._root.current,c,!0)))break;return;case ho.end:if(l._isContentEditableElement(t.target)||l._isElementInput(t.target)&&!l._shouldInputLoseFocus(t.target,!0))return!1;var d=l._root.current&&l._root.current.lastChild;if(l._root.current&&l.focusElement(Mu(l._root.current,d,!0,!0,!0)))break;return;case ho.enter:if(l._shouldRaiseClicksOnEnter&&l._tryInvokeClickForFocusable(t.target,t))break;return;default:return}}t.preventDefault(),t.stopPropagation()}}},l._getHorizontalDistanceFromCenter=function(t,e,i){var n=l._focusAlignment.left||l._focusAlignment.x||0,r=Math.floor(i.top),o=Math.floor(e.bottom),a=Math.floor(i.bottom),s=Math.floor(e.top);return t&&r>o||!t&&a<s?n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n):l._shouldWrapFocus(l._activeElement,Gu)?Yu:Xu},ol(l),l._id=gl("FocusZone"),l._focusAlignment={left:0,top:0},l._processingTabKey=!1;var u=null===(o=null!==(r=n.shouldRaiseClicks)&&void 0!==r?r:i.defaultProps.shouldRaiseClicks)||void 0===o||o;return l._shouldRaiseClicksOnEnter=null!==(a=n.shouldRaiseClicksOnEnter)&&void 0!==a?a:u,l._shouldRaiseClicksOnSpace=null!==(s=n.shouldRaiseClicksOnSpace)&&void 0!==s?s:u,l}return vt(i,e),i.getOuterZones=function(){return Ju.size},i._onKeyDownCapture=function(t){t.which===ho.tab&&Ju.forEach((function(t){return t._updateTabIndexes()}))},i.prototype.componentDidMount=function(){var t=this._root.current;if(Zu[this._id]=this,t){for(var e=pu(t,$u);e&&e!==this._getDocument().body&&1===e.nodeType;){if(Iu(e)){this._isInnerZone=!0;break}e=pu(e,$u)}this._isInnerZone||(Ju.add(this),this._root.current&&this._root.current.addEventListener("keydown",i._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&"string"===typeof this.props.defaultTabbableElement?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},i.prototype.componentDidUpdate=function(){var t=this._root.current,e=this._getDocument();if((this._activeElement&&!gu(this._root.current,this._activeElement,$u)||this._defaultFocusElement&&!gu(this._root.current,this._defaultFocusElement,$u))&&(this._activeElement=null,this._defaultFocusElement=null,this._updateTabIndexes()),!this.props.preventFocusRestoration&&e&&this._lastIndexPath&&(e.activeElement===e.body||null===e.activeElement||e.activeElement===t)){var i=function(t,e){for(var i=t,n=0,r=e;n<r.length;n++){var o=r[n],a=i.children[Math.min(o,i.children.length-1)];if(!a)break;i=a}return Nu(i)&&Tu(i)?i:Pu(t,i,!0)||Mu(t,i)}(t,this._lastIndexPath);i?(this._setActiveElement(i,!0),i.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},i.prototype.componentWillUnmount=function(){delete Zu[this._id],this._isInnerZone||(Ju.delete(this),this._root.current&&this._root.current.removeEventListener("keydown",i._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},i.prototype.render=function(){var e=this,i=this.props,n=i.as,r=i.elementType,o=i.rootProps,a=i.ariaDescribedBy,s=i.ariaLabelledBy,l=i.className,u=Sr(this.props,ir),h=n||r||"div";this._evaluateFocusBeforeRender();var c,d=(void 0===c&&(c=!1),!0===c&&(Cs=Ss({},c)),Cs);return t.createElement(h,yt({"aria-labelledby":s,"aria-describedby":a},u,o,{className:Qs((Hu||(Hu=Mo({selectors:{":focus":{outline:"none"}}},"ms-FocusZone")),Hu),l),ref:this._mergedRef(this.props.elementRef,this._root),"data-focuszone-id":this._id,onKeyDown:function(t){return e._onKeyDown(t,d)},onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},i.prototype.focus=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this._root.current){if(!t&&"true"===this._root.current.getAttribute(Vu)&&this._isInnerZone){var i=this._getOwnerZone(this._root.current);if(i!==this._root.current){var n=Zu[i.getAttribute(Wu)];return!!n&&n.focusElement(this._root.current)}return!1}if(!t&&this._activeElement&&gu(this._root.current,this._activeElement)&&Nu(this._activeElement)&&(!e||Du(this._activeElement)))return this._activeElement.focus(),!0;var r=this._root.current.firstChild;return this.focusElement(Pu(this._root.current,r,!0,void 0,void 0,void 0,void 0,void 0,e))}return!1},i.prototype.focusLast=function(){if(this._root.current){var t=this._root.current&&this._root.current.lastChild;return this.focusElement(Mu(this._root.current,t,!0,!0,!0))}return!1},i.prototype.focusElement=function(t,e){var i=this.props,n=i.onBeforeFocus,r=i.shouldReceiveFocus;return!(r&&!r(t)||n&&!n(t))&&(!!t&&(this._setActiveElement(t,e),this._activeElement&&this._activeElement.focus(),!0))},i.prototype.setFocusAlignment=function(t){this._focusAlignment=t},Object.defineProperty(i.prototype,"defaultFocusElement",{get:function(){return this._defaultFocusElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"activeElement",{get:function(){return this._activeElement},enumerable:!1,configurable:!0}),i.prototype._evaluateFocusBeforeRender=function(){var t=this._root.current,e=this._getDocument();if(e){var i=e.activeElement;if(i!==t){var n=gu(t,i,!1);this._lastIndexPath=n?function(t,e){for(var i=[];e&&t&&e!==t;){var n=pu(e,!0);if(null===n)return[];i.unshift(Array.prototype.indexOf.call(n.children,e)),e=n}return i}(t,i):void 0}}},i.prototype._setParkedFocus=function(t){var e=this._root.current;e&&this._isParked!==t&&(this._isParked=t,t?(this.props.allowFocusRoot||(this._parkedTabIndex=e.getAttribute("tabindex"),e.setAttribute("tabindex","-1")),e.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(e.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):e.removeAttribute("tabindex")))},i.prototype._setActiveElement=function(t,e){var i=this._activeElement;this._activeElement=t,i&&(Iu(i)&&this._updateTabIndexes(i),i.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!e||this._setFocusAlignment(t,!0,!0),this._activeElement.tabIndex=0)},i.prototype._preventDefaultWhenHandled=function(t){this.props.preventDefaultWhenHandled&&t.preventDefault()},i.prototype._tryInvokeClickForFocusable=function(t,e){var i=t;if(i===this._root.current)return!1;do{if("BUTTON"===i.tagName||"A"===i.tagName||"INPUT"===i.tagName||"TEXTAREA"===i.tagName||"SUMMARY"===i.tagName)return!1;if(this._isImmediateDescendantOfZone(i)&&"true"===i.getAttribute(Vu)&&"true"!==i.getAttribute("data-disable-click-on-enter"))return qu(i,e),!0;i=pu(i,$u)}while(i!==this._root.current);return!1},i.prototype._getFirstInnerZone=function(t){if(!(t=t||this._activeElement||this._root.current))return null;if(Iu(t))return Zu[t.getAttribute(Wu)];for(var e=t.firstElementChild;e;){if(Iu(e))return Zu[e.getAttribute(Wu)];var i=this._getFirstInnerZone(e);if(i)return i;e=e.nextElementSibling}return null},i.prototype._moveFocus=function(t,e,i,n){void 0===n&&(n=!0);var r=this._activeElement,o=-1,a=void 0,s=!1,l=this.props.direction===mu.bidirectional;if(!r||!this._root.current)return!1;if(this._isElementInput(r)&&!this._shouldInputLoseFocus(r,t))return!1;var u=l?r.getBoundingClientRect():null;do{if(r=t?Pu(this._root.current,r):Mu(this._root.current,r),!l){a=r;break}if(r){var h=e(u,r.getBoundingClientRect());if(-1===h&&-1===o){a=r;break}if(h>-1&&(-1===o||h<o)&&(o=h,a=r),o>=0&&h<0)break}}while(r);if(a&&a!==this._activeElement)s=!0,this.focusElement(a);else if(this.props.isCircularNavigation&&n)return t?this.focusElement(Pu(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(Mu(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return s},i.prototype._moveFocusDown=function(){var t=this,e=-1,i=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!0,(function(n,r){var o=-1,a=Math.floor(r.top),s=Math.floor(n.bottom);return a<s?t._shouldWrapFocus(t._activeElement,Gu)?Yu:Xu:((-1===e&&a>=s||a===e)&&(e=a,o=i>=r.left&&i<=r.left+r.width?0:Math.abs(r.left+r.width/2-i)),o)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},i.prototype._moveFocusUp=function(){var t=this,e=-1,i=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!1,(function(n,r){var o=-1,a=Math.floor(r.bottom),s=Math.floor(r.top),l=Math.floor(n.top);return a>l?t._shouldWrapFocus(t._activeElement,Gu)?Yu:Xu:((-1===e&&a<=l||s===e)&&(e=s,o=i>=r.left&&i<=r.left+r.width?0:Math.abs(r.left+r.width/2-i)),o)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},i.prototype._moveFocusLeft=function(t){var e=this,i=this._shouldWrapFocus(this._activeElement,Ku);return!!this._moveFocus(mo(t),(function(n,r){var o=-1;return(mo(t)?parseFloat(r.top.toFixed(3))<parseFloat(n.bottom.toFixed(3)):parseFloat(r.bottom.toFixed(3))>parseFloat(n.top.toFixed(3)))&&r.right<=n.right&&e.props.direction!==mu.vertical?o=n.right-r.right:i||(o=Xu),o}),void 0,i)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},i.prototype._moveFocusRight=function(t){var e=this,i=this._shouldWrapFocus(this._activeElement,Ku);return!!this._moveFocus(!mo(t),(function(n,r){var o=-1;return(mo(t)?parseFloat(r.bottom.toFixed(3))>parseFloat(n.top.toFixed(3)):parseFloat(r.top.toFixed(3))<parseFloat(n.bottom.toFixed(3)))&&r.left>=n.left&&e.props.direction!==mu.vertical?o=r.left-n.left:i||(o=Xu),o}),void 0,i)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},i.prototype._moveFocusPaging=function(t,e){void 0===e&&(e=!0);var i=this._activeElement;if(!i||!this._root.current)return!1;if(this._isElementInput(i)&&!this._shouldInputLoseFocus(i,t))return!1;var n=Bu(i);if(!n)return!1;var r=-1,o=void 0,a=-1,s=-1,l=n.clientHeight,u=i.getBoundingClientRect();do{if(i=t?Pu(this._root.current,i):Mu(this._root.current,i)){var h=i.getBoundingClientRect(),c=Math.floor(h.top),d=Math.floor(u.bottom),f=Math.floor(h.bottom),p=Math.floor(u.top),g=this._getHorizontalDistanceFromCenter(t,u,h);if(t&&c>d+l||!t&&f<p-l)break;g>-1&&(t&&c>a?(a=c,r=g,o=i):!t&&f<s?(s=f,r=g,o=i):(-1===r||g<=r)&&(r=g,o=i))}}while(i);var m=!1;if(o&&o!==this._activeElement)m=!0,this.focusElement(o),this._setFocusAlignment(o,!1,!0);else if(this.props.isCircularNavigation&&e)return t?this.focusElement(Pu(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(Mu(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return m},i.prototype._setFocusAlignment=function(t,e,i){if(this.props.direction===mu.bidirectional&&(!this._focusAlignment||e||i)){var n=t.getBoundingClientRect(),r=n.left+n.width/2,o=n.top+n.height/2;this._focusAlignment||(this._focusAlignment={left:r,top:o}),e&&(this._focusAlignment.left=r),i&&(this._focusAlignment.top=o)}},i.prototype._isImmediateDescendantOfZone=function(t){return this._getOwnerZone(t)===this._root.current},i.prototype._getOwnerZone=function(t){for(var e=pu(t,$u);e&&e!==this._root.current&&e!==this._getDocument().body;){if(Iu(e))return e;e=pu(e,$u)}return e},i.prototype._updateTabIndexes=function(t){!this._activeElement&&this.props.defaultTabbableElement&&"function"===typeof this.props.defaultTabbableElement&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!t&&this._root.current&&(this._defaultFocusElement=null,t=this._root.current,this._activeElement&&!gu(t,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!Nu(this._activeElement)&&(this._activeElement=null);for(var e=t&&t.children,i=0;e&&i<e.length;i++){var n=e[i];Iu(n)?"true"===n.getAttribute(Vu)&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==n?"-1"!==n.getAttribute(Uu)&&n.setAttribute(Uu,"-1"):(this._defaultFocusElement=n,"0"!==n.getAttribute(Uu)&&n.setAttribute(Uu,"0"))):(n.getAttribute&&"false"===n.getAttribute(Vu)&&n.setAttribute(Uu,"-1"),Nu(n)?this.props.disabled?n.setAttribute(Uu,"-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==n?"-1"!==n.getAttribute(Uu)&&n.setAttribute(Uu,"-1"):(this._defaultFocusElement=n,"0"!==n.getAttribute(Uu)&&n.setAttribute(Uu,"0")):"svg"===n.tagName&&"false"!==n.getAttribute("focusable")&&n.setAttribute("focusable","false")),this._updateTabIndexes(n)}},i.prototype._isContentEditableElement=function(t){return t&&"true"===t.getAttribute("contenteditable")},i.prototype._isElementInput=function(t){return!(!t||!t.tagName||"input"!==t.tagName.toLowerCase()&&"textarea"!==t.tagName.toLowerCase())},i.prototype._shouldInputLoseFocus=function(t,e){if(!this._processingTabKey&&t&&t.type&&Qu.indexOf(t.type.toLowerCase())>-1){var i=t.selectionStart,n=i!==t.selectionEnd,r=t.value,o=t.readOnly;if(n||i>0&&!e&&!o||i!==r.length&&e&&!o||this.props.handleTabKey&&(!this.props.shouldInputLoseFocusOnArrowKey||!this.props.shouldInputLoseFocusOnArrowKey(t)))return!1}return!0},i.prototype._shouldWrapFocus=function(t,e){return!this.props.checkForNoWrap||Au(t,e)},i.prototype._portalContainsElement=function(t){return t&&!!this._root.current&&zu(t,this._root.current)},i.prototype._getDocument=function(){return co(this._root.current)},i.defaultProps={isCircularNavigation:!1,direction:mu.bidirectional,shouldRaiseClicks:!0},i}(t.Component),eh=t.createContext(void 0),ih=function(){return function(){}};eh.Provider;var nh=i(164),rh=function(e){var i=e.providerRef,n=e.layerRoot,r=t.useState([])[0],o=t.useContext(Bl),a=void 0!==o&&!n,s=t.useMemo((function(){return a?void 0:{providerRef:i,registeredProviders:r,registerProvider:function(t){r.push(t),null===o||void 0===o||o.registerProvider(t)},unregisterProvider:function(t){null===o||void 0===o||o.unregisterProvider(t);var e=r.indexOf(t);e>=0&&r.splice(e,1)}}}),[i,r,o,a]);return t.useEffect((function(){if(s)return s.registerProvider(s.providerRef),function(){return s.unregisterProvider(s.providerRef)}}),[s]),s?t.createElement(Bl.Provider,{value:s},e.children):t.createElement(t.Fragment,null,e.children)};function oh(t,e){void 0===t&&(t={});var i=sh(e)?e:function(t){return function(e){return t?yt(yt({},e),t):e}}(e);return i(t)}function ah(t,e){return void 0===t&&(t={}),(sh(e)?e:function(t){void 0===t&&(t={});return function(e){var i=yt({},e);for(var n in t)t.hasOwnProperty(n)&&(i[n]=yt(yt({},e[n]),t[n]));return i}}(e))(t)}function sh(t){return"function"===typeof t}var lh=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}return vt(i,e),i.prototype.componentDidMount=function(){Xn.observe(this._onCustomizationChange)},i.prototype.componentWillUnmount=function(){Xn.unobserve(this._onCustomizationChange)},i.prototype.render=function(){var e=this,i=this.props.contextTransform;return t.createElement(qn.Consumer,null,(function(n){var r=function(t,e){var i=(e||{}).customizations,n=void 0===i?{settings:{},scopedSettings:{}}:i;return{customizations:{settings:oh(n.settings,t.settings),scopedSettings:ah(n.scopedSettings,t.scopedSettings),inCustomizerContext:!0}}}(e.props,n);return i&&(r=i(r)),t.createElement(qn.Provider,{value:r},e.props.children)}))},i}(t.Component),uh=wo(),hh=Ka((function(t,e){return Ss(yt(yt({},t),{rtl:e}))})),ch=t.forwardRef((function(e,i){var n=e.className,r=e.theme,o=e.applyTheme,a=e.applyThemeToBody,s=e.styles,l=uh(s,{theme:r,applyTheme:o,className:n}),u=t.useRef(null);return function(e,i,n){var r=i.bodyThemed;t.useEffect((function(){if(e){var t=co(n.current);if(t)return t.body.classList.add(r),function(){t.body.classList.remove(r)}}}),[r,e,n])}(a,l,u),t.createElement(t.Fragment,null,function(e,i,n,r){var o=i.root,a=e.as,s=void 0===a?"div":a,l=e.dir,u=e.theme,h=Sr(e,_r,["dir"]),c=function(t){var e=t.theme,i=t.dir,n=mo(e)?"rtl":"ltr",r=mo()?"rtl":"ltr",o=i||n;return{rootDir:o!==n||o!==r?o:i,needsTheme:o!==n}}(e),d=c.rootDir,f=c.needsTheme,p=t.createElement(rh,{providerRef:n},t.createElement(s,yt({dir:d},h,{className:o,ref:Us(n,r)})));f&&(p=t.createElement(lh,{settings:{theme:hh(u,"rtl"===l)}},p));return p}(e,l,u,i))}));ch.displayName="FabricBase";var dh={fontFamily:"inherit"},fh={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},ph=Qn(ch,(function(t){var e=t.applyTheme,i=t.className,n=t.preventBlanketFontInheritance,r=t.theme;return{root:[Ja(fh,r).root,r.fonts.medium,{color:r.palette.neutralPrimary},!n&&{"& button":dh,"& input":dh,"& textarea":dh},e&&{color:r.semanticColors.bodyText,backgroundColor:r.semanticColors.bodyBackground},i],bodyThemed:[{backgroundColor:r.semanticColors.bodyBackground}]}}),void 0,{scope:"Fabric"});var gh={},mh={},vh="fluent-default-layer-host",yh="#".concat(vh);var bh,xh=wo(),wh=t.forwardRef((function(e,i){var n=function(){var e;return null!==(e=t.useContext(eh))&&void 0!==e?e:ih}(),r=t.useRef(null),o=Us(r,i),a=t.useRef(),s=t.useRef(null),l=t.useState(!1),u=l[0],h=l[1],c=e.children,d=e.className,f=e.eventBubblingEnabled,p=e.fabricProps,g=e.hostId,m=e.insertFirst,v=e.onLayerDidMount,y=void 0===v?function(){}:v,b=e.onLayerMounted,x=void 0===b?function(){}:b,w=e.onLayerWillUnmount,k=e.styles,_=e.theme,S=Us(s,null===p||void 0===p?void 0:p.ref),C=xh(k,{theme:_,className:d,isNotHost:!g}),M=function(t){var e,i;if(g){var n=function(t){var e=mh[t];return e&&e[0]||void 0}(g);return n?null!==(e=n.rootRef.current)&&void 0!==e?e:null:null!==(i=t.getElementById(g))&&void 0!==i?i:null}var r=yh,o=r?t.querySelector(r):null;return o||(o=function(t){var e=t.createElement("div");return e.setAttribute("id",vh),e.style.cssText="position:fixed;z-index:1000000",null===t||void 0===t||t.body.appendChild(e),e}(t)),o},P=function(){null===w||void 0===w||w();var t=a.current;a.current=void 0,t&&t.parentNode&&t.parentNode.removeChild(t)},T=function(){var t,e=co(r.current);if(e){var i=M(e);if(i){P();var n=(null!==(t=i.ownerDocument)&&void 0!==t?t:e).createElement("div");n.className=C.root,n.setAttribute(Fu,"true"),function(t,e){var i=t,n=e;i._virtual||(i._virtual={children:[]});var r=i._virtual.parent;if(r&&r!==e){var o=r._virtual.children.indexOf(i);o>-1&&r._virtual.children.splice(o,1)}i._virtual.parent=n||void 0,n&&(n._virtual||(n._virtual={children:[]}),n._virtual.children.push(i))}(n,r.current),m?i.insertBefore(n,i.firstChild):i.appendChild(n),a.current=n,h(!0)}}};return Ws((function(){T(),g&&function(t,e){gh[t]||(gh[t]=[]),gh[t].push(e);var i=mh[t];if(i)for(var n=0,r=i;n<r.length;n++)r[n].notifyLayersChanged()}(g,T);var t=a.current?n(a.current):void 0;return function(){t&&t(),P(),g&&function(t,e){var i=gh[t];if(i){var n=i.indexOf(e);n>=0&&(i.splice(n,1),0===i.length&&delete gh[t])}var r=mh[t];if(r)for(var o=0,a=r;o<a.length;o++)a[o].notifyLayersChanged()}(g,T)}}),[g]),t.useEffect((function(){a.current&&u&&(null===x||void 0===x||x(),null===y||void 0===y||y(),h(!1))}),[u,x,y]),t.createElement("span",{className:"ms-layer",ref:o},a.current&&nh.createPortal(t.createElement(rh,{layerRoot:!0,providerRef:S},t.createElement(ph,yt({},!f&&function(){bh||(bh={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach((function(t){return bh[t]=kh})));return bh}(),p,{className:Qs(C.content,null===p||void 0===p?void 0:p.className),ref:S}),c)),a.current))}));wh.displayName="LayerBase";var kh=function(t){t.eventPhase===Event.BUBBLING_PHASE&&"mouseenter"!==t.type&&"mouseleave"!==t.type&&"touchstart"!==t.type&&"touchend"!==t.type&&t.stopPropagation()};var _h,Sh={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},Ch=Qn(wh,(function(t){var e=t.className,i=t.isNotHost,n=t.theme,r=Ja(Sh,n);return{root:[r.root,n.fonts.medium,i&&[r.rootNoHost,{position:"fixed",zIndex:Ia.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],e],content:[r.content,{visibility:"visible"}]}}),void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),Mh=function(e){var i=e.count,n=e.indentWidth,r=void 0===n?36:n,o=e.role,a=void 0===o?"presentation":o,s=i*r;return i>0?t.createElement("span",{className:"ms-GroupSpacer",style:{display:"inline-block",width:s},role:a}):null};!function(t){t[t.hidden=0]="hidden",t[t.visible=1]="visible"}(_h||(_h={}));var Ph=Ya((function(t){return Ya((function(e){var i=Ya((function(t){return function(i){return e(i,t)}}));return function(n,r){return t(n,r?i(r):e)}}))}));function Th(t,e){return Ph(t)(e)}var Dh={label:nr,audio:rr,video:or,ol:ar,li:sr,a:lr,button:ur,input:hr,textarea:cr,select:dr,option:fr,table:pr,tr:gr,th:mr,td:vr,colGroup:yr,col:br,form:xr,iframe:wr,img:kr};var Nh=wo(),Ih=t.forwardRef((function(e,i){var n=e.checked,r=void 0!==n&&n,o=e.className,a=e.theme,s=e.styles,l=e.useFastIcons,u=void 0===l||l,h=Nh(s,{theme:a,className:o,checked:r}),c=u?tl:nl;return t.createElement("div",{className:h.root,ref:i},t.createElement(c,{iconName:"CircleRing",className:h.circle}),t.createElement(c,{iconName:"StatusCircleCheckmark",className:h.check}))}));Ih.displayName="CheckBase";var Eh={root:"ms-Check",circle:"ms-Check-circle",check:"ms-Check-check",checkHost:"ms-Check-checkHost"},Ah=Qn(Ih,(function(t){var e,i,n,r,o,a=t.height,s=void 0===a?t.checkBoxHeight||"18px":a,l=t.checked,u=t.className,h=t.theme,c=h.palette,d=h.semanticColors,f=h.fonts,p=mo(h),g=Ja(Eh,h),m={fontSize:s,position:"absolute",left:0,top:0,width:s,height:s,textAlign:"center",display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle"};return{root:[g.root,f.medium,{lineHeight:"1",width:s,height:s,verticalAlign:"top",position:"relative",userSelect:"none",selectors:(e={":before":{content:'""',position:"absolute",top:"1px",right:"1px",bottom:"1px",left:"1px",borderRadius:"50%",opacity:1,background:d.bodyBackground}},e[".".concat(g.checkHost,":hover &, .").concat(g.checkHost,":focus &, &:hover, &:focus")]={opacity:1},e)},l&&["is-checked",{selectors:{":before":{background:c.themePrimary,opacity:1,selectors:(i={},i[Da]={background:"Window"},i)}}}],u],circle:[g.circle,m,{color:c.neutralSecondary,selectors:(n={},n[Da]={color:"WindowText"},n)},l&&{color:c.white}],check:[g.check,m,{opacity:0,color:c.neutralSecondary,fontSize:Pa.medium,left:p?"-0.5px":".5px",top:"-1px",selectors:(r={":hover":{opacity:1}},r[Da]=yt({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),r)},l&&{opacity:1,color:c.white,fontWeight:900,selectors:(o={},o[Da]={border:"none",color:"WindowText"},o)}],checkHost:g.checkHost}}),void 0,{scope:"Check"},!0),Oh={root:"ms-Link"},Lh={root:"ms-DetailsRow",compact:"ms-DetailsList--Compact",cell:"ms-DetailsRow-cell",cellAnimation:"ms-DetailsRow-cellAnimation",cellCheck:"ms-DetailsRow-cellCheck",check:"ms-DetailsRow-check",cellMeasurer:"ms-DetailsRow-cellMeasurer",listCellFirstChild:"ms-List-cell:first-child",isContentUnselectable:"is-contentUnselectable",isSelected:"is-selected",isCheckVisible:"is-check-visible",isRowHeader:"is-row-header",fields:"ms-DetailsRow-fields"},Rh={cellLeftPadding:12,cellRightPadding:8,cellExtraRightPadding:24},jh={rowHeight:42,compactRowHeight:32},Bh=yt(yt({},jh),{rowVerticalPadding:11,compactRowVerticalPadding:6}),Fh={tooltipHost:"ms-TooltipHost",root:"ms-DetailsHeader",cell:"ms-DetailsHeader-cell",cellIsCheck:"ms-DetailsHeader-cellIsCheck",collapseButton:"ms-DetailsHeader-collapseButton",isCollapsed:"is-collapsed",isAllSelected:"is-allSelected",isSelectAllHidden:"is-selectAllHidden",isResizingColumn:"is-resizingColumn",cellSizer:"ms-DetailsHeader-cellSizer",isResizing:"is-resizing",dropHintCircleStyle:"ms-DetailsHeader-dropHintCircleStyle",dropHintCaretStyle:"ms-DetailsHeader-dropHintCaretStyle",dropHintLineStyle:"ms-DetailsHeader-dropHintLineStyle",cellTitle:"ms-DetailsHeader-cellTitle",cellName:"ms-DetailsHeader-cellName",filterChevron:"ms-DetailsHeader-filterChevron",gripperBarVertical:"ms-DetailsColumn-gripperBarVertical",checkTooltip:"ms-DetailsHeader-checkTooltip",check:"ms-DetailsHeader-check"},zh=function(t){var e=t.theme,i=t.cellStyleProps,n=void 0===i?Rh:i,r=e.semanticColors;return[Ja(Fh,e).cell,Ra(e),{color:r.bodyText,position:"relative",display:"inline-block",boxSizing:"border-box",padding:"0 ".concat(n.cellRightPadding,"px 0 ").concat(n.cellLeftPadding,"px"),lineHeight:"inherit",margin:"0",height:42,verticalAlign:"top",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"}]},Hh={root:"ms-DetailsRow-check",isDisabled:"ms-DetailsRow-check--isDisabled",isHeader:"ms-DetailsRow-check--isHeader"},Vh=wo(),Wh=t.memo((function(e){return t.createElement(Ah,{theme:e.theme,checked:e.checked,className:e.className,useFastIcons:!0})}));function Uh(e){return t.createElement(Ah,{checked:e.checked})}function Gh(e){return t.createElement(Wh,{theme:e.theme,checked:e.checked})}var Kh,Yh=Qn((function(e){var i=e.isVisible,n=void 0!==i&&i,r=e.canSelect,o=void 0!==r&&r,a=e.anySelected,s=void 0!==a&&a,l=e.selected,u=void 0!==l&&l,h=e.selectionMode,c=e.isHeader,d=void 0!==c&&c,f=e.className,p=(e.checkClassName,e.styles),g=e.theme,m=e.compact,v=e.onRenderDetailsCheckbox,y=e.useFastIcons,b=void 0===y||y,x=bt(e,["isVisible","canSelect","anySelected","selected","selectionMode","isHeader","className","checkClassName","styles","theme","compact","onRenderDetailsCheckbox","useFastIcons"]),w=b?Gh:Uh,k=v?Th(v,w):w,_=Vh(p,{theme:g,canSelect:o,selected:u,anySelected:s,className:f,isHeader:d,isVisible:n,compact:m}),S={checked:u,theme:g},C=function(t,e,i){return Sr(e,t&&Dh[t]||ir,i)}("div",x,["aria-label","aria-labelledby","aria-describedby"]),M=h===Xl.single?"radio":"checkbox";return o?t.createElement("div",yt({},x,{role:M,className:Qs(_.root,_.check),"aria-checked":u,"data-selection-toggle":!0,"data-automationid":"DetailsRowCheck",tabIndex:-1}),k(S)):t.createElement("div",yt({},C,{className:Qs(_.root,_.check)}))}),(function(t){var e=t.theme,i=t.className,n=t.isHeader,r=t.selected,o=t.anySelected,a=t.canSelect,s=t.compact,l=t.isVisible,u=Ja(Hh,e),h=n?42:s?jh.compactRowHeight:jh.rowHeight,c=l||r||o;return{root:[u.root,i],check:[!a&&u.isDisabled,n&&u.isHeader,Ra(e),e.fonts.small,Eh.checkHost,{display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",boxSizing:"border-box",verticalAlign:"top",background:"none",backgroundColor:"transparent",border:"none",opacity:c?1:0,height:h,width:48,padding:0,margin:0}],isDisabled:[]}}),void 0,{scope:"DetailsRowCheck"},!0),Xh=function(){function t(t){this._selection=t.selection,this._dragEnterCounts={},this._activeTargets={},this._lastId=0,this._initialized=!1}return t.prototype.dispose=function(){this._events&&this._events.dispose()},t.prototype.subscribe=function(t,e,i){var n=this;if(!this._initialized){this._events=new hu(this);var r=co();r&&(this._events.on(r.body,"mouseup",this._onMouseUp.bind(this),!0),this._events.on(r,"mouseup",this._onDocumentMouseUp.bind(this),!0)),this._initialized=!0}var o,a,s,l,u,h,c,d,f,p,g=i.key,m=void 0===g?"".concat(++this._lastId):g,v=[];if(i&&t){var y=i.eventMap,b=i.context,x=i.updateDropState,w={root:t,options:i,key:m};if(d=this._isDraggable(w),f=this._isDroppable(w),(d||f)&&y)for(var k=0,_=y;k<_.length;k++){var S=_[k],C={callback:S.callback.bind(null,b),eventName:S.eventName};v.push(C),this._events.on(t,C.eventName,C.callback)}f&&(a=function(t){t.isHandled||(t.isHandled=!0,n._dragEnterCounts[m]--,0===n._dragEnterCounts[m]&&x(!1,t))},s=function(t){t.preventDefault(),t.isHandled||(t.isHandled=!0,n._dragEnterCounts[m]++,1===n._dragEnterCounts[m]&&x(!0,t))},l=function(t){n._dragEnterCounts[m]=0,x(!1,t)},u=function(t){n._dragEnterCounts[m]=0,x(!1,t),i.onDrop&&i.onDrop(i.context.data,t)},h=function(t){t.preventDefault(),i.onDragOver&&i.onDragOver(i.context.data,t)},this._dragEnterCounts[m]=0,e.on(t,"dragenter",s),e.on(t,"dragleave",a),e.on(t,"dragend",l),e.on(t,"drop",u),e.on(t,"dragover",h)),d&&(c=this._onMouseDown.bind(this,w),l=this._onDragEnd.bind(this,w),o=function(e){var r=i;r&&r.onDragStart&&r.onDragStart(r.context.data,r.context.index,n._selection.getSelection(),e),n._isDragging=!0,e.dataTransfer&&e.dataTransfer.setData("id",t.id)},e.on(t,"dragstart",o),e.on(t,"mousedown",c),e.on(t,"dragend",l)),p={target:w,dispose:function(){if(n._activeTargets[m]===p&&delete n._activeTargets[m],t){for(var i=0,r=v;i<r.length;i++){var g=r[i];n._events.off(t,g.eventName,g.callback)}f&&(e.off(t,"dragenter",s),e.off(t,"dragleave",a),e.off(t,"dragend",l),e.off(t,"dragover",h),e.off(t,"drop",u)),d&&(e.off(t,"dragstart",o),e.off(t,"mousedown",c),e.off(t,"dragend",l))}}},this._activeTargets[m]=p}return{key:m,dispose:function(){p&&p.dispose()}}},t.prototype.unsubscribe=function(t,e){var i=this._activeTargets[e];i&&i.dispose()},t.prototype._onDragEnd=function(t,e){var i=t.options;i.onDragEnd&&i.onDragEnd(i.context.data,e)},t.prototype._onMouseUp=function(t){if(this._isDragging=!1,this._dragData){for(var e=0,i=Object.keys(this._activeTargets);e<i.length;e++){var n=i[e],r=this._activeTargets[n];r.target.root&&(this._events.off(r.target.root,"mousemove"),this._events.off(r.target.root,"mouseleave"))}this._dragData.dropTarget&&(hu.raise(this._dragData.dropTarget.root,"dragleave"),hu.raise(this._dragData.dropTarget.root,"drop"))}this._dragData=null},t.prototype._onDocumentMouseUp=function(t){var e=co();e&&t.target===e.documentElement&&this._onMouseUp(t)},t.prototype._onMouseMove=function(t,e){var i=e.buttons,n=void 0===i?1:i;if(this._dragData&&1!==n)this._onMouseUp(e);else{var r=t.root,o=t.key;this._isDragging&&this._isDroppable(t)&&this._dragData&&this._dragData.dropTarget&&this._dragData.dropTarget.key!==o&&!this._isChild(r,this._dragData.dropTarget.root)&&this._dragEnterCounts[this._dragData.dropTarget.key]>0&&(hu.raise(this._dragData.dropTarget.root,"dragleave"),hu.raise(r,"dragenter"),this._dragData.dropTarget=t)}},t.prototype._onMouseLeave=function(t,e){this._isDragging&&this._dragData&&this._dragData.dropTarget&&this._dragData.dropTarget.key===t.key&&(hu.raise(t.root,"dragleave"),this._dragData.dropTarget=void 0)},t.prototype._onMouseDown=function(t,e){if(0===e.button)if(this._isDraggable(t)){this._dragData={clientX:e.clientX,clientY:e.clientY,eventTarget:e.target,dragTarget:t};for(var i=0,n=Object.keys(this._activeTargets);i<n.length;i++){var r=n[i],o=this._activeTargets[r];o.target.root&&(this._events.on(o.target.root,"mousemove",this._onMouseMove.bind(this,o.target)),this._events.on(o.target.root,"mouseleave",this._onMouseLeave.bind(this,o.target)))}}else this._dragData=null},t.prototype._isChild=function(t,e){for(;e&&e.parentElement;){if(e.parentElement===t)return!0;e=e.parentElement}return!1},t.prototype._isDraggable=function(t){var e=t.options;return!(!e.canDrag||!e.canDrag(e.context.data))},t.prototype._isDroppable=function(t){var e=t.options,i=this._dragData&&this._dragData.dragTarget?this._dragData.dragTarget.options.context:void 0;return!(!e.canDrop||!e.canDrop(e.context,i))},t}(),qh=wo(),Zh=function(e){return function(i){return i?i.column.isIconOnly?t.createElement("span",{className:e.accessibleLabel},i.column.name):t.createElement(t.Fragment,null,i.column.name):null}},Jh=function(e){function i(i){var n=e.call(this,i)||this;return n._root=t.createRef(),n._onRenderFilterIcon=function(e){return function(e){var i=e.columnProps,n=bt(e,["columnProps"]),r=(null===i||void 0===i?void 0:i.useFastIcons)?tl:nl;return t.createElement(r,yt({},n))}},n._onRenderColumnHeaderTooltip=function(e){return t.createElement("span",{className:e.hostClassName},e.children)},n._onColumnClick=function(t){var e=n.props,i=e.onColumnClick,r=e.column;r.columnActionsMode!==ou.disabled&&(r.onColumnClick&&r.onColumnClick(t,r),i&&i(t,r))},n._onDragStart=function(t,e,i,r){var o=n._classNames;e&&(n._updateHeaderDragInfo(e),n._root.current.classList.add(o.borderWhileDragging),n._async.setTimeout((function(){n._root.current&&n._root.current.classList.add(o.noBorderWhileDragging)}),20))},n._onDragEnd=function(t,e){var i=n._classNames;e&&n._updateHeaderDragInfo(-1,e),n._root.current.classList.remove(i.borderWhileDragging),n._root.current.classList.remove(i.noBorderWhileDragging)},n._updateHeaderDragInfo=function(t,e){n.props.setDraggedItemIndex&&n.props.setDraggedItemIndex(t),n.props.updateDragInfo&&n.props.updateDragInfo({itemIndex:t},e)},n._onColumnContextMenu=function(t){var e=n.props,i=e.onColumnContextMenu,r=e.column;r.onColumnContextMenu&&(r.onColumnContextMenu(r,t),t.preventDefault()),i&&(i(r,t),t.preventDefault())},n._onRootMouseDown=function(t){n.props.isDraggable&&0===t.button&&t.stopPropagation()},ol(n),n._async=new hl(n),n._events=new hu(n),n}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.column,n=e.parentId,r=e.isDraggable,o=e.styles,a=e.theme,s=e.cellStyleProps,l=void 0===s?Rh:s,u=e.useFastIcons,h=void 0===u||u,c=this.props.onRenderColumnHeaderTooltip,d=void 0===c?this._onRenderColumnHeaderTooltip:c;this._classNames=qh(o,{theme:a,headerClassName:i.headerClassName,iconClassName:i.iconClassName,isActionable:i.columnActionsMode!==ou.disabled,isEmpty:!i.name,isIconVisible:i.isSorted||i.isGrouped||i.isFiltered,isPadded:i.isPadded,isIconOnly:i.isIconOnly,cellStyleProps:l,transitionDurationDrag:200,transitionDurationDrop:1500});var f=this._classNames,p=h?tl:nl,g=i.onRenderFilterIcon?Th(i.onRenderFilterIcon,this._onRenderFilterIcon(this._classNames)):this._onRenderFilterIcon(this._classNames),m=i.onRenderHeader?Th(i.onRenderHeader,Zh(this._classNames)):Zh(this._classNames),v=i.columnActionsMode!==ou.disabled&&(void 0!==i.onColumnClick||void 0!==this.props.onColumnClick),y={"aria-label":i.ariaLabel?i.ariaLabel:i.isIconOnly?i.name:void 0,"aria-labelledby":i.ariaLabel||i.isIconOnly?void 0:"".concat(n,"-").concat(i.key,"-name"),"aria-describedby":!this.props.onRenderColumnHeaderTooltip&&this._hasAccessibleDescription()?"".concat(n,"-").concat(i.key,"-tooltip"):void 0};return t.createElement(t.Fragment,null,t.createElement("div",yt({key:i.key,ref:this._root,role:"columnheader"},!v&&y,{"aria-sort":i.isSorted?i.isSortedDescending?"descending":"ascending":"none","data-is-focusable":v||i.columnActionsMode===ou.disabled?void 0:"true",className:f.root,"data-is-draggable":r,draggable:r,style:{width:i.calculatedWidth+l.cellLeftPadding+l.cellRightPadding+(i.isPadded?l.cellExtraRightPadding:0)},"data-automationid":"ColumnsHeaderColumn","data-item-key":i.key}),r&&t.createElement(p,{iconName:"GripperBarVertical",className:f.gripperBarVerticalStyle}),d({hostClassName:f.cellTooltip,id:"".concat(n,"-").concat(i.key,"-tooltip"),setAriaDescribedBy:!1,column:i,content:i.columnActionsMode!==ou.disabled?i.ariaLabel:"",children:t.createElement("span",yt({id:"".concat(n,"-").concat(i.key),className:f.cellTitle,"data-is-focusable":v&&i.columnActionsMode!==ou.disabled?"true":void 0,role:v?"button":void 0},v&&y,{onContextMenu:this._onColumnContextMenu,onClick:this._onColumnClick,"aria-haspopup":i.columnActionsMode===ou.hasDropdown?"menu":void 0,"aria-expanded":i.columnActionsMode===ou.hasDropdown?!!i.isMenuOpen:void 0}),t.createElement("span",{id:"".concat(n,"-").concat(i.key,"-name"),className:f.cellName},(i.iconName||i.iconClassName)&&t.createElement(p,{className:f.iconClassName,iconName:i.iconName}),m(this.props)),i.isFiltered&&t.createElement(p,{className:f.nearIcon,iconName:"Filter"}),(i.isSorted||i.showSortIconWhenUnsorted)&&t.createElement(p,{className:f.sortIcon,iconName:i.isSorted?i.isSortedDescending?"SortDown":"SortUp":"Sort"}),i.isGrouped&&t.createElement(p,{className:f.nearIcon,iconName:"GroupedDescending"}),i.columnActionsMode===ou.hasDropdown&&!i.isIconOnly&&g({"aria-hidden":!0,columnProps:this.props,className:f.filterChevron,iconName:"ChevronDown"}))},this._onRenderColumnHeaderTooltip)),this.props.onRenderColumnHeaderTooltip?null:this._renderAccessibleDescription())},i.prototype.componentDidMount=function(){var t=this;this.props.dragDropHelper&&this.props.isDraggable&&this._addDragDropHandling();var e=this._classNames;this.props.isDropped&&(this._root.current&&(this._root.current.classList.add(e.borderAfterDropping),this._async.setTimeout((function(){t._root.current&&t._root.current.classList.add(e.noBorderAfterDropping)}),20)),this._async.setTimeout((function(){t._root.current&&(t._root.current.classList.remove(e.borderAfterDropping),t._root.current.classList.remove(e.noBorderAfterDropping))}),1520))},i.prototype.componentWillUnmount=function(){this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this._async.dispose(),this._events.dispose()},i.prototype.componentDidUpdate=function(){!this._dragDropSubscription&&this.props.dragDropHelper&&this.props.isDraggable&&this._addDragDropHandling(),this._dragDropSubscription&&!this.props.isDraggable&&(this._dragDropSubscription.dispose(),this._events.off(this._root.current,"mousedown"),delete this._dragDropSubscription)},i.prototype._getColumnDragDropOptions=function(){var t=this,e=this.props.columnIndex;return{selectionIndex:e,context:{data:e,index:e},canDrag:function(){return t.props.isDraggable},canDrop:function(){return!1},onDragStart:this._onDragStart,updateDropState:function(){},onDrop:function(){},onDragEnd:this._onDragEnd}},i.prototype._hasAccessibleDescription=function(){var t=this.props.column;return!!(t.filterAriaLabel||t.sortAscendingAriaLabel||t.sortDescendingAriaLabel||t.groupAriaLabel||t.sortableAriaLabel)},i.prototype._renderAccessibleDescription=function(){var e=this.props,i=e.column,n=e.parentId,r=this._classNames;return this._hasAccessibleDescription()&&!this.props.onRenderColumnHeaderTooltip?t.createElement("label",{key:"".concat(i.key,"_label"),id:"".concat(n,"-").concat(i.key,"-tooltip"),className:r.accessibleLabel,hidden:!0},i.isFiltered&&i.filterAriaLabel||null,(i.isSorted||i.showSortIconWhenUnsorted)&&(i.isSorted?i.isSortedDescending?i.sortDescendingAriaLabel:i.sortAscendingAriaLabel:i.sortableAriaLabel)||null,i.isGrouped&&i.groupAriaLabel||null):null},i.prototype._addDragDropHandling=function(){this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getColumnDragDropOptions()),this._events.on(this._root.current,"mousedown",this._onRootMouseDown)},i}(t.Component),Qh={isActionable:"is-actionable",cellIsCheck:"ms-DetailsHeader-cellIsCheck",collapseButton:"ms-DetailsHeader-collapseButton",isCollapsed:"is-collapsed",isAllSelected:"is-allSelected",isSelectAllHidden:"is-selectAllHidden",isResizingColumn:"is-resizingColumn",isEmpty:"is-empty",isIconVisible:"is-icon-visible",cellSizer:"ms-DetailsHeader-cellSizer",isResizing:"is-resizing",dropHintCircleStyle:"ms-DetailsHeader-dropHintCircleStyle",dropHintLineStyle:"ms-DetailsHeader-dropHintLineStyle",cellTitle:"ms-DetailsHeader-cellTitle",cellName:"ms-DetailsHeader-cellName",filterChevron:"ms-DetailsHeader-filterChevron",gripperBarVerticalStyle:"ms-DetailsColumn-gripperBar",nearIcon:"ms-DetailsColumn-nearIcon"},$h=Qn(Jh,(function(t){var e,i=t.theme,n=t.headerClassName,r=t.iconClassName,o=t.isActionable,a=t.isEmpty,s=t.isIconVisible,l=t.isPadded,u=t.isIconOnly,h=t.cellStyleProps,c=void 0===h?Rh:h,d=t.transitionDurationDrag,f=t.transitionDurationDrop,p=i.semanticColors,g=i.palette,m=i.fonts,v=Ja(Qh,i),y={iconForegroundColor:p.bodySubtext,headerForegroundColor:p.bodyText,headerBackgroundColor:p.bodyBackground,dropdownChevronForegroundColor:g.neutralSecondary,resizerColor:g.neutralTertiaryAlt},b={color:y.iconForegroundColor,opacity:1,paddingLeft:8},x={outline:"1px solid ".concat(g.themePrimary)},w={outlineColor:"transparent"};return{root:[zh(t),m.small,o&&[v.isActionable,{selectors:{":hover":{color:p.bodyText,background:p.listHeaderBackgroundHovered},":active":{background:p.listHeaderBackgroundPressed}}}],a&&[v.isEmpty,{textOverflow:"clip"}],s&&v.isIconVisible,l&&{paddingRight:c.cellExtraRightPadding+c.cellRightPadding},{selectors:{':hover i[data-icon-name="GripperBarVertical"]':{display:"block"}}},n],gripperBarVerticalStyle:{display:"none",position:"absolute",textAlign:"left",color:g.neutralTertiary,left:1},nearIcon:[v.nearIcon,b],sortIcon:[b,{paddingLeft:4,position:"relative",top:1}],iconClassName:[{color:y.iconForegroundColor,opacity:1},r],filterChevron:[v.filterChevron,{color:y.dropdownChevronForegroundColor,paddingLeft:6,verticalAlign:"middle",fontSize:m.small.fontSize}],cellTitle:[v.cellTitle,Ra(i),yt({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",boxSizing:"border-box",overflow:"hidden",padding:"0 ".concat(c.cellRightPadding,"px 0 ").concat(c.cellLeftPadding,"px")},u?{alignContent:"flex-end",maxHeight:"100%",flexWrap:"wrap-reverse"}:{})],cellName:[v.cellName,{flex:"0 1 auto",overflow:"hidden",textOverflow:"ellipsis",fontWeight:Ma.semibold,fontSize:m.medium.fontSize},u&&{selectors:(e={},e[".".concat(v.nearIcon)]={paddingLeft:0},e)}],cellTooltip:{display:"block",position:"absolute",top:0,left:0,bottom:0,right:0},accessibleLabel:Fa,borderWhileDragging:x,noBorderWhileDragging:[w,{transition:"outline ".concat(d,"ms ease")}],borderAfterDropping:x,noBorderAfterDropping:[w,{transition:"outline  ".concat(f,"ms ease")}]}}),void 0,{scope:"DetailsColumn"});!function(t){t[t.none=0]="none",t[t.hidden=1]="hidden",t[t.visible=2]="visible"}(Kh||(Kh={}));var tc=wo(),ec=[],ic=function(e){function i(i){var n=e.call(this,i)||this;return n._rootElement=t.createRef(),n._rootComponent=t.createRef(),n._draggedColumnIndex=-1,n._dropHintDetails={},n._updateDroppingState=function(t,e){n._draggedColumnIndex>=0&&"drop"!==e.type&&!t&&n._resetDropHints()},n._onDragOver=function(t,e){n._draggedColumnIndex>=0&&(e.stopPropagation(),n._computeDropHintToBeShown(e.clientX))},n._onDrop=function(t,e){var i=n._getColumnReorderProps();if(n._draggedColumnIndex>=0&&e){var r=n._draggedColumnIndex>n._currentDropHintIndex?n._currentDropHintIndex:n._currentDropHintIndex-1,o=n._isValidCurrentDropHintIndex();if(e.stopPropagation(),o)if(n._onDropIndexInfo.sourceIndex=n._draggedColumnIndex,n._onDropIndexInfo.targetIndex=r,i.onColumnDrop){var a={draggedIndex:n._draggedColumnIndex,targetIndex:r};i.onColumnDrop(a)}else i.handleColumnReorder&&i.handleColumnReorder(n._draggedColumnIndex,r)}n._resetDropHints(),n._dropHintDetails={},n._draggedColumnIndex=-1},n._computeColumnIndexOffset=function(t){var e=1;return t&&(e+=1),n.props.groupNestingDepth&&n.props.groupNestingDepth>0&&(e+=1),e},n._updateDragInfo=function(t,e){var i=n._getColumnReorderProps(),r=t.itemIndex;if(r>=0)n._draggedColumnIndex=r-n._computeColumnIndexOffset(!n._isCheckboxColumnHidden()),n._getDropHintPositions(),i.onColumnDragStart&&i.onColumnDragStart(!0);else if(e&&n._draggedColumnIndex>=0&&(n._resetDropHints(),n._draggedColumnIndex=-1,n._dropHintDetails={},i.onColumnDragEnd)){var o=n._isEventOnHeader(e);i.onColumnDragEnd({dropLocation:o},e)}},n._getDropHintPositions=function(){for(var t,e=n.props.columns,i=void 0===e?ec:e,r=n._getColumnReorderProps(),o=0,a=0,s=r.frozenColumnCountFromStart||0,l=r.frozenColumnCountFromEnd||0,u=s;u<i.length-l+1;u++)if(n._rootElement.current){var h=n._rootElement.current.querySelectorAll("#columnDropHint_"+u)[0];if(h)if(u===s)o=h.offsetLeft,a=h.offsetLeft,t=h;else{var c=(h.offsetLeft+o)/2;n._dropHintDetails[u-1]={originX:o,startX:a,endX:c,dropHintElementRef:t},a=c,t=h,o=h.offsetLeft,u===i.length-l&&(n._dropHintDetails[u]={originX:o,startX:a,endX:h.offsetLeft,dropHintElementRef:t})}}},n._computeDropHintToBeShown=function(t){var e=mo(n.props.theme);if(n._rootElement.current){var i=t-n._rootElement.current.getBoundingClientRect().left,r=n._currentDropHintIndex;if(n._isValidCurrentDropHintIndex()&&nc(e,i,n._dropHintDetails[r].startX,n._dropHintDetails[r].endX))return;var o=n.props.columns,a=void 0===o?ec:o,s=n._getColumnReorderProps(),l=s.frozenColumnCountFromStart||0,u=s.frozenColumnCountFromEnd||0,h=l,c=a.length-u,d=-1;if(rc(e,i,n._dropHintDetails[h].endX)?d=h:oc(e,i,n._dropHintDetails[c].startX)?d=c:n._isValidCurrentDropHintIndex()&&(n._dropHintDetails[r+1]&&nc(e,i,n._dropHintDetails[r+1].startX,n._dropHintDetails[r+1].endX)?d=r+1:n._dropHintDetails[r-1]&&nc(e,i,n._dropHintDetails[r-1].startX,n._dropHintDetails[r-1].endX)&&(d=r-1)),-1===d)for(var f=l,p=c;f<p;){var g=Math.ceil((p+f)/2);if(nc(e,i,n._dropHintDetails[g].startX,n._dropHintDetails[g].endX)){d=g;break}rc(e,i,n._dropHintDetails[g].originX)?p=g:oc(e,i,n._dropHintDetails[g].originX)&&(f=g)}d===n._draggedColumnIndex||d===n._draggedColumnIndex+1?n._isValidCurrentDropHintIndex()&&n._resetDropHints():r!==d&&d>=0&&(n._resetDropHints(),n._updateDropHintElement(n._dropHintDetails[d].dropHintElementRef,"inline-block"),n._currentDropHintIndex=d)}},n._renderColumnSizer=function(e){var i,r=e.columnIndex,o=n.props.columns,a=void 0===o?ec:o,s=a[r],l=n.state.columnResizeDetails,u=n._classNames;return s.isResizable?t.createElement("div",{key:"".concat(s.key,"_sizer"),"aria-hidden":!0,role:"button","data-is-focusable":!1,onClick:ac,"data-sizer-index":r,onBlur:n._onSizerBlur,className:Qs(u.cellSizer,r<a.length-1?u.cellSizerStart:u.cellSizerEnd,(i={},i[u.cellIsResizing]=l&&l.columnIndex===r,i)),onDoubleClick:n._onSizerDoubleClick.bind(n,r)}):null},n._onRenderColumnHeaderTooltip=function(e){return t.createElement("span",{className:e.hostClassName},e.children)},n._onSelectAllClicked=function(){var t=n.props.selection;t&&t.toggleAllSelected()},n._onRootMouseDown=function(t){var e=t.target.getAttribute("data-sizer-index"),i=Number(e),r=n.props.columns,o=void 0===r?ec:r;null!==e&&0===t.button&&(n.setState({columnResizeDetails:{columnIndex:i,columnMinWidth:o[i].calculatedWidth,originX:t.clientX}}),t.preventDefault(),t.stopPropagation())},n._onRootMouseMove=function(t){var e=n.state,i=e.columnResizeDetails,r=e.isSizing;i&&!r&&t.clientX!==i.originX&&n.setState({isSizing:!0})},n._onRootKeyDown=function(t){var e=n.state,i=e.columnResizeDetails,r=e.isSizing,o=n.props,a=o.columns,s=void 0===a?ec:a,l=o.onColumnResized,u=t.target.getAttribute("data-sizer-index");if(u&&!r){var h=Number(u);if(i){var c=void 0;t.which===ho.enter?(n.setState({columnResizeDetails:void 0}),t.preventDefault(),t.stopPropagation()):t.which===ho.left?c=mo(n.props.theme)?1:-1:t.which===ho.right&&(c=mo(n.props.theme)?-1:1),c&&(t.shiftKey||(c*=10),n.setState({columnResizeDetails:yt(yt({},i),{columnMinWidth:i.columnMinWidth+c})}),l&&l(s[h],i.columnMinWidth+c,h),t.preventDefault(),t.stopPropagation())}else t.which===ho.enter&&(n.setState({columnResizeDetails:{columnIndex:h,columnMinWidth:s[h].calculatedWidth}}),t.preventDefault(),t.stopPropagation())}},n._onSizerMouseMove=function(t){var e=t.buttons,i=n.props,r=i.onColumnIsSizingChanged,o=i.onColumnResized,a=i.columns,s=void 0===a?ec:a,l=n.state.columnResizeDetails;if(void 0===e||1===e){if(t.clientX!==l.originX&&r&&r(s[l.columnIndex],!0),o){var u=t.clientX-l.originX;mo(n.props.theme)&&(u=-u),o(s[l.columnIndex],l.columnMinWidth+u,l.columnIndex)}}else n._onSizerMouseUp(t)},n._onSizerBlur=function(t){n.state.columnResizeDetails&&n.setState({columnResizeDetails:void 0,isSizing:!1})},n._onSizerMouseUp=function(t){var e=n.props,i=e.columns,r=void 0===i?ec:i,o=e.onColumnIsSizingChanged,a=n.state.columnResizeDetails;n.setState({columnResizeDetails:void 0,isSizing:!1}),o&&o(r[a.columnIndex],!1)},n._onToggleCollapseAll=function(){var t=n.props.onToggleCollapseAll,e=!n.state.isAllCollapsed;n.setState({isAllCollapsed:e}),t&&t(e)},ol(n),n._events=new hu(n),n.state={columnResizeDetails:void 0,isAllCollapsed:n.props.isAllCollapsed,isAllSelected:!!n.props.selection&&n.props.selection.isAllSelected()},n._onDropIndexInfo={sourceIndex:-1,targetIndex:-1},n._id=gl("header"),n._currentDropHintIndex=-1,n._dragDropHelper=new Xh({selection:{getSelection:function(){}},minimumPixelsForDrag:n.props.minimumPixelsForDrag}),n}return vt(i,e),i.prototype.componentDidMount=function(){var t=this.props.selection;this._events.on(t,eu,this._onSelectionChanged),this._rootElement.current&&(this._events.on(this._rootElement.current,"mousedown",this._onRootMouseDown),this._events.on(this._rootElement.current,"keydown",this._onRootKeyDown),this._getColumnReorderProps()&&(this._subscriptionObject=this._dragDropHelper.subscribe(this._rootElement.current,this._events,this._getHeaderDragDropOptions())))},i.prototype.componentDidUpdate=function(t){if(this._getColumnReorderProps()?!this._subscriptionObject&&this._rootElement.current&&(this._subscriptionObject=this._dragDropHelper.subscribe(this._rootElement.current,this._events,this._getHeaderDragDropOptions())):this._subscriptionObject&&(this._subscriptionObject.dispose(),delete this._subscriptionObject),this.props!==t&&this._onDropIndexInfo.sourceIndex>=0&&this._onDropIndexInfo.targetIndex>=0){var e=t.columns,i=void 0===e?ec:e,n=this.props.columns,r=void 0===n?ec:n;i[this._onDropIndexInfo.sourceIndex].key===r[this._onDropIndexInfo.targetIndex].key&&(this._onDropIndexInfo={sourceIndex:-1,targetIndex:-1})}this.props.isAllCollapsed!==t.isAllCollapsed&&this.setState({isAllCollapsed:this.props.isAllCollapsed})},i.prototype.componentWillUnmount=function(){this._subscriptionObject&&(this._subscriptionObject.dispose(),delete this._subscriptionObject),this._dragDropHelper.dispose(),this._events.dispose()},i.prototype.render=function(){var e=this,i=this.props,n=i.columns,r=void 0===n?ec:n,o=i.ariaLabel,a=i.ariaLabelForToggleAllGroupsButton,s=i.ariaLabelForSelectAllCheckbox,l=i.selectAllVisibility,u=i.ariaLabelForSelectionColumn,h=i.indentWidth,c=i.onColumnClick,d=i.onColumnContextMenu,f=i.onRenderColumnHeaderTooltip,p=void 0===f?this._onRenderColumnHeaderTooltip:f,g=i.styles,m=i.selectionMode,v=i.theme,y=i.onRenderDetailsCheckbox,b=i.groupNestingDepth,x=i.useFastIcons,w=i.checkboxVisibility,k=i.className,_=this.state,S=_.isAllSelected,C=_.columnResizeDetails,M=_.isSizing,P=_.isAllCollapsed,T=l!==Kh.none,D=l===Kh.hidden,N=w===uu.always,I=this._getColumnReorderProps(),E=I&&I.frozenColumnCountFromStart?I.frozenColumnCountFromStart:0,A=I&&I.frozenColumnCountFromEnd?I.frozenColumnCountFromEnd:0;this._classNames=tc(g,{theme:v,isAllSelected:S,isSelectAllHidden:l===Kh.hidden,isResizingColumn:!!C&&M,isSizing:M,isAllCollapsed:P,isCheckboxHidden:D,className:k});var O=this._classNames,L=x?tl:nl,R=b>0,j=R&&this.props.collapseAllVisibility===_h.visible,B=this._computeColumnIndexOffset(T),F=mo(v);return t.createElement(th,{role:"row","aria-label":o,className:O.root,componentRef:this._rootComponent,elementRef:this._rootElement,onMouseMove:this._onRootMouseMove,"data-automationid":"DetailsHeader",direction:mu.horizontal},T?[t.createElement("div",{key:"__checkbox",className:O.cellIsCheck,"aria-labelledby":"".concat(this._id,"-checkTooltip"),onClick:D?void 0:this._onSelectAllClicked,role:"columnheader"},p({hostClassName:O.checkTooltip,id:"".concat(this._id,"-checkTooltip"),setAriaDescribedBy:!1,content:s,children:t.createElement(Yh,{id:"".concat(this._id,"-check"),"aria-label":m===Xl.multiple?s:u,"data-is-focusable":!D||void 0,isHeader:!0,selected:S,anySelected:!1,canSelect:!D,className:O.check,onRenderDetailsCheckbox:y,useFastIcons:x,isVisible:N})},this._onRenderColumnHeaderTooltip)),this.props.onRenderColumnHeaderTooltip?null:s&&!D?t.createElement("label",{key:"__checkboxLabel",id:"".concat(this._id,"-checkTooltip"),className:O.accessibleLabel,"aria-hidden":!0},s):u&&D?t.createElement("label",{key:"__checkboxLabel",id:"".concat(this._id,"-checkTooltip"),className:O.accessibleLabel,"aria-hidden":!0},u):null]:null,j?t.createElement("div",{className:O.cellIsGroupExpander,onClick:this._onToggleCollapseAll,"data-is-focusable":!0,"aria-label":a,"aria-expanded":!P,role:"columnheader"},t.createElement(L,{className:O.collapseButton,iconName:F?"ChevronLeftMed":"ChevronRightMed"}),t.createElement("span",{className:O.accessibleLabel},a)):R?t.createElement("div",{className:O.cellIsGroupExpander,"data-is-focusable":!1,role:"columnheader"}):null,t.createElement(Mh,{indentWidth:h,role:"gridcell",count:b-1}),r.map((function(i,n){var o=!!I&&(n>=E&&n<r.length-A);return[I&&(o||n===r.length-A)&&e._renderDropHint(n),t.createElement($h,{column:i,styles:i.styles,key:i.key,columnIndex:B+n,parentId:e._id,isDraggable:o,updateDragInfo:e._updateDragInfo,dragDropHelper:e._dragDropHelper,onColumnClick:c,onColumnContextMenu:d,onRenderColumnHeaderTooltip:e.props.onRenderColumnHeaderTooltip,isDropped:e._onDropIndexInfo.targetIndex===n,cellStyleProps:e.props.cellStyleProps,useFastIcons:x}),e._renderColumnDivider(n)]})),I&&0===A&&this._renderDropHint(r.length),M&&t.createElement(Ch,null,t.createElement("div",{className:O.sizingOverlay,onMouseMove:this._onSizerMouseMove,onMouseUp:this._onSizerMouseUp})))},i.prototype.focus=function(){var t;return!!(null===(t=this._rootComponent.current)||void 0===t?void 0:t.focus())},i.prototype._getColumnReorderProps=function(){var t=this.props,e=t.columnReorderOptions;return t.columnReorderProps||e&&yt(yt({},e),{onColumnDragEnd:void 0})},i.prototype._getHeaderDragDropOptions=function(){return{selectionIndex:1,context:{data:this,index:0},canDrag:function(){return!1},canDrop:function(){return!0},onDragStart:function(){},updateDropState:this._updateDroppingState,onDrop:this._onDrop,onDragEnd:function(){},onDragOver:this._onDragOver}},i.prototype._isValidCurrentDropHintIndex=function(){return this._currentDropHintIndex>=0},i.prototype._isCheckboxColumnHidden=function(){var t=this.props,e=t.selectionMode,i=t.checkboxVisibility;return e===Xl.none||i===uu.hidden},i.prototype._resetDropHints=function(){this._currentDropHintIndex>=0&&(this._updateDropHintElement(this._dropHintDetails[this._currentDropHintIndex].dropHintElementRef,"none"),this._currentDropHintIndex=-1)},i.prototype._updateDropHintElement=function(t,e){t.childNodes[1].style.display=e,t.childNodes[0].style.display=e},i.prototype._isEventOnHeader=function(t){if(this._rootElement.current){var e=this._rootElement.current.getBoundingClientRect();if(t.clientX>e.left&&t.clientX<e.right&&t.clientY>e.top&&t.clientY<e.bottom)return su.header}},i.prototype._renderColumnDivider=function(t){var e=this.props.columns,i=(void 0===e?ec:e)[t],n=i.onRenderDivider;return n?n({column:i,columnIndex:t},this._renderColumnSizer):this._renderColumnSizer({column:i,columnIndex:t})},i.prototype._renderDropHint=function(e){var i=this._classNames,n=this.props.useFastIcons?tl:nl;return t.createElement("div",{key:"dropHintKey",className:i.dropHintStyle,id:"columnDropHint_".concat(e)},t.createElement("div",{role:"presentation",key:"dropHintCircleKey",className:i.dropHintCaretStyle,"data-is-focusable":!1,"data-sizer-index":e,"aria-hidden":!0},t.createElement(n,{iconName:"CircleShapeSolid"})),t.createElement("div",{key:"dropHintLineKey","aria-hidden":!0,"data-is-focusable":!1,"data-sizer-index":e,className:i.dropHintLineStyle}))},i.prototype._onSizerDoubleClick=function(t,e){var i=this.props,n=i.onColumnAutoResized,r=i.columns;n&&n((void 0===r?ec:r)[t],t)},i.prototype._onSelectionChanged=function(){var t=!!this.props.selection&&this.props.selection.isAllSelected();this.state.isAllSelected!==t&&this.setState({isAllSelected:t})},i.defaultProps={selectAllVisibility:Kh.visible,collapseAllVisibility:_h.visible,useFastIcons:!0},i}(t.Component);function nc(t,e,i,n){return t?e<=i&&e>=n:e>=i&&e<=n}function rc(t,e,i){return t?e>=i:e<=i}function oc(t,e,i){return t?e<=i:e>=i}function ac(t){t.stopPropagation()}var sc=Qn(ic,(function(t){var e,i,n,r,o=t.theme,a=t.className,s=t.isAllSelected,l=t.isResizingColumn,u=t.isSizing,h=t.isAllCollapsed,c=t.cellStyleProps,d=void 0===c?Rh:c,f=o.semanticColors,p=o.palette,g=o.fonts,m=Ja(Fh,o),v={iconForegroundColor:f.bodySubtext,headerForegroundColor:f.bodyText,headerBackgroundColor:f.bodyBackground,resizerColor:p.neutralTertiaryAlt},y={opacity:1,transition:"opacity 0.3s linear"},b=zh(t);return{root:[m.root,g.small,{display:"inline-block",background:v.headerBackgroundColor,position:"relative",minWidth:"100%",verticalAlign:"top",height:42,lineHeight:42,whiteSpace:"nowrap",boxSizing:"content-box",paddingBottom:"1px",paddingTop:"16px",borderBottom:"1px solid ".concat(f.bodyDivider),cursor:"default",userSelect:"none",selectors:(e={},e["&:hover .".concat(m.check)]={opacity:1},e["& .".concat(m.tooltipHost," .").concat(m.checkTooltip)]={display:"block"},e)},s&&m.isAllSelected,l&&m.isResizingColumn,a],check:[m.check,{height:42},{selectors:(i={},i[".".concat(Ea," &:focus")]={opacity:1},i)}],cellWrapperPadded:{paddingRight:d.cellExtraRightPadding+d.cellRightPadding},cellIsCheck:[b,m.cellIsCheck,{position:"relative",padding:0,margin:0,display:"inline-flex",alignItems:"center",border:"none"},s&&{opacity:1}],cellIsGroupExpander:[b,{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:g.small.fontSize,padding:0,border:"none",width:36,color:p.neutralSecondary,selectors:{":hover":{backgroundColor:p.neutralLighter},":active":{backgroundColor:p.neutralLight}}}],cellIsActionable:{selectors:{":hover":{color:f.bodyText,background:f.listHeaderBackgroundHovered},":active":{background:f.listHeaderBackgroundPressed}}},cellIsEmpty:{textOverflow:"clip"},cellSizer:[m.cellSizer,{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}},{display:"inline-block",position:"relative",cursor:"ew-resize",bottom:0,top:0,overflow:"hidden",height:"inherit",background:"transparent",zIndex:1,width:16,selectors:(n={":after":{content:'""',position:"absolute",top:0,bottom:0,width:1,background:v.resizerColor,opacity:0,left:"50%"},":focus:after":y,":hover:after":y},n["&.".concat(m.isResizing,":after")]=[y,{boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.4)"}],n)}],cellIsResizing:m.isResizing,cellSizerStart:{margin:"0 -8px"},cellSizerEnd:{margin:0,marginLeft:-16},collapseButton:[m.collapseButton,{transformOrigin:"50% 50%",transition:"transform .1s linear"},h?[m.isCollapsed,{transform:"rotate(0deg)"}]:{transform:mo(o)?"rotate(-90deg)":"rotate(90deg)"}],checkTooltip:m.checkTooltip,sizingOverlay:u&&{position:"absolute",left:0,top:0,right:0,bottom:0,cursor:"ew-resize",background:"rgba(255, 255, 255, 0)",selectors:(r={},r[Da]=yt({background:"transparent"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),r)},accessibleLabel:Fa,dropHintCircleStyle:[m.dropHintCircleStyle,{display:"inline-block",visibility:"hidden",position:"absolute",bottom:0,height:9,width:9,borderRadius:"50%",marginLeft:-5,top:34,overflow:"visible",zIndex:10,border:"1px solid ".concat(p.themePrimary),background:p.white}],dropHintCaretStyle:[m.dropHintCaretStyle,{display:"none",position:"absolute",top:-28,left:-6.5,fontSize:g.medium.fontSize,color:p.themePrimary,overflow:"visible",zIndex:10}],dropHintLineStyle:[m.dropHintLineStyle,{display:"none",position:"absolute",bottom:0,top:0,overflow:"hidden",height:42,width:1,background:p.themePrimary,zIndex:10}],dropHintStyle:{display:"inline-block",position:"absolute"}}}),void 0,{scope:"DetailsHeader"});var lc=Ya((function(e){var i=e;return Ya((function(n){if(e===n)throw new Error("Attempted to compose a component with itself.");var r=n,o=Ya((function(e){return function(i){return t.createElement(r,yt({},i,{defaultRender:e}))}}));return function(e){var n=e.defaultRender;return t.createElement(i,yt({},e,{defaultRender:n?o(n):r}))}}))}));function uc(t,e){return lc(t)(e)}var hc=function(e){var i=e.columns,n=e.rowClassNames,r=e.cellStyleProps,o=void 0===r?Rh:r,a=e.item,s=e.itemIndex,l=e.isSelected,u=e.onRenderItemColumn,h=e.getCellValueKey,c=e.onRenderField,d=e.cellsByColumn,f=e.enableUpdateAnimations,p=e.rowHeaderId,g=t.useRef(),m=g.current||(g.current={}),v=t.useCallback((function(e){var i=e.column,r=e.cellValueKey,a=e.className,s=e.onRender,l=e.item,u=e.itemIndex,h="undefined"===typeof i.calculatedWidth?"auto":i.calculatedWidth+o.cellLeftPadding+o.cellRightPadding+(i.isPadded?o.cellExtraRightPadding:0),c="".concat(i.key).concat(void 0!==r?"-".concat(r):"");return t.createElement("div",{key:c,id:i.isRowHeader?p:void 0,role:i.isRowHeader?"rowheader":"gridcell",className:Qs(i.className,i.isMultiline&&n.isMultiline,i.isRowHeader&&n.isRowHeader,n.cell,i.isPadded?n.cellPadded:n.cellUnpadded,a),style:{width:h},"data-automationid":"DetailsRowCell","data-automation-key":i.key},s(l,u,i))}),[n,o,p]);return t.createElement("div",{className:n.fields,"data-automationid":"DetailsRowFields",role:"presentation"},i.map((function(t){var e=t.getValueKey,i=void 0===e?h:e,r=d&&t.key in d&&function(){return d[t.key]}||t.onRender||u||cc,o=v;t.onRenderField&&(o=Th(t.onRenderField,o)),c&&(o=Th(c,o));var p=m[t.key],g=f&&i?i(a,s,t):void 0,y=!1;return void 0!==g&&void 0!==p&&g!==p&&(y=!0),m[t.key]=g,o({item:a,itemIndex:s,isSelected:l,column:t,cellValueKey:g,className:y?n.cellAnimation:void 0,onRender:r})})))};function cc(t,e,i){return t&&i?function(t,e){var i=t&&e&&e.fieldName?t[e.fieldName]:"";return null!==i&&void 0!==i||(i=""),"boolean"===typeof i?i.toString():i}(t,i):null}var dc=wo(),fc=[],pc=function(e){function i(i){var n=e.call(this,i)||this;return n._root=t.createRef(),n._cellMeasurer=t.createRef(),n._focusZone=t.createRef(),n._onSelectionChanged=function(){var t=gc(n.props);iu(t,n.state.selectionState)||n.setState({selectionState:t})},n._updateDroppingState=function(t,e){var i=n.state.isDropping,r=n.props,o=r.dragDropEvents,a=r.item;t?o.onDragEnter&&(n._droppingClassNames=o.onDragEnter(a,e)):o.onDragLeave&&o.onDragLeave(a,e),i!==t&&n.setState({isDropping:t})},ol(n),n._events=new hu(n),n.state={selectionState:gc(i),columnMeasureInfo:void 0,isDropping:!1},n._droppingClassNames="",n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){return yt(yt({},e),{selectionState:gc(t)})},i.prototype.componentDidMount=function(){var t=this.props,e=t.dragDropHelper,i=t.selection,n=t.item,r=t.onDidMount;e&&this._root.current&&(this._dragDropSubscription=e.subscribe(this._root.current,this._events,this._getRowDragDropOptions())),i&&this._events.on(i,eu,this._onSelectionChanged),r&&n&&(this._onDidMountCalled=!0,r(this))},i.prototype.componentDidUpdate=function(t){var e=this.state,i=this.props,n=i.item,r=i.onDidMount,o=e.columnMeasureInfo;if(this.props.itemIndex===t.itemIndex&&this.props.item===t.item&&this.props.dragDropHelper===t.dragDropHelper||(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this._root.current&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getRowDragDropOptions()))),o&&o.index>=0&&this._cellMeasurer.current){var a=this._cellMeasurer.current.getBoundingClientRect().width;o.onMeasureDone(a),this.setState({columnMeasureInfo:void 0})}n&&r&&!this._onDidMountCalled&&(this._onDidMountCalled=!0,r(this))},i.prototype.componentWillUnmount=function(){var t=this.props,e=t.item,i=t.onWillUnmount;i&&e&&i(this),this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this._events.dispose()},i.prototype.shouldComponentUpdate=function(t,e){if(this.props.useReducedRowRenderer){var i=gc(t);return this.state.selectionState.isSelected!==i.isSelected||!iu(this.props,t)}return!0},i.prototype.render=function(){var e,i=this.props,n=i.className,r=i.columns,o=void 0===r?fc:r,a=i.dragDropEvents,s=i.item,l=i.itemIndex,u=i.id,h=i.flatIndexOffset,c=void 0===h?2:h,d=i.onRenderCheck,f=void 0===d?this._onRenderCheck:d,p=i.onRenderDetailsCheckbox,g=i.onRenderItemColumn,m=i.onRenderField,v=i.getCellValueKey,y=i.selectionMode,b=i.checkboxVisibility,x=i.getRowAriaLabel,w=i.getRowAriaDescription,k=i.getRowAriaDescribedBy,_=i.isGridRow,S=i.checkButtonAriaLabel,C=i.checkboxCellClassName,M=i.rowFieldsAs,P=i.selection,T=i.indentWidth,D=i.enableUpdateAnimations,N=i.compact,I=i.theme,E=i.styles,A=i.cellsByColumn,O=i.groupNestingDepth,L=i.useFastIcons,R=void 0===L||L,j=i.cellStyleProps,B=i.group,F=i.focusZoneProps,z=i.disabled,H=void 0!==z&&z,V=this.state,W=V.columnMeasureInfo,U=V.isDropping,G=this.state.selectionState,K=G.isSelected,Y=void 0!==K&&K,X=G.isSelectionModal,q=void 0!==X&&X,Z=a?!(!a.canDrag||!a.canDrag(s)):void 0,J=U?this._droppingClassNames||"is-dropping":"",Q=x?x(s):void 0,$=w?w(s):void 0,tt=k?k(s):void 0,et=!!P&&P.canSelectItem(s,l)&&!H,it=y===Xl.multiple,nt=y!==Xl.none&&b!==uu.hidden,rt=y===Xl.none?void 0:Y,ot=B?l-B.startIndex+1:void 0,at=B?B.count:void 0,st=F?F.direction:mu.horizontal;this._classNames=yt(yt({},this._classNames),dc(E,{theme:I,isSelected:Y,canSelect:!it,anySelected:q,checkboxCellClassName:C,droppingClassName:J,className:n,compact:N,enableUpdateAnimations:D,cellStyleProps:j,disabled:H}));var lt={isMultiline:this._classNames.isMultiline,isRowHeader:this._classNames.isRowHeader,cell:this._classNames.cell,cellAnimation:this._classNames.cellAnimation,cellPadded:this._classNames.cellPadded,cellUnpadded:this._classNames.cellUnpadded,fields:this._classNames.fields};iu(this._rowClassNames||{},lt)||(this._rowClassNames=lt);var ut=M?uc(M,hc):hc,ht=t.createElement(ut,{rowClassNames:this._rowClassNames,rowHeaderId:"".concat(u,"-header"),cellsByColumn:A,columns:o,item:s,itemIndex:l,isSelected:Y,columnStartIndex:(nt?1:0)+(O?1:0),onRenderItemColumn:g,onRenderField:m,getCellValueKey:v,enableUpdateAnimations:D,cellStyleProps:j}),ct=this.props.role?this.props.role:"row";this._ariaRowDescriptionId=gl("DetailsRow-description");var dt=o.some((function(t){return!!t.isRowHeader})),ft="".concat(u,"-checkbox")+(dt?" ".concat(u,"-header"):""),pt=_?{}:{"aria-level":O&&O+1||void 0,"aria-posinset":ot,"aria-setsize":at};return t.createElement(th,yt({"data-is-focusable":!0},Sr(this.props,_r),"boolean"===typeof Z?{"data-is-draggable":Z,draggable:Z}:{},F,pt,{direction:st,elementRef:this._root,componentRef:this._focusZone,role:ct,"aria-label":Q,"aria-disabled":H||void 0,"aria-describedby":$?this._ariaRowDescriptionId:tt,className:this._classNames.root,"data-selection-index":l,"data-selection-touch-invoke":!0,"data-selection-disabled":null!==(e=this.props["data-selection-disabled"])&&void 0!==e?e:H||void 0,"data-item-index":l,"aria-rowindex":void 0===ot?l+c:void 0,"data-automationid":"DetailsRow","aria-selected":rt,allowFocusRoot:!0}),$?t.createElement("span",{key:"description",role:"presentation",hidden:!0,id:this._ariaRowDescriptionId},$):null,nt&&t.createElement("div",{role:"gridcell","data-selection-toggle":!0,className:this._classNames.checkCell},f({id:u?"".concat(u,"-checkbox"):void 0,selected:Y,selectionMode:y,anySelected:q,"aria-label":S,"aria-labelledby":u?ft:void 0,canSelect:et,compact:N,className:this._classNames.check,theme:I,isVisible:b===uu.always,onRenderDetailsCheckbox:p,useFastIcons:R})),t.createElement(Mh,{indentWidth:T,role:"gridcell",count:0===O?-1:O}),s&&ht,W&&t.createElement("span",{role:"presentation",className:Qs(this._classNames.cellMeasurer,this._classNames.cell),ref:this._cellMeasurer},t.createElement(ut,{rowClassNames:this._rowClassNames,rowHeaderId:"".concat(u,"-header"),columns:[W.column],item:s,itemIndex:l,columnStartIndex:(nt?1:0)+(O?1:0)+o.length,onRenderItemColumn:g,getCellValueKey:v})))},i.prototype.measureCell=function(t,e){var i=this.props.columns,n=yt({},(void 0===i?fc:i)[t]);n.minWidth=0,n.maxWidth=999999,delete n.calculatedWidth,this.setState({columnMeasureInfo:{index:t,column:n,onMeasureDone:e}})},i.prototype.focus=function(t){var e;return void 0===t&&(t=!1),!!(null===(e=this._focusZone.current)||void 0===e?void 0:e.focus(t))},i.prototype._onRenderCheck=function(e){return t.createElement(Yh,yt({},e))},i.prototype._getRowDragDropOptions=function(){var t=this.props,e=t.item,i=t.itemIndex,n=t.dragDropEvents;return{eventMap:t.eventsToRegister,selectionIndex:i,context:{data:e,index:i},canDrag:n.canDrag,canDrop:n.canDrop,onDragStart:n.onDragStart,updateDropState:this._updateDroppingState,onDrop:n.onDrop,onDragEnd:n.onDragEnd,onDragOver:n.onDragOver}},i}(t.Component);function gc(t){var e,i=t.itemIndex,n=t.selection;return{isSelected:!!(null===n||void 0===n?void 0:n.isIndexSelected(i)),isSelectionModal:!!(null===(e=null===n||void 0===n?void 0:n.isModal)||void 0===e?void 0:e.call(n))}}var mc,vc,yc=Qn(pc,(function(t){var e,i,n,r,o,a,s,l,u,h,c,d,f,p,g=t.theme,m=t.isSelected,v=t.canSelect,y=t.droppingClassName,b=t.isCheckVisible,x=t.checkboxCellClassName,w=t.compact,k=t.className,_=t.cellStyleProps,S=void 0===_?Rh:_,C=t.enableUpdateAnimations,M=t.disabled,P=g.palette,T=g.fonts,D=P.neutralPrimary,N=P.white,I=P.neutralSecondary,E=P.neutralLighter,A=P.neutralLight,O=P.neutralDark,L=P.neutralQuaternaryAlt,R=g.semanticColors,j=R.focusBorder,B=R.linkHovered,F=Ja(Lh,g),z={defaultHeaderText:D,defaultMetaText:I,defaultBackground:N,defaultHoverHeaderText:O,defaultHoverMetaText:D,defaultHoverBackground:E,selectedHeaderText:O,selectedMetaText:D,selectedBackground:A,selectedHoverHeaderText:O,selectedHoverMetaText:D,selectedHoverBackground:L,focusHeaderText:O,focusMetaText:D,focusBackground:A,focusHoverBackground:L},H=[Ra(g,{inset:-1,borderColor:j,outlineColor:N,highContrastStyle:{top:2,right:2,bottom:2,left:2}}),F.isSelected,{color:z.selectedMetaText,background:z.selectedBackground,borderBottom:"1px solid ".concat(N),selectors:(e={"&:before":{position:"absolute",display:"block",top:-1,height:1,bottom:0,left:0,right:0,content:"",borderTop:"1px solid ".concat(N)}},e[".".concat(F.cell," > .").concat(Oh.root)]={color:B,selectors:(i={},i[Da]={color:"HighlightText"},i)},e["&:hover"]={background:z.selectedHoverBackground,color:z.selectedHoverMetaText,selectors:(n={},n[Da]={background:"Highlight",selectors:(r={},r[".".concat(F.cell)]={color:"HighlightText"},r[".".concat(F.cell," > .").concat(Oh.root)]={forcedColorAdjust:"none",color:"HighlightText"},r)},n[".".concat(F.isRowHeader)]={color:z.selectedHoverHeaderText,selectors:(o={},o[Da]={color:"HighlightText"},o)},n)},e["&:focus"]={background:z.focusBackground,selectors:(a={},a[".".concat(F.cell)]={color:z.focusMetaText,selectors:(s={},s[Da]={color:"HighlightText",selectors:{"> a":{color:"HighlightText"}}},s)},a[".".concat(F.isRowHeader)]={color:z.focusHeaderText,selectors:(l={},l[Da]={color:"HighlightText"},l)},a[Da]={background:"Highlight"},a)},e[Da]=yt(yt({background:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{selectors:{a:{color:"HighlightText"}}}),e["&:focus:hover"]={background:z.focusHoverBackground},e)}],V=[F.isContentUnselectable,{userSelect:"none",cursor:"default"}],W={minHeight:Bh.compactRowHeight,border:0},U={minHeight:Bh.compactRowHeight,paddingTop:Bh.compactRowVerticalPadding,paddingBottom:Bh.compactRowVerticalPadding,paddingLeft:"".concat(S.cellLeftPadding,"px")},G=[Ra(g,{inset:-1}),F.cell,{display:"inline-block",position:"relative",boxSizing:"border-box",minHeight:Bh.rowHeight,verticalAlign:"top",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingTop:Bh.rowVerticalPadding,paddingBottom:Bh.rowVerticalPadding,paddingLeft:"".concat(S.cellLeftPadding,"px"),selectors:(u={"& > button":{maxWidth:"100%"}},u["[data-is-focusable='true']"]=Ra(g,{inset:-1,borderColor:I,outlineColor:N}),u)},m&&{selectors:(h={},h[Da]=yt({background:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),h)},w&&U,M&&{opacity:.5}];return{root:[F.root,Ta.fadeIn400,y,g.fonts.small,b&&F.isCheckVisible,Ra(g,{borderColor:j,outlineColor:N}),{borderBottom:"1px solid ".concat(E),background:z.defaultBackground,color:z.defaultMetaText,display:"inline-flex",minWidth:"100%",minHeight:Bh.rowHeight,whiteSpace:"nowrap",padding:0,boxSizing:"border-box",verticalAlign:"top",textAlign:"left",selectors:(c={},c[".".concat(F.listCellFirstChild," &:before")]={display:"none"},c["&:hover"]={background:z.defaultHoverBackground,color:z.defaultHoverMetaText,selectors:(d={},d[".".concat(F.isRowHeader)]={color:z.defaultHoverHeaderText},d[".".concat(F.cell," > .").concat(Oh.root)]={color:B},d)},c["&:hover .".concat(F.check)]={opacity:1},c[".".concat(Ea," &:focus .").concat(F.check)]={opacity:1},c[".ms-GroupSpacer"]={flexShrink:0,flexGrow:0},c)},m&&H,!v&&V,w&&W,k],cellUnpadded:{paddingRight:"".concat(S.cellRightPadding,"px")},cellPadded:{paddingRight:"".concat(S.cellExtraRightPadding+S.cellRightPadding,"px"),selectors:(f={},f["&.".concat(F.cellCheck)]={paddingRight:0},f)},cell:G,cellAnimation:C&&va.slideLeftIn40,cellMeasurer:[F.cellMeasurer,{overflow:"visible",whiteSpace:"nowrap"}],checkCell:[G,F.cellCheck,x,{padding:0,paddingTop:1,marginTop:-1,flexShrink:0}],fields:[F.fields,{display:"flex",alignItems:"stretch"}],isRowHeader:[F.isRowHeader,{color:z.defaultHeaderText,fontSize:T.medium.fontSize},m&&{color:z.selectedHeaderText,fontWeight:Ma.semibold,selectors:(p={},p[Da]={color:"HighlightText"},p)}],isMultiline:[G,{whiteSpace:"normal",wordBreak:"break-word",textOverflow:"clip"}],check:[F.check]}}),void 0,{scope:"DetailsRow"}),bc="data-selection-index",xc="data-selection-toggle",wc="data-selection-invoke",kc="data-selection-all-toggle",_c=function(e){function i(i){var n=e.call(this,i)||this;n._root=t.createRef(),n.ignoreNextFocus=function(){n._handleNextFocus(!1)},n._onSelectionChange=function(){var t=n.props.selection,e=t.isModal&&t.isModal();n.setState({isModal:e})},n._onMouseDownCapture=function(t){var e=t.target;if(document.activeElement===e||gu(document.activeElement,e)){if(gu(e,n._root.current))for(;e!==n._root.current;){if(n._hasAttribute(e,wc)){n.ignoreNextFocus();break}e=pu(e)}}else n.ignoreNextFocus()},n._onFocus=function(t){var e=t.target,i=n.props.selection,r=n._isCtrlPressed||n._isMetaPressed,o=n._getSelectionMode();if(n._shouldHandleFocus&&o!==Xl.none){var a=n._hasAttribute(e,xc),s=n._findItemRoot(e);if(!a&&s){var l=n._getItemIndex(s);void 0===n._getItemSpan(s)&&(r?(i.setIndexSelected(l,i.isIndexSelected(l),!0),n.props.enterModalOnTouch&&n._isTouch&&i.setModal&&(i.setModal(!0),n._setIsTouch(!1))):n.props.isSelectedOnFocus&&n._onItemSurfaceClick("focus",l))}}n._handleNextFocus(!1)},n._onMouseDown=function(t){n._updateModifiers(t);var e=n.props.toggleWithoutModifierPressed,i=t.target,r=n._findItemRoot(i);if(!n._isSelectionDisabled(i))for(;i!==n._root.current&&!n._hasAttribute(i,kc);){if(r){if(n._hasAttribute(i,xc))break;if(n._hasAttribute(i,wc))break;if(!(i!==r&&!n._shouldAutoSelect(i)||n._isShiftPressed||n._isCtrlPressed||n._isMetaPressed||e)){n._onInvokeMouseDown(t,n._getItemIndex(r),n._getItemSpan(r));break}if(n.props.disableAutoSelectOnInputElements&&("A"===i.tagName||"BUTTON"===i.tagName||"INPUT"===i.tagName))return}i=pu(i)}},n._onTouchStartCapture=function(t){n._setIsTouch(!0)},n._onClick=function(t){var e=n.props.enableTouchInvocationTarget,i=void 0!==e&&e;n._updateModifiers(t);for(var r=t.target,o=n._findItemRoot(r),a=n._isSelectionDisabled(r);r!==n._root.current;){if(n._hasAttribute(r,kc)){a||n._onToggleAllClick(t);break}if(o){var s=n._getItemIndex(o),l=n._getItemSpan(o);if(n._hasAttribute(r,xc)){a||(n._isShiftPressed?n._onItemSurfaceClick("click",s,l):n._onToggleClick(t,s,l));break}if(n._isTouch&&i&&n._hasAttribute(r,"data-selection-touch-invoke")||n._hasAttribute(r,wc)){void 0===l&&n._onInvokeClick(t,s);break}if(r===o){a||n._onItemSurfaceClick("click",s,l);break}if("A"===r.tagName||"BUTTON"===r.tagName||"INPUT"===r.tagName)return}r=pu(r)}},n._onContextMenu=function(t){var e=t.target,i=n.props,r=i.onItemContextMenu,o=i.selection;if(r){var a=n._findItemRoot(e);if(a){var s=n._getItemIndex(a);n._onInvokeMouseDown(t,s),r(o.getItems()[s],s,t.nativeEvent)||t.preventDefault()}}},n._onDoubleClick=function(t){var e=t.target,i=n.props.onItemInvoked,r=n._findItemRoot(e);if(r&&i&&!n._isInputElement(e)){for(var o=n._getItemIndex(r);e!==n._root.current&&!n._hasAttribute(e,xc)&&!n._hasAttribute(e,wc);){if(e===r){n._onInvokeClick(t,o);break}e=pu(e)}e=pu(e)}},n._onKeyDownCapture=function(t){n._updateModifiers(t),n._handleNextFocus(!0)},n._onKeyDown=function(t){n._updateModifiers(t);var e=t.target,i=n._isSelectionDisabled(e),r=n.props,o=r.selection,a=r.selectionClearedOnEscapePress,s=t.which===ho.a&&(n._isCtrlPressed||n._isMetaPressed),l=t.which===ho.escape;if(!n._isInputElement(e)){var u=n._getSelectionMode();if(s&&u===Xl.multiple&&!o.isAllSelected())return i||o.setAllSelected(!0),t.stopPropagation(),void t.preventDefault();if(a&&l&&o.getSelectedCount()>0)return i||o.setAllSelected(!1),t.stopPropagation(),void t.preventDefault();var h=n._findItemRoot(e);if(h)for(var c=n._getItemIndex(h),d=n._getItemSpan(h);e!==n._root.current&&!n._hasAttribute(e,xc);){if(n._shouldAutoSelect(e)){i||void 0!==d||n._onInvokeMouseDown(t,c,d);break}if(!(t.which!==ho.enter&&t.which!==ho.space||"BUTTON"!==e.tagName&&"A"!==e.tagName&&"INPUT"!==e.tagName&&"SUMMARY"!==e.tagName))return!1;if(e===h){if(t.which===ho.enter)return void(void 0===d&&(n._onInvokeClick(t,c),t.preventDefault()));if(t.which===ho.space)return i||n._onToggleClick(t,c,d),void t.preventDefault();break}e=pu(e)}}},n._events=new hu(n),n._async=new hl(n),ol(n);var r=n.props.selection,o=r.isModal&&r.isModal();return n.state={isModal:o},n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){var i=t.selection.isModal&&t.selection.isModal();return yt(yt({},e),{isModal:i})},i.prototype.componentDidMount=function(){var t=Bn(this._root.current);this._events.on(t,"keydown, keyup",this._updateModifiers,!0),this._events.on(document,"click",this._findScrollParentAndTryClearOnEmptyClick),this._events.on(document.body,"touchstart",this._onTouchStartCapture,!0),this._events.on(document.body,"touchend",this._onTouchStartCapture,!0),this._events.on(this.props.selection,"change",this._onSelectionChange)},i.prototype.render=function(){var e=this.state.isModal;return t.createElement("div",{className:Qs("ms-SelectionZone",this.props.className,{"ms-SelectionZone--modal":!!e}),ref:this._root,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onKeyDownCapture:this._onKeyDownCapture,onClick:this._onClick,role:"presentation",onDoubleClick:this._onDoubleClick,onContextMenu:this._onContextMenu,onMouseDownCapture:this._onMouseDownCapture,onFocusCapture:this._onFocus,"data-selection-is-modal":!!e||void 0},this.props.children,t.createElement(zl,null))},i.prototype.componentDidUpdate=function(t){var e=this.props.selection;e!==t.selection&&(this._events.off(t.selection),this._events.on(e,"change",this._onSelectionChange))},i.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose()},i.prototype._isSelectionDisabled=function(t){if(this._getSelectionMode()===Xl.none)return!0;for(;t!==this._root.current;){if(this._hasAttribute(t,"data-selection-disabled"))return!0;t=pu(t)}return!1},i.prototype._onToggleAllClick=function(t){var e=this.props.selection;this._getSelectionMode()===Xl.multiple&&(e.toggleAllSelected(),t.stopPropagation(),t.preventDefault())},i.prototype._onToggleClick=function(t,e,i){var n=this.props.selection,r=this._getSelectionMode();if(n.setChangeEvents(!1),this.props.enterModalOnTouch&&this._isTouch&&(void 0!==i?!n.isRangeSelected(e,i):!n.isIndexSelected(e))&&n.setModal&&(n.setModal(!0),this._setIsTouch(!1)),r===Xl.multiple)void 0!==i?n.toggleRangeSelected(e,i):n.toggleIndexSelected(e);else{if(r!==Xl.single)return void n.setChangeEvents(!0);if(void 0===i||1===i){var o=n.isIndexSelected(e),a=n.isModal&&n.isModal();n.setAllSelected(!1),n.setIndexSelected(e,!o,!0),a&&n.setModal&&n.setModal(!0)}}n.setChangeEvents(!0),t.stopPropagation()},i.prototype._onInvokeClick=function(t,e){var i=this.props,n=i.selection,r=i.onItemInvoked;r&&(r(n.getItems()[e],e,t.nativeEvent),t.preventDefault(),t.stopPropagation())},i.prototype._onItemSurfaceClick=function(t,e,i){var n,r=this.props,o=r.selection,a=r.toggleWithoutModifierPressed,s=this._isCtrlPressed||this._isMetaPressed,l=this._getSelectionMode();l===Xl.multiple?this._isShiftPressed&&!this._isTabPressed?void 0!==i?null===(n=o.selectToRange)||void 0===n||n.call(o,e,i,!s):o.selectToIndex(e,!s):"click"===t&&(s||a)?void 0!==i?o.toggleRangeSelected(e,i):o.toggleIndexSelected(e):this._clearAndSelectIndex(e,i):l===Xl.single&&this._clearAndSelectIndex(e,i)},i.prototype._onInvokeMouseDown=function(t,e,i){var n=this.props.selection;if(void 0!==i){if(n.isRangeSelected(e,i))return}else if(n.isIndexSelected(e))return;this._clearAndSelectIndex(e,i)},i.prototype._findScrollParentAndTryClearOnEmptyClick=function(t){var e=Bu(this._root.current);this._events.off(document,"click",this._findScrollParentAndTryClearOnEmptyClick),this._events.on(e,"click",this._tryClearOnEmptyClick),(e&&t.target instanceof Node&&e.contains(t.target)||e===t.target)&&this._tryClearOnEmptyClick(t)},i.prototype._tryClearOnEmptyClick=function(t){!this.props.selectionPreservedOnEmptyClick&&this._isNonHandledClick(t.target)&&this.props.selection.setAllSelected(!1)},i.prototype._clearAndSelectIndex=function(t,e){var i,n=this.props,r=n.selection,o=n.selectionClearedOnSurfaceClick,a=void 0===o||o;if(!((void 0===e||1===e)&&1===r.getSelectedCount()&&r.isIndexSelected(t))&&a){var s=r.isModal&&r.isModal();r.setChangeEvents(!1),r.setAllSelected(!1),void 0!==e?null===(i=r.setRangeSelected)||void 0===i||i.call(r,t,e,!0,!0):r.setIndexSelected(t,!0,!0),(s||this.props.enterModalOnTouch&&this._isTouch)&&(r.setModal&&r.setModal(!0),this._isTouch&&this._setIsTouch(!1)),r.setChangeEvents(!0)}},i.prototype._updateModifiers=function(t){this._isShiftPressed=t.shiftKey,this._isCtrlPressed=t.ctrlKey,this._isMetaPressed=t.metaKey;var e=t.keyCode;this._isTabPressed=!!e&&e===ho.tab},i.prototype._findItemRoot=function(t){for(var e=this.props.selection;t!==this._root.current;){var i=t.getAttribute(bc),n=Number(i);if(null!==i&&n>=0&&n<e.getItems().length)break;t=pu(t)}if(t!==this._root.current)return t},i.prototype._getItemIndex=function(t){var e,i=parseInt(null!==(e=t.getAttribute(bc))&&void 0!==e?e:"",10);return isNaN(i)?-1:i},i.prototype._getItemSpan=function(t){var e,i=parseInt(null!==(e=t.getAttribute("data-selection-span"))&&void 0!==e?e:"",10);return isNaN(i)?void 0:i},i.prototype._shouldAutoSelect=function(t){return this._hasAttribute(t,"data-selection-select")},i.prototype._hasAttribute=function(t,e){for(var i=!1;!i&&t!==this._root.current;){var n=t.getAttribute(e);if("false"===n){i=!1;break}i="true"===n,t=pu(t)}return i},i.prototype._isInputElement=function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"true"===t.getAttribute("contenteditable")||""===t.getAttribute("contenteditable")},i.prototype._isNonHandledClick=function(t){var e=co();if(e&&t)for(;t&&t!==e.documentElement;){if(Nu(t)||t.hasAttribute("data-selection-index"))return!1;t=pu(t)}return!0},i.prototype._handleNextFocus=function(t){var e=this;this._shouldHandleFocusTimeoutId&&(this._async.clearTimeout(this._shouldHandleFocusTimeoutId),this._shouldHandleFocusTimeoutId=void 0),this._shouldHandleFocus=t,t&&this._async.setTimeout((function(){e._shouldHandleFocus=!1}),100)},i.prototype._setIsTouch=function(t){var e=this;this._isTouchTimeoutId&&(this._async.clearTimeout(this._isTouchTimeoutId),this._isTouchTimeoutId=void 0),this._isTouch=!0,t&&this._async.setTimeout((function(){e._isTouch=!1}),300)},i.prototype._getSelectionMode=function(){var t=this.props.selection,e=this.props.selectionMode;return void 0===e?t?t.mode:Xl.none:e},i.defaultProps={isSelectedOnFocus:!0,toggleWithoutModifierPressed:!1,selectionMode:Xl.multiple,selectionClearedOnEscapePress:!0},i}(t.Component),Sc={root:"ms-GroupedList",compact:"ms-GroupedList--Compact",group:"ms-GroupedList-group",link:"ms-Link",listCell:"ms-List-cell"},Cc="cubic-bezier(0.445, 0.050, 0.550, 0.950)",Mc={root:"ms-GroupHeader",compact:"ms-GroupHeader--compact",check:"ms-GroupHeader-check",dropIcon:"ms-GroupHeader-dropIcon",expand:"ms-GroupHeader-expand",isCollapsed:"is-collapsed",title:"ms-GroupHeader-title",isSelected:"is-selected",iconTag:"ms-Icon--Tag",group:"ms-GroupedList-group",isDropping:"is-dropping"},Pc="cubic-bezier(0.075, 0.820, 0.165, 1.000)",Tc="cubic-bezier(0.390, 0.575, 0.565, 1.000)",Dc="cubic-bezier(0.600, -0.280, 0.735, 0.045)";!function(t){t[t.xSmall=0]="xSmall",t[t.small=1]="small",t[t.medium=2]="medium",t[t.large=3]="large"}(mc||(mc={})),function(t){t[t.normal=0]="normal",t[t.large=1]="large"}(vc||(vc={}));var Nc=wo(),Ic=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.type,n=e.size,r=e.ariaLabel,o=e.ariaLive,a=e.styles,s=e.label,l=e.theme,u=e.className,h=e.labelPosition,c=r,d=Sr(this.props,_r,["size"]),f=n;void 0===f&&void 0!==i&&(f=i===vc.large?mc.large:mc.medium);var p=Nc(a,{theme:l,size:f,className:u,labelPosition:h});return t.createElement("div",yt({},d,{className:p.root}),t.createElement("div",{className:p.circle}),s&&t.createElement("div",{className:p.label},s),c&&t.createElement("div",{role:"status","aria-live":o},t.createElement(vl,null,t.createElement("div",{className:p.screenReaderText},c))))},i.defaultProps={size:mc.medium,ariaLive:"polite",labelPosition:"bottom"},i}(t.Component),Ec={root:"ms-Spinner",circle:"ms-Spinner-circle",label:"ms-Spinner-label"},Ac=Ka((function(){return Po({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}})})),Oc=Qn(Ic,(function(t){var e,i=t.theme,n=t.size,r=t.className,o=t.labelPosition,a=i.palette,s=Ja(Ec,i);return{root:[s.root,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"top"===o&&{flexDirection:"column-reverse"},"right"===o&&{flexDirection:"row"},"left"===o&&{flexDirection:"row-reverse"},r],circle:[s.circle,{boxSizing:"border-box",borderRadius:"50%",border:"1.5px solid "+a.themeLight,borderTopColor:a.themePrimary,animationName:Ac(),animationDuration:"1.3s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.53,.21,.29,.67)",selectors:(e={},e[Da]=yt({borderTopColor:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),e)},n===mc.xSmall&&["ms-Spinner--xSmall",{width:12,height:12}],n===mc.small&&["ms-Spinner--small",{width:16,height:16}],n===mc.medium&&["ms-Spinner--medium",{width:20,height:20}],n===mc.large&&["ms-Spinner--large",{width:28,height:28}]],label:[s.label,i.fonts.small,{color:a.themePrimary,margin:"8px 0 0",textAlign:"center"},"top"===o&&{margin:"0 0 8px"},"right"===o&&{margin:"0 0 0 8px"},"left"===o&&{margin:"0 8px 0 0"}],screenReaderText:Fa}}),void 0,{scope:"Spinner"}),Lc=wo(),Rc=function(e){function i(i){var n=e.call(this,i)||this;return n._toggleCollapse=function(){var t=n.props,e=t.group,i=t.onToggleCollapse,r=t.isGroupLoading,o=!n.state.isCollapsed,a=!o&&r&&r(e);n.setState({isCollapsed:o,isLoadingVisible:a}),i&&i(e)},n._onKeyUp=function(t){var e=n.props,i=e.group,r=e.onGroupHeaderKeyUp;if(r&&r(t,i),!t.defaultPrevented){var o=n.state.isCollapsed&&t.which===vo(ho.right,n.props.theme);(!n.state.isCollapsed&&t.which===vo(ho.left,n.props.theme)||o)&&(n._toggleCollapse(),t.stopPropagation(),t.preventDefault())}},n._onToggleClick=function(t){n._toggleCollapse(),t.stopPropagation(),t.preventDefault()},n._onHeaderClick=function(){var t=n.props,e=t.group,i=t.onGroupHeaderClick;i&&i(e)},n._onRenderTitle=function(e){if(!e.group)return null;var i=e.onRenderName?Th(e.onRenderName,n._onRenderName):n._onRenderName;return t.createElement("div",{className:n._classNames.title,id:n._id,onClick:n._onHeaderClick,role:"gridcell","aria-colspan":n.props.ariaColSpan,"data-selection-invoke":!0},i(e))},n._onRenderName=function(e){var i=e.group;return i?t.createElement(t.Fragment,null,t.createElement("span",null,i.name),t.createElement("span",{className:n._classNames.headerCount},"(",i.count,i.hasMoreData&&"+",")")):null},n._id=gl("GroupHeader"),n.state={isCollapsed:n.props.group&&n.props.group.isCollapsed,isLoadingVisible:!1},n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){if(t.group){var i=t.group.isCollapsed,n=t.isGroupLoading,r=!i&&n&&n(t.group);return yt(yt({},e),{isCollapsed:i||!1,isLoadingVisible:r||!1})}return e},i.prototype.render=function(){var e=this.props,i=e.group,n=e.groupLevel,r=void 0===n?0:n,o=e.viewport,a=e.selectionMode,s=e.loadingText,l=e.isSelected,u=void 0!==l&&l,h=e.selected,c=void 0!==h&&h,d=e.indentWidth,f=e.onRenderGroupHeaderCheckbox,p=e.isCollapsedGroupSelectVisible,g=void 0===p||p,m=e.expandButtonProps,v=e.expandButtonIcon,y=e.selectAllButtonProps,b=e.theme,x=e.styles,w=e.className,k=e.compact,_=e.ariaLevel,S=e.ariaPosInSet,C=e.ariaSetSize,M=e.ariaRowIndex,P=e.useFastIcons,T=this.props.onRenderTitle?Th(this.props.onRenderTitle,this._onRenderTitle):this._onRenderTitle,D=P?this._fastDefaultCheckboxRender:this._defaultCheckboxRender,N=f?Th(f,D):D,I=this.state,E=I.isCollapsed,A=I.isLoadingVisible,O=a===Xl.multiple,L=O&&(g||!(i&&i.isCollapsed)),R=c||u,j=mo(b);return this._classNames=Lc(x,{theme:b,className:w,selected:R,isCollapsed:E,compact:k}),i?t.createElement("div",{className:this._classNames.root,style:o?{minWidth:o.width}:{},role:"row","aria-level":_,"aria-setsize":C,"aria-posinset":S,"aria-rowindex":M,"data-is-focusable":!0,onKeyUp:this._onKeyUp,"aria-label":i.ariaLabel,"aria-labelledby":i.ariaLabel?void 0:this._id,"aria-expanded":!this.state.isCollapsed,"aria-selected":O?R:void 0,"data-selection-index":i.startIndex,"data-selection-span":i.count},t.createElement("div",{className:this._classNames.groupHeaderContainer,role:"presentation"},L?t.createElement("div",{role:"gridcell"},t.createElement("button",yt({"data-is-focusable":!1,type:"button",className:this._classNames.check,role:"checkbox",id:"".concat(this._id,"-check"),"aria-checked":R,"aria-labelledby":"".concat(this._id,"-check ").concat(this._id),"data-selection-toggle":!0},y),N({checked:R,theme:b},N))):a!==Xl.none&&t.createElement(Mh,{indentWidth:48,count:1}),t.createElement(Mh,{indentWidth:d,count:r}),t.createElement("div",{className:this._classNames.dropIcon,role:"presentation"},t.createElement(nl,{iconName:"Tag"})),t.createElement("div",{role:"gridcell"},t.createElement("button",yt({"data-is-focusable":!1,"data-selection-disabled":!0,type:"button",className:this._classNames.expand,onClick:this._onToggleClick,"aria-expanded":!this.state.isCollapsed},m),t.createElement(nl,{className:this._classNames.expandIsCollapsed,iconName:v||(j?"ChevronLeftMed":"ChevronRightMed")}))),T(this.props),A&&t.createElement(Oc,{label:s}))):null},i.prototype._defaultCheckboxRender=function(e){return t.createElement(Ah,{checked:e.checked})},i.prototype._fastDefaultCheckboxRender=function(e){return t.createElement(jc,{theme:e.theme,checked:e.checked})},i.defaultProps={expandButtonProps:{"aria-label":"expand collapse group"}},i}(t.Component),jc=t.memo((function(e){return t.createElement(Ah,{theme:e.theme,checked:e.checked,className:e.className,useFastIcons:!0})})),Bc=Qn(Rc,(function(t){var e,i,n,r,o,a=t.theme,s=t.className,l=t.selected,u=t.isCollapsed,h=t.compact,c=Rh.cellLeftPadding,d=h?40:48,f=a.semanticColors,p=a.palette,g=a.fonts,m=Ja(Mc,a),v=[Ra(a),{cursor:"default",background:"none",backgroundColor:"transparent",border:"none",padding:0}];return{root:[m.root,Ra(a),a.fonts.medium,{borderBottom:"1px solid ".concat(f.listBackground),cursor:"default",userSelect:"none",selectors:(e={":hover":{background:f.listItemBackgroundHovered,color:f.actionLinkHovered}},e["&:hover .".concat(m.check)]={opacity:1},e[".".concat(Ea," &:focus .").concat(m.check)]={opacity:1},e[":global(.".concat(m.group,".").concat(m.isDropping,")")]={selectors:(i={},i["& > .".concat(m.root," .").concat(m.dropIcon)]={transition:"transform ".concat(ma," ").concat(Pc," ")+"opacity ".concat(fa," ").concat(Tc),transitionDelay:ga,opacity:1,transform:"rotate(0.2deg) scale(1);"},i[".".concat(m.check)]={opacity:0},i)},e)},l&&[m.isSelected,{background:f.listItemBackgroundChecked,selectors:(n={":hover":{background:f.listItemBackgroundCheckedHovered}},n["".concat(m.check)]={opacity:1},n)}],h&&[m.compact,{border:"none"}],s],groupHeaderContainer:[{display:"flex",alignItems:"center",height:d}],headerCount:[{padding:"0px 4px"}],check:[m.check,v,{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:1,marginTop:-1,opacity:0,width:48,height:d,selectors:(r={},r[".".concat(Ea," &:focus")]={opacity:1},r)}],expand:[m.expand,v,{display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",fontSize:g.small.fontSize,width:36,height:d,color:l?p.neutralPrimary:p.neutralSecondary,selectors:{":hover":{backgroundColor:l?p.neutralQuaternary:p.neutralLight},":active":{backgroundColor:l?p.neutralTertiaryAlt:p.neutralQuaternaryAlt}}}],expandIsCollapsed:[u?[m.isCollapsed,{transform:"rotate(0deg)",transformOrigin:"50% 50%",transition:"transform .1s linear"}]:{transform:mo(a)?"rotate(-90deg)":"rotate(90deg)",transformOrigin:"50% 50%",transition:"transform .1s linear"}],title:[m.title,{paddingLeft:c,fontSize:h?g.medium.fontSize:g.mediumPlus.fontSize,fontWeight:u?Ma.regular:Ma.semibold,cursor:"pointer",outline:0,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}],dropIcon:[m.dropIcon,{position:"absolute",left:-26,fontSize:Pa.large,color:p.neutralSecondary,transition:"transform ".concat(pa," ").concat(Dc,", ")+"opacity ".concat(ma," ").concat(Tc),opacity:0,transform:"rotate(0.2deg) scale(0.65)",transformOrigin:"10px 10px",selectors:(o={},o[":global(.".concat(m.iconTag,")")]={position:"absolute"},o)}]}}),void 0,{scope:"GroupHeader"}),Fc={root:"ms-GroupShowAll",link:"ms-Link"},zc=wo(),Hc=function(e,i){t.useImperativeHandle(e.componentRef,(function(){return{focus:function(){i.current&&i.current.focus()}}}),[i])},Vc=function(t,e){e.as;var i=e.disabled,n=e.target,r=e.href,o=(e.theme,e.getStyles,e.styles,e.componentRef,e.underline,bt(e,["as","disabled","target","href","theme","getStyles","styles","componentRef","underline"]));return"string"===typeof t?"a"===t?yt({target:n,href:i?void 0:r},o):"button"===t?yt({type:"button",disabled:i},o):yt(yt({},o),{disabled:i}):yt({target:n,href:r,disabled:i},o)},Wc=t.forwardRef((function(e,i){var n=function(e,i){var n=e.as,r=e.className,o=e.disabled,a=e.href,s=e.onClick,l=e.styles,u=e.theme,h=e.underline,c=t.useRef(null),d=Us(c,i);Hc(e,c),Fl(c);var f=zc(l,{className:r,isButton:!a,isDisabled:o,isUnderlined:h,theme:u}),p=n||(a?"a":"button");return{state:{},slots:{root:p},slotProps:{root:yt(yt({},Vc(p,e)),{"aria-disabled":o,className:f.root,onClick:function(t){o?t.preventDefault():s&&s(t)},ref:d})}}}(e,i),r=n.slots,o=n.slotProps;return t.createElement(r.root,yt({},o.root))}));Wc.displayName="LinkBase";var Uc=Qn(Wc,(function(t){var e,i,n,r,o,a,s,l=t.className,u=t.isButton,h=t.isDisabled,c=t.isUnderlined,d=t.theme,f=d.semanticColors,p=f.link,g=f.linkHovered,m=f.disabledText,v=f.focusBorder,y=Ja(Oh,d);return{root:[y.root,d.fonts.medium,{color:p,outline:"none",fontSize:"inherit",fontWeight:"inherit",textDecoration:c?"underline":"none",selectors:(e={".ms-Fabric--isFocusVisible &:focus":{boxShadow:"0 0 0 1px ".concat(v," inset"),outline:"1px auto ".concat(v),selectors:(i={},i[Da]={outline:"1px solid WindowText"},i)}},e[Da]={borderBottom:"none"},e)},u&&{background:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"inline",margin:0,overflow:"inherit",padding:0,textAlign:"left",textOverflow:"inherit",userSelect:"text",borderBottom:"1px solid transparent",selectors:(n={},n[Da]={color:"LinkText",forcedColorAdjust:"none"},n)},!u&&{selectors:(r={},r[Da]={MsHighContrastAdjust:"auto",forcedColorAdjust:"auto"},r)},h&&["is-disabled",{color:m,cursor:"default"},{selectors:(o={"&:link, &:visited":{pointerEvents:"none"}},o[Da]={color:"GrayText"},o)}],!h&&{selectors:{"&:active, &:hover, &:active:hover":{color:g,textDecoration:"underline",selectors:(a={},a[Da]={color:"LinkText"},a)},"&:focus":{color:p,selectors:(s={},s[Da]={color:"LinkText"},s)}}},y.root,l]}}),void 0,{scope:"Link"}),Gc=wo(),Kc=Qn((function(e){var i=e.group,n=e.groupLevel,r=e.showAllLinkText,o=void 0===r?"Show All":r,a=e.styles,s=e.theme,l=e.onToggleSummarize,u=Gc(a,{theme:s}),h=(0,t.useCallback)((function(t){l(i),t.stopPropagation(),t.preventDefault()}),[l,i]);return i?t.createElement("div",{className:u.root},t.createElement(Mh,{count:n}),t.createElement(Uc,{onClick:h},o)):null}),(function(t){var e,i=t.theme,n=i.fonts,r=Ja(Fc,i);return{root:[r.root,{position:"relative",padding:"10px 84px",cursor:"pointer",selectors:(e={},e[".".concat(r.link)]={fontSize:n.small.fontSize},e)}]}}),void 0,{scope:"GroupShowAll"}),Yc={root:"ms-groupFooter"},Xc=wo(),qc=Qn((function(e){var i=e.group,n=e.groupLevel,r=e.footerText,o=e.indentWidth,a=e.styles,s=e.theme,l=Xc(a,{theme:s});return i&&r?t.createElement("div",{className:l.root},t.createElement(Mh,{indentWidth:o,count:n}),r):null}),(function(t){var e=t.theme,i=t.className,n=Ja(Yc,e);return{root:[e.fonts.medium,n.root,{position:"relative",padding:"5px 38px"},i]}}),void 0,{scope:"GroupFooter"}),Zc=0,Jc=1,Qc=2,$c=3,td=function(t){if(void 0===t)return 0;var e=0;return"scrollTop"in t?e=t.scrollTop:"scrollY"in t&&(e=t.scrollY),Math.ceil(e)},ed=function(t,e){"scrollTop"in t?t.scrollTop=e:"scrollY"in t&&t.scrollTo(t.scrollX,e)},id="spacer-",nd={top:-1,bottom:-1,left:-1,right:-1,width:0,height:0},rd=function(t){return t.getBoundingClientRect()},od=rd,ad=rd,sd=function(e){function i(i){var n=e.call(this,i)||this;return n._root=t.createRef(),n._surface=t.createRef(),n._pageRefs={},n._getDerivedStateFromProps=function(t,e){return t.items!==n.props.items||t.renderCount!==n.props.renderCount||t.startIndex!==n.props.startIndex||t.version!==n.props.version||!e.hasMounted&&n.props.renderEarly&&Rn()?(n._resetRequiredWindows(),n._requiredRect=null,n._measureVersion++,n._invalidatePageCache(),n._updatePages(t,e)):e},n._onRenderRoot=function(e){var i=e.rootRef,n=e.surfaceElement,r=e.divProps;return t.createElement("div",yt({ref:i},r),n)},n._onRenderSurface=function(e){var i=e.surfaceRef,n=e.pageElements,r=e.divProps;return t.createElement("div",yt({ref:i},r),n)},n._onRenderPage=function(e,i){for(var r,o=n.props,a=o.onRenderCell,s=o.onRenderCellConditional,l=o.role,u=e.page,h=u.items,c=void 0===h?[]:h,d=u.startIndex,f=bt(e,["page"]),p=void 0===l?"listitem":"presentation",g=[],m=0;m<c.length;m++){var v=d+m,y=c[m],b=n.props.getKey?n.props.getKey(y,v):y&&y.key;null!==b&&void 0!==b||(b=v);var x=null!==s&&void 0!==s?s:a,w=null!==(r=null===x||void 0===x?void 0:x(y,v,n.props.ignoreScrollingState?void 0:n.state.isScrolling))&&void 0!==r?r:null;s&&!w||g.push(t.createElement("div",{role:p,className:"ms-List-cell",key:b,"data-list-index":v,"data-automationid":"ListCell"},w))}return t.createElement("div",yt({},f),g)},ol(n),n.state={pages:[],isScrolling:!1,getDerivedStateFromProps:n._getDerivedStateFromProps,hasMounted:!1},n._async=new hl(n),n._events=new hu(n),n._estimatedPageHeight=0,n._totalEstimates=0,n._requiredWindowsAhead=0,n._requiredWindowsBehind=0,n._measureVersion=0,n._onAsyncScroll=n._async.debounce(n._onAsyncScroll,100,{leading:!1,maxWait:500}),n._onAsyncIdle=n._async.debounce(n._onAsyncIdle,200,{leading:!1}),n._onAsyncResize=n._async.debounce(n._onAsyncResize,16,{leading:!1}),n._onScrollingDone=n._async.debounce(n._onScrollingDone,500,{leading:!1}),n._cachedPageHeights={},n._estimatedPageHeight=0,n._focusedIndex=-1,n._pageCache={},n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){return e.getDerivedStateFromProps(t,e)},Object.defineProperty(i.prototype,"pageRefs",{get:function(){return this._pageRefs},enumerable:!1,configurable:!0}),i.prototype.scrollToIndex=function(t,e,i){void 0===i&&(i=Zc);for(var n=this.props.startIndex,r=n+this._getRenderCount(),o=this._allowedRect,a=0,s=1,l=n;l<r;l+=s){var u=this._getPageSpecification(this.props,l,o),h=u.height;if(s=u.itemCount,l<=t&&l+s>t){if(e&&this._scrollElement){for(var c=ad(this._scrollElement),d=td(this._scrollElement),f={top:d,bottom:d+c.height},p=t-l,g=0;g<p;++g)a+=e(l+g);var m=a+e(t);switch(i){case Jc:return void ed(this._scrollElement,a);case Qc:return void ed(this._scrollElement,m-c.height);case $c:return void ed(this._scrollElement,(a+m-c.height)/2)}if(a>=f.top&&m<=f.bottom)return;a<f.top||m>f.bottom&&(a=m-c.height)}return void(this._scrollElement&&ed(this._scrollElement,a))}a+=h}},i.prototype.getStartItemIndexInView=function(t){for(var e=0,i=this.state.pages||[];e<i.length;e++){var n=i[e];if(!n.isSpacer&&(this._scrollTop||0)>=n.top&&(this._scrollTop||0)<=n.top+n.height){if(!t){var r=Math.floor(n.height/n.itemCount);return n.startIndex+Math.floor((this._scrollTop-n.top)/r)}for(var o=0,a=n.startIndex;a<n.startIndex+n.itemCount;a++){r=t(a);if(n.top+o<=this._scrollTop&&this._scrollTop<n.top+o+r)return a;o+=r}}}return 0},i.prototype.componentDidMount=function(){this._scrollElement=Bu(this._root.current),this._scrollTop=0,this.setState(yt(yt({},this._updatePages(this.props,this.state)),{hasMounted:!0})),this._measureVersion++,this._events.on(window,"resize",this._onAsyncResize),this._root.current&&this._events.on(this._root.current,"focus",this._onFocus,!0),this._scrollElement&&(this._events.on(this._scrollElement,"scroll",this._onScroll),this._events.on(this._scrollElement,"scroll",this._onAsyncScroll))},i.prototype.componentDidUpdate=function(t,e){var i=this.props,n=this.state;if(this.state.pagesVersion!==e.pagesVersion){if(i.getPageHeight)this._onAsyncIdle();else this._updatePageMeasurements(n.pages)?(this._materializedRect=null,this._hasCompletedFirstRender?this._onAsyncScroll():(this._hasCompletedFirstRender=!0,this.setState(this._updatePages(i,n)))):this._onAsyncIdle();i.onPagesUpdated&&i.onPagesUpdated(n.pages)}},i.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose(),delete this._scrollElement},i.prototype.shouldComponentUpdate=function(t,e){var i=this.state.pages,n=e.pages,r=!1;if(!e.isScrolling&&this.state.isScrolling)return!0;if(t.version!==this.props.version)return!0;if(t.className!==this.props.className)return!0;if(t.items===this.props.items&&i.length===n.length)for(var o=0;o<i.length;o++){var a=i[o],s=n[o];if(a.key!==s.key||a.itemCount!==s.itemCount){r=!0;break}}else r=!0;return r},i.prototype.forceUpdate=function(){this._invalidatePageCache(),this._updateRenderRects(this.props,this.state,!0),this.setState(this._updatePages(this.props,this.state)),this._measureVersion++,e.prototype.forceUpdate.call(this)},i.prototype.getTotalListHeight=function(){return this._surfaceRect.height},i.prototype.render=function(){for(var t=this.props,e=t.className,i=t.role,n=void 0===i?"list":i,r=t.onRenderSurface,o=t.onRenderRoot,a=this.state.pages,s=void 0===a?[]:a,l=[],u=Sr(this.props,_r),h=0,c=s;h<c.length;h++){var d=c[h];l.push(this._renderPage(d))}var f=r?Th(r,this._onRenderSurface):this._onRenderSurface;return(o?Th(o,this._onRenderRoot):this._onRenderRoot)({rootRef:this._root,pages:s,surfaceElement:f({surfaceRef:this._surface,pages:s,pageElements:l,divProps:{role:"presentation",className:"ms-List-surface"}}),divProps:yt(yt({},u),{className:Qs("ms-List",e),role:l.length>0?n:void 0,"aria-label":l.length>0?u["aria-label"]:void 0})})},i.prototype._shouldVirtualize=function(t){void 0===t&&(t=this.props);var e=t.onShouldVirtualize;return!e||e(t)},i.prototype._invalidatePageCache=function(){this._pageCache={}},i.prototype._renderPage=function(t){var e,i=this,n=this.props.usePageCache;if(n&&(e=this._pageCache[t.key])&&e.pageElement)return e.pageElement;var r=this._getPageStyle(t),o=this.props.onRenderPage,a=(void 0===o?this._onRenderPage:o)({page:t,className:"ms-List-page",key:t.key,ref:function(e){i._pageRefs[t.key]=e},style:r,role:"presentation"},this._onRenderPage);return n&&0===t.startIndex&&(this._pageCache[t.key]={page:t,pageElement:a}),a},i.prototype._getPageStyle=function(t){var e=this.props.getPageStyle;return yt(yt({},e?e(t):{}),t.items?{}:{height:t.height})},i.prototype._onFocus=function(t){for(var e=t.target;e!==this._surface.current;){var i=e.getAttribute("data-list-index");if(i){this._focusedIndex=Number(i);break}e=pu(e)}},i.prototype._onScroll=function(){this.state.isScrolling||this.props.ignoreScrollingState||this.setState({isScrolling:!0}),this._resetRequiredWindows(),this._onScrollingDone()},i.prototype._resetRequiredWindows=function(){this._requiredWindowsAhead=0,this._requiredWindowsBehind=0},i.prototype._onAsyncScroll=function(){var t,e;this._updateRenderRects(this.props,this.state),this._materializedRect&&(t=this._requiredRect,e=this._materializedRect,t.top>=e.top&&t.left>=e.left&&t.bottom<=e.bottom&&t.right<=e.right)||this.setState(this._updatePages(this.props,this.state))},i.prototype._onAsyncIdle=function(){var t=this.props,e=t.renderedWindowsAhead,i=t.renderedWindowsBehind,n=this._requiredWindowsAhead,r=this._requiredWindowsBehind,o=Math.min(e,n+1),a=Math.min(i,r+1);o===n&&a===r||(this._requiredWindowsAhead=o,this._requiredWindowsBehind=a,this._updateRenderRects(this.props,this.state),this.setState(this._updatePages(this.props,this.state))),(e>o||i>a)&&this._onAsyncIdle()},i.prototype._onScrollingDone=function(){this.props.ignoreScrollingState||this.setState({isScrolling:!1})},i.prototype._onAsyncResize=function(){this.forceUpdate()},i.prototype._updatePages=function(t,e){this._requiredRect||this._updateRenderRects(t,e);var i=this._buildPages(t,e),n=e.pages;return this._notifyPageChanges(n,i.pages,this.props),yt(yt(yt({},e),i),{pagesVersion:{}})},i.prototype._notifyPageChanges=function(t,e,i){var n=i.onPageAdded,r=i.onPageRemoved;if(n||r){for(var o={},a=0,s=t;a<s.length;a++){(h=s[a]).items&&(o[h.startIndex]=h)}for(var l=0,u=e;l<u.length;l++){var h;(h=u[l]).items&&(o[h.startIndex]?delete o[h.startIndex]:this._onPageAdded(h))}for(var c in o)o.hasOwnProperty(c)&&this._onPageRemoved(o[c])}},i.prototype._updatePageMeasurements=function(t){var e=!1;if(!this._shouldVirtualize())return e;for(var i=0;i<t.length;i++){var n=t[i];n.items&&(e=this._measurePage(n)||e)}return e},i.prototype._measurePage=function(t){var e=!1,i=this._pageRefs[t.key],n=this._cachedPageHeights[t.startIndex];if(i&&this._shouldVirtualize()&&(!n||n.measureVersion!==this._measureVersion)){var r={width:i.clientWidth,height:i.clientHeight};(r.height||r.width)&&(e=t.height!==r.height,t.height=r.height,this._cachedPageHeights[t.startIndex]={height:r.height,measureVersion:this._measureVersion},this._estimatedPageHeight=Math.round((this._estimatedPageHeight*this._totalEstimates+r.height)/(this._totalEstimates+1)),this._totalEstimates++)}return e},i.prototype._onPageAdded=function(t){var e=this.props.onPageAdded;e&&e(t)},i.prototype._onPageRemoved=function(t){var e=this.props.onPageRemoved;e&&e(t)},i.prototype._buildPages=function(t,e){var i=t.renderCount,n=t.items,r=t.startIndex,o=t.getPageHeight;i=this._getRenderCount(t);for(var a=yt({},nd),s=[],l=1,u=0,h=null,c=this._focusedIndex,d=r+i,f=this._shouldVirtualize(t),p=0===this._estimatedPageHeight&&!o,g=this._allowedRect,m=function(i){var o=v._getPageSpecification(t,i,g),m=o.height,y=o.data,b=o.key;l=o.itemCount;var x,w,k=u+m-1,_=bu(e.pages,(function(t){return!!t.items&&t.startIndex===i}))>-1,S=!g||k>=g.top&&u<=g.bottom,C=!v._requiredRect||k>=v._requiredRect.top&&u<=v._requiredRect.bottom;if(!p&&(C||S&&_)||!f||c>=i&&c<i+l||i===r){h&&(s.push(h),h=null);var M=Math.min(l,d-i),P=v._createPage(b,n.slice(i,i+M),i,void 0,void 0,y);P.top=u,P.height=m,v._visibleRect&&v._visibleRect.bottom&&(P.isVisible=k>=v._visibleRect.top&&u<=v._visibleRect.bottom),s.push(P),C&&v._allowedRect&&(x=a,w={top:u,bottom:k,height:m,left:g.left,right:g.right,width:g.width},x.top=w.top<x.top||-1===x.top?w.top:x.top,x.left=w.left<x.left||-1===x.left?w.left:x.left,x.bottom=w.bottom>x.bottom||-1===x.bottom?w.bottom:x.bottom,x.right=w.right>x.right||-1===x.right?w.right:x.right,x.width=x.right-x.left+1,x.height=x.bottom-x.top+1)}else h||(h=v._createPage(id+i,void 0,i,0,void 0,y,!0)),h.height=(h.height||0)+(k-u)+1,h.itemCount+=l;if(u+=k-u+1,p&&f)return"break"},v=this,y=r;y<d;y+=l){if("break"===m(y))break}return h&&(h.key=id+"end",s.push(h)),this._materializedRect=a,yt(yt({},e),{pages:s,measureVersion:this._measureVersion})},i.prototype._getPageSpecification=function(t,e,i){var n=t.getPageSpecification;if(n){var r=n(e,i),o=r.itemCount,a=void 0===o?this._getItemCountForPage(e,i):o,s=r.height;return{itemCount:a,height:void 0===s?this._getPageHeight(e,i,a):s,data:r.data,key:r.key}}return{itemCount:a=this._getItemCountForPage(e,i),height:this._getPageHeight(e,i,a)}},i.prototype._getPageHeight=function(t,e,i){if(this.props.getPageHeight)return this.props.getPageHeight(t,e,i);var n=this._cachedPageHeights[t];return n?n.height:this._estimatedPageHeight||30},i.prototype._getItemCountForPage=function(t,e){var i=this.props.getItemCountForPage?this.props.getItemCountForPage(t,e):10;return i||10},i.prototype._createPage=function(t,e,i,n,r,o,a){void 0===i&&(i=-1),void 0===n&&(n=e?e.length:0),void 0===r&&(r={}),t=t||"page-"+i;var s=this._pageCache[t];return s&&s.page?s.page:{key:t,startIndex:i,itemCount:n,items:e,style:r,top:0,height:0,data:o,isSpacer:a||!1}},i.prototype._getRenderCount=function(t){var e=t||this.props,i=e.items,n=e.startIndex,r=e.renderCount;return void 0===r?i?i.length-n:0:r},i.prototype._updateRenderRects=function(t,e,i){var n=t.renderedWindowsAhead,r=t.renderedWindowsBehind,o=e.pages;if(this._shouldVirtualize(t)){var a=this._surfaceRect||yt({},nd),s=function(t){if(void 0===t)return 0;var e=0;return"scrollHeight"in t?e=t.scrollHeight:"document"in t&&(e=t.document.documentElement.scrollHeight),e}(this._scrollElement),l=td(this._scrollElement);this._surface.current&&(i||!o||!this._surfaceRect||!s||s!==this._scrollHeight||Math.abs(this._scrollTop-l)>this._estimatedPageHeight/3)&&(a=this._surfaceRect=od(this._surface.current),this._scrollTop=l),!i&&s&&s===this._scrollHeight||this._measureVersion++,this._scrollHeight=s||0;var u=Math.max(0,-a.top),h=Bn(this._root.current),c={top:u,left:a.left,bottom:u+h.innerHeight,right:a.right,width:a.width,height:h.innerHeight};this._requiredRect=ld(c,this._requiredWindowsBehind,this._requiredWindowsAhead),this._allowedRect=ld(c,r,n),this._visibleRect=c}},i.defaultProps={startIndex:0,onRenderCell:function(e,i,n){return t.createElement(t.Fragment,null,e&&e.name||"")},onRenderCellConditional:void 0,renderedWindowsAhead:2,renderedWindowsBehind:2},i}(t.Component);function ld(t,e,i){var n=t.top-e*t.height,r=t.height+(e+i)*t.height;return{top:n,bottom:n+r,height:r,left:t.left,right:t.right,width:t.width}}var ud=function(e){function i(n){var r=e.call(this,n)||this;r._root=t.createRef(),r._list=t.createRef(),r._subGroupRefs={},r._droppingClassName="",r._onRenderGroupHeader=function(e){return t.createElement(Bc,yt({},e))},r._onRenderGroupShowAll=function(e){return t.createElement(Kc,yt({},e))},r._onRenderGroupFooter=function(e){return t.createElement(qc,yt({},e))},r._renderSubGroup=function(e,n){var o=r.props,a=o.dragDropEvents,s=o.dragDropHelper,l=o.eventsToRegister,u=o.getGroupItemLimit,h=o.groupNestingDepth,c=o.groupProps,d=o.items,f=o.headerProps,p=o.showAllProps,g=o.footerProps,m=o.listProps,v=o.onRenderCell,y=o.selection,b=o.selectionMode,x=o.viewport,w=o.onRenderGroupHeader,k=o.onRenderGroupShowAll,_=o.onRenderGroupFooter,S=o.onShouldVirtualize,C=o.group,M=o.compact,P=e.level?e.level+1:h;return!e||e.count>0||c&&c.showEmptyGroups?t.createElement(i,{ref:function(t){return r._subGroupRefs["subGroup_"+n]=t},key:r._getGroupKey(e,n),dragDropEvents:a,dragDropHelper:s,eventsToRegister:l,footerProps:g,getGroupItemLimit:u,group:e,groupIndex:n,groupNestingDepth:P,groupProps:c,headerProps:f,items:d,listProps:m,onRenderCell:v,selection:y,selectionMode:b,showAllProps:p,viewport:x,onRenderGroupHeader:w,onRenderGroupShowAll:k,onRenderGroupFooter:_,onShouldVirtualize:S,groups:C?C.children:[],compact:M}):null},r._getGroupDragDropOptions=function(){var t=r.props,e=t.group,i=t.groupIndex,n=t.dragDropEvents;return{eventMap:t.eventsToRegister,selectionIndex:-1,context:{data:e,index:i,isGroup:!0},updateDropState:r._updateDroppingState,canDrag:n.canDrag,canDrop:n.canDrop,onDrop:n.onDrop,onDragStart:n.onDragStart,onDragEnter:n.onDragEnter,onDragLeave:n.onDragLeave,onDragEnd:n.onDragEnd,onDragOver:n.onDragOver}},r._updateDroppingState=function(t,e){var i=r.state.isDropping,n=r.props,o=n.dragDropEvents,a=n.group;i!==t&&(i?o&&o.onDragLeave&&o.onDragLeave(a,e):o&&o.onDragEnter&&(r._droppingClassName=o.onDragEnter(a,e)),r.setState({isDropping:t}))};var o=n.selection,a=n.group;return ol(r),r._id=gl("GroupedListSection"),r.state={isDropping:!1,isSelected:!(!o||!a)&&o.isRangeSelected(a.startIndex,a.count)},r._events=new hu(r),r}return vt(i,e),i.prototype.componentDidMount=function(){var t=this.props,e=t.dragDropHelper,i=t.selection;e&&this._root.current&&(this._dragDropSubscription=e.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())),i&&this._events.on(i,eu,this._onSelectionChange)},i.prototype.componentWillUnmount=function(){this._events.dispose(),this._dragDropSubscription&&this._dragDropSubscription.dispose()},i.prototype.componentDidUpdate=function(t){this.props.group===t.group&&this.props.groupIndex===t.groupIndex&&this.props.dragDropHelper===t.dragDropHelper||(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this._root.current&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())))},i.prototype.render=function(){var e=this.props,i=e.getGroupItemLimit,n=e.group,r=e.groupIndex,o=e.headerProps,a=e.showAllProps,s=e.footerProps,l=e.viewport,u=e.selectionMode,h=e.onRenderGroupHeader,c=void 0===h?this._onRenderGroupHeader:h,d=e.onRenderGroupShowAll,f=void 0===d?this._onRenderGroupShowAll:d,p=e.onRenderGroupFooter,g=void 0===p?this._onRenderGroupFooter:p,m=e.onShouldVirtualize,v=e.groupedListClassNames,y=e.groups,b=e.compact,x=e.listProps,w=void 0===x?{}:x,k=this.state.isSelected,_=n&&i?i(n):1/0,S=n&&!n.children&&!n.isCollapsed&&!n.isShowingAll&&(n.count>_||n.hasMoreData),C=n&&n.children&&n.children.length>0,M=w.version,P={group:n,groupIndex:r,groupLevel:n?n.level:0,isSelected:k,selected:k,viewport:l,selectionMode:u,groups:y,compact:b},T={groupedListId:this._id,ariaLevel:(null===n||void 0===n?void 0:n.level)?n.level+1:1,ariaSetSize:y?y.length:void 0,ariaPosInSet:void 0!==r?r+1:void 0},D=yt(yt(yt({},o),P),T),N=yt(yt({},a),P),I=yt(yt({},s),P),E=!!this.props.dragDropHelper&&this._getGroupDragDropOptions().canDrag(n)&&!!this.props.dragDropEvents.canDragGroups;return t.createElement("div",yt({ref:this._root},E&&{draggable:!0},{className:Qs(v&&v.group,this._getDroppingClassName()),role:"presentation"}),c(D,this._onRenderGroupHeader),n&&n.isCollapsed?null:C?t.createElement(sd,{role:"presentation",ref:this._list,items:n?n.children:[],onRenderCell:this._renderSubGroup,getItemCountForPage:this._returnOne,onShouldVirtualize:m,version:M,id:this._id}):this._onRenderGroup(_),n&&n.isCollapsed?null:S&&f(N,this._onRenderGroupShowAll),g(I,this._onRenderGroupFooter))},i.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this.forceListUpdate()},i.prototype.forceListUpdate=function(){var t=this.props.group;if(this._list.current){if(this._list.current.forceUpdate(),t&&t.children&&t.children.length>0)for(var e=t.children.length,i=0;i<e;i++){var n;(n=this._list.current.pageRefs["subGroup_"+String(i)])&&n.forceListUpdate()}}else(n=this._subGroupRefs["subGroup_"+String(0)])&&n.forceListUpdate()},i.prototype._onSelectionChange=function(){var t=this.props,e=t.group,i=t.selection;if(i&&e){var n=i.isRangeSelected(e.startIndex,e.count);n!==this.state.isSelected&&this.setState({isSelected:n})}},i.prototype._onRenderGroupCell=function(t,e,i){return function(n,r){return t(e,n,r,i)}},i.prototype._onRenderGroup=function(e){var i=this.props,n=i.group,r=i.items,o=i.onRenderCell,a=i.listProps,s=i.groupNestingDepth,l=i.onShouldVirtualize,u=i.groupProps,h=n&&!n.isShowingAll?n.count:r.length,c=n?n.startIndex:0;return t.createElement(sd,yt({role:u&&u.role?u.role:"rowgroup","aria-label":null===n||void 0===n?void 0:n.name,items:r,onRenderCell:this._onRenderGroupCell(o,s,n),ref:this._list,renderCount:Math.min(h,e),startIndex:c,onShouldVirtualize:l,id:this._id},a))},i.prototype._returnOne=function(){return 1},i.prototype._getGroupKey=function(t,e){return"group-"+(t&&t.key?t.key:String(t.level)+String(e))},i.prototype._getDroppingClassName=function(){var t=this.state.isDropping,e=this.props,i=e.group,n=e.groupedListClassNames;return Qs((t=!(!i||!t))&&this._droppingClassName,t&&"is-dropping",t&&n&&n.groupIsDropping)},i}(t.Component),hd=wo(),cd=jh.rowHeight,dd=jh.compactRowHeight,fd=function(e){function i(i){var n=e.call(this,i)||this;n._list=t.createRef(),n._renderGroup=function(e,i){var r=n.props,o=r.dragDropEvents,a=r.dragDropHelper,s=r.eventsToRegister,l=r.groupProps,u=r.items,h=r.listProps,c=r.onRenderCell,d=r.selectionMode,f=r.selection,p=r.viewport,g=r.onShouldVirtualize,m=r.groups,v=r.compact,y={onToggleSelectGroup:n._onToggleSelectGroup,onToggleCollapse:n._onToggleCollapse,onToggleSummarize:n._onToggleSummarize},b=yt(yt({},l.headerProps),y),x=yt(yt({},l.showAllProps),y),w=yt(yt({},l.footerProps),y),k=n._getGroupNestingDepth();if(!l.showEmptyGroups&&e&&0===e.count)return null;var _=yt(yt({},h||{}),{version:n.state.version});return t.createElement(ud,{key:n._getGroupKey(e,i),dragDropEvents:o,dragDropHelper:a,eventsToRegister:s,footerProps:w,getGroupItemLimit:l&&l.getGroupItemLimit,group:e,groupIndex:i,groupNestingDepth:k,groupProps:l,headerProps:b,listProps:_,items:u,onRenderCell:c,onRenderGroupHeader:l.onRenderHeader,onRenderGroupShowAll:l.onRenderShowAll,onRenderGroupFooter:l.onRenderFooter,selectionMode:d,selection:f,showAllProps:x,viewport:p,onShouldVirtualize:g,groupedListClassNames:n._classNames,groups:m,compact:v})},n._getDefaultGroupItemLimit=function(t){return t.children&&t.children.length>0?t.children.length:t.count},n._getGroupItemLimit=function(t){var e=n.props.groupProps;return(e&&e.getGroupItemLimit?e.getGroupItemLimit:n._getDefaultGroupItemLimit)(t)},n._getGroupHeight=function(t){var e=n.props.compact?dd:cd;return e+(t.isCollapsed?0:e*n._getGroupItemLimit(t))},n._getPageHeight=function(t){var e=n.state.groups,i=n.props.getGroupHeight,r=void 0===i?n._getGroupHeight:i,o=e&&e[t];return o?r(o,t):0},n._onToggleCollapse=function(t){var e=n.props.groupProps,i=e&&e.headerProps&&e.headerProps.onToggleCollapse;t&&(i&&i(t),t.isCollapsed=!t.isCollapsed,n._updateIsSomeGroupExpanded(),n.forceUpdate())},n._onToggleSelectGroup=function(t){var e=n.props,i=e.selection,r=e.selectionMode;t&&i&&r===Xl.multiple&&i.toggleRangeSelected(t.startIndex,t.count)},n._isInnerZoneKeystroke=function(t){return t.which===vo(ho.right)},n._onToggleSummarize=function(t){var e=n.props.groupProps,i=e&&e.showAllProps&&e.showAllProps.onToggleSummarize;i?i(t):(t&&(t.isShowingAll=!t.isShowingAll),n.forceUpdate())},n._getPageSpecification=function(t){var e=n.state.groups,i=e&&e[t];return{key:i&&i.key}},ol(n),n._isSomeGroupExpanded=n._computeIsSomeGroupExpanded(i.groups);var r=i.listProps,o=(void 0===r?{}:r).version,a=void 0===o?{}:o;return n.state={groups:i.groups,items:i.items,listProps:i.listProps,version:a},n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){var i=t.groups,n=t.selectionMode,r=t.compact,o=t.items,a=t.listProps,s=a&&a.version,l=yt(yt({},e),{selectionMode:n,compact:r,groups:i,listProps:a,items:o}),u=!1;return s===(e.listProps&&e.listProps.version)&&o===e.items&&i===e.groups&&n===e.selectionMode&&r===e.compact||(u=!0),u&&(l=yt(yt({},l),{version:{}})),l},i.prototype.scrollToIndex=function(t,e,i){this._list.current&&this._list.current.scrollToIndex(t,e,i)},i.prototype.getStartItemIndexInView=function(){return this._list.current.getStartItemIndexInView()||0},i.prototype.componentDidMount=function(){var t=this.props,e=t.groupProps,i=t.groups,n=void 0===i?[]:i;e&&e.isAllGroupsCollapsed&&this._setGroupsCollapsedState(n,e.isAllGroupsCollapsed)},i.prototype.render=function(){var e=this.props,i=e.className,n=e.usePageCache,r=e.onShouldVirtualize,o=e.theme,a=e.role,s=void 0===a?"treegrid":a,l=e.styles,u=e.compact,h=e.focusZoneProps,c=void 0===h?{}:h,d=e.rootListProps,f=void 0===d?{}:d,p=this.state,g=p.groups,m=p.version;this._classNames=hd(l,{theme:o,className:i,compact:u});var v=c.shouldEnterInnerZone,y=void 0===v?this._isInnerZoneKeystroke:v;return t.createElement(th,yt({direction:mu.vertical,"data-automationid":"GroupedList","data-is-scrollable":"false",role:"presentation"},c,{shouldEnterInnerZone:y,className:Qs(this._classNames.root,c.className)}),g?t.createElement(sd,yt({ref:this._list,role:s,items:g,onRenderCell:this._renderGroup,getItemCountForPage:this._returnOne,getPageHeight:this._getPageHeight,getPageSpecification:this._getPageSpecification,usePageCache:n,onShouldVirtualize:r,version:m},f)):this._renderGroup(void 0,0))},i.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this._forceListUpdates()},i.prototype.toggleCollapseAll=function(t){var e=this.state.groups,i=void 0===e?[]:e,n=this.props.groupProps,r=n&&n.onToggleCollapseAll;i.length>0&&(r&&r(t),this._setGroupsCollapsedState(i,t),this._updateIsSomeGroupExpanded(),this.forceUpdate())},i.prototype._setGroupsCollapsedState=function(t,e){for(var i=0;i<t.length;i++)t[i].isCollapsed=e},i.prototype._returnOne=function(){return 1},i.prototype._getGroupKey=function(t,e){return"group-"+(t&&t.key?t.key:String(e))},i.prototype._getGroupNestingDepth=function(){for(var t=0,e=this.state.groups;e&&e.length>0;)t++,e=e[0].children;return t},i.prototype._forceListUpdates=function(t){this.setState({version:{}})},i.prototype._computeIsSomeGroupExpanded=function(t){var e=this;return!(!t||!t.some((function(t){return t.children?e._computeIsSomeGroupExpanded(t.children):!t.isCollapsed})))},i.prototype._updateIsSomeGroupExpanded=function(){var t=this.state.groups,e=this.props.onGroupExpandStateChanged,i=this._computeIsSomeGroupExpanded(t);this._isSomeGroupExpanded!==i&&(e&&e(i),this._isSomeGroupExpanded=i)},i.defaultProps={selectionMode:Xl.multiple,isHeaderVisible:!0,groupProps:{},compact:!1},i}(t.Component),pd=Qn(fd,(function(t){var e,i,n=t.theme,r=t.className,o=t.compact,a=n.palette,s=Ja(Sc,n);return{root:[s.root,n.fonts.small,{position:"relative",selectors:(e={},e[".".concat(s.listCell)]={minHeight:38},e)},o&&[s.compact,{selectors:(i={},i[".".concat(s.listCell)]={minHeight:32},i)}],r],group:[s.group,{transition:"background-color ".concat(pa," ").concat(Cc)}],groupIsDropping:{backgroundColor:a.neutralLight}}}),void 0,{scope:"GroupedList"}),gd=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];var md=function(t){function e(e){var i=t.call(this,e)||this;return i._updateComposedComponentRef=i._updateComposedComponentRef.bind(i),i}return vt(e,t),e.prototype._updateComposedComponentRef=function(t){var e;this._composedComponentInstance=t,t?this._hoisted=function(t,e,i){void 0===i&&(i=gd);var n=[],r=function(r){"function"!==typeof e[r]||void 0!==t[r]||i&&-1!==i.indexOf(r)||(n.push(r),t[r]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e[r].apply(e,t)})};for(var o in e)r(o);return n}(this,t):this._hoisted&&(e=this,this._hoisted.forEach((function(t){return delete e[t]})))},e}(t.Component);function vd(t){var e;return t&&(t===window?e={left:0,top:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:t.getBoundingClientRect&&(e=t.getBoundingClientRect())),e}function yd(e){return function(i){function n(e){var n=i.call(this,e)||this;return n._root=t.createRef(),n._registerResizeObserver=function(){var t=Bn(n._root.current);n._viewportResizeObserver=new t.ResizeObserver(n._onAsyncResize),n._viewportResizeObserver.observe(n._root.current)},n._unregisterResizeObserver=function(){n._viewportResizeObserver&&(n._viewportResizeObserver.disconnect(),delete n._viewportResizeObserver)},n._updateViewport=function(t){var e=n.state.viewport,i=n._root.current,r=vd(Bu(i)),o=vd(i);((o&&o.width)!==e.width||(r&&r.height)!==e.height)&&n._resizeAttempts<3&&o&&r?(n._resizeAttempts++,n.setState({viewport:{width:o.width,height:r.height}},(function(){n._updateViewport(t)}))):(n._resizeAttempts=0,t&&n._composedComponentInstance&&n._composedComponentInstance.forceUpdate())},n._async=new hl(n),n._events=new hu(n),n._resizeAttempts=0,n.state={viewport:{width:0,height:0}},n}return vt(n,i),n.prototype.componentDidMount=function(){var t=this,e=this.props,i=e.delayFirstMeasure,n=e.disableResizeObserver,r=e.skipViewportMeasures,o=Bn(this._root.current);this._onAsyncResize=this._async.debounce(this._onAsyncResize,500,{leading:!1}),r||(!n&&this._isResizeObserverAvailable()?this._registerResizeObserver():this._events.on(o,"resize",this._onAsyncResize),i?this._async.setTimeout((function(){t._updateViewport()}),500):this._updateViewport())},n.prototype.componentDidUpdate=function(t){var e=t.skipViewportMeasures,i=this.props,n=i.disableResizeObserver,r=i.skipViewportMeasures,o=Bn(this._root.current);r!==e&&(r?(this._unregisterResizeObserver(),this._events.off(o,"resize",this._onAsyncResize)):(!n&&this._isResizeObserverAvailable()?this._viewportResizeObserver||this._registerResizeObserver():this._events.on(o,"resize",this._onAsyncResize),this._updateViewport()))},n.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose(),this._unregisterResizeObserver()},n.prototype.render=function(){var i=this.state.viewport,n=i.width>0&&i.height>0?i:void 0;return t.createElement("div",{className:"ms-Viewport",ref:this._root,style:{minWidth:1,minHeight:1}},t.createElement(e,yt({ref:this._updateComposedComponentRef,viewport:n},this.props)))},n.prototype.forceUpdate=function(){this._updateViewport(!0)},n.prototype._onAsyncResize=function(){this._updateViewport()},n.prototype._isResizeObserverAvailable=function(){var t=Bn(this._root.current);return t&&t.ResizeObserver},n}(md)}var bd=wo(),xd=100,wd={tabIndex:0},kd={},_d=function(e){var i=e.selection,n=e.ariaLabelForListHeader,r=e.ariaLabelForSelectAllCheckbox,o=e.ariaLabelForSelectionColumn,a=e.className,s=e.checkboxVisibility,l=e.compact,u=e.constrainMode,h=e.dragDropEvents,c=e.groups,d=e.groupProps,f=e.indentWidth,p=e.items,g=e.isPlaceholderData,m=e.isHeaderVisible,v=e.layoutMode,y=e.onItemInvoked,b=e.onItemContextMenu,x=e.onColumnHeaderClick,w=e.onColumnHeaderContextMenu,k=e.selectionMode,_=void 0===k?i.mode:k,S=e.selectionPreservedOnEmptyClick,C=e.selectionZoneProps,M=e.ariaLabel,P=e.ariaLabelForGrid,T=e.rowElementEventMap,D=e.shouldApplyApplicationRole,N=void 0!==D&&D,I=e.getKey,E=e.listProps,A=e.usePageCache,O=e.onShouldVirtualize,L=e.viewport,R=e.minimumPixelsForDrag,j=e.getGroupHeight,B=e.styles,F=e.theme,z=e.cellStyleProps,H=void 0===z?Rh:z,V=e.onRenderCheckbox,W=e.useFastIcons,U=e.dragDropHelper,G=e.adjustedColumns,K=e.isCollapsed,Y=e.isSizing,X=e.isSomeGroupExpanded,q=e.version,Z=e.rootRef,J=e.listRef,Q=e.focusZoneRef,$=e.columnReorderOptions,tt=e.groupedListRef,et=e.headerRef,it=e.onGroupExpandStateChanged,nt=e.onColumnIsSizingChanged,rt=e.onRowDidMount,ot=e.onRowWillUnmount,at=e.disableSelectionZone,st=e.isSelectedOnFocus,lt=void 0===st||st,ut=e.onColumnResized,ht=e.onColumnAutoResized,ct=e.onToggleCollapse,dt=e.onActiveRowChanged,ft=e.onBlur,pt=e.rowElementEventMap,gt=e.onRenderMissingItem,mt=e.onRenderItemColumn,vt=e.onRenderField,bt=e.getCellValueKey,xt=e.getRowAriaLabel,wt=e.getRowAriaDescribedBy,_t=e.checkButtonAriaLabel,St=e.checkButtonGroupAriaLabel,Ct=e.checkboxCellClassName,Mt=e.useReducedRowRenderer,Pt=e.enableUpdateAnimations,Tt=e.enterModalSelectionOnTouch,Dt=e.onRenderDefaultRow,Nt=e.selectionZoneRef,It=e.focusZoneProps,Et="grid",At=e.role?e.role:Et,Ot=gl("row"),Lt=function(t){var e=0,i=t;for(;i&&i.length>0;)e++,i=i[0].children;return e}(c),Rt=function(e){return t.useMemo((function(){var t={};if(e)for(var i=1,n=1,r=0,o=e;r<o.length;r++){var a=o[r];t[a.key]={numOfGroupHeadersBeforeItem:n,totalRowCount:i},n++,i+=a.count+1}return t}),[e])}(c),jt=t.useMemo((function(){return yt({renderedWindowsAhead:Y?0:2,renderedWindowsBehind:Y?0:2,getKey:I,version:q},E)}),[Y,I,q,E]),Bt=Kh.none;if(_===Xl.single&&(Bt=Kh.hidden),_===Xl.multiple){var Ft=d&&d.headerProps&&d.headerProps.isCollapsedGroupSelectVisible;void 0===Ft&&(Ft=!0),Bt=Ft||!c||X?Kh.visible:Kh.hidden}s===uu.hidden&&(Bt=Kh.none);var zt=t.useCallback((function(e){return t.createElement(sc,yt({},e))}),[]),Ht=t.useCallback((function(){return null}),[]),Vt=e.onRenderDetailsHeader,Wt=t.useMemo((function(){return Vt?Th(Vt,zt):zt}),[Vt,zt]),Ut=e.onRenderDetailsFooter,Gt=t.useMemo((function(){return Ut?Th(Ut,Ht):Ht}),[Ut,Ht]),Kt=t.useMemo((function(){return{columns:G,groupNestingDepth:Lt,selection:i,selectionMode:_,viewport:L,checkboxVisibility:s,indentWidth:f,cellStyleProps:H}}),[G,Lt,i,_,L,s,f,H]),Yt=$&&$.onDragEnd,Xt=t.useCallback((function(t,e){var i=t.dropLocation,n=su.outside;if(Yt){if(i&&i!==su.header)n=i;else if(Z.current){var r=Z.current.getBoundingClientRect();e.clientX>r.left&&e.clientX<r.right&&e.clientY>r.top&&e.clientY<r.bottom&&(n=su.surface)}Yt(n)}}),[Yt,Z]),qt=t.useMemo((function(){if($)return yt(yt({},$),{onColumnDragEnd:Xt})}),[$,Xt]),Zt=(m?1:0)+(e.onRenderDetailsFooter?1:0)+function(t){var e=0;if(t)for(var i=kt([],t,!0),n=void 0;i&&i.length>0;)++e,(n=i.pop())&&n.children&&i.push.apply(i,n.children);return e}(c)+(p?p.length:0),Jt=(Bt!==Kh.none?1:0)+(G?G.length:0)+(c?1:0),Qt=t.useMemo((function(){return bd(B,{theme:F,compact:l,isFixed:v===lu.fixedColumns,isHorizontalConstrained:u===au.horizontalConstrained,className:a})}),[B,F,l,v,u,a]),$t=d&&d.onRenderFooter,te=t.useMemo((function(){return $t?function(t,e){return $t(yt(yt({},t),{columns:G,groupNestingDepth:Lt,indentWidth:f,selection:i,selectionMode:_,viewport:L,checkboxVisibility:s,cellStyleProps:H}),e)}:void 0}),[$t,G,Lt,f,i,_,L,s,H]),ee=d&&d.onRenderHeader,ie=t.useMemo((function(){return ee?function(t,e){var n,r,o=t.groupIndex,a=void 0!==o?null===(r=null===(n=t.groups)||void 0===n?void 0:n[o])||void 0===r?void 0:r.key:void 0,l=void 0!==a&&Rt[a]?Rt[a].totalRowCount:0;return ee(yt(yt({},t),{columns:G,groupNestingDepth:Lt,indentWidth:f,selection:i,selectionMode:s!==uu.hidden?_:Xl.none,viewport:L,checkboxVisibility:s,cellStyleProps:H,ariaColSpan:G.length,ariaLevel:void 0,ariaPosInSet:void 0,ariaSetSize:void 0,ariaRowCount:void 0,ariaRowIndex:void 0!==o?l+(m?1:0):void 0}),e)}:function(t,e){var i,n,r=t.groupIndex,o=void 0!==r?null===(n=null===(i=t.groups)||void 0===i?void 0:i[r])||void 0===n?void 0:n.key:void 0,a=void 0!==o&&Rt[o]?Rt[o].totalRowCount:0;return e(yt(yt({},t),{ariaColSpan:G.length,ariaLevel:void 0,ariaPosInSet:void 0,ariaSetSize:void 0,ariaRowCount:void 0,ariaRowIndex:void 0!==r?a+(m?1:0):void 0}))}}),[ee,G,Lt,f,m,i,_,L,s,H,Rt]),ne=t.useMemo((function(){var t;return yt(yt({},d),{role:At===Et?"rowgroup":"presentation",onRenderFooter:te,onRenderHeader:ie,headerProps:yt(yt({},null===d||void 0===d?void 0:d.headerProps),{selectAllButtonProps:yt({"aria-label":St},null===(t=null===d||void 0===d?void 0:d.headerProps)||void 0===t?void 0:t.selectAllButtonProps)})})}),[d,te,ie,St,At]),re=Dl((function(){return Ka((function(t){var e=0;return t.forEach((function(t){return e+=t.calculatedWidth||t.minWidth})),e}))})),oe=d&&d.collapseAllVisibility,ae=t.useMemo((function(){return re(G)}),[G,re]),se=t.useCallback((function(t,n,r,o){var a=e.onRenderRow?Th(e.onRenderRow,Dt):Dt,u=o?o.key:void 0,c=u&&Rt[u]?Rt[u].numOfGroupHeadersBeforeItem:0,d=At===Et?void 0:"presentation",p=m||r>0?kd:wd,g={item:n,itemIndex:r,flatIndexOffset:(m?2:1)+c,compact:l,columns:G,groupNestingDepth:t,id:"".concat(Ot,"-").concat(r),selectionMode:_,selection:i,onDidMount:rt,onWillUnmount:ot,onRenderItemColumn:mt,onRenderField:vt,getCellValueKey:bt,eventsToRegister:pt,dragDropEvents:h,dragDropHelper:U,viewport:L,checkboxVisibility:s,collapseAllVisibility:oe,getRowAriaLabel:xt,getRowAriaDescribedBy:wt,checkButtonAriaLabel:_t,checkboxCellClassName:Ct,useReducedRowRenderer:Mt,indentWidth:f,cellStyleProps:H,onRenderDetailsCheckbox:V,enableUpdateAnimations:Pt,rowWidth:ae,useFastIcons:W,role:d,isGridRow:!0,focusZoneProps:p};return n?a(g):gt?gt(r,g):null}),[l,G,_,i,Ot,rt,ot,mt,vt,bt,pt,h,U,L,s,oe,xt,wt,m,_t,Ct,Mt,f,H,V,Pt,W,Dt,gt,e.onRenderRow,ae,At,Rt]),le=t.useCallback((function(t){return function(e,i){return se(t,e,i)}}),[se]),ue=t.useCallback((function(t){return t.which===vo(ho.right,F)}),[F]),he=yt(yt({},It),{componentRef:It&&It.componentRef?It.componentRef:Q,className:It&&It.className?Qs(Qt.focusZone,It.className):Qt.focusZone,direction:It?It.direction:mu.vertical,shouldEnterInnerZone:It&&It.shouldEnterInnerZone?It.shouldEnterInnerZone:ue,onActiveElementChanged:It&&It.onActiveElementChanged?It.onActiveElementChanged:dt,shouldRaiseClicksOnEnter:!1,onBlur:It&&It.onBlur?It.onBlur:ft}),ce=c&&(null===d||void 0===d?void 0:d.groupedListAs)?uc(d.groupedListAs,pd):pd,de=c?t.createElement(ce,{focusZoneProps:he,componentRef:tt,groups:c,groupProps:ne,items:p,onRenderCell:se,role:"presentation",selection:i,selectionMode:s!==uu.hidden?_:Xl.none,dragDropEvents:h,dragDropHelper:U,eventsToRegister:T,listProps:jt,onGroupExpandStateChanged:it,usePageCache:A,onShouldVirtualize:O,getGroupHeight:j,compact:l}):t.createElement(th,yt({},he),t.createElement(sd,yt({ref:J,role:"presentation",items:p,onRenderCell:le(0),usePageCache:A,onShouldVirtualize:O},jt))),fe=t.useCallback((function(t){t.which===ho.down&&Q.current&&Q.current.focus()&&(lt&&0===i.getSelectedIndices().length&&i.setIndexSelected(0,!0,!1),t.preventDefault(),t.stopPropagation())}),[i,Q,lt]),pe=t.useCallback((function(t){t.which!==ho.up||t.altKey||et.current&&et.current.focus()&&(t.preventDefault(),t.stopPropagation())}),[et]);return t.createElement("div",yt({ref:Z,className:Qt.root,"data-automationid":"DetailsList","data-is-scrollable":"false"},N?{role:"application"}:{}),t.createElement(zl,null),t.createElement("div",{role:At,"aria-label":P||M,"aria-rowcount":g?0:Zt,"aria-colcount":Jt,"aria-busy":g},t.createElement("div",{onKeyDown:fe,role:"presentation",className:Qt.headerWrapper},m&&Wt({componentRef:et,selectionMode:_,layoutMode:v,selection:i,columns:G,onColumnClick:x,onColumnContextMenu:w,onColumnResized:ut,onColumnIsSizingChanged:nt,onColumnAutoResized:ht,groupNestingDepth:Lt,isAllCollapsed:K,onToggleCollapseAll:ct,ariaLabel:n,ariaLabelForSelectAllCheckbox:r,ariaLabelForSelectionColumn:o,selectAllVisibility:Bt,collapseAllVisibility:d&&d.collapseAllVisibility,viewport:L,columnReorderProps:qt,minimumPixelsForDrag:R,cellStyleProps:H,checkboxVisibility:s,indentWidth:f,onRenderDetailsCheckbox:V,rowWidth:re(G),useFastIcons:W},Wt)),t.createElement("div",{onKeyDown:pe,role:"presentation",className:Qt.contentWrapper},at?de:t.createElement(_c,yt({ref:Nt,selection:i,selectionPreservedOnEmptyClick:S,selectionMode:_,isSelectedOnFocus:lt,selectionClearedOnEscapePress:lt,toggleWithoutModifierPressed:!lt,onItemInvoked:y,onItemContextMenu:b,enterModalOnTouch:Tt},C||{}),de)),Gt(yt({},Kt))))},Sd=function(e){function i(i){var n=e.call(this,i)||this;return n._root=t.createRef(),n._header=t.createRef(),n._groupedList=t.createRef(),n._list=t.createRef(),n._focusZone=t.createRef(),n._selectionZone=t.createRef(),n._onRenderRow=function(e,i){return t.createElement(yc,yt({},e))},n._getDerivedStateFromProps=function(t,e){var i=n.props,r=i.checkboxVisibility,o=i.items,a=i.setKey,s=i.selectionMode,l=void 0===s?n._selection.mode:s,u=i.columns,h=i.viewport,c=i.compact,d=i.dragDropEvents,f=(n.props.groupProps||{}).isAllGroupsCollapsed,p=void 0===f?void 0:f,g=t.viewport&&t.viewport.width||0,m=h&&h.width||0,v=t.setKey!==a||void 0===t.setKey,y=!1;t.layoutMode!==n.props.layoutMode&&(y=!0);var b=e;return v&&(n._initialFocusedIndex=t.initialFocusedIndex,b=yt(yt({},b),{focusedItemIndex:void 0!==n._initialFocusedIndex?n._initialFocusedIndex:-1})),n.props.disableSelectionZone||t.items===o||n._selection.setItems(t.items,v),t.checkboxVisibility===r&&t.columns===u&&g===m&&t.compact===c||(y=!0),b=yt(yt({},b),n._adjustColumns(t,b,!0)),t.selectionMode!==l&&(y=!0),void 0===p&&t.groupProps&&void 0!==t.groupProps.isAllGroupsCollapsed&&(b=yt(yt({},b),{isCollapsed:t.groupProps.isAllGroupsCollapsed,isSomeGroupExpanded:!t.groupProps.isAllGroupsCollapsed})),t.dragDropEvents!==d&&(n._dragDropHelper&&n._dragDropHelper.dispose(),n._dragDropHelper=t.dragDropEvents?new Xh({selection:n._selection,minimumPixelsForDrag:t.minimumPixelsForDrag}):void 0,y=!0),y&&(b=yt(yt({},b),{version:{}})),b},n._onGroupExpandStateChanged=function(t){n.setState({isSomeGroupExpanded:t})},n._onColumnIsSizingChanged=function(t,e){n.setState({isSizing:e})},n._onRowDidMount=function(t){var e=t.props,i=e.item,r=e.itemIndex,o=n._getItemKey(i,r);n._activeRows[o]=t,n._setFocusToRowIfPending(t);var a=n.props.onRowDidMount;a&&a(i,r)},n._onRowWillUnmount=function(t){var e=n.props.onRowWillUnmount,i=t.props,r=i.item,o=i.itemIndex,a=n._getItemKey(r,o);delete n._activeRows[a],e&&e(r,o)},n._onToggleCollapse=function(t){n.setState({isCollapsed:t}),n._groupedList.current&&n._groupedList.current.toggleCollapseAll(t)},n._onColumnResized=function(t,e,i){var r=Math.max(t.minWidth||xd,e);n.props.onColumnResize&&n.props.onColumnResize(t,r,i),n._rememberCalculatedWidth(t,r),n.setState(yt(yt({},n._adjustColumns(n.props,n.state,!0,i)),{version:{}}))},n._onColumnAutoResized=function(t,e){var i=0,r=0,o=Object.keys(n._activeRows).length;for(var a in n._activeRows){if(n._activeRows.hasOwnProperty(a))n._activeRows[a].measureCell(e,(function(a){i=Math.max(i,a),++r===o&&n._onColumnResized(t,i,e)}))}},n._onActiveRowChanged=function(t,e){var i=n.props,r=i.items,o=i.onActiveItemChanged;if(t&&t.getAttribute("data-item-index")){var a=Number(t.getAttribute("data-item-index"));a>=0&&(o&&o(r[a],a,e),n.setState({focusedItemIndex:a}))}},n._onBlur=function(t){n.setState({focusedItemIndex:-1})},ol(n),n._async=new hl(n),n._activeRows={},n._columnOverrides={},n.state={focusedItemIndex:-1,lastWidth:0,adjustedColumns:n._getAdjustedColumns(i,void 0),isSizing:!1,isCollapsed:i.groupProps&&i.groupProps.isAllGroupsCollapsed,isSomeGroupExpanded:i.groupProps&&!i.groupProps.isAllGroupsCollapsed,version:{},getDerivedStateFromProps:n._getDerivedStateFromProps},n._selection=i.selection||new cu({onSelectionChanged:void 0,getKey:i.getKey,selectionMode:i.selectionMode}),n.props.disableSelectionZone||n._selection.setItems(i.items,!1),n._dragDropHelper=i.dragDropEvents?new Xh({selection:n._selection,minimumPixelsForDrag:i.minimumPixelsForDrag}):void 0,n._initialFocusedIndex=i.initialFocusedIndex,n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){return e.getDerivedStateFromProps(t,e)},i.prototype.scrollToIndex=function(t,e,i){this._list.current&&this._list.current.scrollToIndex(t,e,i),this._groupedList.current&&this._groupedList.current.scrollToIndex(t,e,i)},i.prototype.focusIndex=function(t,e,i,n){void 0===e&&(e=!1);var r=this.props.items[t];if(r){this.scrollToIndex(t,i,n);var o=this._getItemKey(r,t),a=this._activeRows[o];a&&this._setFocusToRow(a,e)}},i.prototype.getStartItemIndexInView=function(){return this._list&&this._list.current?this._list.current.getStartItemIndexInView():this._groupedList&&this._groupedList.current?this._groupedList.current.getStartItemIndexInView():0},i.prototype.updateColumn=function(t,e){var i,n,r=this.props,o=r.columns,a=void 0===o?[]:o,s=r.selectionMode,l=r.checkboxVisibility,u=r.columnReorderOptions,h=e.width,c=e.newColumnIndex,d=a.findIndex((function(e){return e.key===t.key}));if(h&&this._onColumnResized(t,h,d),void 0!==c&&u){var f=s===Xl.none||l===uu.hidden,p=(l!==uu.hidden?2:1)+d,g=f?p-1:p-2,m=f?c-1:c-2,v=null!==(i=u.frozenColumnCountFromStart)&&void 0!==i?i:0,y=null!==(n=u.frozenColumnCountFromEnd)&&void 0!==n?n:0;if(m>=v&&m<a.length-y)if(u.onColumnDrop){var b={draggedIndex:g,targetIndex:m};u.onColumnDrop(b)}else u.handleColumnReorder&&u.handleColumnReorder(g,m)}},i.prototype.componentWillUnmount=function(){this._dragDropHelper&&this._dragDropHelper.dispose(),this._async.dispose()},i.prototype.componentDidUpdate=function(t,e){if((this._notifyColumnsResized(),void 0!==this._initialFocusedIndex)&&(o=this.props.items[this._initialFocusedIndex])){var i=this._getItemKey(o,this._initialFocusedIndex);(n=this._activeRows[i])&&this._setFocusToRowIfPending(n)}if(this.props.items!==t.items&&this.props.items.length>0&&-1!==this.state.focusedItemIndex&&!gu(this._root.current,document.activeElement,!1)){var n,r=this.state.focusedItemIndex<this.props.items.length?this.state.focusedItemIndex:this.props.items.length-1,o=this.props.items[r];i=this._getItemKey(o,this.state.focusedItemIndex);(n=this._activeRows[i])?this._setFocusToRow(n):this._initialFocusedIndex=r}this.props.onDidUpdate&&this.props.onDidUpdate(this)},i.prototype.render=function(){return t.createElement(_d,yt({},this.props,this.state,{selection:this._selection,dragDropHelper:this._dragDropHelper,rootRef:this._root,listRef:this._list,groupedListRef:this._groupedList,focusZoneRef:this._focusZone,headerRef:this._header,selectionZoneRef:this._selectionZone,onGroupExpandStateChanged:this._onGroupExpandStateChanged,onColumnIsSizingChanged:this._onColumnIsSizingChanged,onRowDidMount:this._onRowDidMount,onRowWillUnmount:this._onRowWillUnmount,onColumnResized:this._onColumnResized,onColumnAutoResized:this._onColumnAutoResized,onToggleCollapse:this._onToggleCollapse,onActiveRowChanged:this._onActiveRowChanged,onBlur:this._onBlur,onRenderDefaultRow:this._onRenderRow}))},i.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this._forceListUpdates()},i.prototype._getGroupNestingDepth=function(){for(var t=0,e=this.props.groups;e&&e.length>0;)t++,e=e[0].children;return t},i.prototype._setFocusToRowIfPending=function(t){var e=t.props.itemIndex;void 0!==this._initialFocusedIndex&&e===this._initialFocusedIndex&&(this._setFocusToRow(t),delete this._initialFocusedIndex)},i.prototype._setFocusToRow=function(t,e){void 0===e&&(e=!1),this._selectionZone.current&&this._selectionZone.current.ignoreNextFocus(),this._async.setTimeout((function(){t.focus(e)}),0)},i.prototype._forceListUpdates=function(){this._groupedList.current&&this._groupedList.current.forceUpdate(),this._list.current&&this._list.current.forceUpdate()},i.prototype._notifyColumnsResized=function(){this.state.adjustedColumns.forEach((function(t){t.onColumnResize&&t.onColumnResize(t.currentWidth)}))},i.prototype._adjustColumns=function(t,e,i,n){var r=this._getAdjustedColumns(t,e,i,n),o=this.props.viewport,a=o&&o.width?o.width:0;return yt(yt({},e),{adjustedColumns:r,lastWidth:a})},i.prototype._getAdjustedColumns=function(t,e,i,n){var r,o=this,a=t.items,s=t.layoutMode,l=t.selectionMode,u=t.viewport,h=u&&u.width?u.width:0,c=t.columns,d=this.props?this.props.columns:[],f=e?e.lastWidth:-1,p=e?e.lastSelectionMode:void 0;return i||f!==h||p!==l||d&&c!==d?(c=c||function(t,e,i,n,r,o,a,s){var l=[];if(t&&t.length){var u=t[0];for(var h in u)u.hasOwnProperty(h)&&l.push({key:h,name:h,fieldName:h,minWidth:xd,maxWidth:300,isCollapsible:!!l.length,isMultiline:void 0!==a&&a,isSorted:n===h,isSortedDescending:!!r,isRowHeader:!1,columnActionsMode:null!==s&&void 0!==s?s:ou.clickable,isResizable:e,onColumnClick:i,isGrouped:o===h})}return l}(a,!0),s===lu.fixedColumns?(r=this._getFixedColumns(c,h,t)).forEach((function(t){o._rememberCalculatedWidth(t,t.calculatedWidth)})):(r=this._getJustifiedColumns(c,h,t)).forEach((function(t){o._getColumnOverride(t.key).currentWidth=t.calculatedWidth})),r):c||[]},i.prototype._getFixedColumns=function(t,e,i){var n=this,r=this.props,o=r.selectionMode,a=void 0===o?this._selection.mode:o,s=r.checkboxVisibility,l=r.flexMargin,u=r.skipViewportMeasures,h=e-(l||0),c=0;t.forEach((function(t){u||!t.flexGrow?h-=t.maxWidth||t.minWidth||xd:(h-=t.minWidth||xd,c+=t.flexGrow),h-=Cd(t,i,!0)}));var d=a!==Xl.none&&s!==uu.hidden?48:0,f=36*this._getGroupNestingDepth(),p=(h-=d+f)/c;return u||t.forEach((function(t){var e=yt(yt({},t),n._columnOverrides[t.key]);if(e.flexGrow&&e.maxWidth){var i=e.flexGrow*p+e.minWidth,r=i-e.maxWidth;r>0&&(h+=r,c-=r/(i-e.minWidth)*e.flexGrow)}})),p=h>0?h/c:0,t.map((function(t){var e=yt(yt({},t),n._columnOverrides[t.key]);return!u&&e.flexGrow&&h<=0||e.calculatedWidth||(!u&&e.flexGrow?(e.calculatedWidth=e.minWidth+e.flexGrow*p,e.calculatedWidth=Math.min(e.calculatedWidth,e.maxWidth||Number.MAX_VALUE)):e.calculatedWidth=e.maxWidth||e.minWidth||xd),e}))},i.prototype._getJustifiedColumns=function(t,e,i){var n=this,r=i.selectionMode,o=void 0===r?this._selection.mode:r,a=i.checkboxVisibility,s=i.skipViewportMeasures,l=o!==Xl.none&&a!==uu.hidden?48:0,u=36*this._getGroupNestingDepth(),h=0,c=e-(l+u),d=t.map((function(t,e){var r=yt(yt({},t),{calculatedWidth:t.minWidth||xd}),o=yt(yt({},r),n._columnOverrides[t.key]);return h+=Cd(o,i),o}));if(s)return d;for(var f=d.length-1;f>=0&&h>c;){var p=(y=d[f]).minWidth||xd,g=h-c;if(y.calculatedWidth-p>=g||!y.isCollapsible&&!y.isCollapsable){var m=y.calculatedWidth;y.calculatedWidth=Math.max(y.calculatedWidth-g,p),h-=m-y.calculatedWidth}else h-=Cd(y,i),d.splice(f,1);f--}for(var v=0;v<d.length&&h<c;v++){var y=d[v],b=v===d.length-1,x=this._columnOverrides[y.key];if(!x||!x.calculatedWidth||b){var w=c-h,k=void 0;if(b)k=w;else{var _=y.maxWidth;p=y.minWidth||_||xd;k=_?Math.min(w,_-p):w}y.calculatedWidth=y.calculatedWidth+k,h+=k}}return d},i.prototype._rememberCalculatedWidth=function(t,e){var i=this._getColumnOverride(t.key);i.calculatedWidth=e,i.currentWidth=e},i.prototype._getColumnOverride=function(t){return this._columnOverrides[t]=this._columnOverrides[t]||{}},i.prototype._getItemKey=function(t,e){var i=this.props.getKey,n=void 0;return t&&(n=t.key),i&&(n=i(t,e)),n||(n=e),n},i.defaultProps={layoutMode:lu.justified,selectionMode:Xl.multiple,constrainMode:au.horizontalConstrained,checkboxVisibility:uu.onHover,isHeaderVisible:!0,compact:!1,useFastIcons:!0},i=xt([yd],i)}(t.Component);function Cd(t,e,i){var n=e.cellStyleProps,r=void 0===n?Rh:n;return(i?0:t.calculatedWidth)+r.cellLeftPadding+r.cellRightPadding+(t.isPadded?r.cellExtraRightPadding:0)}var Md={root:"ms-DetailsList",compact:"ms-DetailsList--Compact",contentWrapper:"ms-DetailsList-contentWrapper",headerWrapper:"ms-DetailsList-headerWrapper",isFixed:"is-fixed",isHorizontalConstrained:"is-horizontalConstrained",listCell:"ms-List-cell"},Pd=Qn(Sd,(function(t){var e,i,n=t.theme,r=t.className,o=t.isHorizontalConstrained,a=t.compact,s=t.isFixed,l=n.semanticColors,u=Ja(Md,n);return{root:[u.root,n.fonts.small,{position:"relative",color:l.listText,selectors:(e={},e["& .".concat(u.listCell)]={minHeight:38,wordBreak:"break-word"},e)},s&&u.isFixed,a&&[u.compact,{selectors:(i={},i[".".concat(u.listCell)]={minHeight:32},i)}],o&&[u.isHorizontalConstrained,{overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"}],r],focusZone:[{display:"inline-block",minWidth:"100%",minHeight:1}],headerWrapper:u.headerWrapper,contentWrapper:u.contentWrapper}}),void 0,{scope:"DetailsList"}),Td=100,Dd=function(){function t(t){this._events=new hu(this),this._scrollableParent=Bu(t),this._incrementScroll=this._incrementScroll.bind(this),this._scrollRect=vd(this._scrollableParent),this._scrollableParent===window&&(this._scrollableParent=document.body),this._scrollableParent&&(this._events.on(window,"mousemove",this._onMouseMove,!0),this._events.on(window,"touchmove",this._onTouchMove,!0))}return t.prototype.dispose=function(){this._events.dispose(),this._stopScroll()},t.prototype._onMouseMove=function(t){this._computeScrollVelocity(t)},t.prototype._onTouchMove=function(t){t.touches.length>0&&this._computeScrollVelocity(t)},t.prototype._computeScrollVelocity=function(t){if(this._scrollRect){var e,i;"clientX"in t?(e=t.clientX,i=t.clientY):(e=t.touches[0].clientX,i=t.touches[0].clientY);var n,r,o,a=this._scrollRect.top,s=this._scrollRect.left,l=a+this._scrollRect.height-Td,u=s+this._scrollRect.width-Td;i<a+Td||i>l?(r=i,n=a,o=l,this._isVerticalScroll=!0):(r=e,n=s,o=u,this._isVerticalScroll=!1),this._scrollVelocity=r<n+Td?Math.max(-15,(Td-(r-n))/Td*-15):r>o?Math.min(15,(r-o)/Td*15):0,this._scrollVelocity?this._startScroll():this._stopScroll()}},t.prototype._startScroll=function(){this._timeoutId||this._incrementScroll()},t.prototype._incrementScroll=function(){this._scrollableParent&&(this._isVerticalScroll?this._scrollableParent.scrollTop+=Math.round(this._scrollVelocity):this._scrollableParent.scrollLeft+=Math.round(this._scrollVelocity)),this._timeoutId=setTimeout(this._incrementScroll,16)},t.prototype._stopScroll=function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},t}();var Nd,Id=wo(),Ed=function(e){function i(i){var n=e.call(this,i)||this;return n._root=t.createRef(),n._onMouseDown=function(t){var e=n.props,i=e.isEnabled,r=e.onShouldStartSelection;n._isMouseEventOnScrollbar(t)||n._isInSelectionToggle(t)||n._isTouch||!i||n._isDragStartInSelection(t)||r&&!r(t)||n._scrollableSurface&&0===t.button&&n._root.current&&(n._selectedIndicies={},n._preservedIndicies=void 0,n._events.on(window,"mousemove",n._onAsyncMouseMove,!0),n._events.on(n._scrollableParent,"scroll",n._onAsyncMouseMove),n._events.on(window,"click",n._onMouseUp,!0),n._autoScroll=new Dd(n._root.current),n._scrollTop=n._scrollableSurface.scrollTop,n._scrollLeft=n._scrollableSurface.scrollLeft,n._rootRect=n._root.current.getBoundingClientRect(),n._onMouseMove(t))},n._onTouchStart=function(t){n._isTouch=!0,n._async.setTimeout((function(){n._isTouch=!1}),0)},n._onPointerDown=function(t){"touch"===t.pointerType&&(n._isTouch=!0,n._async.setTimeout((function(){n._isTouch=!1}),0))},ol(n),n._async=new hl(n),n._events=new hu(n),n.state={dragRect:void 0},n}return vt(i,e),i.prototype.componentDidMount=function(){this._scrollableParent=Bu(this._root.current),this._scrollableSurface=this._scrollableParent===window?document.body:this._scrollableParent;var t=this.props.isDraggingConstrainedToRoot?this._root.current:this._scrollableSurface;this._events.on(t,"mousedown",this._onMouseDown),this._events.on(t,"touchstart",this._onTouchStart,!0),this._events.on(t,"pointerdown",this._onPointerDown,!0)},i.prototype.componentWillUnmount=function(){this._autoScroll&&this._autoScroll.dispose(),delete this._scrollableParent,delete this._scrollableSurface,this._events.dispose(),this._async.dispose()},i.prototype.render=function(){var e=this.props,i=e.rootProps,n=e.children,r=e.theme,o=e.className,a=e.styles,s=this.state.dragRect,l=Id(a,{theme:r,className:o});return t.createElement("div",yt({},i,{className:l.root,ref:this._root}),n,s&&t.createElement("div",{className:l.dragMask}),s&&t.createElement("div",{className:l.box,style:s},t.createElement("div",{className:l.boxFill})))},i.prototype._isMouseEventOnScrollbar=function(t){var e=t.target,i=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;if(i||n){var r=e.getBoundingClientRect();if(mo(this.props.theme)){if(t.clientX<r.left+i)return!0}else if(t.clientX>r.left+e.clientWidth)return!0;if(t.clientY>r.top+e.clientHeight)return!0}return!1},i.prototype._getRootRect=function(){return{left:this._rootRect.left+(this._scrollableSurface?this._scrollLeft-this._scrollableSurface.scrollLeft:this._scrollLeft),top:this._rootRect.top+(this._scrollableSurface?this._scrollTop-this._scrollableSurface.scrollTop:this._scrollTop),width:this._rootRect.width,height:this._rootRect.height}},i.prototype._onAsyncMouseMove=function(t){var e=this;this._async.requestAnimationFrame((function(){e._onMouseMove(t)})),t.stopPropagation(),t.preventDefault()},i.prototype._onMouseMove=function(t){if(this._autoScroll){void 0!==t.clientX&&(this._lastMouseEvent=t);var e=this._getRootRect(),i={left:t.clientX-e.left,top:t.clientY-e.top};if(this._dragOrigin||(this._dragOrigin=i),void 0!==t.buttons&&0===t.buttons)this._onMouseUp(t);else if(this.state.dragRect||function(t,e){var i=t.left||t.x||0,n=t.top||t.y||0,r=e.left||e.x||0,o=e.top||e.y||0;return Math.sqrt(Math.pow(i-r,2)+Math.pow(n-o,2))}(this._dragOrigin,i)>5){if(!this.state.dragRect){var n=this.props.selection;t.shiftKey||n.setAllSelected(!1),this._preservedIndicies=n&&n.getSelectedIndices&&n.getSelectedIndices()}var r=this.props.isDraggingConstrainedToRoot?{left:Math.max(0,Math.min(e.width,this._lastMouseEvent.clientX-e.left)),top:Math.max(0,Math.min(e.height,this._lastMouseEvent.clientY-e.top))}:{left:this._lastMouseEvent.clientX-e.left,top:this._lastMouseEvent.clientY-e.top},o={left:Math.min(this._dragOrigin.left||0,r.left),top:Math.min(this._dragOrigin.top||0,r.top),width:Math.abs(r.left-(this._dragOrigin.left||0)),height:Math.abs(r.top-(this._dragOrigin.top||0))};this._evaluateSelection(o,e),this.setState({dragRect:o})}return!1}},i.prototype._onMouseUp=function(t){this._events.off(window),this._events.off(this._scrollableParent,"scroll"),this._autoScroll&&this._autoScroll.dispose(),this._autoScroll=this._dragOrigin=this._lastMouseEvent=void 0,this._selectedIndicies=this._itemRectCache=void 0,this.state.dragRect&&(this.setState({dragRect:void 0}),t.preventDefault(),t.stopPropagation())},i.prototype._isPointInRectangle=function(t,e){return!!e.top&&t.top<e.top&&t.bottom>e.top&&!!e.left&&t.left<e.left&&t.right>e.left},i.prototype._isDragStartInSelection=function(t){var e=this.props.selection;if(!this._root.current||e&&0===e.getSelectedCount())return!1;for(var i=this._root.current.querySelectorAll("[data-selection-index]"),n=0;n<i.length;n++){var r=i[n],o=Number(r.getAttribute("data-selection-index"));if(e.isIndexSelected(o)){var a=r.getBoundingClientRect();if(this._isPointInRectangle(a,{left:t.clientX,top:t.clientY}))return!0}}return!1},i.prototype._isInSelectionToggle=function(t){for(var e=t.target;e&&e!==this._root.current;){if("true"===e.getAttribute("data-selection-toggle"))return!0;e=e.parentElement}return!1},i.prototype._evaluateSelection=function(t,e){if(t&&this._root.current){var i=this.props.selection,n=this._root.current.querySelectorAll("[data-selection-index]");this._itemRectCache||(this._itemRectCache={});for(var r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-selection-index"),s=this._itemRectCache[a];s||(s={left:(s=o.getBoundingClientRect()).left-e.left,top:s.top-e.top,width:s.width,height:s.height,right:s.left-e.left+s.width,bottom:s.top-e.top+s.height}).width>0&&s.height>0&&(this._itemRectCache[a]=s),s.top<t.top+t.height&&s.bottom>t.top&&s.left<t.left+t.width&&s.right>t.left?this._selectedIndicies[a]=!0:delete this._selectedIndicies[a]}var l=this._allSelectedIndices||{};for(var a in this._allSelectedIndices={},this._selectedIndicies)this._selectedIndicies.hasOwnProperty(a)&&(this._allSelectedIndices[a]=!0);if(this._preservedIndicies)for(var u=0,h=this._preservedIndicies;u<h.length;u++){a=h[u];this._allSelectedIndices[a]=!0}var c=!1;for(var a in this._allSelectedIndices)if(this._allSelectedIndices[a]!==l[a]){c=!0;break}if(!c)for(var a in l)if(this._allSelectedIndices[a]!==l[a]){c=!0;break}if(c){i.setChangeEvents(!1),i.setAllSelected(!1);for(var d=0,f=Object.keys(this._allSelectedIndices);d<f.length;d++){a=f[d];i.setIndexSelected(Number(a),!0,!1)}i.setChangeEvents(!0)}}},i.defaultProps={rootTagName:"div",rootProps:{},isEnabled:!0},i}(t.Component),Ad=Qn(Ed,(function(t){var e,i,n,r=t.theme,o=t.className,a=r.palette;return{root:[o,{position:"relative",cursor:"default"}],dragMask:[{position:"absolute",background:"rgba(255, 0, 0, 0)",left:0,top:0,right:0,bottom:0,selectors:(e={},e[Da]={background:"none",backgroundColor:"transparent"},e)}],box:[{position:"absolute",boxSizing:"border-box",border:"1px solid ".concat(a.themePrimary),pointerEvents:"none",zIndex:10,selectors:(i={},i[Da]={borderColor:"Highlight"},i)}],boxFill:[{position:"absolute",boxSizing:"border-box",backgroundColor:a.themePrimary,opacity:.1,left:0,top:0,right:0,bottom:0,selectors:(n={},n[Da]={background:"none",backgroundColor:"transparent"},n)}]}}),void 0,{scope:"MarqueeSelection"}),Od="backward",Ld=function(e){function i(i){var n=e.call(this,i)||this;return n._inputElement=t.createRef(),n._autoFillEnabled=!0,n._onCompositionStart=function(t){n.setState({isComposing:!0}),n._autoFillEnabled=!1},n._onCompositionUpdate=function(){bl()&&n._updateValue(n._getCurrentInputValue(),!0)},n._onCompositionEnd=function(t){var e=n._getCurrentInputValue();n._tryEnableAutofill(e,n.value,!1,!0),n.setState({isComposing:!1}),n._async.setTimeout((function(){n._updateValue(n._getCurrentInputValue(),!1)}),0)},n._onClick=function(){n.value&&""!==n.value&&n._autoFillEnabled&&(n._autoFillEnabled=!1)},n._onKeyDown=function(t){if(n.props.onKeyDown&&n.props.onKeyDown(t),!t.nativeEvent.isComposing)switch(t.which){case ho.backspace:n._autoFillEnabled=!1;break;case ho.left:case ho.right:n._autoFillEnabled&&(n.setState({inputValue:n.props.suggestedDisplayValue||""}),n._autoFillEnabled=!1);break;default:n._autoFillEnabled||-1!==n.props.enableAutofillOnKeyPress.indexOf(t.which)&&(n._autoFillEnabled=!0)}},n._onInputChanged=function(t){var e=n._getCurrentInputValue(t);if(n.state.isComposing||n._tryEnableAutofill(e,n.value,t.nativeEvent.isComposing),!bl()||!n.state.isComposing){var i=t.nativeEvent.isComposing,r=void 0===i?n.state.isComposing:i;n._updateValue(e,r)}},n._onChanged=function(){},n._updateValue=function(t,e){if(t||t!==n.value){var i=n.props,r=i.onInputChange,o=i.onInputValueChange;r&&(t=(null===r||void 0===r?void 0:r(t,e))||""),n.setState({inputValue:t},(function(){return null===o||void 0===o?void 0:o(t,e)}))}},ol(n),n._async=new hl(n),n.state={inputValue:i.defaultVisibleValue||"",isComposing:!1},n}return vt(i,e),i.getDerivedStateFromProps=function(t,e){if(t.updateValueInWillReceiveProps){var i=t.updateValueInWillReceiveProps();if(null!==i&&i!==e.inputValue&&!e.isComposing)return yt(yt({},e),{inputValue:i})}return null},Object.defineProperty(i.prototype,"cursorLocation",{get:function(){if(this._inputElement.current){var t=this._inputElement.current;return"forward"!==t.selectionDirection?t.selectionEnd:t.selectionStart}return-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isValueSelected",{get:function(){return Boolean(this.inputElement&&this.inputElement.selectionStart!==this.inputElement.selectionEnd)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._getControlledValue()||this.state.inputValue||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectionStart",{get:function(){return this._inputElement.current?this._inputElement.current.selectionStart:-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectionEnd",{get:function(){return this._inputElement.current?this._inputElement.current.selectionEnd:-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._inputElement.current},enumerable:!1,configurable:!0}),i.prototype.componentDidUpdate=function(t,e,i){var n=this.props,r=n.suggestedDisplayValue,o=n.shouldSelectFullInputValueInComponentDidUpdate,a=0;if(!n.preventValueSelection)if(this._inputElement.current&&this._inputElement.current===document.activeElement&&this._autoFillEnabled&&this.value&&r&&Rd(r,this.value)){var s=!1;if(o&&(s=o()),s)this._inputElement.current.setSelectionRange(0,r.length,Od);else{for(;a<this.value.length&&this.value[a].toLocaleLowerCase()===r[a].toLocaleLowerCase();)a++;a>0&&this._inputElement.current.setSelectionRange(a,r.length,Od)}}else this._inputElement.current&&(null===i||this._autoFillEnabled||this.state.isComposing||this._inputElement.current.setSelectionRange(i.start,i.end,i.dir))},i.prototype.componentWillUnmount=function(){this._async.dispose()},i.prototype.render=function(){var e=Sr(this.props,hr),i=yt(yt({},this.props.style),{fontFamily:"inherit"});return t.createElement("input",yt({autoCapitalize:"off",autoComplete:"off","aria-autocomplete":"both"},e,{style:i,ref:this._inputElement,value:this._getDisplayValue(),onCompositionStart:this._onCompositionStart,onCompositionUpdate:this._onCompositionUpdate,onCompositionEnd:this._onCompositionEnd,onChange:this._onChanged,onInput:this._onInputChanged,onKeyDown:this._onKeyDown,onClick:this.props.onClick?this.props.onClick:this._onClick,"data-lpignore":!0}))},i.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},i.prototype.clear=function(){this._autoFillEnabled=!0,this._updateValue("",!1),this._inputElement.current&&this._inputElement.current.setSelectionRange(0,0)},i.prototype.getSnapshotBeforeUpdate=function(){var t,e,i=this._inputElement.current;return i&&i.selectionStart!==this.value.length?{start:null!==(t=i.selectionStart)&&void 0!==t?t:i.value.length,end:null!==(e=i.selectionEnd)&&void 0!==e?e:i.value.length,dir:i.selectionDirection||"backward"}:null},i.prototype._getCurrentInputValue=function(t){return t&&t.target&&t.target.value?t.target.value:this.inputElement&&this.inputElement.value?this.inputElement.value:""},i.prototype._tryEnableAutofill=function(t,e,i,n){!i&&t&&this._inputElement.current&&this._inputElement.current.selectionStart===t.length&&!this._autoFillEnabled&&(t.length>e.length||n)&&(this._autoFillEnabled=!0)},i.prototype._getDisplayValue=function(){return this._autoFillEnabled?function(t,e){var i=t;e&&t&&Rd(e,i)&&(i=e);return i}(this.value,this.props.suggestedDisplayValue):this.value},i.prototype._getControlledValue=function(){var t=this.props.value;return void 0===t||"string"===typeof t?t:(console.warn("props.value of Autofill should be a string, but it is ".concat(t," with type of ").concat(typeof t)),t.toString())},i.defaultProps={enableAutofillOnKeyPress:[ho.down,ho.up]},i}(t.Component);function Rd(t,e){return!(!t||!e)&&0===t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}function jd(t,e){for(var i=yt({},e),n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];void 0===i[o]&&(i[o]=t[o])}return i}function Bd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.filter((function(t){return t})).join(" ").trim();return""===i?void 0:i}function Fd(t){var e;if("undefined"===typeof Nd||t){var i=Bn(),n=null===(e=null===i||void 0===i?void 0:i.navigator)||void 0===e?void 0:e.userAgent;Nd=!!n&&-1!==n.indexOf("Macintosh")}return!!Nd}var zd=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)};function Hd(e,i,n){return function(r){var o,a=((o=function(o){function a(t){var e=o.call(this,t)||this;return e._styleCache={},e._onSettingChanged=e._onSettingChanged.bind(e),e}return vt(a,o),a.prototype.componentDidMount=function(){Xn.observe(this._onSettingChanged)},a.prototype.componentWillUnmount=function(){Xn.unobserve(this._onSettingChanged)},a.prototype.render=function(){var o=this;return t.createElement(qn.Consumer,null,(function(a){var s=Xn.getSettings(i,e,a.customizations),l=o.props;if(s.styles&&"function"===typeof s.styles&&(s.styles=s.styles(yt(yt({},s),l))),n&&s.styles){if(o._styleCache.default!==s.styles||o._styleCache.component!==l.styles){var u=On(s.styles,l.styles);o._styleCache.default=s.styles,o._styleCache.component=l.styles,o._styleCache.merged=u}return t.createElement(r,yt({},s,l,{styles:o._styleCache.merged}))}return t.createElement(r,yt({},s,l))}))},a.prototype._onSettingChanged=function(){this.forceUpdate()},a}(t.Component)).displayName="Customized"+e,o);return function(t,e){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(r,a)}}var Vd,Wd,Ud={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13};function Gd(t,e,i,n){return t.addEventListener(e,i,n),function(){return t.removeEventListener(e,i,n)}}!function(t){t[t.top=1]="top",t[t.bottom=-1]="bottom",t[t.left=2]="left",t[t.right=-2]="right"}(Vd||(Vd={})),function(t){t[t.top=0]="top",t[t.bottom=1]="bottom",t[t.start=2]="start",t[t.end=3]="end"}(Wd||(Wd={}));var Kd,Yd=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.top=i,this.bottom=n,this.left=t,this.right=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),t.prototype.equals=function(t){return parseFloat(this.top.toFixed(4))===parseFloat(t.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(t.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(t.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(t.right.toFixed(4))},t}();function Xd(t,e,i){return{targetEdge:t,alignmentEdge:e,isAuto:i}}var qd=((Kd={})[Ud.topLeftEdge]=Xd(Vd.top,Vd.left),Kd[Ud.topCenter]=Xd(Vd.top),Kd[Ud.topRightEdge]=Xd(Vd.top,Vd.right),Kd[Ud.topAutoEdge]=Xd(Vd.top,void 0,!0),Kd[Ud.bottomLeftEdge]=Xd(Vd.bottom,Vd.left),Kd[Ud.bottomCenter]=Xd(Vd.bottom),Kd[Ud.bottomRightEdge]=Xd(Vd.bottom,Vd.right),Kd[Ud.bottomAutoEdge]=Xd(Vd.bottom,void 0,!0),Kd[Ud.leftTopEdge]=Xd(Vd.left,Vd.top),Kd[Ud.leftCenter]=Xd(Vd.left),Kd[Ud.leftBottomEdge]=Xd(Vd.left,Vd.bottom),Kd[Ud.rightTopEdge]=Xd(Vd.right,Vd.top),Kd[Ud.rightCenter]=Xd(Vd.right),Kd[Ud.rightBottomEdge]=Xd(Vd.right,Vd.bottom),Kd);function Zd(t,e){return!(t.top<e.top)&&(!(t.bottom>e.bottom)&&(!(t.left<e.left)&&!(t.right>e.right)))}function Jd(t,e){var i=[];return t.top<e.top&&i.push(Vd.top),t.bottom>e.bottom&&i.push(Vd.bottom),t.left<e.left&&i.push(Vd.left),t.right>e.right&&i.push(Vd.right),i}function Qd(t,e){return t[Vd[e]]}function $d(t,e,i){return t[Vd[e]]=i,t}function tf(t,e){var i=ff(e);return(Qd(t,i.positiveEdge)+Qd(t,i.negativeEdge))/2}function ef(t,e){return t>0?e:-1*e}function nf(t,e){return ef(t,Qd(e,t))}function rf(t,e,i){return ef(i,Qd(t,i)-Qd(e,i))}function of(t,e,i,n){void 0===n&&(n=!0);var r=Qd(t,e)-i,o=$d(t,e,i);return n&&(o=$d(t,-1*e,Qd(t,-1*e)-r)),o}function af(t,e,i,n){return void 0===n&&(n=0),of(t,i,Qd(e,i)+ef(i,n))}function sf(t,e,i){return nf(i,t)>nf(i,e)}function lf(t,e){for(var i=0,n=0,r=Jd(t,e);n<r.length;n++){var o=r[n];i+=Math.pow(rf(t,e,o),2)}return i}function uf(t,e,i,n,r,o,a){void 0===r&&(r=0);var s=n.alignmentEdge,l=n.alignTargetEdge,u={elementRectangle:t,targetEdge:n.targetEdge,alignmentEdge:s};o||a||(u=function(t,e,i,n,r){void 0===r&&(r=0);var o=[Vd.left,Vd.right,Vd.bottom,Vd.top];mo()&&(o[0]*=-1,o[1]*=-1);for(var a,s=t,l=n.targetEdge,u=n.alignmentEdge,h=l,c=u,d=0;d<4;d++){if(sf(s,i,l))return{elementRectangle:s,targetEdge:l,alignmentEdge:u};var f=lf(s,i);(!a||f<a)&&(a=f,h=l,c=u),o.splice(o.indexOf(l),1),o.length>0&&(o.indexOf(-1*l)>-1?l*=-1:(u=l,l=o.slice(-1)[0]),s=df(t,e,{targetEdge:l,alignmentEdge:u},r))}return{elementRectangle:s=df(t,e,{targetEdge:h,alignmentEdge:c},r),targetEdge:h,alignmentEdge:c}}(t,e,i,n,r));var h=Jd(u.elementRectangle,i),c=o?-u.targetEdge:void 0;if(h.length>0)if(l)if(u.alignmentEdge&&h.indexOf(-1*u.alignmentEdge)>-1){var d=function(t,e,i,n){var r=t.alignmentEdge,o=t.targetEdge,a=-1*r;return{elementRectangle:df(t.elementRectangle,e,{targetEdge:o,alignmentEdge:a},i,n),targetEdge:o,alignmentEdge:a}}(u,e,r,a);if(Zd(d.elementRectangle,i))return d;u=hf(Jd(d.elementRectangle,i),u,i,c)}else u=hf(h,u,i,c);else u=hf(h,u,i,c);return u}function hf(t,e,i,n){for(var r=0,o=t;r<o.length;r++){var a=o[r],s=void 0;if(n&&n===-1*a)s=of(e.elementRectangle,a,Qd(i,a),!1),e.forcedInBounds=!0;else sf(s=af(e.elementRectangle,i,a),i,-1*a)||(s=of(s,-1*a,Qd(i,-1*a),!1),e.forcedInBounds=!0);e.elementRectangle=s}return e}function cf(t,e,i){var n=ff(e).positiveEdge;return of(t,n,i-(tf(t,e)-Qd(t,n)))}function df(t,e,i,n,r){void 0===n&&(n=0);var o=new Yd(t.left,t.right,t.top,t.bottom),a=i.alignmentEdge,s=i.targetEdge,l=r?s:-1*s;(o=r?af(o,e,s,n):function(t,e,i,n){void 0===n&&(n=0);var r=ef(-1*i,n);return of(t,-1*i,Qd(e,i)+r)}(o,e,s,n),a)?o=af(o,e,a):o=cf(o,l,tf(e,s));return o}function ff(t){return t===Vd.top||t===Vd.bottom?{positiveEdge:Vd.left,negativeEdge:Vd.right}:{positiveEdge:Vd.top,negativeEdge:Vd.bottom}}function pf(t,e,i){return i&&Math.abs(rf(t,i,e))>Math.abs(rf(t,i,-1*e))?-1*e:e}function gf(t,e,i,n,r,o,a,s){var l,u={},h=kf(e),c=o?i:-1*i,d=r||ff(i).positiveEdge;return a&&!function(t,e,i){return void 0!==i&&Qd(t,e)===Qd(i,e)}(t,(l=d,-1*l),n)||(d=pf(t,d,n)),u[Vd[c]]=rf(t,h,c),u[Vd[d]]=rf(t,h,d),s&&(u[Vd[-1*c]]=rf(t,h,-1*c),u[Vd[-1*d]]=rf(t,h,-1*d)),u}function mf(t){return Math.sqrt(t*t*2)}function vf(t,e,i){if(void 0===t&&(t=Ud.bottomAutoEdge),i)return{alignmentEdge:i.alignmentEdge,isAuto:i.isAuto,targetEdge:i.targetEdge};var n=yt({},qd[t]);return mo()?(n.alignmentEdge&&n.alignmentEdge%2===0&&(n.alignmentEdge=-1*n.alignmentEdge),void 0!==e?qd[e]:n):n}function yf(t,e,i){var n=tf(e,t),r=tf(i,t),o=ff(t),a=o.positiveEdge,s=o.negativeEdge;return n<=r?a:s}function bf(t,e,i,n,r,o,a){var s=df(t,e,n,r,a);return Zd(s,i)?{elementRectangle:s,targetEdge:n.targetEdge,alignmentEdge:n.alignmentEdge}:uf(s,e,i,n,r,o,a)}function xf(t,e,i){var n=-1*t.targetEdge,r=new Yd(0,t.elementRectangle.width,0,t.elementRectangle.height),o={},a=pf(t.elementRectangle,t.alignmentEdge?t.alignmentEdge:ff(n).positiveEdge,i),s=rf(t.elementRectangle,t.targetRectangle,n)>Math.abs(Qd(e,n));return o[Vd[n]]=Qd(e,n),o[Vd[a]]=rf(e,r,a),{elementPosition:yt({},o),closestEdge:yf(t.targetEdge,e,r),targetEdge:n,hideBeak:!s}}function wf(t,e){var i=e.targetRectangle,n=ff(e.targetEdge),r=n.positiveEdge,o=n.negativeEdge,a=tf(i,e.targetEdge),s=new Yd(t/2,e.elementRectangle.width-t/2,t/2,e.elementRectangle.height-t/2),l=new Yd(0,t,0,t);return sf(l=cf(l=of(l,-1*e.targetEdge,-t/2),-1*e.targetEdge,a-nf(r,e.elementRectangle)),s,r)?sf(l,s,o)||(l=af(l,s,o)):l=af(l,s,r),l}function kf(t){var e=t.getBoundingClientRect();return new Yd(e.left,e.right,e.top,e.bottom)}function _f(t){return new Yd(t.left,t.right,t.top,t.bottom)}function Sf(t,e,i,n){var r=t.gapSpace?t.gapSpace:0,o=function(t,e){var i;if(e){if(e.preventDefault){var n=e;i=new Yd(n.clientX,n.clientX,n.clientY,n.clientY)}else if(e.getBoundingClientRect)i=kf(e);else{var r=e,o=r.left||r.x,a=r.top||r.y,s=r.right||o,l=r.bottom||a;i=new Yd(o,s,a,l)}if(!Zd(i,t))for(var u=0,h=Jd(i,t);u<h.length;u++){var c=h[u];i[Vd[c]]=t[Vd[c]]}}else i=new Yd(0,0,0,0);return i}(i,t.target),a=function(t,e,i,n,r){return t.isAuto&&(t.alignmentEdge=yf(t.targetEdge,e,i)),t.alignTargetEdge=r,t}(vf(t.directionalHint,t.directionalHintForRTL,n),o,i,t.coverTarget,t.alignTargetEdge),s=bf(kf(e),o,i,a,r,t.directionalHintFixed,t.coverTarget);return yt(yt({},s),{targetRectangle:o})}function Cf(t,e,i,n,r){return{elementPosition:gf(t.elementRectangle,e,t.targetEdge,i,t.alignmentEdge,n,r,t.forcedInBounds),targetEdge:t.targetEdge,alignmentEdge:t.alignmentEdge}}function Mf(t,e,i,n,r){var o=t.isBeakVisible&&t.beakWidth||0,a=mf(o)/2+(t.gapSpace?t.gapSpace:0),s=t;s.gapSpace=a;var l=t.bounds?_f(t.bounds):new Yd(0,window.innerWidth-function(){if(void 0===Ou){var t=document.createElement("div");t.style.setProperty("width","100px"),t.style.setProperty("height","100px"),t.style.setProperty("overflow","scroll"),t.style.setProperty("position","absolute"),t.style.setProperty("top","-9999px"),document.body.appendChild(t),Ou=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ou}(),0,window.innerHeight),u=Sf(s,i,l,n),h=xf(u,wf(o,u),l);return yt(yt({},Cf(u,e,l,t.coverTarget,r)),{beakPosition:h})}function Pf(t,e,i,n){return function(t,e,i,n){return Mf(t,e,i,n,!0)}(t,e,i,n)}var Tf=["TEMPLATE","STYLE","SCRIPT"];function Df(t){var e=co(t);if(!e)return function(){};for(var i=[];t!==e.body&&t.parentElement;){for(var n=0,r=t.parentElement.children;n<r.length;n++){var o=r[n],a=o.getAttribute("aria-hidden");o!==t&&"true"!==(null===a||void 0===a?void 0:a.toLowerCase())&&-1===Tf.indexOf(o.tagName)&&i.push([o,a])}t=t.parentElement}return i.forEach((function(t){t[0].setAttribute("aria-hidden","true")})),function(){!function(t){t.forEach((function(t){var e=t[0],i=t[1];i?e.setAttribute("aria-hidden",i):e.removeAttribute("aria-hidden")}))}(i),i=[]}}function Nf(){var e=t.useRef();return e.current||(e.current=new hl),t.useEffect((function(){return function(){var t;null===(t=e.current)||void 0===t||t.dispose(),e.current=void 0}}),[]),e.current}function If(e,i,n,r){var o=t.useRef(n);o.current=n,t.useEffect((function(){var t=e&&"current"in e?e.current:e;if(t)return Gd(t,i,(function(t){return o.current(t)}),r)}),[e,i,r])}var Ef=t.createContext({window:"object"===typeof window?window:void 0}),Af=function(){return t.useContext(Ef).window};function Of(t){var e=t.originalElement,i=t.containsFocus;e&&i&&e!==Bn()&&setTimeout((function(){var t;null===(t=e.focus)||void 0===t||t.call(e)}),0)}function Lf(e,i){var n=e.onRestoreFocus,r=void 0===n?Of:n,o=t.useRef(),a=t.useRef(!1);t.useEffect((function(){return o.current=co().activeElement,function(t){var e=co(t),i=e&&e.activeElement;return!(!i||!gu(t,i))}(i.current)&&(a.current=!0),function(){var t;null===r||void 0===r||r({originalElement:o.current,containsFocus:a.current,documentContainsFocus:(null===(t=co())||void 0===t?void 0:t.hasFocus())||!1}),o.current=void 0}}),[]),If(i,"focus",t.useCallback((function(){a.current=!0}),[]),!0),If(i,"blur",t.useCallback((function(t){i.current&&t.relatedTarget&&!i.current.contains(t.relatedTarget)&&(a.current=!1)}),[]),!0)}function Rf(e,i){var n="true"===String(e["aria-modal"]).toLowerCase()&&e.enableAriaHiddenSiblings;t.useEffect((function(){if(n&&i.current)return Df(i.current)}),[i,n])}var jf,Bf=t.forwardRef((function(e,i){var n=jd({shouldRestoreFocus:!0,enableAriaHiddenSiblings:!0},e),r=t.useRef(),o=Us(r,i);Rf(n,r),Lf(n,r);var a=n.role,s=n.className,l=n.ariaLabel,u=n.ariaLabelledBy,h=n.ariaDescribedBy,c=n.style,d=n.children,f=n.onDismiss,p=function(e,i){var n=Nf(),r=t.useState(!1),o=r[0],a=r[1];return t.useEffect((function(){return n.requestAnimationFrame((function(){var t;if(!e.style||!e.style.overflowY){var n=!1;if(i&&i.current&&(null===(t=i.current)||void 0===t?void 0:t.firstElementChild)){var r=i.current.clientHeight,s=i.current.firstElementChild.clientHeight;r>0&&s>r&&(n=s-r>1)}o!==n&&a(n)}})),function(){return n.dispose()}})),o}(n,r),g=t.useCallback((function(t){if(t.which===ho.escape)f&&(f(t),t.preventDefault(),t.stopPropagation())}),[f]);return If(Af(),"keydown",g),t.createElement("div",yt({ref:o},Sr(n,_r),{className:s,role:a,"aria-label":l,"aria-labelledby":u,"aria-describedby":h,onKeyDown:g,style:yt({overflowY:p?"scroll":void 0,outline:"none"},c)}),d)}));function Ff(e,i){var n=t.useRef(),r=t.useRef(null),o=Af();if(!e||e!==n.current||"string"===typeof e){var a=null===i||void 0===i?void 0:i.current;if(e)if("string"===typeof e){var s=co(a);r.current=s?s.querySelector(e):null}else r.current="stopPropagation"in e||"getBoundingClientRect"in e?e:"current"in e?e.current:e;n.current=e}return[r,o]}Bf.displayName="Popup";var zf=((jf={})[Vd.top]=Ta.slideUpIn10,jf[Vd.bottom]=Ta.slideDownIn10,jf[Vd.left]=Ta.slideLeftIn10,jf[Vd.right]=Ta.slideRightIn10,jf),Hf=0,Vf=0,Wf={opacity:0,filter:"opacity(0)",pointerEvents:"none"},Uf=["role","aria-roledescription"],Gf={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:Ud.bottomAutoEdge},Kf=wo({disableCaching:!0});function Yf(e,i,n,r,o){var a=t.useState(),s=a[0],l=a[1],u=t.useRef(0),h=t.useRef(),c=Nf(),d=e.hidden,f=e.target,p=e.finalHeight,g=e.calloutMaxHeight,m=e.onPositioned,v=e.directionalHint;return t.useEffect((function(){if(!d){var t=c.requestAnimationFrame((function(){var t,a,c,d;if(i.current&&n){var v=yt(yt({},e),{target:r.current,bounds:o()}),y=n.cloneNode(!0);y.style.maxHeight=g?"".concat(g):"",y.style.visibility="hidden",null===(t=n.parentElement)||void 0===t||t.appendChild(y);var b=h.current===f?s:void 0,x=p?Pf(v,i.current,y,b):function(t,e,i,n){return Mf(t,e,i,n)}(v,i.current,y,b);null===(a=n.parentElement)||void 0===a||a.removeChild(y),!s&&x||s&&x&&(d=x,!Jf((c=s).elementPosition,d.elementPosition)||!Jf(c.beakPosition.elementPosition,d.beakPosition.elementPosition))&&u.current<5?(u.current++,l(x)):u.current>0&&(u.current=0,null===m||void 0===m||m(s))}}),n);return h.current=f,function(){c.cancelAnimationFrame(t),h.current=void 0}}l(void 0),u.current=0}),[d,v,c,n,g,i,r,p,o,m,s,e,f]),s}function Xf(e,i,n){var r=e.hidden,o=e.setInitialFocus,a=Nf(),s=!!i;t.useEffect((function(){if(!r&&o&&s&&n){var t=a.requestAnimationFrame((function(){return function(t,e){var i=Pu(t,t,!0,!1,!1,!0,void 0,void 0,e);return!!i&&(Ru(i),!0)}(n)}),n);return function(){return a.cancelAnimationFrame(t)}}}),[r,s,a,n,o])}var qf=t.memo(t.forwardRef((function(e,i){var n=jd(Gf,e),r=n.styles,o=n.style,a=n.ariaLabel,s=n.ariaDescribedBy,l=n.ariaLabelledBy,u=n.className,h=n.isBeakVisible,c=n.children,d=n.beakWidth,f=n.calloutWidth,p=n.calloutMaxWidth,g=n.calloutMinWidth,m=n.doNotLayer,v=n.finalHeight,y=n.hideOverflow,b=void 0===y?!!v:y,x=n.backgroundColor,w=n.calloutMaxHeight,k=n.onScroll,_=n.shouldRestoreFocus,S=void 0===_||_,C=n.target,M=n.hidden,P=n.onLayerMounted,T=n.popupProps,D=t.useRef(null),N=t.useState(null),I=N[0],E=N[1],A=t.useCallback((function(t){E(t)}),[]),O=Us(D,i),L=Ff(n.target,{current:I}),R=L[0],j=L[1],B=function(e,i,n){var r=e.bounds,o=e.minPagePadding,a=void 0===o?Gf.minPagePadding:o,s=e.target,l=t.useState(!1),u=l[0],h=l[1],c=t.useRef(),d=t.useCallback((function(){if(!c.current||u){var t="function"===typeof r?n?r(s,n):void 0:r;!t&&n&&(t=function(t,e){return function(t,e){var i=void 0;if(e.getWindowSegments&&(i=e.getWindowSegments()),void 0===i||i.length<=1)return{top:0,left:0,right:e.innerWidth,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight};var n=0,r=0;if(null!==t&&t.getBoundingClientRect){var o=t.getBoundingClientRect();n=(o.left+o.right)/2,r=(o.top+o.bottom)/2}else null!==t&&(n=t.left||t.x,r=t.top||t.y);for(var a={top:0,left:0,right:0,bottom:0,width:0,height:0},s=0,l=i;s<l.length;s++){var u=l[s];n&&u.left<=n&&u.right>=n&&r&&u.top<=r&&u.bottom>=r&&(a={top:u.top,left:u.left,right:u.right,bottom:u.bottom,width:u.width,height:u.height})}return a}(t,e)}(i.current,n),t={top:t.top+a,left:t.left+a,right:t.right-a,bottom:t.bottom-a,width:t.width-2*a,height:t.height-2*a}),c.current=t,u&&h(!1)}return c.current}),[r,a,s,i,n,u]),f=Nf();return If(n,"resize",f.debounce((function(){h(!0)}),500,{leading:!0})),d}(n,R,j),F=Yf(n,D,I,R,B),z=function(e,i,n){var r,o=e.calloutMaxHeight,a=e.finalHeight,s=e.directionalHint,l=e.directionalHintFixed,u=e.hidden,h=t.useState(),c=h[0],d=h[1],f=null!==(r=null===n||void 0===n?void 0:n.elementPosition)&&void 0!==r?r:{},p=f.top,g=f.bottom;return t.useEffect((function(){var t,e,n=null!==(t=i())&&void 0!==t?t:{},r=n.top,a=n.bottom;"number"===typeof p&&a?e=a-p:"number"===typeof g&&"number"===typeof r&&a&&(e=a-r-g),d(!o&&!u||o&&e&&o>e?e:o||void 0)}),[g,o,a,s,l,i,u,n,p]),c}(n,B,F),H=function(e,i,n,r,o){var a=e.hidden,s=e.onDismiss,l=e.preventDismissOnScroll,u=e.preventDismissOnResize,h=e.preventDismissOnLostFocus,c=e.dismissOnTargetClick,d=e.shouldDismissOnWindowFocus,f=e.preventDismissOnEvent,p=t.useRef(!1),g=Nf(),m=Dl([function(){p.current=!0},function(){p.current=!1}]),v=!!i;return t.useEffect((function(){var t=function(t){v&&!l&&m(t)},e=function(t){u||f&&f(t)||null===s||void 0===s||s(t)},i=function(t){h||m(t)},m=function(t){var e=t.composedPath?t.composedPath():[],i=e.length>0?e[0]:t.target,a=n.current&&!gu(n.current,i);if(a&&p.current)p.current=!1;else if(!r.current&&a||t.target!==o&&a&&(!r.current||"stopPropagation"in r.current||c||i!==r.current&&!gu(r.current,i))){if(f&&f(t))return;null===s||void 0===s||s(t)}},y=function(t){d&&((!f||f(t))&&(f||h)||(null===o||void 0===o?void 0:o.document.hasFocus())||null!==t.relatedTarget||null===s||void 0===s||s(t))},b=new Promise((function(n){g.setTimeout((function(){if(!a&&o){var r=[Gd(o,"scroll",t,!0),Gd(o,"resize",e,!0),Gd(o.document.documentElement,"focus",i,!0),Gd(o.document.documentElement,"click",i,!0),Gd(o,"blur",y,!0)];n((function(){r.forEach((function(t){return t()}))}))}}),0)}));return function(){b.then((function(t){return t()}))}}),[a,g,n,r,o,s,d,c,h,u,l,v,f]),m}(n,F,D,R,j),V=H[0],W=H[1],U=(null===F||void 0===F?void 0:F.elementPosition.top)&&(null===F||void 0===F?void 0:F.elementPosition.bottom),G=yt(yt({},null===F||void 0===F?void 0:F.elementPosition),{maxHeight:z});if(U&&(G.bottom=void 0),Xf(n,F,I),t.useEffect((function(){M||null===P||void 0===P||P()}),[M]),!j)return null;var K=b,Y=h&&!!C,X=Kf(r,{theme:n.theme,className:u,overflowYHidden:K,calloutWidth:f,positions:F,beakWidth:d,backgroundColor:x,calloutMaxWidth:p,calloutMinWidth:g,doNotLayer:m}),q=yt(yt({maxHeight:w||"100%"},o),K&&{overflowY:"hidden"}),Z=n.hidden?{visibility:"hidden"}:void 0;return t.createElement("div",{ref:O,className:X.container,style:Z},t.createElement("div",yt({},Sr(n,_r,Uf),{className:Qs(X.root,F&&F.targetEdge&&zf[F.targetEdge]),style:F?yt({},G):Wf,tabIndex:-1,ref:A}),Y&&t.createElement("div",{className:X.beak,style:Zf(F)}),Y&&t.createElement("div",{className:X.beakCurtain}),t.createElement(Bf,yt({role:n.role,"aria-roledescription":n["aria-roledescription"],ariaDescribedBy:s,ariaLabel:a,ariaLabelledBy:l,className:X.calloutMain,onDismiss:n.onDismiss,onMouseDown:V,onMouseUp:W,onRestoreFocus:n.onRestoreFocus,onScroll:k,shouldRestoreFocus:S,style:q},T),c)))})),(function(t,e){return!(e.shouldUpdateWhenHidden||!t.hidden||!e.hidden)||iu(t,e)}));function Zf(t){var e,i,n=yt(yt({},null===(e=null===t||void 0===t?void 0:t.beakPosition)||void 0===e?void 0:e.elementPosition),{display:(null===(i=null===t||void 0===t?void 0:t.beakPosition)||void 0===i?void 0:i.hideBeak)?"none":void 0});return n.top||n.bottom||n.left||n.right||(n.left=Vf,n.top=Hf),n}function Jf(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=t[i],r=e[i];if(void 0===n||void 0===r)return!1;if(n.toFixed(2)!==r.toFixed(2))return!1}return!0}function Qf(t){return{height:t,width:t}}qf.displayName="CalloutContentBase";var $f={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},tp=Qn(qf,(function(t){var e,i=t.theme,n=t.className,r=t.overflowYHidden,o=t.calloutWidth,a=t.beakWidth,s=t.backgroundColor,l=t.calloutMaxWidth,u=t.calloutMinWidth,h=t.doNotLayer,c=Ja($f,i),d=i.semanticColors,f=i.effects;return{container:[c.container,{position:"relative"}],root:[c.root,i.fonts.medium,{position:"absolute",display:"flex",zIndex:h?Ia.Layer:void 0,boxSizing:"border-box",borderRadius:f.roundedCorner2,boxShadow:f.elevation16,selectors:(e={},e[Da]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},e)},{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}},n,!!o&&{width:o},!!l&&{maxWidth:l},!!u&&{minWidth:u}],beak:[c.beak,{position:"absolute",backgroundColor:d.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},Qf(a),s&&{backgroundColor:s}],beakCurtain:[c.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:d.menuBackground,borderRadius:f.roundedCorner2}],calloutMain:[c.calloutMain,{backgroundColor:d.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%",borderRadius:f.roundedCorner2},r&&{overflowY:"hidden"},s&&{backgroundColor:s}]}}),void 0,{scope:"CalloutContent"}),ep=t.forwardRef((function(e,i){var n=e.layerProps,r=e.doNotLayer,o=bt(e,["layerProps","doNotLayer"]),a=t.createElement(tp,yt({},o,{doNotLayer:r,ref:i}));return r?a:t.createElement(Ch,yt({},n),a)}));ep.displayName="Callout";var ip=wo(),np=t.forwardRef((function(e,i){var n=e.disabled,r=e.required,o=e.inputProps,a=e.name,s=e.ariaLabel,l=e.ariaLabelledBy,u=e.ariaDescribedBy,h=e.ariaPositionInSet,c=e.ariaSetSize,d=e.title,f=e.checkmarkIconProps,p=e.styles,g=e.theme,m=e.className,v=e.boxSide,y=void 0===v?"start":v,b=Il("checkbox-",e.id),x=t.useRef(null),w=Us(x,i),k=t.useRef(null),_=Nl(e.checked,e.defaultChecked,e.onChange),S=_[0],C=_[1],M=Nl(e.indeterminate,e.defaultIndeterminate),P=M[0],T=M[1];Fl(x);var D=ip(p,{theme:g,className:m,disabled:n,indeterminate:P,checked:S,reversed:"start"!==y,isUsingCustomLabelRender:!!e.onRenderLabel}),N=t.useCallback((function(t){P?(C(!!S,t),T(!1)):C(!S,t)}),[C,T,P,S]),I=t.useCallback((function(e){return e&&e.label?t.createElement("span",{className:D.text,title:e.title},e.label):null}),[D.text]),E=t.useCallback((function(t){if(k.current){var e=!!t;k.current.indeterminate=e,T(e)}}),[T]);!function(e,i,n,r,o){t.useImperativeHandle(e.componentRef,(function(){return{get checked(){return!!i},get indeterminate(){return!!n},set indeterminate(t){r(t)},focus:function(){o.current&&o.current.focus()}}}),[o,i,n,r])}(e,S,P,E,k),t.useEffect((function(){return E(P)}),[E,P]);var A=e.onRenderLabel||I,O=P?"mixed":void 0,L=yt(yt({className:D.input,type:"checkbox"},o),{checked:!!S,disabled:n,required:r,name:a,id:b,title:d,onChange:N,"aria-disabled":n,"aria-label":s,"aria-labelledby":l,"aria-describedby":u,"aria-posinset":h,"aria-setsize":c,"aria-checked":O});return t.createElement("div",{className:D.root,title:d,ref:w},t.createElement("input",yt({},L,{ref:k,title:d,"data-ktp-execute-target":!0})),t.createElement("label",{className:D.label,htmlFor:b},t.createElement("div",{className:D.checkbox,"data-ktp-target":!0},t.createElement(nl,yt({iconName:"CheckMark"},f,{className:D.checkmark}))),A(e,I)))}));np.displayName="CheckboxBase";var rp,op,ap,sp={root:"ms-Checkbox",label:"ms-Checkbox-label",checkbox:"ms-Checkbox-checkbox",checkmark:"ms-Checkbox-checkmark",text:"ms-Checkbox-text"},lp="20px",up="200ms",hp="cubic-bezier(.4, 0, .23, 1)",cp=Qn(np,(function(t){var e,i,n,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b=t.className,x=t.theme,w=t.reversed,k=t.checked,_=t.disabled,S=t.isUsingCustomLabelRender,C=t.indeterminate,M=x.semanticColors,P=x.effects,T=x.palette,D=x.fonts,N=Ja(sp,x),I=M.inputForegroundChecked,E=T.neutralSecondary,A=T.neutralPrimary,O=M.inputBackgroundChecked,L=M.inputBackgroundChecked,R=M.disabledBodySubtext,j=M.inputBorderHovered,B=M.inputBackgroundCheckedHovered,F=M.inputBackgroundChecked,z=M.inputBackgroundCheckedHovered,H=M.inputBackgroundCheckedHovered,V=M.inputTextHovered,W=M.disabledBodySubtext,U=M.bodyText,G=M.disabledText,K=[(e={content:'""',borderRadius:P.roundedCorner2,position:"absolute",width:10,height:10,top:4,left:4,boxSizing:"border-box",borderWidth:5,borderStyle:"solid",borderColor:_?R:O,transitionProperty:"border-width, border, border-color",transitionDuration:up,transitionTimingFunction:hp},e[Da]={borderColor:"WindowText"},e)];return{root:[N.root,{position:"relative",display:"flex"},w&&"reversed",k&&"is-checked",!_&&"is-enabled",_&&"is-disabled",!_&&[!k&&(i={},i[":hover .".concat(N.checkbox)]=(n={borderColor:j},n[Da]={borderColor:"Highlight"},n),i[":focus .".concat(N.checkbox)]={borderColor:j},i[":hover .".concat(N.checkmark)]=(r={color:E,opacity:"1"},r[Da]={color:"Highlight"},r),i),k&&!C&&(o={},o[":hover .".concat(N.checkbox)]={background:z,borderColor:H},o[":focus .".concat(N.checkbox)]={background:z,borderColor:H},o[Da]=(a={},a[":hover .".concat(N.checkbox)]={background:"Highlight",borderColor:"Highlight"},a[":focus .".concat(N.checkbox)]={background:"Highlight"},a[":focus:hover .".concat(N.checkbox)]={background:"Highlight"},a[":focus:hover .".concat(N.checkmark)]={color:"Window"},a[":hover .".concat(N.checkmark)]={color:"Window"},a),o),C&&(s={},s[":hover .".concat(N.checkbox,", :hover .").concat(N.checkbox,":after")]=(l={borderColor:B},l[Da]={borderColor:"WindowText"},l),s[":focus .".concat(N.checkbox)]={borderColor:B},s[":hover .".concat(N.checkmark)]={opacity:"0"},s),(u={},u[":hover .".concat(N.text,", :focus .").concat(N.text)]=(h={color:V},h[Da]={color:_?"GrayText":"WindowText"},h),u)],b],input:(c={position:"absolute",background:"none",opacity:0},c[".".concat(Ea," &:focus + label::before")]=(d={outline:"1px solid "+x.palette.neutralSecondary,outlineOffset:"2px"},d[Da]={outline:"1px solid WindowText"},d),c),label:[N.label,x.fonts.medium,{display:"flex",alignItems:S?"center":"flex-start",cursor:_?"default":"pointer",position:"relative",userSelect:"none"},w&&{flexDirection:"row-reverse",justifyContent:"flex-end"},{"&::before":{position:"absolute",left:0,right:0,top:0,bottom:0,content:'""',pointerEvents:"none"}}],checkbox:[N.checkbox,(f={position:"relative",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:lp,width:lp,border:"1px solid ".concat(A),borderRadius:P.roundedCorner2,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:up,transitionTimingFunction:hp,overflow:"hidden",":after":C?K:null},f[Da]=yt({borderColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),f),C&&{borderColor:O},w?{marginLeft:4}:{marginRight:4},!_&&!C&&k&&(p={background:F,borderColor:L},p[Da]={background:"Highlight",borderColor:"Highlight"},p),_&&(g={borderColor:R},g[Da]={borderColor:"GrayText"},g),k&&_&&(m={background:W,borderColor:R},m[Da]={background:"Window"},m)],checkmark:[N.checkmark,(v={opacity:k&&!C?"1":"0",color:I},v[Da]=yt({color:_?"GrayText":"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),v)],text:[N.text,(y={color:_?G:U,fontSize:D.medium.fontSize,lineHeight:"20px"},y[Da]=yt({color:_?"GrayText":"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),y),w?{marginRight:4}:{marginLeft:4}]}}),void 0,{scope:"Checkbox"}),dp=Ka((function(t){var e,i=t.semanticColors;return{backgroundColor:i.disabledBackground,color:i.disabledText,cursor:"default",selectors:(e={":after":{borderColor:i.disabledBackground}},e[Da]={color:"GrayText",selectors:{":after":{borderColor:"GrayText"}}},e)}})),fp={selectors:(rp={},rp[Da]=yt({backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),rp)},pp={selectors:(op={},op[Da]=yt({color:"WindowText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),op)},gp=Ka((function(t,e,i,n,r,o){var a,s=t.palette,l=t.semanticColors,u={textHoveredColor:l.menuItemTextHovered,textSelectedColor:s.neutralDark,textDisabledColor:l.disabledText,backgroundHoveredColor:l.menuItemBackgroundHovered,backgroundPressedColor:l.menuItemBackgroundPressed};return On({root:[t.fonts.medium,{backgroundColor:n?u.backgroundHoveredColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:r?"none":"block",width:"100%",height:"auto",minHeight:36,lineHeight:"20px",padding:"0 8px",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",selectors:yt(yt((a={},a[Da]={border:"none",borderColor:"Background"},a),!r&&{"&.ms-Checkbox":{display:"flex",alignItems:"center"}}),{"&.ms-Button--command:hover:active":{backgroundColor:u.backgroundPressedColor},".ms-Checkbox-label":{width:"100%"}})},o?[{backgroundColor:"transparent",color:u.textSelectedColor,selectors:{":hover":[{backgroundColor:u.backgroundHoveredColor},fp]}},Ra(t,{inset:-1,isFocusedOnly:!1}),fp]:[]],rootHovered:{backgroundColor:u.backgroundHoveredColor,color:u.textHoveredColor},rootFocused:{backgroundColor:u.backgroundHoveredColor},rootDisabled:{color:u.textDisabledColor,cursor:"default"},optionText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:"0px",maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",display:"inline-block"},optionTextWrapper:{maxWidth:"100%",display:"flex",alignItems:"center"}},e,i)})),mp=Ka((function(t,e){var i,n,r=t.semanticColors,o=t.fonts,a={buttonTextColor:r.bodySubtext,buttonTextHoveredCheckedColor:r.buttonTextChecked,buttonBackgroundHoveredColor:r.listItemBackgroundHovered,buttonBackgroundCheckedColor:r.listItemBackgroundChecked,buttonBackgroundCheckedHoveredColor:r.listItemBackgroundCheckedHovered},s={selectors:(i={},i[Da]=yt({backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),i)};return On({root:{color:a.buttonTextColor,fontSize:o.small.fontSize,position:"absolute",top:0,height:"100%",lineHeight:30,width:32,textAlign:"center",cursor:"default",selectors:(n={},n[Da]=yt({backgroundColor:"ButtonFace",borderColor:"ButtonText",color:"ButtonText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),n)},icon:{fontSize:o.small.fontSize},rootHovered:[{backgroundColor:a.buttonBackgroundHoveredColor,color:a.buttonTextHoveredCheckedColor,cursor:"pointer"},s],rootPressed:[{backgroundColor:a.buttonBackgroundCheckedColor,color:a.buttonTextHoveredCheckedColor},s],rootChecked:[{backgroundColor:a.buttonBackgroundCheckedColor,color:a.buttonTextHoveredCheckedColor},s],rootCheckedHovered:[{backgroundColor:a.buttonBackgroundCheckedHoveredColor,color:a.buttonTextHoveredCheckedColor},s],rootDisabled:[dp(t),{position:"absolute"}]},e)})),vp=Ka((function(t,e,i){var n,r,o,a,s,l,u=t.semanticColors,h=t.fonts,c=t.effects,d={textColor:u.inputText,borderColor:u.inputBorder,borderHoveredColor:u.inputBorderHovered,borderPressedColor:u.inputFocusBorderAlt,borderFocusedColor:u.inputFocusBorderAlt,backgroundColor:u.inputBackground,erroredColor:u.errorText},f={headerTextColor:u.menuHeader,dividerBorderColor:u.bodyDivider},p={selectors:(n={},n[Da]={color:"GrayText"},n)},g=[{color:u.inputPlaceholderText},p],m=[{color:u.inputTextHovered},p],v=[{color:u.disabledText},p],y=yt(yt({color:"HighlightText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{selectors:{":after":{borderColor:"Highlight"}}}),b=Ba(d.borderPressedColor,c.roundedCorner2,"border",0);return On({container:{},label:{},labelDisabled:{},root:[t.fonts.medium,{boxShadow:"none",marginLeft:"0",paddingRight:32,paddingLeft:9,color:d.textColor,position:"relative",outline:"0",userSelect:"none",backgroundColor:d.backgroundColor,cursor:"text",display:"block",height:32,whiteSpace:"nowrap",textOverflow:"ellipsis",boxSizing:"border-box",selectors:{".ms-Label":{display:"inline-block",marginBottom:"8px"},"&.is-open":{selectors:(r={},r[Da]=y,r)},":after":{pointerEvents:"none",content:"''",position:"absolute",left:0,top:0,bottom:0,right:0,borderWidth:"1px",borderStyle:"solid",borderColor:d.borderColor,borderRadius:c.roundedCorner2}}}],rootHovered:{selectors:(o={":after":{borderColor:d.borderHoveredColor},".ms-ComboBox-Input":[{color:u.inputTextHovered},Ns(m),pp]},o[Da]=yt(yt({color:"HighlightText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{selectors:{":after":{borderColor:"Highlight"}}}),o)},rootPressed:[{position:"relative",selectors:(a={},a[Da]=y,a)}],rootFocused:[{selectors:(s={".ms-ComboBox-Input":[{color:u.inputTextHovered},pp]},s[Da]=y,s)},b],rootDisabled:dp(t),rootError:{selectors:{":after":{borderColor:d.erroredColor},":hover:after":{borderColor:u.inputBorderHovered}}},rootDisallowFreeForm:{},input:[Ns(g),{backgroundColor:d.backgroundColor,color:d.textColor,boxSizing:"border-box",width:"100%",height:"100%",borderStyle:"none",outline:"none",font:"inherit",textOverflow:"ellipsis",padding:"0",selectors:{"::-ms-clear":{display:"none"}}},pp],inputDisabled:[dp(t),Ns(v)],errorMessage:[t.fonts.small,{color:d.erroredColor,marginTop:"5px"}],callout:{boxShadow:c.elevation8},optionsContainerWrapper:{width:i},optionsContainer:{display:"block"},screenReaderText:Fa,header:[h.medium,{fontWeight:Ma.semibold,color:f.headerTextColor,backgroundColor:"none",borderStyle:"none",height:36,lineHeight:36,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(l={},l[Da]=yt({color:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),l)}],divider:{height:1,backgroundColor:f.dividerBorderColor}},e)})),yp=Ka((function(t,e,i,n,r,o,a,s){return{container:Mo("ms-ComboBox-container",e,t.container),label:Mo(t.label,n&&t.labelDisabled),root:Mo("ms-ComboBox",s?t.rootError:i&&"is-open",r&&"is-required",t.root,!a&&t.rootDisallowFreeForm,s&&!o?t.rootError:!n&&o&&t.rootFocused,!n&&{selectors:{":hover":s?t.rootError:!i&&!o&&t.rootHovered,":active":s?t.rootError:t.rootPressed,":focus":s?t.rootError:t.rootFocused}},n&&["is-disabled",t.rootDisabled]),input:Mo("ms-ComboBox-Input",t.input,n&&t.inputDisabled),errorMessage:Mo(t.errorMessage),callout:Mo("ms-ComboBox-callout",t.callout),optionsContainerWrapper:Mo("ms-ComboBox-optionsContainerWrapper",t.optionsContainerWrapper),optionsContainer:Mo("ms-ComboBox-optionsContainer",t.optionsContainer),header:Mo("ms-ComboBox-header",t.header),divider:Mo("ms-ComboBox-divider",t.divider),screenReaderText:Mo(t.screenReaderText)}})),bp=Ka((function(t){return{optionText:Mo("ms-ComboBox-optionText",t.optionText),root:Mo("ms-ComboBox-option",t.root,{selectors:{":hover":t.rootHovered,":focus":t.rootFocused,":active":t.rootPressed}}),optionTextWrapper:Mo(t.optionTextWrapper)}}));!function(t){t[t.Normal=0]="Normal",t[t.Divider=1]="Divider",t[t.Header=2]="Header",t[t.SelectAll=3]="SelectAll"}(ap||(ap={}));!function(t){function e(i,n){var r=t.call(this,i,n)||this;return function(t,e,i){for(var n=0,r=i.length;n<r;n++)xp(t,e,i[n])}(r,e.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),r}vt(e,t),e.prototype.componentDidUpdate=function(t,e){this._updateComponentRef(t,this.props)},e.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},e.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var t=0,e=this._disposables.length;t<e;t++){var i=this.__disposables[t];i.dispose&&i.dispose()}this.__disposables=null}},Object.defineProperty(e.prototype,"className",{get:function(){if(!this.__className){var t=/function (.{1,})\(/.exec(this.constructor.toString());this.__className=t&&t.length>1?t[1]:""}return this.__className},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_async",{get:function(){return this.__async||(this.__async=new hl(this),this._disposables.push(this.__async)),this.__async},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_events",{get:function(){return this.__events||(this.__events=new hu(this),this._disposables.push(this.__events)),this.__events},enumerable:!1,configurable:!0}),e.prototype._resolveRef=function(t){var e=this;return this.__resolves||(this.__resolves={}),this.__resolves[t]||(this.__resolves[t]=function(i){return e[t]=i}),this.__resolves[t]},e.prototype._updateComponentRef=function(t,e){void 0===e&&(e={}),t&&e&&t.componentRef!==e.componentRef&&(this._setComponentRef(t.componentRef,null),this._setComponentRef(e.componentRef,this))},e.prototype._warnDeprecations=function(t){this.className,this.props},e.prototype._warnMutuallyExclusive=function(t){this.className,this.props},e.prototype._warnConditionallyRequiredProps=function(t,e,i){this.className,this.props},e.prototype._setComponentRef=function(t,e){!this._skipComponentRefResolution&&t&&("function"===typeof t&&t(e),"object"===typeof t&&(t.current=e))}}(t.Component);function xp(t,e,i){var n=t[i],r=e[i];(n||r)&&(t[i]=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return r&&(t=r.apply(this,e)),n!==r&&(t=n.apply(this,e)),t})}function wp(){return null}var kp,_p=function(e){var i=e.className,n=e.imageProps,r=Sr(e,ir,["aria-label","aria-labelledby","title","aria-describedby"]),o=n.alt||e["aria-label"],a=o||e["aria-labelledby"]||e.title||n["aria-label"]||n["aria-labelledby"]||n.title,s={"aria-labelledby":e["aria-labelledby"],"aria-describedby":e["aria-describedby"],title:e.title},l=a?{}:{"aria-hidden":!0};return t.createElement("div",yt({},l,r,{className:Qs(Js,Zs.root,Zs.image,i)}),t.createElement(qs,yt({},s,n,{alt:a?o:""})))};function Sp(t){return t.canCheck?!(!t.isChecked&&!t.checked):"boolean"===typeof t.isChecked?t.isChecked:"boolean"===typeof t.checked?t.checked:null}function Cp(t){return!(!t.subMenuProps&&!t.items)}function Mp(t){return!(!t.isDisabled&&!t.disabled)}function Pp(t){return null!==Sp(t)?"menuitemcheckbox":"menuitem"}!function(t){t[t.Normal=0]="Normal",t[t.Divider=1]="Divider",t[t.Header=2]="Header",t[t.Section=3]="Section"}(kp||(kp={}));var Tp,Dp=function(e){var i=e.item,n=e.classNames,r=i.iconProps;return t.createElement(nl,yt({},r,{className:n.icon}))},Np=function(t){var e=t.item;return t.hasIcons?e.onRenderIcon?e.onRenderIcon(t,Dp):Dp(t):null},Ip=function(e){var i=e.onCheckmarkClick,n=e.item,r=e.classNames,o=Sp(n);if(i){return t.createElement(nl,{iconName:!1!==n.canCheck&&o?"CheckMark":"",className:r.checkmarkIcon,onClick:function(t){return i(n,t)}})}return null},Ep=function(e){var i=e.item,n=e.classNames;return i.text||i.name?t.createElement("span",{className:n.label},i.text||i.name):null},Ap=function(e){var i=e.item,n=e.classNames;return i.secondaryText?t.createElement("span",{className:n.secondaryText},i.secondaryText):null},Op=function(e){var i=e.item,n=e.classNames,r=e.theme;return Cp(i)?t.createElement(nl,yt({iconName:mo(r)?"ChevronLeft":"ChevronRight"},i.submenuIconProps,{className:n.subMenuIcon})):null},Lp=function(e){function i(t){var i=e.call(this,t)||this;return i.openSubMenu=function(){var t=i.props,e=t.item,n=t.openSubMenu,r=t.getSubmenuTarget;if(r){var o=r();Cp(e)&&n&&o&&n(e,o)}},i.dismissSubMenu=function(){var t=i.props,e=t.item,n=t.dismissSubMenu;Cp(e)&&n&&n()},i.dismissMenu=function(t){var e=i.props.dismissMenu;e&&e(void 0,t)},ol(i),i}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.item,n=e.classNames,r=i.onRenderContent||this._renderLayout;return t.createElement("div",{className:i.split?n.linkContentMenu:n.linkContent},r(this.props,{renderCheckMarkIcon:Ip,renderItemIcon:Np,renderItemName:Ep,renderSecondaryText:Ap,renderSubMenuIcon:Op}))},i.prototype._renderLayout=function(e,i){return t.createElement(t.Fragment,null,i.renderCheckMarkIcon(e),i.renderItemIcon(e),i.renderItemName(e),i.renderSecondaryText(e),i.renderSubMenuIcon(e))},i}(t.Component),Rp=Ka((function(t){return lo({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:t.palette.neutralTertiaryAlt}})})),jp=36,Bp=Na(0,639),Fp=Ka((function(t){var e,i,n,r,o,a=t.semanticColors,s=t.fonts,l=t.palette,u=a.menuItemBackgroundHovered,h=a.menuItemTextHovered,c=a.menuItemBackgroundPressed,d=a.bodyDivider;return On({item:[s.medium,{color:a.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:d,position:"relative"},root:[Ra(t),s.medium,{color:a.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:jp,lineHeight:jp,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:a.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(e={},e[Da]={color:"GrayText",opacity:1},e)},rootHovered:{backgroundColor:u,color:h,selectors:{".ms-ContextualMenu-icon":{color:l.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:l.neutralPrimary}}},rootFocused:{backgroundColor:l.white},rootChecked:{selectors:{".ms-ContextualMenu-checkmarkIcon":{color:l.neutralPrimary}}},rootPressed:{backgroundColor:c,selectors:{".ms-ContextualMenu-icon":{color:l.themeDark},".ms-ContextualMenu-submenuIcon":{color:l.neutralPrimary}}},rootExpanded:{backgroundColor:c,color:a.bodyTextChecked,selectors:(i={".ms-ContextualMenu-submenuIcon":(n={},n[Da]={color:"inherit"},n)},i[Da]=yt({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),i)},linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},secondaryText:{color:t.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:jp,fontSize:Pa.medium,width:Pa.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:(r={},r[Bp]={fontSize:Pa.large,width:Pa.large},r)},iconColor:{color:a.menuIcon},iconDisabled:{color:a.disabledBodyText},checkmarkIcon:{color:a.bodySubtext},subMenuIcon:{height:jp,lineHeight:jp,color:l.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:Pa.small,selectors:(o={":hover":{color:l.neutralPrimary},":active":{color:l.neutralPrimary}},o[Bp]={fontSize:Pa.medium},o)},splitButtonFlexContainer:[Ra(t),{display:"flex",height:jp,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]})})),zp="28px",Hp=Na(0,639),Vp=Ka((function(t){var e;return lo(Rp(t),{wrapper:{position:"absolute",right:28,selectors:(e={},e[Hp]={right:32},e)},divider:{height:16,width:1}})})),Wp={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu",screenReaderText:"ms-ContextualMenu-screenReaderText"},Up=Ka((function(t,e,i,n,r,o,a,s,l,u,h,c){var d,f,p,g,m=Fp(t),v=Ja(Wp,t);return lo({item:[v.item,m.item,a],divider:[v.divider,m.divider,s],root:[v.root,m.root,n&&[v.isChecked,m.rootChecked],r&&m.anchorLink,i&&[v.isExpanded,m.rootExpanded],e&&[v.isDisabled,m.rootDisabled],!e&&!i&&[{selectors:(d={":hover":m.rootHovered,":active":m.rootPressed},d[".".concat(Ea," &:focus, .").concat(Ea," &:focus:hover")]=m.rootFocused,d[".".concat(Ea," &:hover")]={background:"inherit;"},d)}],c],splitPrimary:[m.root,{width:"calc(100% - ".concat(zp,")")},n&&["is-checked",m.rootChecked],(e||h)&&["is-disabled",m.rootDisabled],!(e||h)&&!n&&[{selectors:(f={":hover":m.rootHovered},f[":hover ~ .".concat(v.splitMenu)]=m.rootHovered,f[":active"]=m.rootPressed,f[".".concat(Ea," &:focus, .").concat(Ea," &:focus:hover")]=m.rootFocused,f[".".concat(Ea," &:hover")]={background:"inherit;"},f)}]],splitMenu:[v.splitMenu,m.root,{flexBasis:"0",padding:"0 8px",minWidth:zp},i&&["is-expanded",m.rootExpanded],e&&["is-disabled",m.rootDisabled],!e&&!i&&[{selectors:(p={":hover":m.rootHovered,":active":m.rootPressed},p[".".concat(Ea," &:focus, .").concat(Ea," &:focus:hover")]=m.rootFocused,p[".".concat(Ea," &:hover")]={background:"inherit;"},p)}]],anchorLink:m.anchorLink,linkContent:[v.linkContent,m.linkContent],linkContentMenu:[v.linkContentMenu,m.linkContent,{justifyContent:"center"}],icon:[v.icon,o&&m.iconColor,m.icon,l,e&&[v.isDisabled,m.iconDisabled]],iconColor:m.iconColor,checkmarkIcon:[v.checkmarkIcon,o&&m.checkmarkIcon,m.icon,l],subMenuIcon:[v.subMenuIcon,m.subMenuIcon,u,i&&{color:t.palette.neutralPrimary},e&&[m.iconDisabled]],label:[v.label,m.label],secondaryText:[v.secondaryText,m.secondaryText],splitContainer:[m.splitButtonFlexContainer,!e&&!n&&[{selectors:(g={},g[".".concat(Ea," &:focus, .").concat(Ea," &:focus:hover")]=m.rootFocused,g)}]],screenReaderText:[v.screenReaderText,m.screenReaderText,Fa,{visibility:"hidden"}]})})),Gp=function(t){var e=t.theme,i=t.disabled,n=t.expanded,r=t.checked,o=t.isAnchorLink,a=t.knownIcon,s=t.itemClassName,l=t.dividerClassName,u=t.iconClassName,h=t.subMenuClassName,c=t.primaryDisabled,d=t.className;return Up(e,i,n,r,o,a,s,l,u,h,c,d)},Kp=Qn(Lp,Gp,void 0,{scope:"ContextualMenuItem"}),Yp=function(t){function e(e){var i=t.call(this,e)||this;return i._onItemMouseEnter=function(t){var e=i.props,n=e.item,r=e.onItemMouseEnter;r&&r(n,t,t.currentTarget)},i._onItemClick=function(t){var e=i.props,n=e.item,r=e.onItemClickBase;r&&r(n,t,t.currentTarget)},i._onItemMouseLeave=function(t){var e=i.props,n=e.item,r=e.onItemMouseLeave;r&&r(n,t)},i._onItemKeyDown=function(t){var e=i.props,n=e.item,r=e.onItemKeyDown;r&&r(n,t)},i._onItemMouseMove=function(t){var e=i.props,n=e.item,r=e.onItemMouseMove;r&&r(n,t,t.currentTarget)},i._getSubmenuTarget=function(){},ol(i),i}return vt(e,t),e.prototype.shouldComponentUpdate=function(t){return!iu(t,this.props)},e}(t.Component),Xp="ktp",qp="-",Zp="ktp-layer-id";function Jp(e){var i=(0,t.useRef)();return(0,t.useEffect)((function(){i.current=e})),i.current}!function(t){t.KEYTIP_ADDED="keytipAdded",t.KEYTIP_REMOVED="keytipRemoved",t.KEYTIP_UPDATED="keytipUpdated",t.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",t.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",t.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",t.ENTER_KEYTIP_MODE="enterKeytipMode",t.EXIT_KEYTIP_MODE="exitKeytipMode"}(Tp||(Tp={}));var Qp=function(){function t(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}return t.getInstance=function(){return this._instance},t.prototype.init=function(t){this.delayUpdatingKeytipChange=t},t.prototype.register=function(t,e){void 0===e&&(e=!1);var i=t;e||(i=this.addParentOverflow(t),this.sequenceMapping[i.keySequences.toString()]=i);var n=this._getUniqueKtp(i);if(e?this.persistedKeytips[n.uniqueID]=n:this.keytips[n.uniqueID]=n,this.inKeytipMode||!this.delayUpdatingKeytipChange){var r=e?Tp.PERSISTED_KEYTIP_ADDED:Tp.KEYTIP_ADDED;hu.raise(this,r,{keytip:i,uniqueID:n.uniqueID})}return n.uniqueID},t.prototype.update=function(t,e){var i=this.addParentOverflow(t),n=this._getUniqueKtp(i,e),r=this.keytips[e];r&&(n.keytip.visible=r.keytip.visible,this.keytips[e]=n,delete this.sequenceMapping[r.keytip.keySequences.toString()],this.sequenceMapping[n.keytip.keySequences.toString()]=n.keytip,!this.inKeytipMode&&this.delayUpdatingKeytipChange||hu.raise(this,Tp.KEYTIP_UPDATED,{keytip:n.keytip,uniqueID:n.uniqueID}))},t.prototype.unregister=function(t,e,i){void 0===i&&(i=!1),i?delete this.persistedKeytips[e]:delete this.keytips[e],!i&&delete this.sequenceMapping[t.keySequences.toString()];var n=i?Tp.PERSISTED_KEYTIP_REMOVED:Tp.KEYTIP_REMOVED;!this.inKeytipMode&&this.delayUpdatingKeytipChange||hu.raise(this,n,{keytip:t,uniqueID:e})},t.prototype.enterKeytipMode=function(){hu.raise(this,Tp.ENTER_KEYTIP_MODE)},t.prototype.exitKeytipMode=function(){hu.raise(this,Tp.EXIT_KEYTIP_MODE)},t.prototype.getKeytips=function(){var t=this;return Object.keys(this.keytips).map((function(e){return t.keytips[e].keytip}))},t.prototype.addParentOverflow=function(t){var e=kt([],t.keySequences,!0);if(e.pop(),0!==e.length){var i=this.sequenceMapping[e.toString()];if(i&&i.overflowSetSequence)return yt(yt({},t),{overflowSetSequence:i.overflowSetSequence})}return t},t.prototype.menuExecute=function(t,e){hu.raise(this,Tp.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:t,keytipSequences:e})},t.prototype._getUniqueKtp=function(t,e){return void 0===e&&(e=gl()),{keytip:yt({},t),uniqueID:e}},t._instance=new t,t}();function $p(t){return t.reduce((function(t,e){return t+qp+e.split("").join(qp)}),Xp)}function tg(e){var i=t.useRef(),n=e.keytipProps?yt({disabled:e.disabled},e.keytipProps):void 0,r=Dl(Qp.getInstance()),o=Jp(e);Ws((function(){i.current&&n&&((null===o||void 0===o?void 0:o.keytipProps)!==e.keytipProps||(null===o||void 0===o?void 0:o.disabled)!==e.disabled)&&r.update(n,i.current)})),Ws((function(){return n&&(i.current=r.register(n)),function(){n&&r.unregister(n,i.current)}}),[]);var a={ariaDescribedBy:void 0,keytipId:void 0};return n&&(a=function(t,e,i){var n=t.addParentOverflow(e),r=Bd(i,function(t){var e=" "+Zp;return t.length?e+" "+$p(t):e}(n.keySequences)),o=kt([],n.keySequences,!0);n.overflowSetSequence&&(o=function(t,e){var i=e.length,n=kt([],e,!0).pop();return function(t,e,i){var n=t.slice();return n.splice(e,0,i),n}(kt([],t,!0),i-1,n)}(o,n.overflowSetSequence));var a=$p(o);return{ariaDescribedBy:r,keytipId:a}}(r,n,e.ariaDescribedBy)),a}var eg=function(t){var e,i=t.children,n=tg(bt(t,["children"])),r=n.keytipId,o=n.ariaDescribedBy;return i(((e={})["data-ktp-target"]=r,e["data-ktp-execute-target"]=r,e["aria-describedby"]=o,e))},ig=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._anchor=t.createRef(),i._getMemoizedMenuButtonKeytipProps=Ka((function(t){return yt(yt({},t),{hasMenu:!0})})),i._getSubmenuTarget=function(){return i._anchor.current?i._anchor.current:void 0},i._onItemClick=function(t){var e=i.props,n=e.item,r=e.onItemClick;r&&r(n,t)},i._renderAriaDescription=function(e,n){return e?t.createElement("span",{id:i._ariaDescriptionId,className:n},e):null},i}return vt(i,e),i.prototype.render=function(){var e=this,i=this.props,n=i.item,r=i.classNames,o=i.index,a=i.focusableElementIndex,s=i.totalItemCount,l=i.hasCheckmarks,u=i.hasIcons,h=i.contextualMenuItemAs,c=void 0===h?Kp:h,d=i.expandedMenuItemKey,f=i.onItemClick,p=i.openSubMenu,g=i.dismissSubMenu,m=i.dismissMenu,v=n.rel;n.target&&"_blank"===n.target.toLowerCase()&&(v=v||"nofollow noopener noreferrer");var y=Cp(n),b=Sr(n,lr),x=Mp(n),w=n.itemProps,k=n.ariaDescription,_=n.keytipProps;_&&y&&(_=this._getMemoizedMenuButtonKeytipProps(_)),k&&(this._ariaDescriptionId=gl());var S=Bd(n.ariaDescribedBy,k?this._ariaDescriptionId:void 0,b["aria-describedby"]),C={"aria-describedby":S};return t.createElement("div",null,t.createElement(eg,{keytipProps:n.keytipProps,ariaDescribedBy:S,disabled:x},(function(i){return t.createElement("a",yt({},C,b,i,{ref:e._anchor,href:n.href,target:n.target,rel:v,className:r.root,role:"menuitem","aria-haspopup":y||void 0,"aria-expanded":y?n.key===d:void 0,"aria-posinset":a+1,"aria-setsize":s,"aria-disabled":Mp(n),style:n.style,onClick:e._onItemClick,onMouseEnter:e._onItemMouseEnter,onMouseLeave:e._onItemMouseLeave,onMouseMove:e._onItemMouseMove,onKeyDown:y?e._onItemKeyDown:void 0}),t.createElement(c,yt({componentRef:n.componentRef,item:n,classNames:r,index:o,onCheckmarkClick:l&&f?f:void 0,hasIcons:u,openSubMenu:p,dismissSubMenu:g,dismissMenu:m,getSubmenuTarget:e._getSubmenuTarget},w)),e._renderAriaDescription(k,r.screenReaderText))})))},i}(Yp),ng=wo(),rg=t.forwardRef((function(e,i){var n=e.styles,r=e.theme,o=e.getClassNames,a=e.className,s=ng(n,{theme:r,getClassNames:o,className:a});return t.createElement("span",{className:s.wrapper,ref:i},t.createElement("span",{className:s.divider}))}));rg.displayName="VerticalDividerBase";var og,ag=Qn(rg,(function(t){var e=t.theme,i=t.getClassNames,n=t.className;if(!e)throw new Error("Theme is undefined or null.");if(i){var r=i(e);return{wrapper:[r.wrapper],divider:[r.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},n],divider:[{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}]}}),void 0,{scope:"VerticalDivider"}),sg=function(e){function i(i){var n=e.call(this,i)||this;return n._getMemoizedMenuButtonKeytipProps=Ka((function(t){return yt(yt({},t),{hasMenu:!0})})),n._onItemKeyDown=function(t){var e=n.props,i=e.item,r=e.onItemKeyDown;t.which===ho.enter?(n._executeItemClick(t),t.preventDefault(),t.stopPropagation()):r&&r(i,t)},n._getSubmenuTarget=function(){return n._splitButton},n._renderAriaDescription=function(e,i){return e?t.createElement("span",{id:n._ariaDescriptionId,className:i},e):null},n._onItemMouseEnterPrimary=function(t){var e=n.props,i=e.item,r=e.onItemMouseEnter;r&&r(yt(yt({},i),{subMenuProps:void 0,items:void 0}),t,n._splitButton)},n._onItemMouseEnterIcon=function(t){var e=n.props,i=e.item,r=e.onItemMouseEnter;r&&r(i,t,n._splitButton)},n._onItemMouseMovePrimary=function(t){var e=n.props,i=e.item,r=e.onItemMouseMove;r&&r(yt(yt({},i),{subMenuProps:void 0,items:void 0}),t,n._splitButton)},n._onItemMouseMoveIcon=function(t){var e=n.props,i=e.item,r=e.onItemMouseMove;r&&r(i,t,n._splitButton)},n._onIconItemClick=function(t){var e=n.props,i=e.item,r=e.onItemClickBase;r&&r(i,t,n._splitButton?n._splitButton:t.currentTarget)},n._executeItemClick=function(t){var e=n.props,i=e.item,r=e.executeItemClick,o=e.onItemClick;if(!i.disabled&&!i.isDisabled)return n._processingTouch&&o?o(i,t):void(r&&r(i,t))},n._onTouchStart=function(t){n._splitButton&&!("onpointerdown"in n._splitButton)&&n._handleTouchAndPointerEvent(t)},n._onPointerDown=function(t){"touch"===t.pointerType&&(n._handleTouchAndPointerEvent(t),t.preventDefault(),t.stopImmediatePropagation())},n._async=new hl(n),n._events=new hu(n),n}return vt(i,e),i.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},i.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},i.prototype.render=function(){var e,i=this,n=this.props,r=n.item,o=n.classNames,a=n.index,s=n.focusableElementIndex,l=n.totalItemCount,u=n.hasCheckmarks,h=n.hasIcons,c=n.onItemMouseLeave,d=n.expandedMenuItemKey,f=Cp(r),p=r.keytipProps;p&&(p=this._getMemoizedMenuButtonKeytipProps(p));var g=r.ariaDescription;g&&(this._ariaDescriptionId=gl());var m=null!==(e=Sp(r))&&void 0!==e?e:void 0;return t.createElement(eg,{keytipProps:p,disabled:Mp(r)},(function(e){return t.createElement("div",{"data-ktp-target":e["data-ktp-target"],ref:function(t){return i._splitButton=t},role:Pp(r),"aria-label":r.ariaLabel,className:o.splitContainer,"aria-disabled":Mp(r),"aria-expanded":f?r.key===d:void 0,"aria-haspopup":!0,"aria-describedby":Bd(r.ariaDescribedBy,g?i._ariaDescriptionId:void 0,e["aria-describedby"]),"aria-checked":m,"aria-posinset":s+1,"aria-setsize":l,onMouseEnter:i._onItemMouseEnterPrimary,onMouseLeave:c?c.bind(i,yt(yt({},r),{subMenuProps:null,items:null})):void 0,onMouseMove:i._onItemMouseMovePrimary,onKeyDown:i._onItemKeyDown,onClick:i._executeItemClick,onTouchStart:i._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":r["aria-roledescription"]},i._renderSplitPrimaryButton(r,o,a,u,h),i._renderSplitDivider(r),i._renderSplitIconButton(r,o,a,e),i._renderAriaDescription(g,o.screenReaderText))}))},i.prototype._renderSplitPrimaryButton=function(e,i,n,r,o){var a=this.props,s=a.contextualMenuItemAs,l=void 0===s?Kp:s,u=a.onItemClick,h={key:e.key,disabled:Mp(e)||e.primaryDisabled,name:e.name,text:e.text||e.name,secondaryText:e.secondaryText,className:i.splitPrimary,canCheck:e.canCheck,isChecked:e.isChecked,checked:e.checked,iconProps:e.iconProps,onRenderIcon:e.onRenderIcon,data:e.data,"data-is-focusable":!1},c=e.itemProps;return t.createElement("button",yt({},Sr(h,ur)),t.createElement(l,yt({"data-is-focusable":!1,item:h,classNames:i,index:n,onCheckmarkClick:r&&u?u:void 0,hasIcons:o},c)))},i.prototype._renderSplitDivider=function(e){var i=e.getSplitButtonVerticalDividerClassNames||Vp;return t.createElement(ag,{getClassNames:i})},i.prototype._renderSplitIconButton=function(e,i,n,r){var o=this.props,a=o.contextualMenuItemAs,s=void 0===a?Kp:a,l=o.onItemMouseLeave,u=o.onItemMouseDown,h=o.openSubMenu,c=o.dismissSubMenu,d=o.dismissMenu,f={onClick:this._onIconItemClick,disabled:Mp(e),className:i.splitMenu,subMenuProps:e.subMenuProps,submenuIconProps:e.submenuIconProps,split:!0,key:e.key},p=yt(yt({},Sr(f,ur)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:l?l.bind(this,e):void 0,onMouseDown:function(t){return u?u(e,t):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":r["data-ktp-execute-target"],"aria-hidden":!0}),g=e.itemProps;return t.createElement("button",yt({},p),t.createElement(s,yt({componentRef:e.componentRef,item:f,classNames:i,index:n,hasIcons:!1,openSubMenu:h,dismissSubMenu:c,dismissMenu:d,getSubmenuTarget:this._getSubmenuTarget},g)))},i.prototype._handleTouchAndPointerEvent=function(t){var e=this,i=this.props.onTap;i&&i(t),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0}),500)},i}(Yp),lg=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._btn=t.createRef(),i._getMemoizedMenuButtonKeytipProps=Ka((function(t){return yt(yt({},t),{hasMenu:!0})})),i._renderAriaDescription=function(e,n){return e?t.createElement("span",{id:i._ariaDescriptionId,className:n},e):null},i._getSubmenuTarget=function(){return i._btn.current?i._btn.current:void 0},i}return vt(i,e),i.prototype.render=function(){var e=this,i=this.props,n=i.item,r=i.classNames,o=i.index,a=i.focusableElementIndex,s=i.totalItemCount,l=i.hasCheckmarks,u=i.hasIcons,h=i.contextualMenuItemAs,c=void 0===h?Kp:h,d=i.expandedMenuItemKey,f=i.onItemMouseDown,p=i.onItemClick,g=i.openSubMenu,m=i.dismissSubMenu,v=i.dismissMenu,y=Sp(n),b=null!==y,x=Pp(n),w=Cp(n),k=n.itemProps,_=n.ariaLabel,S=n.ariaDescription,C=Sr(n,ur);delete C.disabled;var M=n.role||x;S&&(this._ariaDescriptionId=gl());var P=Bd(n.ariaDescribedBy,S?this._ariaDescriptionId:void 0,C["aria-describedby"]),T={className:r.root,onClick:this._onItemClick,onKeyDown:w?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(t){return f?f(n,t):void 0},onMouseMove:this._onItemMouseMove,href:n.href,title:n.title,"aria-label":_,"aria-describedby":P,"aria-haspopup":w||void 0,"aria-expanded":w?n.key===d:void 0,"aria-posinset":a+1,"aria-setsize":s,"aria-disabled":Mp(n),"aria-checked":"menuitemcheckbox"!==M&&"menuitemradio"!==M||!b?void 0:!!y,"aria-selected":"menuitem"===M&&b?!!y:void 0,role:M,style:n.style},D=n.keytipProps;return D&&w&&(D=this._getMemoizedMenuButtonKeytipProps(D)),t.createElement(eg,{keytipProps:D,ariaDescribedBy:P,disabled:Mp(n)},(function(i){return t.createElement("button",yt({ref:e._btn},C,T,i),t.createElement(c,yt({componentRef:n.componentRef,item:n,classNames:r,index:o,onCheckmarkClick:l&&p?p:void 0,hasIcons:u,openSubMenu:g,dismissSubMenu:m,dismissMenu:v,getSubmenuTarget:e._getSubmenuTarget},k)),e._renderAriaDescription(S,r.screenReaderText))}))},i}(Yp);!function(t){t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t[t.xLarge=3]="xLarge",t[t.xxLarge=4]="xxLarge",t[t.xxxLarge=5]="xxxLarge",t[t.unknown=999]="unknown"}(og||(og={}));var ug,hg,cg=[479,639,1023,1365,1919,99999999];function dg(){var t;return null!==(t=null!==ug&&void 0!==ug?ug:hg)&&void 0!==t?t:og.large}function fg(t){try{return t.document.documentElement.clientWidth}catch(SS){return t.innerWidth}}function pg(t){var e=og.small;if(t){try{for(;fg(t)>cg[e];)e++}catch(SS){e=dg()}hg=e}else{if(void 0===ug)throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");e=ug}return e}var gg=t.createContext({}),mg=wo(),vg=wo(),yg={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:Ud.bottomAutoEdge,beakWidth:16};function bg(t,e){var i=null===e||void 0===e?void 0:e.target,n=t.subMenuProps?t.subMenuProps.items:t.items;if(n){for(var r=[],o=0,a=n;o<a.length;o++){var s=a[o];if(s.preferMenuTargetAsEventTarget){var l=s.onClick,u=bt(s,["onClick"]);r.push(yt(yt({},u),{onClick:Dg(l,i)}))}else r.push(s)}return r}}var xg="ContextualMenu",wg=Ka((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Ln.apply(void 0,kt([e,Gp],t,!1))}}));function kg(e,i){var n=e.hidden,r=e.items,o=e.theme,a=e.className,s=e.id,l=e.target,u=t.useState(),h=u[0],c=u[1],d=t.useState(),f=d[0],p=d[1],g=t.useState(),m=g[0],v=g[1],y=Il(xg,s),b=t.useCallback((function(){v(void 0),c(void 0),p(void 0)}),[]),x=t.useCallback((function(t,e,i){var n=t.key;h!==n&&(e.focus(),v(i),c(n),p(e))}),[h]);t.useEffect((function(){n&&b()}),[n,b]);var w=function(e,i){var n=t.useRef(!1);t.useEffect((function(){return n.current=!0,function(){n.current=!1}}),[]);var r=function(t,r){r?e(t,r):n.current&&i()};return r}(i,b);return[h,x,function(){var t=Tg(h,r),e=null;if(t&&(e={items:bg(t,{target:l}),target:f,onDismiss:w,isSubMenu:!0,id:y,shouldFocusOnMount:!0,shouldFocusOnContainer:m,directionalHint:mo(o)?Ud.leftTopEdge:Ud.rightTopEdge,className:a,gapSpace:0,isBeakVisible:!1},t.subMenuProps&&nu(e,t.subMenuProps),t.preferMenuTargetAsEventTarget)){var i=t.onItemClick;e.onItemClick=Dg(i,l)}return e},w]}function _g(e,i,n,r){var o=e.theme,a=e.isSubMenu,s=e.focusZoneProps,l=void 0===s?{}:s,u=l.checkForNoWrap,h=l.direction,c=void 0===h?mu.vertical:h,d=t.useRef(),f=function(t,e,n){var r=!1;return e(t)&&(i(t,n),t.preventDefault(),t.stopPropagation(),r=!0),r},p=function(t){return t.which===ho.escape||function(t){var e=mo(o)?ho.right:ho.left;return!(t.which!==e||!a)&&!(c!==mu.vertical&&(!u||Au(t.target,"data-no-horizontal-wrap")))}(t)||t.which===ho.up&&(t.altKey||t.metaKey)},g=function(t){d.current=Cg(t);var e=t.which===ho.escape&&(Fd()||zd());return f(t,p,e)},m=function(t){var e=d.current&&Cg(t);return d.current=!1,!!e&&!(zd()||Fd())};return[g,function(t){return f(t,m,!0)},function(t){if(!g(t)&&n.current){var e,i,r=!(!t.altKey&&!t.metaKey),o=t.which===ho.up,a=t.which===ho.down;if(!r&&(o||a)){var s=o?(e=n.current,i=n.current.lastChild,Mu(e,i,!0,!1,!0,!0)):function(t,e,i){return Pu(t,e,!0,!1,!1,i)}(n.current,n.current.firstChild,!0);s&&(s.focus(),t.preventDefault(),t.stopPropagation())}}},function(t,e){var i=mo(o)?ho.left:ho.right;t.disabled||e.which!==i&&e.which!==ho.enter&&(e.which!==ho.down||!e.altKey&&!e.metaKey)||(r(t,e.currentTarget),e.preventDefault())}]}var Sg=t.memo(t.forwardRef((function(e,i){var n,r=jd(yg,e),o=(r.ref,bt(r,["ref"])),a=t.useRef(null),s=Nf(),l=Il(xg,o.id),u=function(t,e){var i;return null===(i=o.onDismiss)||void 0===i?void 0:i.call(o,t,e)},h=Ff(o.target,a),c=h[0],d=h[1],f=function(e,i,n){var r=e.hidden,o=e.onRestoreFocus,a=t.useRef(),s=t.useCallback((function(t){var e,i;o?o(t):(null===t||void 0===t?void 0:t.documentContainsFocus)&&(null===(i=null===(e=a.current)||void 0===e?void 0:e.focus)||void 0===i||i.call(e))}),[o]);return Ws((function(){var t,e;if(r)a.current&&(s({originalElement:a.current,containsFocus:!0,documentContainsFocus:(null===(e=co())||void 0===e?void 0:e.hasFocus())||!1}),a.current=void 0);else{var o=null===i||void 0===i?void 0:i.document.activeElement;(null===(t=n.current)||void 0===t?void 0:t.contains(o))||"BODY"===o.tagName||(a.current=o)}}),[r,null===i||void 0===i?void 0:i.document.activeElement,s,n]),[s]}(o,d,a)[0],p=kg(o,u),g=p[0],m=p[1],v=p[2],y=p[3],b=function(e){var i=e.delayUpdateFocusOnHover,n=e.hidden,r=t.useRef(!i),o=t.useRef(!1);t.useEffect((function(){r.current=!i,o.current=!n&&!i&&o.current}),[i,n]);var a=t.useCallback((function(){i&&(r.current=!1)}),[i]);return[r,o,a]}(o),x=b[0],w=b[1],k=b[2],_=function(e){var i=t.useRef(!0),n=t.useRef();return[function(){i.current||void 0===n.current?i.current=!1:(e.clearTimeout(n.current),n.current=void 0),n.current=e.setTimeout((function(){i.current=!0}),250)},i]}(s),S=_[0],C=_[1],M=function(e,i){var n=e.subMenuHoverDelay,r=void 0===n?250:n,o=t.useRef(void 0),a=function(){void 0!==o.current&&(i.clearTimeout(o.current),o.current=void 0)};return[a,function(t){o.current=i.setTimeout((function(){t(),a()}),r)},o]}(o,s),P=M[0],T=M[1],D=M[2],N=function(e,i){var n=t.useState(dg()),r=n[0],o=n[1],a=t.useCallback((function(){var t=pg(Bn(e.current));r!==t&&o(t)}),[e,r]);return If(Af(),"resize",a),t.useEffect((function(){void 0===i&&a()}),[i]),null!==i&&void 0!==i?i:r}(a,o.responsiveMode);!function(e,i){var n=e.hidden,r=void 0!==n&&n,o=e.onMenuDismissed,a=e.onMenuOpened,s=Jp(r),l=t.useRef(a),u=t.useRef(o),h=t.useRef(e);l.current=a,u.current=o,h.current=e,t.useEffect((function(){var t,e;r&&!1===s?null===(t=u.current)||void 0===t||t.call(u,h.current):r||!1===s||null===(e=l.current)||void 0===e||e.call(l,h.current)}),[r,s]),t.useEffect((function(){return function(){var t;return null===(t=u.current)||void 0===t?void 0:t.call(u,h.current)}}),[])}(o);var I=_g(o,u,a,m),E=I[0],A=I[1],O=I[2],L=I[3],R=function(t,e,i,n,r,o,a,s,l,u,h,c,d){var f=t.target,p=function(){return!e.current||!o.current},g=function(t,e,i){var n=i||e.currentTarget;t.key!==a&&(u(),void 0===a&&n.focus(),Cp(t)?(e.stopPropagation(),l((function(){n.focus(),h(t,n,!0)}))):l((function(){c(e),n.focus()})))},m=function(e,i,n){var r=bg(e,{target:f});if(u(),Cp(e)||r&&r.length){if(e.key!==a){var o="boolean"===typeof t.shouldFocusOnContainer?t.shouldFocusOnContainer:"mouse"===i.nativeEvent.pointerType;h(e,n,o)}}else v(e,i);i.stopPropagation(),i.preventDefault()},v=function(e,i){if(!e.disabled&&!e.isDisabled){e.preferMenuTargetAsEventTarget&&Ng(i,f);var n=!1;e.onClick?n=!!e.onClick(i,e):t.onItemClick&&(n=!!t.onItemClick(i,e)),!n&&i.defaultPrevented||d(i,!0)}};return[function(t,e,i){r.current&&(o.current=!0),p()||g(t,e,i)},function(t,a,s){var l=a.currentTarget;r.current&&(o.current=!0,e.current&&void 0===i.current&&l!==(null===n||void 0===n?void 0:n.document.activeElement)&&g(t,a,s))},function(t,e){var i;if(!p()&&(u(),void 0===a))if(s.current.setActive)try{s.current.setActive()}catch(SS){}else null===(i=s.current)||void 0===i||i.focus()},function(t,e){m(t,e,e.currentTarget)},function(t,e){v(t,e),e.stopPropagation()},v,m]}(o,C,D,d,x,w,g,a,T,P,m,y,u),j=R[0],B=R[1],F=R[2],z=R[3],H=R[4],V=R[5],W=R[6],U=function(e,i,n){var r=0,o=e.items,a=e.totalItemCount,s=e.hasCheckmarks,l=e.hasIcons;return t.createElement("ul",{className:i.list,onKeyDown:E,onKeyUp:A,role:"presentation"},o.map((function(t,e){var n=G(t,e,r,a,s,l,i);if(t.itemType!==kp.Divider&&t.itemType!==kp.Header){var o=t.customOnRenderListLength?t.customOnRenderListLength:1;r+=o}return n})))},G=function(e,i,n,r,a,s,l){var u,h,c=[],d=e.iconProps||{iconName:"None"},f=e.getItemClassNames,p=e.itemProps,m=p?p.styles:void 0,v=e.itemType===kp.Divider?e.className:void 0,y=e.submenuIconProps?e.submenuIconProps.className:"";if(f)h=f(o.theme,Mp(e),g===e.key,!!Sp(e),!!e.href,"None"!==d.iconName,e.className,v,d.className,y,e.primaryDisabled);else{var b={theme:o.theme,disabled:Mp(e),expanded:g===e.key,checked:!!Sp(e),isAnchorLink:!!e.href,knownIcon:"None"!==d.iconName,itemClassName:e.className,dividerClassName:v,iconClassName:d.className,subMenuClassName:y,primaryDisabled:e.primaryDisabled};h=vg(wg(null===(u=l.subComponentStyles)||void 0===u?void 0:u.menuItem,m),b)}switch("-"!==e.text&&"-"!==e.name||(e.itemType=kp.Divider),e.itemType){case kp.Divider:c.push(X(i,h));break;case kp.Header:c.push(X(i,h));var x=Z(e,h,l,i,a,s);c.push(Y(x,e.key||i,h,e.title));break;case kp.Section:c.push(K(e,h,l,i,a,s));break;default:var w=function(){return q(e,h,i,n,r,a,s)},k=o.onRenderContextualMenuItem?o.onRenderContextualMenuItem(e,w):w();c.push(Y(k,e.key||i,h,e.title))}return t.createElement(t.Fragment,{key:e.key},c)},K=function(e,i,n,r,o,a){var s=e.sectionProps;if(s){var u,h;if(s.title){var c=void 0,d="";if("string"===typeof s.title){var f=l+s.title.replace(/\s/g,"");c={key:"section-".concat(s.title,"-title"),itemType:kp.Header,text:s.title,id:f},d=f}else{var p=s.title.id||l+s.title.key.replace(/\s/g,"");c=yt(yt({},s.title),{id:p}),d=p}c&&(h={role:"group","aria-labelledby":d},u=Z(c,i,n,r,o,a))}return s.items&&s.items.length>0?t.createElement("li",{role:"presentation",key:s.key||e.key||"section-".concat(r)},t.createElement("div",yt({},h),t.createElement("ul",{className:n.list,role:"presentation"},s.topDivider&&X(r,i,!0,!0),u&&Y(u,e.key||r,i,e.title),s.items.map((function(t,e){return G(t,e,e,s.items.length,o,a,n)})),s.bottomDivider&&X(r,i,!1,!0)))):void 0}},Y=function(e,i,n,r){return t.createElement("li",{role:"presentation",title:r,key:i,className:n.item},e)},X=function(e,i,n,r){return r||e>0?t.createElement("li",{role:"separator",key:"separator-"+e+(void 0===n?"":n?"-top":"-bottom"),className:i.divider,"aria-hidden":"true"}):null},q=function(e,i,n,r,a,s,l){if(e.onRender)return e.onRender(yt({"aria-posinset":r+1,"aria-setsize":a},e),u);var h={item:e,classNames:i,index:n,focusableElementIndex:r,totalItemCount:a,hasCheckmarks:s,hasIcons:l,contextualMenuItemAs:o.contextualMenuItemAs,onItemMouseEnter:j,onItemMouseLeave:F,onItemMouseMove:B,onItemMouseDown:Mg,executeItemClick:V,onItemKeyDown:L,expandedMenuItemKey:g,openSubMenu:m,dismissSubMenu:y,dismissMenu:u};return e.href?t.createElement(ig,yt({},h,{onItemClick:H})):e.split&&Cp(e)?t.createElement(sg,yt({},h,{onItemClick:z,onItemClickBase:W,onTap:P})):t.createElement(lg,yt({},h,{onItemClick:z,onItemClickBase:W}))},Z=function(e,i,n,r,a,s){var l=o.contextualMenuItemAs,u=void 0===l?Kp:l,h=e.itemProps,c=e.id,d=h&&Sr(h,_r);return t.createElement("div",yt({id:c,className:n.header},d,{style:e.style}),t.createElement(u,yt({item:e,classNames:i,index:r,onCheckmarkClick:a?z:void 0,hasIcons:s},h)))},J=o.isBeakVisible,Q=o.items,$=o.labelElementId,tt=o.id,et=o.className,it=o.beakWidth,nt=o.directionalHint,rt=o.directionalHintForRTL,ot=o.alignTargetEdge,at=o.gapSpace,st=o.coverTarget,lt=o.ariaLabel,ut=o.doNotLayer,ht=o.target,ct=o.bounds,dt=o.useTargetWidth,ft=o.useTargetAsMinWidth,pt=o.directionalHintFixed,gt=o.shouldFocusOnMount,mt=o.shouldFocusOnContainer,vt=o.title,xt=o.styles,wt=o.theme,kt=o.calloutProps,_t=o.onRenderSubMenu,St=void 0===_t?Pg:_t,Ct=o.onRenderMenuList,Mt=void 0===Ct?function(t,e){return U(t,Dt)}:Ct,Pt=o.focusZoneProps,Tt=o.getMenuClassNames,Dt=Tt?Tt(wt,et):mg(xt,{theme:wt,className:et}),Nt=function t(e){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.iconProps)return!0;if(r.itemType===kp.Section&&r.sectionProps&&t(r.sectionProps.items))return!0}return!1}(Q);var It,Et=yt(yt({direction:mu.vertical,handleTabKey:vu,isCircularNavigation:!0},Pt),{className:Qs(Dt.root,null===(n=o.focusZoneProps)||void 0===n?void 0:n.className)}),At=function(t){return t.some((function(t){return!!t.canCheck||!(!t.sectionProps||!t.sectionProps.items.some((function(t){return!0===t.canCheck})))}))}(Q),Ot=g&&!0!==o.hidden?v():null;J=void 0===J?N<=og.medium:J;var Lt=c.current;if((dt||ft)&&Lt&&Lt.offsetWidth){var Rt=Lt.getBoundingClientRect().width-2;dt?It={width:Rt}:ft&&(It={minWidth:Rt})}if(Q&&Q.length>0){for(var jt=0,Bt=0,Ft=Q;Bt<Ft.length;Bt++){var zt=Ft[Bt];if(zt.itemType!==kp.Divider&&zt.itemType!==kp.Header){var Ht=zt.customOnRenderListLength?zt.customOnRenderListLength:1;jt+=Ht}}var Vt=Dt.subComponentStyles?Dt.subComponentStyles.callout:void 0;return t.createElement(gg.Consumer,null,(function(e){return t.createElement(ep,yt({styles:Vt,onRestoreFocus:f},kt,{target:ht||e.target,isBeakVisible:J,beakWidth:it,directionalHint:nt,directionalHintForRTL:rt,gapSpace:at,coverTarget:st,doNotLayer:ut,className:Qs("ms-ContextualMenu-Callout",kt&&kt.className),setInitialFocus:gt,onDismiss:o.onDismiss||e.onDismiss,onScroll:S,bounds:ct,directionalHintFixed:pt,alignTargetEdge:ot,hidden:o.hidden||e.hidden,ref:i}),t.createElement("div",{style:It,ref:a,id:tt,className:Dt.container,tabIndex:mt?0:-1,onKeyDown:O,onKeyUp:A,onFocusCapture:k,"aria-label":lt,"aria-labelledby":$,role:"menu"},vt&&t.createElement("div",{className:Dt.title}," ",vt," "),Q&&Q.length?function(e,i){var n=o.focusZoneAs,r=void 0===n?th:n;return t.createElement(r,yt({},i),e)}(Mt({ariaLabel:lt,items:Q,totalItemCount:jt,hasCheckmarks:At,hasIcons:Nt,defaultMenuItemRenderer:function(t){return function(t,e){var i=t.index,n=t.focusableElementIndex,r=t.totalItemCount,o=t.hasCheckmarks,a=t.hasIcons;return G(t,i,n,r,o,a,e)}(t,Dt)},labelElementId:$},(function(t,e){return U(t,Dt)})),Et):null,Ot&&St(Ot,Pg)),t.createElement(zl,null))}))}return null})),(function(t,e){return!(e.shouldUpdateWhenHidden||!t.hidden||!e.hidden)||iu(t,e)}));function Cg(t){return t.which===ho.alt||"Meta"===t.key}function Mg(t,e){var i;null===(i=t.onMouseDown)||void 0===i||i.call(t,t,e)}function Pg(t,e){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")}function Tg(t,e){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.itemType===kp.Section&&r.sectionProps){var o=Tg(t,r.sectionProps.items);if(o)return o}else if(r.key&&r.key===t)return r}}function Dg(t,e){return t?function(i,n){return Ng(i,e),t(i,n)}:t}function Ng(t,e){t&&e&&(t.persist(),e instanceof Event?t.target=e.target:e instanceof Element&&(t.target=e))}Sg.displayName="ContextualMenuBase";var Ig={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"};function Eg(e){return t.createElement(Ag,yt({},e))}var Ag=Qn(Sg,(function(t){var e=t.className,i=t.theme,n=Ja(Ig,i),r=i.fonts,o=i.semanticColors,a=i.effects;return{root:[i.fonts.medium,n.root,n.isopen,{backgroundColor:o.menuBackground,minWidth:"180px"},e],container:[n.container,{selectors:{":focus":{outline:0}}}],list:[n.list,n.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[n.header,r.small,{fontWeight:Ma.semibold,color:o.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:jp,lineHeight:jp,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[n.title,{fontSize:r.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:o.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:a.elevation8}},menuItem:{}}}}),(function(t){return{onRenderSubMenu:t.onRenderSubMenu?Th(t.onRenderSubMenu,Eg):Eg}}),{scope:"ContextualMenu"}),Og=Ag;Og.displayName="ContextualMenu";var Lg,Rg,jg={msButton:"ms-Button",msButtonHasMenu:"ms-Button--hasMenu",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},Bg=Ka((function(t,e,i,n,r,o,a,s,l,u,h){var c,d,f=Ja(jg,t||{}),p=u&&!h;return lo({root:[f.msButton,e.root,n,l&&["is-checked",e.rootChecked],p&&["is-expanded",e.rootExpanded,{selectors:(c={},c[":hover .".concat(f.msButtonIcon)]=e.iconExpandedHovered,c[":hover .".concat(f.msButtonMenuIcon)]=e.menuIconExpandedHovered||e.rootExpandedHovered,c[":hover"]=e.rootExpandedHovered,c)}],s&&[jg.msButtonHasMenu,e.rootHasMenu],a&&["is-disabled",e.rootDisabled],!a&&!p&&!l&&{selectors:(d={":hover":e.rootHovered},d[":hover .".concat(f.msButtonLabel)]=e.labelHovered,d[":hover .".concat(f.msButtonIcon)]=e.iconHovered,d[":hover .".concat(f.msButtonDescription)]=e.descriptionHovered,d[":hover .".concat(f.msButtonMenuIcon)]=e.menuIconHovered,d[":focus"]=e.rootFocused,d[":active"]=e.rootPressed,d[":active .".concat(f.msButtonIcon)]=e.iconPressed,d[":active .".concat(f.msButtonDescription)]=e.descriptionPressed,d[":active .".concat(f.msButtonMenuIcon)]=e.menuIconPressed,d)},a&&l&&[e.rootCheckedDisabled],!a&&l&&{selectors:{":hover":e.rootCheckedHovered,":active":e.rootCheckedPressed}},i],flexContainer:[f.msButtonFlexContainer,e.flexContainer],textContainer:[f.msButtonTextContainer,e.textContainer],icon:[f.msButtonIcon,r,e.icon,p&&e.iconExpanded,l&&e.iconChecked,a&&e.iconDisabled],label:[f.msButtonLabel,e.label,l&&e.labelChecked,a&&e.labelDisabled],menuIcon:[f.msButtonMenuIcon,o,e.menuIcon,l&&e.menuIconChecked,a&&!h&&e.menuIconDisabled,!a&&!p&&!l&&{selectors:{":hover":e.menuIconHovered,":active":e.menuIconPressed}},p&&["is-expanded",e.menuIconExpanded]],description:[f.msButtonDescription,e.description,l&&e.descriptionChecked,a&&e.descriptionDisabled],screenReaderText:[f.msButtonScreenReaderText,e.screenReaderText]})})),Fg=Ka((function(t,e,i,n,r){return{root:Mo(t.splitButtonMenuButton,i&&[t.splitButtonMenuButtonExpanded],e&&[t.splitButtonMenuButtonDisabled],n&&!e&&[t.splitButtonMenuButtonChecked],r&&!e&&[{selectors:{":focus":t.splitButtonMenuFocused}}]),splitButtonContainer:Mo(t.splitButtonContainer,!e&&n&&[t.splitButtonContainerChecked,{selectors:{":hover":t.splitButtonContainerCheckedHovered}}],!e&&!n&&[{selectors:{":hover":t.splitButtonContainerHovered,":focus":t.splitButtonContainerFocused}}],e&&t.splitButtonContainerDisabled),icon:Mo(t.splitButtonMenuIcon,e&&t.splitButtonMenuIconDisabled,!e&&r&&t.splitButtonMenuIcon),flexContainer:Mo(t.splitButtonFlexContainer),divider:Mo(t.splitButtonDivider,(r||e)&&t.splitButtonDividerDisabled)}})),zg=function(e){function i(i){var n=e.call(this,i)||this;return n._buttonElement=t.createRef(),n._splitButtonContainer=t.createRef(),n._mergedRef=xu(),n._renderedVisibleMenu=!1,n._getMemoizedMenuButtonKeytipProps=Ka((function(t){return yt(yt({},t),{hasMenu:!0})})),n._onRenderIcon=function(e,i){var r=n.props.iconProps;if(r&&(void 0!==r.iconName||r.imageProps)){var o=r.className,a=r.imageProps,s=bt(r,["className","imageProps"]);if(r.styles)return t.createElement(nl,yt({className:Qs(n._classNames.icon,o),imageProps:a},s));if(r.iconName)return t.createElement(tl,yt({className:Qs(n._classNames.icon,o)},s));if(a)return t.createElement(_p,yt({className:Qs(n._classNames.icon,o),imageProps:a},s))}return null},n._onRenderTextContents=function(){var e=n.props,i=e.text,r=e.children,o=e.secondaryText,a=void 0===o?n.props.description:o,s=e.onRenderText,l=void 0===s?n._onRenderText:s,u=e.onRenderDescription,h=void 0===u?n._onRenderDescription:u;return i||"string"===typeof r||a?t.createElement("span",{className:n._classNames.textContainer},l(n.props,n._onRenderText),h(n.props,n._onRenderDescription)):[l(n.props,n._onRenderText),h(n.props,n._onRenderDescription)]},n._onRenderText=function(){var e=n.props.text,i=n.props.children;return void 0===e&&"string"===typeof i&&(e=i),n._hasText()?t.createElement("span",{key:n._labelId,className:n._classNames.label,id:n._labelId},e):null},n._onRenderChildren=function(){var t=n.props.children;return"string"===typeof t?null:t},n._onRenderDescription=function(e){var i=e.secondaryText,r=void 0===i?n.props.description:i;return r?t.createElement("span",{key:n._descriptionId,className:n._classNames.description,id:n._descriptionId},r):null},n._onRenderAriaDescription=function(){var e=n.props.ariaDescription;return e?t.createElement("span",{className:n._classNames.screenReaderText,id:n._ariaDescriptionId},e):null},n._onRenderMenuIcon=function(e){var i=n.props.menuIconProps;return t.createElement(tl,yt({iconName:"ChevronDown"},i,{className:n._classNames.menuIcon}))},n._onRenderMenu=function(e){var i=n.props.menuAs?uc(n.props.menuAs,Og):Og;return t.createElement(i,yt({},e))},n._onDismissMenu=function(t){var e=n.props.menuProps;e&&e.onDismiss&&e.onDismiss(t),t&&t.defaultPrevented||n._dismissMenu()},n._dismissMenu=function(){n._menuShouldFocusOnMount=void 0,n._menuShouldFocusOnContainer=void 0,n.setState({menuHidden:!0})},n._openMenu=function(t,e){void 0===e&&(e=!0),n.props.menuProps&&(n._menuShouldFocusOnContainer=t,n._menuShouldFocusOnMount=e,n._renderedVisibleMenu=!0,n.setState({menuHidden:!1}))},n._onToggleMenu=function(t){var e=!0;n.props.menuProps&&!1===n.props.menuProps.shouldFocusOnMount&&(e=!1),n.state.menuHidden?n._openMenu(t,e):n._dismissMenu()},n._onSplitContainerFocusCapture=function(t){var e=n._splitButtonContainer.current;!e||t.target&&zu(t.target,e)||e.focus()},n._onSplitButtonPrimaryClick=function(t){n.state.menuHidden||n._dismissMenu(),!n._processingTouch&&n.props.onClick?n.props.onClick(t):n._processingTouch&&n._onMenuClick(t)},n._onKeyDown=function(t){!n.props.disabled||t.which!==ho.enter&&t.which!==ho.space?n.props.disabled||(n.props.menuProps?n._onMenuKeyDown(t):void 0!==n.props.onKeyDown&&n.props.onKeyDown(t)):(t.preventDefault(),t.stopPropagation())},n._onKeyUp=function(t){n.props.disabled||void 0===n.props.onKeyUp||n.props.onKeyUp(t)},n._onKeyPress=function(t){n.props.disabled||void 0===n.props.onKeyPress||n.props.onKeyPress(t)},n._onMouseUp=function(t){n.props.disabled||void 0===n.props.onMouseUp||n.props.onMouseUp(t)},n._onMouseDown=function(t){n.props.disabled||void 0===n.props.onMouseDown||n.props.onMouseDown(t)},n._onClick=function(t){n.props.disabled||(n.props.menuProps?n._onMenuClick(t):void 0!==n.props.onClick&&n.props.onClick(t))},n._onSplitButtonContainerKeyDown=function(t){t.which===ho.enter||t.which===ho.space?n._buttonElement.current&&(n._buttonElement.current.click(),t.preventDefault(),t.stopPropagation()):n._onMenuKeyDown(t)},n._onMenuKeyDown=function(t){var e;if(!n.props.disabled){n.props.onKeyDown&&n.props.onKeyDown(t);var i=t.which===ho.up,r=t.which===ho.down;if(!t.defaultPrevented&&n._isValidMenuOpenKey(t)){var o=n.props.onMenuClick;o&&o(t,n.props),n._onToggleMenu(!1),t.preventDefault(),t.stopPropagation()}if(t.which!==ho.enter&&t.which!==ho.space||La(!0,t.target,null===(e=n.context)||void 0===e?void 0:e.registeredProviders),!t.altKey&&!t.metaKey&&(i||r))if(!n.state.menuHidden&&n.props.menuProps)(void 0!==n._menuShouldFocusOnMount?n._menuShouldFocusOnMount:n.props.menuProps.shouldFocusOnMount)||(t.preventDefault(),t.stopPropagation(),n._menuShouldFocusOnMount=!0,n.forceUpdate())}},n._onTouchStart=function(){n._isSplitButton&&n._splitButtonContainer.current&&!("onpointerdown"in n._splitButtonContainer.current)&&n._handleTouchAndPointerEvent()},n._onMenuClick=function(t){var e=n.props,i=e.onMenuClick,r=e.menuProps;i&&i(t,n.props);var o="boolean"===typeof(null===r||void 0===r?void 0:r.shouldFocusOnContainer)?r.shouldFocusOnContainer:"mouse"===t.nativeEvent.pointerType;t.defaultPrevented||(n._onToggleMenu(o),t.preventDefault(),t.stopPropagation())},ol(n),n._async=new hl(n),n._events=new hu(n),n.props.split,n._labelId=gl(),n._descriptionId=gl(),n._ariaDescriptionId=gl(),n.state={menuHidden:!0},n}return vt(i,e),Object.defineProperty(i.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&!0===this.props.split},enumerable:!1,configurable:!0}),i.prototype.render=function(){var t,e=this.props,i=e.ariaDescription,n=e.ariaLabel,r=e.ariaHidden,o=e.className,a=e.disabled,s=e.allowDisabledFocus,l=e.primaryDisabled,u=e.secondaryText,h=void 0===u?this.props.description:u,c=e.href,d=e.iconProps,f=e.menuIconProps,p=e.styles,g=e.checked,m=e.variantClassName,v=e.theme,y=e.toggle,b=e.getClassNames,x=e.role,w=this.state.menuHidden,k=a||l;this._classNames=b?b(v,o,m,d&&d.className,f&&f.className,k,g,!w,!!this.props.menuProps,this.props.split,!!s):Bg(v,p,o,m,d&&d.className,f&&f.className,k,!!this.props.menuProps,g,!w,this.props.split);var _=this,S=_._ariaDescriptionId,C=_._labelId,M=_._descriptionId,P=!k&&!!c,T=P?"a":"button",D=Sr(nu(P?{}:{type:"button"},this.props.rootProps,this.props),P?lr:ur,["disabled"]),N=n||D["aria-label"],I=void 0;i?I=S:h&&this.props.onRenderDescription!==wp?I=M:D["aria-describedby"]&&(I=D["aria-describedby"]);var E=void 0;D["aria-labelledby"]?E=D["aria-labelledby"]:I&&!N&&(E=this._hasText()?C:void 0);var A=!(!1===this.props["data-is-focusable"]||a&&!s||this._isSplitButton),O="menuitemcheckbox"===x||"checkbox"===x,L=O||!0===y?!!g:void 0,R=nu(D,((t={className:this._classNames.root,ref:this._mergedRef(this.props.elementRef,this._buttonElement),disabled:k&&!s,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":N,"aria-labelledby":E,"aria-describedby":I,"aria-disabled":k,"data-is-focusable":A})[O?"aria-checked":"aria-pressed"]=L,t));if(r&&(R["aria-hidden"]=!0),this._isSplitButton)return this._onRenderSplitButtonContent(T,R);if(this.props.menuProps){var j=this.props.menuProps.id,B=void 0===j?"".concat(this._labelId,"-menu"):j;nu(R,{"aria-expanded":!w,"aria-controls":w?null:B,"aria-haspopup":!0})}return this._onRenderContent(T,R)},i.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&("onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0),"onpointerup"in this._splitButtonContainer.current&&this.props.onPointerUp&&this._events.on(this._splitButtonContainer.current,"pointerup",this.props.onPointerUp,!0))},i.prototype.componentDidUpdate=function(t,e){this.props.onAfterMenuDismiss&&!e.menuHidden&&this.state.menuHidden&&this.props.onAfterMenuDismiss()},i.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},i.prototype.focus=function(){var t,e;this._isSplitButton&&this._splitButtonContainer.current?(La(!0,void 0,null===(t=this.context)||void 0===t?void 0:t.registeredProviders),this._splitButtonContainer.current.focus()):this._buttonElement.current&&(La(!0,void 0,null===(e=this.context)||void 0===e?void 0:e.registeredProviders),this._buttonElement.current.focus())},i.prototype.dismissMenu=function(){this._dismissMenu()},i.prototype.openMenu=function(t,e){this._openMenu(t,e)},i.prototype._onRenderContent=function(e,i){var n=this,r=this.props,o=e,a=r.menuIconProps,s=r.menuProps,l=r.onRenderIcon,u=void 0===l?this._onRenderIcon:l,h=r.onRenderAriaDescription,c=void 0===h?this._onRenderAriaDescription:h,d=r.onRenderChildren,f=void 0===d?this._onRenderChildren:d,p=r.onRenderMenu,g=void 0===p?this._onRenderMenu:p,m=r.onRenderMenuIcon,v=void 0===m?this._onRenderMenuIcon:m,y=r.disabled,b=r.keytipProps;b&&s&&(b=this._getMemoizedMenuButtonKeytipProps(b));var x=function(e){return t.createElement(o,yt({},i,e),t.createElement("span",{className:n._classNames.flexContainer,"data-automationid":"splitbuttonprimary"},u(r,n._onRenderIcon),n._onRenderTextContents(),c(r,n._onRenderAriaDescription),f(r,n._onRenderChildren),!n._isSplitButton&&(s||a||n.props.onRenderMenuIcon)&&v(n.props,n._onRenderMenuIcon),s&&!s.doNotLayer&&n._shouldRenderMenu()&&g(n._getMenuProps(s),n._onRenderMenu)))},w=b?t.createElement(eg,{keytipProps:this._isSplitButton?void 0:b,ariaDescribedBy:i["aria-describedby"],disabled:y},(function(t){return x(t)})):x();return s&&s.doNotLayer?t.createElement(t.Fragment,null,w,this._shouldRenderMenu()&&g(this._getMenuProps(s),this._onRenderMenu)):t.createElement(t.Fragment,null,w,t.createElement(zl,null))},i.prototype._shouldRenderMenu=function(){var t=this.state.menuHidden,e=this.props,i=e.persistMenu,n=e.renderPersistedMenuHiddenOnMount;return!t||!(!i||!this._renderedVisibleMenu&&!n)},i.prototype._hasText=function(){return null!==this.props.text&&(void 0!==this.props.text||"string"===typeof this.props.children)},i.prototype._getMenuProps=function(t){var e=this.props.persistMenu,i=this.state.menuHidden;return t.ariaLabel||t.labelElementId||!this._hasText()||(t=yt(yt({},t),{labelElementId:this._labelId})),yt(yt({id:this._labelId+"-menu",directionalHint:Ud.bottomLeftEdge},t),{shouldFocusOnContainer:this._menuShouldFocusOnContainer,shouldFocusOnMount:this._menuShouldFocusOnMount,hidden:e?i:void 0,className:Qs("ms-BaseButton-menuhost",t.className),target:this._isSplitButton?this._splitButtonContainer.current:this._buttonElement.current,onDismiss:this._onDismissMenu})},i.prototype._onRenderSplitButtonContent=function(e,i){var n=this,r=this.props,o=r.styles,a=void 0===o?{}:o,s=r.disabled,l=r.allowDisabledFocus,u=r.checked,h=r.getSplitButtonClassNames,c=r.primaryDisabled,d=r.menuProps,f=r.toggle,p=r.role,g=r.primaryActionButtonProps,m=this.props.keytipProps,v=this.state.menuHidden,y=h?h(!!s,!v,!!u,!!l):a&&Fg(a,!!s,!v,!!u,!!c);nu(i,{onClick:void 0,onPointerDown:void 0,onPointerUp:void 0,tabIndex:-1,"data-is-focusable":!1}),m&&d&&(m=this._getMemoizedMenuButtonKeytipProps(m));var b=Sr(i,[],["disabled"]);g&&nu(i,g);var x=function(r){return t.createElement("div",yt({},b,{"data-ktp-target":r?r["data-ktp-target"]:void 0,role:p||"button","aria-disabled":s,"aria-haspopup":!0,"aria-expanded":!v,"aria-pressed":f?!!u:void 0,"aria-describedby":Bd(i["aria-describedby"],r?r["aria-describedby"]:void 0),className:y&&y.splitButtonContainer,onKeyDown:n._onSplitButtonContainerKeyDown,onTouchStart:n._onTouchStart,ref:n._splitButtonContainer,"data-is-focusable":!0,onClick:s||c?void 0:n._onSplitButtonPrimaryClick,tabIndex:!s&&!c||l?0:void 0,"aria-roledescription":i["aria-roledescription"],onFocusCapture:n._onSplitContainerFocusCapture}),t.createElement("span",{style:{display:"flex",width:"100%"}},n._onRenderContent(e,i),n._onRenderSplitButtonMenuButton(y,r),n._onRenderSplitButtonDivider(y)))};return m?t.createElement(eg,{keytipProps:m,disabled:s},(function(t){return x(t)})):x()},i.prototype._onRenderSplitButtonDivider=function(e){if(e&&e.divider){return t.createElement("span",{className:e.divider,"aria-hidden":!0,onClick:function(t){t.stopPropagation()}})}return null},i.prototype._onRenderSplitButtonMenuButton=function(e,n){var r=this.props,o=r.allowDisabledFocus,a=r.checked,s=r.disabled,l=r.splitButtonMenuProps,u=r.splitButtonAriaLabel,h=r.primaryDisabled,c=this.state.menuHidden,d=this.props.menuIconProps;void 0===d&&(d={iconName:"ChevronDown"});var f=yt(yt({},l),{styles:e,checked:a,disabled:s,allowDisabledFocus:o,onClick:this._onMenuClick,menuProps:void 0,iconProps:yt(yt({},d),{className:this._classNames.menuIcon}),ariaLabel:u,"aria-haspopup":!0,"aria-expanded":!c,"data-is-focusable":!1});return t.createElement(i,yt({},f,{"data-ktp-execute-target":n?n["data-ktp-execute-target"]:n,onMouseDown:this._onMouseDown,tabIndex:h&&!o?0:-1}))},i.prototype._onPointerDown=function(t){var e=this.props.onPointerDown;e&&e(t),"touch"===t.pointerType&&(this._handleTouchAndPointerEvent(),t.preventDefault(),t.stopImmediatePropagation())},i.prototype._handleTouchAndPointerEvent=function(){var t=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0,t.state.menuHidden&&t.focus()}),500)},i.prototype._isValidMenuOpenKey=function(t){return this.props.menuTriggerKeyCode?t.which===this.props.menuTriggerKeyCode:!!this.props.menuProps&&(t.which===ho.down&&(t.altKey||t.metaKey))},i.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},i.contextType=Bl,i}(t.Component),Hg={outline:0},Vg=function(t){return{fontSize:t,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",flexShrink:0}},Wg=Ka((function(t){var e,i,n=t.semanticColors,r=t.effects,o=t.fonts,a=n.buttonBorder,s=n.disabledBackground,l=n.disabledText,u={left:-2,top:-2,bottom:-2,right:-2,outlineColor:"ButtonText"};return{root:[Ra(t,{inset:1,highContrastStyle:u,borderColor:"transparent"}),t.fonts.medium,{border:"1px solid "+a,borderRadius:r.roundedCorner2,boxSizing:"border-box",cursor:"pointer",display:"inline-block",padding:"0 16px",textDecoration:"none",textAlign:"center",userSelect:"none",selectors:{":active > span":{position:"relative",left:0,top:0}}}],rootDisabled:[Ra(t,{inset:1,highContrastStyle:u,borderColor:"transparent"}),{backgroundColor:s,borderColor:s,color:l,cursor:"default",selectors:{":hover":Hg,":focus":Hg}}],iconDisabled:{color:l,selectors:(e={},e[Da]={color:"GrayText"},e)},menuIconDisabled:{color:l,selectors:(i={},i[Da]={color:"GrayText"},i)},flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},description:{display:"block"},textContainer:{flexGrow:1,display:"block"},icon:Vg(o.mediumPlus.fontSize),menuIcon:Vg(o.small.fontSize),label:{margin:"0 4px",lineHeight:"100%",display:"block"},screenReaderText:Fa}})),Ug=Ka((function(t,e){var i,n,r,o,a,s,l,u,h,c,d,f,p,g=t.effects,m=t.palette,v=t.semanticColors,y={left:-2,top:-2,bottom:-2,right:-2,border:"none"},b={position:"absolute",width:1,right:31,top:8,bottom:8};return On({splitButtonContainer:[Ra(t,{highContrastStyle:y,inset:2,pointerEvents:"none"}),{display:"inline-flex",selectors:{".ms-Button--default":{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none",flexGrow:"1"},".ms-Button--primary":{borderTopRightRadius:"0",borderBottomRightRadius:"0",border:"none",flexGrow:"1",selectors:(i={},i[Da]=yt({color:"WindowText",backgroundColor:"Window",border:"1px solid WindowText",borderRightWidth:"0"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),i[":hover"]={border:"none"},i[":active"]={border:"none"},i)},".ms-Button--primary + .ms-Button":{border:"none",selectors:(n={},n[Da]={border:"1px solid WindowText",borderLeftWidth:"0"},n)}}}],splitButtonContainerHovered:{selectors:{".ms-Button--primary":{selectors:(r={},r[Da]={color:"Window",backgroundColor:"Highlight"},r)},".ms-Button.is-disabled":{color:v.buttonTextDisabled,selectors:(o={},o[Da]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},o)}}},splitButtonContainerChecked:{selectors:{".ms-Button--primary":{selectors:(a={},a[Da]=yt({color:"Window",backgroundColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),a)}}},splitButtonContainerCheckedHovered:{selectors:{".ms-Button--primary":{selectors:(s={},s[Da]=yt({color:"Window",backgroundColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),s)}}},splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:(l={padding:6,height:"auto",boxSizing:"border-box",borderRadius:0,borderTopRightRadius:g.roundedCorner2,borderBottomRightRadius:g.roundedCorner2,border:"1px solid ".concat(m.neutralSecondaryAlt),borderLeft:"none",outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},l[Da]={".ms-Button-menuIcon":{color:"WindowText"}},l),splitButtonDivider:yt(yt({},b),{selectors:(u={},u[Da]={backgroundColor:"WindowText"},u)}),splitButtonDividerDisabled:yt(yt({},b),{selectors:(h={},h[Da]={backgroundColor:"GrayText"},h)}),splitButtonMenuButtonDisabled:{pointerEvents:"none",border:"none",selectors:(c={":hover":{cursor:"default"},".ms-Button--primary":{selectors:(d={},d[Da]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},d)},".ms-Button-menuIcon":{selectors:(f={},f[Da]={color:"GrayText"},f)}},c[Da]={color:"GrayText",border:"1px solid GrayText",backgroundColor:"Window"},c)},splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:{outline:"none",border:"none",selectors:(p={},p[Da]=yt({color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),p)},splitButtonMenuFocused:yt({},Ra(t,{highContrastStyle:y,inset:2}))},e)})),Gg=Ka((function(t,e){var i,n=Wg(t),r=Ug(t),o=t.palette;return On(n,{root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:t.semanticColors.link},rootHovered:{color:o.themeDarkAlt,backgroundColor:o.neutralLighter,selectors:(i={},i[Da]={borderColor:"Highlight",color:"Highlight"},i)},rootHasMenu:{width:"auto"},rootPressed:{color:o.themeDark,backgroundColor:o.neutralLight},rootExpanded:{color:o.themeDark,backgroundColor:o.neutralLight},rootChecked:{color:o.themeDark,backgroundColor:o.neutralLight},rootCheckedHovered:{color:o.themeDark,backgroundColor:o.neutralQuaternaryAlt},rootDisabled:{color:o.neutralTertiaryAlt}},r,e)})),Kg=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.styles,n=e.theme;return t.createElement(zg,yt({},this.props,{variantClassName:"ms-Button--icon",styles:Gg(n,i),onRenderText:wp,onRenderDescription:wp}))},i=xt([Hd("IconButton",["theme","styles"],!0)],i)}(t.Component),Yg=Ka((function(t,e){var i,n,r;return On(Wg(t),{root:{padding:"0 4px",height:"40px",color:t.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent",selectors:(i={},i[Da]={borderColor:"Window"},i)},rootHovered:{color:t.palette.themePrimary,selectors:(n={},n[Da]={color:"Highlight"},n)},iconHovered:{color:t.palette.themePrimary},rootPressed:{color:t.palette.black},rootExpanded:{color:t.palette.themePrimary},iconPressed:{color:t.palette.themeDarker},rootDisabled:{color:t.palette.neutralTertiary,backgroundColor:"transparent",borderColor:"transparent",selectors:(r={},r[Da]={color:"GrayText"},r)},rootChecked:{color:t.palette.black},iconChecked:{color:t.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:t.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:t.palette.neutralSecondary},textContainer:{flexGrow:0}},e)})),Xg=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.styles,n=e.theme;return t.createElement(zg,yt({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:Yg(n,i),onRenderDescription:wp}))},i=xt([Hd("ActionButton",["theme","styles"],!0)],i)}(t.Component),qg=Xg;!function(t){t[t.backward=-1]="backward",t[t.none=0]="none",t[t.forward=1]="forward"}(Lg||(Lg={})),function(t){t[t.clearAll=-2]="clearAll",t[t.default=-1]="default"}(Rg||(Rg={}));var Zg=t.memo((function(t){return(0,t.render)()}),(function(t,e){t.render;var i=bt(t,["render"]);e.render;return iu(i,bt(e,["render"]))})),Jg="ComboBox",Qg={options:[],allowFreeform:!1,autoComplete:"on",buttonIconProps:{iconName:"ChevronDown"}};function $g(e){var i=e.options,n=e.defaultSelectedKey,r=e.selectedKey,o=t.useState((function(){return rm(i,function(t,e){var i=om(t);if(i.length)return i;return om(e)}(n,r))})),a=o[0],s=o[1],l=t.useState(i),u=l[0],h=l[1],c=t.useState(),d=c[0],f=c[1];return t.useEffect((function(){if(void 0!==r){var t=om(r),e=rm(i,t);s(e)}h(i)}),[i,r]),t.useEffect((function(){null===r&&f(void 0)}),[r]),[a,s,u,h,d,f]}var tm=t.forwardRef((function(e,i){var n=jd(Qg,e),r=(n.ref,bt(n,["ref"])),o=t.useRef(null),a=Us(o,i),s=$g(r),l=s[0],u=s[1],h=s[2],c=s[3],d=s[4],f=s[5];return t.createElement(nm,yt({},r,{hoisted:{mergedRootRef:a,rootRef:o,selectedIndices:l,setSelectedIndices:u,currentOptions:h,setCurrentOptions:c,suggestedDisplayValue:d,setSuggestedDisplayValue:f}}))}));function em(t,e){for(var i=function(t,e){void 0===e&&(e=!0);var i=[];if(t){for(var n=0;n<t.children.length;n++)i.push(t.children.item(n));e&&fu(t)&&i.push.apply(i,t._virtual.children)}return i}(t),n=0;n<i.length;n++){var r=i[n];if(e(r))return r;var o=em(r,e);if(o)return o}return null}tm.displayName=Jg;var im,nm=function(e){function i(i){var n=e.call(this,i)||this;return n._autofill=t.createRef(),n._comboBoxWrapper=t.createRef(),n._comboBoxMenu=t.createRef(),n._selectedElement=t.createRef(),n.focus=function(t,e){n.props.disabled||(n._autofill.current&&(e?Ru(n._autofill.current):n._autofill.current.focus(),t&&n.setState({isOpen:!0})),n._hasFocus()||n.setState({focusState:"focused"}))},n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onUpdateValueInAutofillWillReceiveProps=function(){var t=n._autofill.current;return t?null===t.value||void 0===t.value?null:am(n._currentVisibleValue):null},n._renderComboBoxWrapper=function(e,i){var r=n.props,o=r.label,a=r.disabled,s=r.ariaLabel,l=r.ariaDescribedBy,u=void 0===l?n.props["aria-describedby"]:l,h=r.required,c=r.errorMessage,d=r.buttonIconProps,f=r.isButtonAriaHidden,p=r.title,g=r.placeholder,m=r.tabIndex,v=r.autofill,y=r.iconButtonProps,b=r.hoisted.suggestedDisplayValue,x=n.state,w=x.ariaActiveDescendantValue,k=x.isOpen,_=n._hasFocus()&&n.props.multiSelect&&e?e:g,S=[n.props["aria-labelledby"],o&&n._id+"-label"].join(" ").trim(),C={"aria-labelledby":S||void 0,"aria-label":s&&!o?s:void 0};return t.createElement("div",{"data-ktp-target":!0,ref:n._comboBoxWrapper,id:n._id+"wrapper",className:n._classNames.root,"aria-owns":k?n._id+"-list":void 0},t.createElement(Ld,yt({"data-ktp-execute-target":!0,"data-is-interactable":!a,componentRef:n._autofill,id:n._id+"-input",className:n._classNames.input,type:"text",onFocus:n._onFocus,onBlur:n._onBlur,onKeyDown:n._onInputKeyDown,onKeyUp:n._onInputKeyUp,onClick:n._onAutofillClick,onTouchStart:n._onTouchStart,onInputValueChange:n._onInputChange,"aria-expanded":k,"aria-autocomplete":n._getAriaAutoCompleteValue(),role:"combobox",readOnly:a},C,{"aria-describedby":void 0!==c?Bd(u,i):u,"aria-activedescendant":w,"aria-required":h,"aria-disabled":a,"aria-controls":k?n._id+"-list":void 0,spellCheck:!1,defaultVisibleValue:n._currentVisibleValue,suggestedDisplayValue:b,updateValueInWillReceiveProps:n._onUpdateValueInAutofillWillReceiveProps,shouldSelectFullInputValueInComponentDidUpdate:n._onShouldSelectFullInputValueInAutofillComponentDidUpdate,title:p,preventValueSelection:!n._hasFocus(),placeholder:_,tabIndex:a?-1:m},v)),t.createElement(Kg,yt({className:"ms-ComboBox-CaretDown-button",styles:n._getCaretButtonStyles(),role:f?"presentation":void 0,"aria-hidden":f},f?void 0:C,{"data-is-focusable":!1,tabIndex:-1,onClick:n._onComboBoxClick,onBlur:n._onBlur,iconProps:d,disabled:a,checked:k},y)))},n._onShouldSelectFullInputValueInAutofillComponentDidUpdate=function(){return n._currentVisibleValue===n.props.hoisted.suggestedDisplayValue},n._getVisibleValue=function(){var t=n.props,e=t.text,i=t.allowFreeform,r=t.allowFreeInput,o=t.autoComplete,a=t.hoisted,s=a.suggestedDisplayValue,l=a.selectedIndices,u=a.currentOptions,h=n.state,c=h.currentPendingValueValidIndex,d=h.currentPendingValue,f=h.isOpen,p=sm(u,c);if((!f||!p)&&(e||""===e)&&(null===d||void 0===d))return e;if(n.props.multiSelect){if(n._hasFocus()){var g=-1;return"on"===o&&p&&(g=c),n._getPendingString(d,u,g)}return n._getMultiselectDisplayString(l,u,s)}g=n._getFirstSelectedIndex();return i||r?("on"===o&&p&&(g=c),n._getPendingString(d,u,g)):p&&"on"===o?(g=c,am(d)):!n.state.isOpen&&d?sm(u,g)?d:am(s):sm(u,g)?hm(u[g]):am(s)},n._onInputChange=function(t){n.props.disabled?n._handleInputWhenDisabled(null):(n.props.onInputValueChange&&n.props.onInputValueChange(t),n.props.allowFreeform||n.props.allowFreeInput?n._processInputChangeWithFreeform(t):n._processInputChangeWithoutFreeform(t))},n._onFocus=function(){var t,e;null===(e=null===(t=n._autofill.current)||void 0===t?void 0:t.inputElement)||void 0===e||e.select(),n._hasFocus()||n.setState({focusState:"focusing"})},n._onResolveOptions=function(){if(n.props.onResolveOptions){var t=n.props.onResolveOptions(kt([],n.props.hoisted.currentOptions,!0));Array.isArray(t)?n.props.hoisted.setCurrentOptions(t):t&&t.then&&(n._currentPromise=t,t.then((function(e){t===n._currentPromise&&n.props.hoisted.setCurrentOptions(e)})))}},n._onBlur=function(t){var e,i,r=t.relatedTarget;if(null===t.relatedTarget&&(r=document.activeElement),r){var o=null===(e=n.props.hoisted.rootRef.current)||void 0===e?void 0:e.contains(r),a=null===(i=n._comboBoxMenu.current)||void 0===i?void 0:i.contains(r),s=n._comboBoxMenu.current&&wu(n._comboBoxMenu.current,(function(t){return t===r}));if(o||a||s)return s&&n._hasFocus()&&(!n.props.multiSelect||n.props.allowFreeform)&&n._submitPendingValue(t),t.preventDefault(),void t.stopPropagation()}n._hasFocus()&&(n.setState({focusState:"none"}),n.props.multiSelect&&!n.props.allowFreeform||n._submitPendingValue(t))},n._onRenderContainer=function(e,i){var r=e.onRenderList,o=e.calloutProps,a=e.dropdownWidth,s=e.dropdownMaxWidth,l=e.onRenderUpperContent,u=void 0===l?n._onRenderUpperContent:l,h=e.onRenderLowerContent,c=void 0===h?n._onRenderLowerContent:h,d=e.useComboBoxAsMenuWidth,f=e.persistMenu,p=e.shouldRestoreFocus,g=void 0===p||p,m=n.state.isOpen,v=n._id,y=d&&n._comboBoxWrapper.current?n._comboBoxWrapper.current.clientWidth+2:void 0;return t.createElement(ep,yt({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHint:Ud.bottomLeftEdge,directionalHintFixed:!1},o,{onLayerMounted:n._onLayerMounted,className:Qs(n._classNames.callout,null===o||void 0===o?void 0:o.className),target:n._comboBoxWrapper.current,onDismiss:n._onDismiss,onMouseDown:n._onCalloutMouseDown,onScroll:n._onScroll,setInitialFocus:!1,calloutWidth:d&&n._comboBoxWrapper.current?y&&y:a,calloutMaxWidth:s||y,hidden:f?!m:void 0,shouldRestoreFocus:g}),u(n.props,n._onRenderUpperContent),t.createElement("div",{className:n._classNames.optionsContainerWrapper,ref:n._comboBoxMenu},null===r||void 0===r?void 0:r(yt(yt({},e),{id:v}),n._onRenderList)),c(n.props,n._onRenderLowerContent))},n._onLayerMounted=function(){n._onCalloutLayerMounted(),n._async.setTimeout((function(){n._scrollIntoView()}),0),n.props.calloutProps&&n.props.calloutProps.onLayerMounted&&n.props.calloutProps.onLayerMounted()},n._onRenderLabel=function(e){var i=e.props,r=i.label,o=i.disabled,a=i.required;return r?t.createElement(Vs,{id:n._id+"-label",disabled:o,required:a,className:n._classNames.label},r,e.multiselectAccessibleText&&t.createElement("span",{className:n._classNames.screenReaderText},e.multiselectAccessibleText)):null},n._onRenderList=function(e){var i=e.onRenderItem,r=void 0===i?n._onRenderItem:i,o=e.label,a=e.ariaLabel,s=e.multiSelect,l={items:[]},u=[],h=function(){var e=l.id?[t.createElement("div",{role:"group",key:l.id,"aria-labelledby":l.id},l.items)]:l.items;u=kt(kt([],u,!0),e,!0),l={items:[]}};e.options.forEach((function(t,e){!function(t,e){switch(t.itemType){case ap.Header:l.items.length>0&&h();var i=n._id+t.key;l.items.push(r(yt(yt({id:i},t),{index:e}),n._onRenderItem)),l.id=i;break;case ap.Divider:e>0&&l.items.push(r(yt(yt({},t),{index:e}),n._onRenderItem)),l.items.length>0&&h();break;default:l.items.push(r(yt(yt({},t),{index:e}),n._onRenderItem))}}(t,e)})),l.items.length>0&&h();var c=n._id;return t.createElement("div",{id:c+"-list",className:n._classNames.optionsContainer,"aria-labelledby":o&&c+"-label","aria-label":a&&!o?a:void 0,"aria-multiselectable":s?"true":void 0,role:"listbox"},u)},n._onRenderItem=function(t){switch(t.itemType){case ap.Divider:return n._renderSeparator(t);case ap.Header:return n._renderHeader(t);default:return n._renderOption(t)}},n._onRenderLowerContent=function(){return null},n._onRenderUpperContent=function(){return null},n._renderOption=function(e){var i,r=n.props.onRenderOption,o=void 0===r?n._onRenderOptionContent:r,a=null!==(i=e.id)&&void 0!==i?i:n._id+"-list"+e.index,s=n._isOptionSelected(e.index),l=n._isOptionChecked(e.index),u=n._isOptionIndeterminate(e.index),h=n._getCurrentOptionStyles(e),c=bp(n._getCurrentOptionStyles(e)),d=e.title;return t.createElement(Zg,{key:e.key,index:e.index,disabled:e.disabled,isSelected:s,isChecked:l,isIndeterminate:u,text:e.text,render:function(){return n.props.multiSelect?t.createElement(cp,{id:a,ariaLabel:e.ariaLabel,ariaLabelledBy:e.ariaLabel?void 0:a+"-label",key:e.key,styles:h,className:"ms-ComboBox-option",onChange:n._onItemClick(e),label:e.text,checked:l,indeterminate:u,title:d,disabled:e.disabled,onRenderLabel:n._renderCheckboxLabel.bind(n,yt(yt({},e),{id:a+"-label"})),inputProps:yt({"aria-selected":l?"true":"false",role:"option"},{"data-index":e.index,"data-is-focusable":!0})}):t.createElement(qg,{id:a,key:e.key,"data-index":e.index,styles:h,checked:s,className:"ms-ComboBox-option",onClick:n._onItemClick(e),onMouseEnter:n._onOptionMouseEnter.bind(n,e.index),onMouseMove:n._onOptionMouseMove.bind(n,e.index),onMouseLeave:n._onOptionMouseLeave,role:"option","aria-selected":s?"true":"false",ariaLabel:e.ariaLabel,disabled:e.disabled,title:d},t.createElement("span",{className:c.optionTextWrapper,ref:s?n._selectedElement:void 0},o(e,n._onRenderOptionContent)))},data:e.data})},n._onCalloutMouseDown=function(t){t.preventDefault()},n._onScroll=function(){var t;n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),(null===(t=n.props.calloutProps)||void 0===t?void 0:t.onScroll)&&n.props.calloutProps.onScroll(),n._scrollIdleTimeoutId=n._async.setTimeout((function(){n._isScrollIdle=!0}),250)},n._onRenderOptionContent=function(e){var i=bp(n._getCurrentOptionStyles(e));return t.createElement("span",{className:i.optionText},e.text)},n._onRenderMultiselectOptionContent=function(e){var i=bp(n._getCurrentOptionStyles(e));return t.createElement("span",{id:e.id,"aria-hidden":"true",className:i.optionText},e.text)},n._onDismiss=function(){var t=n.props.onMenuDismiss;t&&t(),n.props.persistMenu&&n._onCalloutLayerMounted(),n._setOpenStateAndFocusOnClose(!1,!1),n._resetSelectedIndex()},n._onAfterClearPendingInfo=function(){n._processingClearPendingInfo=!1},n._onInputKeyDown=function(t){var e=n.props,i=e.disabled,r=e.allowFreeform,o=e.allowFreeInput,a=e.autoComplete,s=e.hoisted.currentOptions,l=n.state,u=l.isOpen,h=l.currentPendingValueValidIndexOnHover;if(n._lastKeyDownWasAltOrMeta=cm(t),i)n._handleInputWhenDisabled(t);else{var c=n._getPendingSelectedIndex(!1);switch(t.which){case ho.enter:n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),n._submitPendingValue(t),n.props.multiSelect&&u?n.setState({currentPendingValueValidIndex:c}):(u||(!r||void 0===n.state.currentPendingValue||null===n.state.currentPendingValue||n.state.currentPendingValue.length<=0)&&n.state.currentPendingValueValidIndex<0)&&n.setState({isOpen:!u});break;case ho.tab:return n.props.multiSelect||n._submitPendingValue(t),void(u&&n._setOpenStateAndFocusOnClose(!u,!1));case ho.escape:if(n._resetSelectedIndex(),!u)return;n.setState({isOpen:!1});break;case ho.up:if(h===Rg.clearAll&&(c=n.props.hoisted.currentOptions.length),t.altKey||t.metaKey){if(u){n._setOpenStateAndFocusOnClose(!u,!0);break}return}t.preventDefault(),n._setPendingInfoFromIndexAndDirection(c,Lg.backward);break;case ho.down:t.altKey||t.metaKey?n._setOpenStateAndFocusOnClose(!0,!0):(h===Rg.clearAll&&(c=-1),t.preventDefault(),n._setPendingInfoFromIndexAndDirection(c,Lg.forward));break;case ho.home:case ho.end:if(r||o)return;c=-1;var d=Lg.forward;t.which===ho.end&&(c=s.length,d=Lg.backward),n._setPendingInfoFromIndexAndDirection(c,d);break;case ho.space:if(!r&&!o&&"off"===a)break;default:if(t.which>=112&&t.which<=123)return;if(t.keyCode===ho.alt||"Meta"===t.key)return;if(!r&&!o&&"on"===a){n._onInputChange(t.key);break}return}t.stopPropagation(),t.preventDefault()}},n._onInputKeyUp=function(t){var e=n.props,i=e.disabled,r=e.allowFreeform,o=e.allowFreeInput,a=e.autoComplete,s=n.state.isOpen,l=n._lastKeyDownWasAltOrMeta&&cm(t);n._lastKeyDownWasAltOrMeta=!1;var u=l&&!(Fd()||zd());i?n._handleInputWhenDisabled(t):t.which!==ho.space?u&&s?n._setOpenStateAndFocusOnClose(!s,!0):("focusing"===n.state.focusState&&n.props.openOnKeyboardFocus&&n.setState({isOpen:!0}),"focused"!==n.state.focusState&&n.setState({focusState:"focused"})):r||o||"off"!==a||n._setOpenStateAndFocusOnClose(!s,!!s)},n._onOptionMouseLeave=function(){n._shouldIgnoreMouseEvent()||n.props.persistMenu&&!n.state.isOpen||n.setState({currentPendingValueValidIndexOnHover:Rg.clearAll})},n._onComboBoxClick=function(){var t=n.props.disabled,e=n.state.isOpen;t||(n._setOpenStateAndFocusOnClose(!e,!1),n.setState({focusState:"focused"}))},n._onAutofillClick=function(){var t=n.props,e=t.disabled;t.allowFreeform&&!e?n.focus(n.state.isOpen||n._processingTouch):n._onComboBoxClick()},n._onTouchStart=function(){n._comboBoxWrapper.current&&!("onpointerdown"in n._comboBoxWrapper)&&n._handleTouchAndPointerEvent()},n._onPointerDown=function(t){"touch"===t.pointerType&&(n._handleTouchAndPointerEvent(),t.preventDefault(),t.stopImmediatePropagation())},ol(n),n._async=new hl(n),n._events=new hu(n),n._id=i.id||gl("ComboBox"),n._isScrollIdle=!0,n._processingTouch=!1,n._gotMouseMove=!1,n._processingClearPendingInfo=!1,n.state={isOpen:!1,focusState:"none",currentPendingValueValidIndex:-1,currentPendingValue:void 0,currentPendingValueValidIndexOnHover:Rg.default},n}return vt(i,e),Object.defineProperty(i.prototype,"selectedOptions",{get:function(){var t=this.props.hoisted;return function(t,e){for(var i=[],n=0,r=e;n<r.length;n++){var o=t[r[n]];o&&i.push(o)}return i}(t.currentOptions,t.selectedIndices)},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){this._comboBoxWrapper.current&&!this.props.disabled&&(this._events.on(this._comboBoxWrapper.current,"focus",this._onResolveOptions,!0),"onpointerdown"in this._comboBoxWrapper.current&&this._events.on(this._comboBoxWrapper.current,"pointerdown",this._onPointerDown,!0))},i.prototype.componentDidUpdate=function(t,e){var i,n,r,o=this,a=this.props,s=a.allowFreeform,l=a.allowFreeInput,u=a.text,h=a.onMenuOpen,c=a.onMenuDismissed,d=a.hoisted,f=d.currentOptions,p=d.selectedIndices,g=this.state,m=g.currentPendingValue,v=g.currentPendingValueValidIndex,y=g.isOpen;!y||e.isOpen&&e.currentPendingValueValidIndex===v||this._async.setTimeout((function(){return o._scrollIntoView()}),0),this._hasFocus()&&(y||e.isOpen&&!y&&this._focusInputAfterClose&&this._autofill.current&&document.activeElement!==this._autofill.current.inputElement)&&this.focus(void 0,!0),this._focusInputAfterClose&&(e.isOpen&&!y||this._hasFocus()&&(!y&&!this.props.multiSelect&&t.hoisted.selectedIndices&&p&&t.hoisted.selectedIndices[0]!==p[0]||!s&&!l||u!==t.text))&&this._onFocus(),this._notifyPendingValueChanged(e),y&&!e.isOpen&&h&&h(),!y&&e.isOpen&&c&&c();var b=v,x=f.map((function(t,e){return yt(yt({},t),{index:e})}));!iu(t.hoisted.currentOptions,f)&&m&&(b=this.props.allowFreeform||this.props.allowFreeInput?this._processInputChangeWithFreeform(m):this._updateAutocompleteIndexWithoutFreeform(m));var w=void 0;y&&this._hasFocus()&&-1!==b?w=null!==(i=x[b].id)&&void 0!==i?i:this._id+"-list"+b:y&&p.length&&(w=null!==(r=null===(n=x[p[0]])||void 0===n?void 0:n.id)&&void 0!==r?r:this._id+"-list"+p[0]),w!==this.state.ariaActiveDescendantValue&&this.setState({ariaActiveDescendantValue:w})},i.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},i.prototype.render=function(){var e=this._id+"-error",i=this.props,n=i.className,r=i.disabled,o=i.required,a=i.errorMessage,s=i.onRenderContainer,l=void 0===s?this._onRenderContainer:s,u=i.onRenderLabel,h=void 0===u?this._onRenderLabel:u,c=i.onRenderList,d=void 0===c?this._onRenderList:c,f=i.onRenderItem,p=void 0===f?this._onRenderItem:f,g=i.onRenderOption,m=void 0===g?this._onRenderOptionContent:g,v=i.allowFreeform,y=i.styles,b=i.theme,x=i.persistMenu,w=i.multiSelect,k=i.hoisted,_=k.suggestedDisplayValue,S=k.selectedIndices,C=k.currentOptions,M=this.state.isOpen;this._currentVisibleValue=this._getVisibleValue();var P=w?this._getMultiselectDisplayString(S,C,_):void 0,T=Sr(this.props,_r,["onChange","value","aria-describedby","aria-labelledby"]),D=!!(a&&a.length>0);this._classNames=this.props.getClassNames?this.props.getClassNames(b,!!M,!!r,!!o,!!this._hasFocus(),!!v,!!D,n):yp(vp(b,y),n,!!M,!!r,!!o,!!this._hasFocus(),!!v,!!D);var N=this._renderComboBoxWrapper(P,e);return t.createElement("div",yt({},T,{ref:this.props.hoisted.mergedRootRef,className:this._classNames.container}),h({props:this.props,multiselectAccessibleText:P},this._onRenderLabel),N,(x||M)&&l(yt(yt({},this.props),{onRenderList:d,onRenderItem:p,onRenderOption:m,options:C.map((function(t,e){return yt(yt({},t),{index:e})})),onDismiss:this._onDismiss}),this._onRenderContainer),D&&t.createElement("div",{role:"alert",id:e,className:this._classNames.errorMessage},a))},i.prototype._getPendingString=function(t,e,i){return null!==t&&void 0!==t?t:sm(e,i)?hm(e[i]):""},i.prototype._getMultiselectDisplayString=function(t,e,i){for(var n=[],r=0;t&&r<t.length;r++){var o=t[r];e[o].itemType!==ap.SelectAll&&n.push(sm(e,o)?e[o].text:am(i))}var a=this.props.multiSelectDelimiter,s=void 0===a?", ":a;return n.join(s)},i.prototype._processInputChangeWithFreeform=function(t){var e=this.props.hoisted.currentOptions,i=-1;if(""===t)return 1===(r=e.map((function(t,e){return yt(yt({},t),{index:e})})).filter((function(e){return lm(e)&&!e.disabled&&hm(e)===t}))).length&&(i=r[0].index),this._setPendingInfo(t,i,t),i;var n=t;t=t.toLocaleLowerCase();var r,o="";if("on"===this.props.autoComplete){if((r=e.map((function(t,e){return yt(yt({},t),{index:e})})).filter((function(e){return lm(e)&&!e.disabled&&0===hm(e).toLocaleLowerCase().indexOf(t)}))).length>0){var a=hm(r[0]);o=a.toLocaleLowerCase()!==t?a:"",i=r[0].index}}else 1===(r=e.map((function(t,e){return yt(yt({},t),{index:e})})).filter((function(e){return lm(e)&&!e.disabled&&hm(e).toLocaleLowerCase()===t}))).length&&(i=r[0].index);return this._setPendingInfo(n,i,o),i},i.prototype._processInputChangeWithoutFreeform=function(t){var e=this,i=this.state,n=i.currentPendingValue,r=i.currentPendingValueValidIndex;if("on"===this.props.autoComplete&&""!==t){this._autoCompleteTimeout&&(this._async.clearTimeout(this._autoCompleteTimeout),this._autoCompleteTimeout=void 0,t=am(n)+t);var o=this._updateAutocompleteIndexWithoutFreeform(t);return this._autoCompleteTimeout=this._async.setTimeout((function(){e._autoCompleteTimeout=void 0}),1e3),o}var a=r>=0?r:this._getFirstSelectedIndex();return this._setPendingInfoFromIndex(a),a},i.prototype._updateAutocompleteIndexWithoutFreeform=function(t){var e=this.props.hoisted.currentOptions,i=t;t=t.toLocaleLowerCase();var n=e.map((function(t,e){return yt(yt({},t),{index:e})})).filter((function(e){return lm(e)&&!e.disabled&&0===e.text.toLocaleLowerCase().indexOf(t)}));return n.length>0?(this._setPendingInfo(i,n[0].index,hm(n[0])),n[0].index):-1},i.prototype._getFirstSelectedIndex=function(){var t=this.props.hoisted.selectedIndices;return(null===t||void 0===t?void 0:t.length)?t[0]:-1},i.prototype._getNextSelectableIndex=function(t,e){var i=this.props.hoisted.currentOptions,n=t+e;if(!sm(i,n=Math.max(0,Math.min(i.length-1,n))))return-1;var r=i[n];if(!um(r)||!0===r.hidden){if(e===Lg.none||!(n>0&&e<Lg.none||n>=0&&n<i.length&&e>Lg.none))return t;n=this._getNextSelectableIndex(n,e)}return n},i.prototype._setSelectedIndex=function(t,e,i){void 0===i&&(i=Lg.none);var n=this.props,r=n.onChange,o=n.onPendingValueChanged,a=n.hoisted,s=a.selectedIndices,l=a.currentOptions,u=s?s.slice():[],h=l.slice();if(sm(l,t=this._getNextSelectableIndex(t,i))){if(this.props.multiSelect||u.length<1||1===u.length&&u[0]!==t){var c=yt({},l[t]);if(!c||c.disabled)return;if(this.props.multiSelect)if(c.selected=void 0!==c.selected?!c.selected:u.indexOf(t)<0,c.itemType===ap.SelectAll)u=[],c.selected?l.forEach((function(t,e){!t.disabled&&um(t)&&(u.push(e),h[e]=yt(yt({},t),{selected:!0}))})):h=l.map((function(t){return yt(yt({},t),{selected:!1})}));else{c.selected&&u.indexOf(t)<0?u.push(t):!c.selected&&u.indexOf(t)>=0&&(u=u.filter((function(e){return e!==t}))),h[t]=c;var d=h.filter((function(t){return t.itemType===ap.SelectAll}))[0];if(d){var f=this._isSelectAllChecked(u),p=h.indexOf(d);f?(u.push(p),h[p]=yt(yt({},d),{selected:!0})):(u=u.filter((function(t){return t!==p})),h[p]=yt(yt({},d),{selected:!1}))}}else u[0]=t;e.persist(),this.props.selectedKey||null===this.props.selectedKey||(this.props.hoisted.setSelectedIndices(u),this.props.hoisted.setCurrentOptions(h)),this._hasPendingValue&&o&&(o(),this._hasPendingValue=!1),r&&r(e,c,t,hm(c))}this.props.multiSelect&&this.state.isOpen||this._clearPendingInfo()}},i.prototype._submitPendingValue=function(t){var e,i=this.props,n=i.onChange,r=i.allowFreeform,o=i.autoComplete,a=i.multiSelect,s=i.hoisted,l=s.currentOptions,u=this.state,h=u.currentPendingValue,c=u.currentPendingValueValidIndex,d=u.currentPendingValueValidIndexOnHover,f=this.props.hoisted.selectedIndices;if(!this._processingClearPendingInfo){if(r){if(null===h||void 0===h)return void(d>=0&&(this._setSelectedIndex(d,t),this._clearPendingInfo()));if(sm(l,c)){var p=hm(l[c]).toLocaleLowerCase(),g=this._autofill.current;if(h.toLocaleLowerCase()===p||o&&0===p.indexOf(h.toLocaleLowerCase())&&(null===g||void 0===g?void 0:g.isValueSelected)&&h.length+(g.selectionEnd-g.selectionStart)===p.length||(null===(e=null===g||void 0===g?void 0:g.inputElement)||void 0===e?void 0:e.value.toLocaleLowerCase())===p){if(this._setSelectedIndex(c,t),a&&this.state.isOpen)return;return void this._clearPendingInfo()}}if(n)n&&n(t,void 0,void 0,h);else{var m={key:h||gl(),text:am(h)};a&&(m.selected=!0);var v=l.concat([m]);f&&(a||(f=[]),f.push(v.length-1)),s.setCurrentOptions(v),s.setSelectedIndices(f)}}else c>=0?this._setSelectedIndex(c,t):d>=0&&this._setSelectedIndex(d,t);this._clearPendingInfo()}},i.prototype._onCalloutLayerMounted=function(){this._gotMouseMove=!1},i.prototype._renderSeparator=function(e){var i=e.index,n=e.key;return i&&i>0?t.createElement("div",{role:"separator",key:n,className:this._classNames.divider}):null},i.prototype._renderHeader=function(e){var i=this.props.onRenderOption,n=void 0===i?this._onRenderOptionContent:i;return t.createElement("div",{id:e.id,key:e.key,className:this._classNames.header},n(e,this._onRenderOptionContent))},i.prototype._renderCheckboxLabel=function(t){var e=this.props.onRenderOption;return(void 0===e?this._onRenderMultiselectOptionContent:e)(t,this._onRenderMultiselectOptionContent)},i.prototype._isOptionHighlighted=function(t){var e=this.state.currentPendingValueValidIndexOnHover;return e!==Rg.clearAll&&(e>=0?e===t:this._isOptionSelected(t))},i.prototype._isOptionSelected=function(t){return this._getPendingSelectedIndex(!0)===t},i.prototype._isOptionChecked=function(t){if(this.props.multiSelect&&void 0!==t&&this.props.hoisted.selectedIndices){return this.props.hoisted.selectedIndices.indexOf(t)>=0}return!1},i.prototype._isOptionIndeterminate=function(t){var e=this.props,i=e.multiSelect,n=e.hoisted;if(i&&void 0!==t&&n.selectedIndices&&n.currentOptions){var r=n.currentOptions[t];if(r&&r.itemType===ap.SelectAll)return n.selectedIndices.length>0&&!this._isSelectAllChecked()}return!1},i.prototype._isSelectAllChecked=function(t){var e=this.props,i=e.multiSelect,n=e.hoisted,r=n.currentOptions.find((function(t){return t.itemType===ap.SelectAll})),o=t||n.selectedIndices;if(!i||!o||!r)return!1;var a=n.currentOptions.indexOf(r),s=o.filter((function(t){return t!==a})),l=n.currentOptions.filter((function(t){return!t.disabled&&t.itemType!==ap.SelectAll&&um(t)}));return s.length===l.length},i.prototype._getPendingSelectedIndex=function(t){var e=this.state,i=e.currentPendingValueValidIndex,n=e.currentPendingValue;return i>=0||t&&null!==n&&void 0!==n?i:this.props.multiSelect?-1:this._getFirstSelectedIndex()},i.prototype._scrollIntoView=function(){var t=this.props,e=t.onScrollToItem,i=t.scrollSelectedToTop,n=this._getPendingSelectedIndex(!0);if(e)e(n>=0?n:this._getFirstSelectedIndex());else{var r=this._selectedElement.current;if(this.props.multiSelect&&this._comboBoxMenu.current&&(r=em(this._comboBoxMenu.current,(function(t){var e;return(null===(e=t.dataset)||void 0===e?void 0:e.index)===n.toString()}))),r&&r.offsetParent){var o=!0;if(this._comboBoxMenu.current&&this._comboBoxMenu.current.offsetParent){var a=this._comboBoxMenu.current.offsetParent,s=r.offsetParent,l=s.offsetHeight,u=s.offsetTop,h=a,c=h.offsetHeight,d=h.scrollTop,f=u+l>d+c;u<d||i?(o=!1,a.scrollTo(0,u)):f&&a.scrollTo(0,u-c+l)}else r.offsetParent.scrollIntoView(o)}}},i.prototype._onItemClick=function(t){var e=this,i=this.props.onItemClick,n=t.index;return function(r){e.props.multiSelect||(e._autofill.current&&e._autofill.current.focus(),e.setState({isOpen:!1})),i&&i(r,t,n),e._setSelectedIndex(n,r)}},i.prototype._resetSelectedIndex=function(){var t=this.props.hoisted.currentOptions;this._clearPendingInfo();var e=this._getFirstSelectedIndex();e>0&&e<t.length?this.props.hoisted.setSuggestedDisplayValue(t[e].text):this.props.text&&this.props.hoisted.setSuggestedDisplayValue(this.props.text)},i.prototype._clearPendingInfo=function(){this._processingClearPendingInfo=!0,this.props.hoisted.setSuggestedDisplayValue(void 0),this.setState({currentPendingValue:void 0,currentPendingValueValidIndex:-1,currentPendingValueValidIndexOnHover:Rg.default},this._onAfterClearPendingInfo)},i.prototype._setPendingInfo=function(t,e,i){void 0===e&&(e=-1),this._processingClearPendingInfo||(this.props.hoisted.setSuggestedDisplayValue(i),this.setState({currentPendingValue:am(t),currentPendingValueValidIndex:e,currentPendingValueValidIndexOnHover:Rg.default}))},i.prototype._setPendingInfoFromIndex=function(t){var e=this.props.hoisted.currentOptions;if(t>=0&&t<e.length){var i=e[t];this._setPendingInfo(hm(i),t,hm(i))}else this._clearPendingInfo()},i.prototype._setPendingInfoFromIndexAndDirection=function(t,e){var i=this.props.hoisted.currentOptions;e===Lg.forward&&t>=i.length-1?t=-1:e===Lg.backward&&t<=0&&(t=i.length);var n=this._getNextSelectableIndex(t,e);t===n?e===Lg.forward?t=this._getNextSelectableIndex(-1,e):e===Lg.backward&&(t=this._getNextSelectableIndex(i.length,e)):t=n,sm(i,t)&&this._setPendingInfoFromIndex(t)},i.prototype._notifyPendingValueChanged=function(t){var e=this.props.onPendingValueChanged;if(e){var i=this.props.hoisted.currentOptions,n=this.state,r=n.currentPendingValue,o=n.currentPendingValueValidIndex,a=n.currentPendingValueValidIndexOnHover,s=void 0,l=void 0;a!==t.currentPendingValueValidIndexOnHover&&sm(i,a)?s=a:o!==t.currentPendingValueValidIndex&&sm(i,o)?s=o:r!==t.currentPendingValue&&(l=r),(void 0!==s||void 0!==l||this._hasPendingValue)&&(e(void 0!==s?i[s]:void 0,s,l),this._hasPendingValue=void 0!==s||void 0!==l)}},i.prototype._setOpenStateAndFocusOnClose=function(t,e){this._focusInputAfterClose=e,this.setState({isOpen:t})},i.prototype._onOptionMouseEnter=function(t){this._shouldIgnoreMouseEvent()||this.setState({currentPendingValueValidIndexOnHover:t})},i.prototype._onOptionMouseMove=function(t){this._gotMouseMove=!0,this._isScrollIdle&&this.state.currentPendingValueValidIndexOnHover!==t&&this.setState({currentPendingValueValidIndexOnHover:t})},i.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},i.prototype._handleInputWhenDisabled=function(t){this.props.disabled&&(this.state.isOpen&&this.setState({isOpen:!1}),null!==t&&t.which!==ho.tab&&t.which!==ho.escape&&(t.which<112||t.which>123)&&(t.stopPropagation(),t.preventDefault()))},i.prototype._handleTouchAndPointerEvent=function(){var t=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0}),500)},i.prototype._getCaretButtonStyles=function(){var t=this.props.caretDownButtonStyles;return mp(this.props.theme,t)},i.prototype._getCurrentOptionStyles=function(t){var e=this.props.comboBoxOptionStyles,i=t.styles;return gp(this.props.theme,e,i,this._isPendingOption(t),t.hidden,this._isOptionHighlighted(t.index))},i.prototype._getAriaAutoCompleteValue=function(){return!this.props.disabled&&"on"===this.props.autoComplete?this.props.allowFreeform?"inline":"both":"list"},i.prototype._isPendingOption=function(t){return t&&t.index===this.state.currentPendingValueValidIndex},i.prototype._hasFocus=function(){return"none"!==this.state.focusState},i=xt([Hd("ComboBox",["theme","styles"],!0)],i)}(t.Component);function rm(t,e){if(!t||!e)return[];var i={};t.forEach((function(t,e){t.selected&&(i[e]=!0)}));for(var n=function(e){var n=bu(t,(function(t){return t.key===e}));n>-1&&(i[n]=!0)},r=0,o=e;r<o.length;r++){n(o[r])}return Object.keys(i).map(Number).sort()}function om(t){return void 0===t?[]:t instanceof Array?t:[t]}function am(t){return t||""}function sm(t,e){return!!t&&e>=0&&e<t.length}function lm(t){return t.itemType!==ap.Header&&t.itemType!==ap.Divider&&t.itemType!==ap.SelectAll}function um(t){return t.itemType!==ap.Header&&t.itemType!==ap.Divider}function hm(t){return t.useAriaLabelAsText&&t.ariaLabel?t.ariaLabel:t.text}function cm(t){return t.which===ho.alt||"Meta"===t.key}!function(t){t[t.Parent=0]="Parent",t[t.Self=1]="Self"}(im||(im={}));var dm,fm=wo(),pm=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._onRenderContent=function(e){return"string"===typeof e.content?t.createElement("p",{className:i._classNames.subText},e.content):t.createElement("div",{className:i._classNames.subText},e.content)},i}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.className,n=e.calloutProps,r=e.directionalHint,o=e.directionalHintForRTL,a=e.styles,s=e.id,l=e.maxWidth,u=e.onRenderContent,h=void 0===u?this._onRenderContent:u,c=e.targetElement,d=e.theme;return this._classNames=fm(a,{theme:d,className:i||n&&n.className,beakWidth:n&&n.isBeakVisible?n.beakWidth:0,gapSpace:n&&n.gapSpace,maxWidth:l}),t.createElement(ep,yt({target:c,directionalHint:r,directionalHintForRTL:o},n,Sr(this.props,_r,["id"]),{className:this._classNames.root}),t.createElement("div",{className:this._classNames.content,id:s,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},h(this.props,this._onRenderContent)))},i.defaultProps={directionalHint:Ud.topCenter,maxWidth:"364px",calloutProps:{isBeakVisible:!0,beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1}},i}(t.Component),gm=Qn(pm,(function(t){var e=t.className,i=t.beakWidth,n=void 0===i?16:i,r=t.gapSpace,o=void 0===r?0:r,a=t.maxWidth,s=t.theme,l=s.semanticColors,u=s.fonts,h=s.effects,c=-(Math.sqrt(n*n/2)+o)+1/window.devicePixelRatio;return{root:["ms-Tooltip",s.fonts.medium,Ta.fadeIn200,{background:l.menuBackground,boxShadow:h.elevation8,padding:"8px",maxWidth:a,selectors:{":after":{content:"''",position:"absolute",bottom:c,left:c,right:c,top:c,zIndex:0}}},e],content:["ms-Tooltip-content",u.small,{position:"relative",zIndex:1,color:l.menuItemText,wordWrap:"break-word",overflowWrap:"break-word",overflow:"hidden"}],subText:["ms-Tooltip-subtext",{fontSize:"inherit",fontWeight:"inherit",color:"inherit",margin:0}]}}),void 0,{scope:"Tooltip"});!function(t){t[t.zero=0]="zero",t[t.medium=1]="medium",t[t.long=2]="long"}(dm||(dm={}));var mm=wo(),vm=function(e){function i(n){var r=e.call(this,n)||this;return r._tooltipHost=t.createRef(),r._defaultTooltipId=gl("tooltip"),r.show=function(){r._toggleTooltip(!0)},r.dismiss=function(){r._hideTooltip()},r._getTargetElement=function(){if(r._tooltipHost.current){var t=r.props.overflowMode;if(void 0!==t)switch(t){case im.Parent:return r._tooltipHost.current.parentElement;case im.Self:return r._tooltipHost.current}return r._tooltipHost.current}},r._onTooltipFocus=function(t){r._ignoreNextFocusEvent?r._ignoreNextFocusEvent=!1:r._onTooltipMouseEnter(t)},r._onTooltipContentFocus=function(t){i._currentVisibleTooltip&&i._currentVisibleTooltip!==r&&i._currentVisibleTooltip.dismiss(),i._currentVisibleTooltip=r,r._clearDismissTimer(),r._clearOpenTimer()},r._onTooltipBlur=function(t){r._ignoreNextFocusEvent=(null===document||void 0===document?void 0:document.activeElement)===t.target,r._dismissTimerId=r._async.setTimeout((function(){r._hideTooltip()}),0)},r._onTooltipMouseEnter=function(t){var e,n=r.props,o=n.overflowMode,a=n.delay;if(i._currentVisibleTooltip&&i._currentVisibleTooltip!==r&&i._currentVisibleTooltip.dismiss(),i._currentVisibleTooltip=r,void 0!==o){var s=r._getTargetElement();if(s&&(!function(t){return t.clientWidth<t.scrollWidth}(e=s)&&!function(t){return t.clientHeight<t.scrollHeight}(e)))return}if(!t.target||!zu(t.target,r._getTargetElement()))if(r._clearDismissTimer(),r._clearOpenTimer(),a!==dm.zero){var l=r._getDelayTime(a);r._openTimerId=r._async.setTimeout((function(){r._toggleTooltip(!0)}),l)}else r._toggleTooltip(!0)},r._onTooltipMouseLeave=function(t){var e=r.props.closeDelay;r._clearDismissTimer(),r._clearOpenTimer(),e?r._dismissTimerId=r._async.setTimeout((function(){r._toggleTooltip(!1)}),e):r._toggleTooltip(!1),i._currentVisibleTooltip===r&&(i._currentVisibleTooltip=void 0)},r._onTooltipKeyDown=function(t){(t.which===ho.escape||t.ctrlKey)&&r.state.isTooltipVisible&&(r._hideTooltip(),t.stopPropagation())},r._clearDismissTimer=function(){r._async.clearTimeout(r._dismissTimerId)},r._clearOpenTimer=function(){r._async.clearTimeout(r._openTimerId)},r._hideTooltip=function(){r._clearOpenTimer(),r._clearDismissTimer(),r._toggleTooltip(!1)},r._toggleTooltip=function(t){r.state.isTooltipVisible!==t&&r.setState({isTooltipVisible:t},(function(){return r.props.onTooltipToggle&&r.props.onTooltipToggle(t)}))},r._getDelayTime=function(t){switch(t){case dm.medium:return 300;case dm.long:return 500;default:return 0}},ol(r),r.state={isAriaPlaceholderRendered:!1,isTooltipVisible:!1},r._async=new hl(r),r}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.calloutProps,n=e.children,r=e.content,o=e.directionalHint,a=e.directionalHintForRTL,s=e.hostClassName,l=e.id,u=e.setAriaDescribedBy,h=void 0===u||u,c=e.tooltipProps,d=e.styles,f=e.theme;this._classNames=mm(d,{theme:f,className:s});var p=this.state.isTooltipVisible,g=l||this._defaultTooltipId,m=yt(yt({id:"".concat(g,"--tooltip"),content:r,targetElement:this._getTargetElement(),directionalHint:o,directionalHintForRTL:a,calloutProps:nu({},i,{onDismiss:this._hideTooltip,onFocus:this._onTooltipContentFocus,onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave}),onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave},Sr(this.props,_r,["id"])),c),v=(null===c||void 0===c?void 0:c.onRenderContent)?c.onRenderContent(m,(function(e){return(null===e||void 0===e?void 0:e.content)?t.createElement(t.Fragment,null,e.content):null})):r,y=p&&!!v,b=h&&p&&v?g:void 0;return t.createElement("div",yt({className:this._classNames.root,ref:this._tooltipHost},{onFocusCapture:this._onTooltipFocus},{onBlurCapture:this._onTooltipBlur},{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave,onKeyDown:this._onTooltipKeyDown,role:"none","aria-describedby":b}),n,y&&t.createElement(gm,yt({},m)),t.createElement("div",{hidden:!0,id:g,style:Fa},v))},i.prototype.componentWillUnmount=function(){i._currentVisibleTooltip&&i._currentVisibleTooltip===this&&(i._currentVisibleTooltip=void 0),this._async.dispose()},i.defaultProps={delay:dm.medium},i}(t.Component),ym={root:"ms-TooltipHost",ariaPlaceholder:"ms-TooltipHost-aria-placeholder"},bm=Qn(vm,(function(t){var e=t.className,i=t.theme;return{root:[Ja(ym,i).root,{display:"inline"},e]}}),void 0,{scope:"TooltipHost"}),xm=i(166),wm=function(e){function i(i){var n=e.call(this,i)||this;return n.wasCleared=!1,n.modelChangedListener=null,n.divRef=t.createRef(),n}return vt(i,e),i.prototype.getDiagram=function(){return null===this.divRef.current?null:xm.S0.fromDiv(this.divRef.current)},i.prototype.clear=function(){var t=this.getDiagram();null!==t&&(t.clear(),this.wasCleared=!0)},i.prototype.componentDidMount=function(){var t=this;if(null!==this.divRef.current){var e=this.props.initDiagram();e.div=this.divRef.current,this.modelChangedListener=function(e){if(e.isTransactionFinished&&e.model&&!e.model.isReadOnly&&t.props.onModelChange){var i=e.model.toIncrementalData(e);null!==i&&t.props.onModelChange(i)}},e.addModelChangedListener(this.modelChangedListener),e.delayInitialization((function(){t.mergeData(e,!0)}))}},i.prototype.componentWillUnmount=function(){var t=this.getDiagram();null!==t&&(t.div=null,null!==this.modelChangedListener&&(t.removeModelChangedListener(this.modelChangedListener),this.modelChangedListener=null))},i.prototype.shouldComponentUpdate=function(t,e){return t.divClassName!==this.props.divClassName||t.style!==this.props.style||!t.skipsDiagramUpdate&&(t.nodeDataArray!==this.props.nodeDataArray||t.linkDataArray!==this.props.linkDataArray||t.modelData!==this.props.modelData)},i.prototype.componentDidUpdate=function(t,e){var i=this;if(t.nodeDataArray!==this.props.nodeDataArray||t.linkDataArray!==this.props.linkDataArray||t.modelData!==this.props.modelData){var n=this.getDiagram();null!==n&&(this.wasCleared?n.delayInitialization((function(){i.mergeData(n,!0),i.wasCleared=!1})):this.mergeData(n,!1))}},i.prototype.mergeData=function(t,e){var i=this;t.model.commit((function(t){void 0!==i.props.modelData&&t.assignAllDataProperties(t.modelData,i.props.modelData),t.mergeNodeDataArray(i.props.nodeDataArray),void 0!==i.props.linkDataArray&&t instanceof xm.FJ&&t.mergeLinkDataArray(i.props.linkDataArray)}),e?"initial merge":"merge data")},i.prototype.render=function(){return t.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},i}(t.Component);(function(e){function i(i){var n=e.call(this,i)||this;return n.divRef=t.createRef(),n}vt(i,e),i.prototype.getOverview=function(){return null===this.divRef.current?null:xm.S0.fromDiv(this.divRef.current)},i.prototype.componentDidMount=function(){var t;null!==this.divRef.current&&(void 0!==this.props.initOverview?t=this.props.initOverview():(t=new xm.g2).contentAlignment=xm.z6.Center,t.div=this.divRef.current,t.observed=this.props.observedDiagram)},i.prototype.componentWillUnmount=function(){var t=this.getOverview();null!==t&&(t.div=null,t.observed=null)},i.prototype.shouldComponentUpdate=function(t,e){return t.divClassName!==this.props.divClassName||t.style!==this.props.style||t.observedDiagram!==this.props.observedDiagram},i.prototype.componentDidUpdate=function(t,e){if(t.observedDiagram!==this.props.observedDiagram){var i=this.getOverview();null!==i&&(i.observed=this.props.observedDiagram)}},i.prototype.render=function(){return t.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})}})(t.Component),function(e){function i(i){var n=e.call(this,i)||this;return n.wasCleared=!1,n.divRef=t.createRef(),n}vt(i,e),i.prototype.getPalette=function(){return null===this.divRef.current?null:xm.S0.fromDiv(this.divRef.current)},i.prototype.clear=function(){var t=this.getPalette();null!==t&&(t.clear(),this.wasCleared=!0)},i.prototype.componentDidMount=function(){var t=this;if(null!==this.divRef.current){var e=this.props.initPalette();e.div=this.divRef.current,e.delayInitialization((function(){t.mergeData(e,!0)}))}},i.prototype.componentWillUnmount=function(){var t=this.getPalette();null!==t&&(t.div=null)},i.prototype.shouldComponentUpdate=function(t,e){return t.divClassName!==this.props.divClassName||t.style!==this.props.style||(t.nodeDataArray!==this.props.nodeDataArray||t.linkDataArray!==this.props.linkDataArray||t.modelData!==this.props.modelData)},i.prototype.componentDidUpdate=function(t,e){var i=this;if(t.nodeDataArray!==this.props.nodeDataArray||t.linkDataArray!==this.props.linkDataArray||t.modelData!==this.props.modelData){var n=this.getPalette();null!==n&&(this.wasCleared?n.delayInitialization((function(){i.mergeData(n,!0),i.wasCleared=!1})):this.mergeData(n,!1))}},i.prototype.mergeData=function(t,e){var i=this;t.model.commit((function(t){void 0!==i.props.modelData&&t.assignAllDataProperties(t.modelData,i.props.modelData),t.mergeNodeDataArray(i.props.nodeDataArray),void 0!==i.props.linkDataArray&&t instanceof xm.FJ&&t.mergeLinkDataArray(i.props.linkDataArray)}),e?"initial merge":"merge data")},i.prototype.render=function(){return t.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})}}(t.Component);var km=Ka((function(t,e,i){var n=Wg(t),r=Ug(t);return On(n,{root:{minWidth:"80px",height:"32px"},label:{fontWeight:Ma.semibold}},i?function(t){var e,i,n,r,o,a,s,l,u,h=t.palette,c=t.semanticColors;return{root:{backgroundColor:c.primaryButtonBackground,border:"1px solid ".concat(c.primaryButtonBackground),color:c.primaryButtonText,selectors:(e={},e[Da]=yt({color:"Window",backgroundColor:"WindowText",borderColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),e[".".concat(Ea," &:focus")]={selectors:{":after":{border:"none",outlineColor:h.white}}},e)},rootHovered:{backgroundColor:c.primaryButtonBackgroundHovered,border:"1px solid ".concat(c.primaryButtonBackgroundHovered),color:c.primaryButtonTextHovered,selectors:(i={},i[Da]={color:"Window",backgroundColor:"Highlight",borderColor:"Highlight"},i)},rootPressed:{backgroundColor:c.primaryButtonBackgroundPressed,border:"1px solid ".concat(c.primaryButtonBackgroundPressed),color:c.primaryButtonTextPressed,selectors:(n={},n[Da]=yt({color:"Window",backgroundColor:"WindowText",borderColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),n)},rootExpanded:{backgroundColor:c.primaryButtonBackgroundPressed,color:c.primaryButtonTextPressed},rootChecked:{backgroundColor:c.primaryButtonBackgroundPressed,color:c.primaryButtonTextPressed},rootCheckedHovered:{backgroundColor:c.primaryButtonBackgroundPressed,color:c.primaryButtonTextPressed},rootDisabled:{color:c.primaryButtonTextDisabled,backgroundColor:c.primaryButtonBackgroundDisabled,selectors:(r={},r[Da]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},r)},splitButtonContainer:{selectors:(o={},o[Da]={border:"none"},o)},splitButtonDivider:yt(yt({},{position:"absolute",width:1,right:31,top:8,bottom:8}),{backgroundColor:h.white,selectors:(a={},a[Da]={backgroundColor:"Window"},a)}),splitButtonMenuButton:{backgroundColor:c.primaryButtonBackground,color:c.primaryButtonText,selectors:(s={},s[Da]={backgroundColor:"Canvas"},s[":hover"]={backgroundColor:c.primaryButtonBackgroundHovered,selectors:(l={},l[Da]={color:"Highlight"},l)},s)},splitButtonMenuButtonDisabled:{backgroundColor:c.primaryButtonBackgroundDisabled,selectors:{":hover":{backgroundColor:c.primaryButtonBackgroundDisabled}}},splitButtonMenuButtonChecked:{backgroundColor:c.primaryButtonBackgroundPressed,selectors:{":hover":{backgroundColor:c.primaryButtonBackgroundPressed}}},splitButtonMenuButtonExpanded:{backgroundColor:c.primaryButtonBackgroundPressed,selectors:{":hover":{backgroundColor:c.primaryButtonBackgroundPressed}}},splitButtonMenuIcon:{color:c.primaryButtonText},splitButtonMenuIconDisabled:{color:h.neutralTertiary,selectors:(u={},u[Da]={color:"GrayText"},u)}}}(t):function(t){var e,i,n,r,o,a=t.semanticColors,s=t.palette,l=a.buttonBackground,u=a.buttonBackgroundPressed,h=a.buttonBackgroundHovered,c=a.buttonBackgroundDisabled,d=a.buttonText,f=a.buttonTextHovered,p=a.buttonTextDisabled,g=a.buttonTextChecked,m=a.buttonTextCheckedHovered;return{root:{backgroundColor:l,color:d},rootHovered:{backgroundColor:h,color:f,selectors:(e={},e[Da]={borderColor:"Highlight",color:"Highlight"},e)},rootPressed:{backgroundColor:u,color:g},rootExpanded:{backgroundColor:u,color:g},rootChecked:{backgroundColor:u,color:g},rootCheckedHovered:{backgroundColor:u,color:m},rootDisabled:{color:p,backgroundColor:c,selectors:(i={},i[Da]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},i)},splitButtonContainer:{selectors:(n={},n[Da]={border:"none"},n)},splitButtonMenuButton:{color:s.white,backgroundColor:"transparent",selectors:{":hover":{backgroundColor:s.neutralLight,selectors:(r={},r[Da]={color:"Highlight"},r)}}},splitButtonMenuButtonDisabled:{backgroundColor:a.buttonBackgroundDisabled,selectors:{":hover":{backgroundColor:a.buttonBackgroundDisabled}}},splitButtonDivider:yt(yt({},{position:"absolute",width:1,right:31,top:8,bottom:8}),{backgroundColor:s.neutralTertiaryAlt,selectors:(o={},o[Da]={backgroundColor:"WindowText"},o)}),splitButtonDividerDisabled:{backgroundColor:t.palette.neutralTertiaryAlt},splitButtonMenuButtonChecked:{backgroundColor:s.neutralQuaternaryAlt,selectors:{":hover":{backgroundColor:s.neutralQuaternaryAlt}}},splitButtonMenuButtonExpanded:{backgroundColor:s.neutralQuaternaryAlt,selectors:{":hover":{backgroundColor:s.neutralQuaternaryAlt}}},splitButtonMenuIcon:{color:a.buttonText},splitButtonMenuIconDisabled:{color:a.buttonTextDisabled}}}(t),r,e)})),_m=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return vt(i,e),i.prototype.render=function(){var e=this.props,i=e.primary,n=void 0!==i&&i,r=e.styles,o=e.theme;return t.createElement(zg,yt({},this.props,{variantClassName:n?"ms-Button--primary":"ms-Button--default",styles:km(o,r,n),onRenderDescription:wp}))},i=xt([Hd("DefaultButton",["theme","styles"],!0)],i)}(t.Component),Sm=i.p+"static/media/legend.e5e32f7a3a3580602ad1.png",Cm=i(184);function Mm(){var t=xm.bx.make,e=t(xm.S0,{"panningTool.isEnabled":!1,"undoManager.isEnabled":!0,"clickCreatingTool.archetypeNodeData":{text:"new node",color:"lightblue"},layout:t(xm.Me,{alignment:xm.Me.Location,cellSize:new xm.$u(1,1),spacing:new xm.$u(50,0)}),initialContentAlignment:xm.z6.Bottom,padding:new xm.Zt(0,0,50,0),model:new xm.FJ({linkKeyProperty:"key"})});return e.allowVerticalScroll=!1,e.nodeTemplate=t(xm.NB,"Auto",new xm.KX("location","loc",xm.E9.parse).makeTwoWay(xm.E9.stringify),t(xm.bn,"RoundedRectangle",{name:"SHAPE",fill:"lightgreen",cursor:"pointer",stroke:"#D2E6FF"},new xm.KX("fill","color"),new xm.KX("figure","figure"),new xm.KX("location","loc")),t(xm.al,{margin:10,font:"bold 12pt sans-serif",stroke:"#0052CC"},new xm.KX("text").makeTwoWay())),e}function Pm(t){var e=t.data;return(0,Cm.jsxs)("div",{className:"workflow-diagram-container",children:[(0,Cm.jsx)("img",{src:Sm,className:"img-legend",alt:"legend"}),(0,Cm.jsx)(wm,{initDiagram:Mm,divClassName:"diagram-component",nodeDataArray:e,linkDataArray:[{key:-7,from:-1,to:0},{key:-1,from:0,to:1},{key:-2,from:1,to:2},{key:-3,from:2,to:3},{key:-4,from:3,to:4},{key:-5,from:4,to:5},{key:-6,from:5,to:6},{key:-8,from:6,to:7}]}),(0,Cm.jsxs)("div",{className:"button-span-container",children:[(0,Cm.jsx)(_m,{onClick:function(){alert("next")},children:"Next"}),(0,Cm.jsx)(_m,{children:"Edit"})]})]})}var Tm=Pm,Dm=i(95),Nm=i.n(Dm),Im=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Ge._new(t._root,{themeTags:Jt(t.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Jt(t.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Dn.new(t._root,{themeTags:Jt(t.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Jt(t.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[t.itemContainers.template])}))}),Object.defineProperty(g(t),"markers",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Ge._new(t._root,{themeTags:Jt(t.markers.template.get("themeTags",[]),["legend","marker"])},[t.markers.template])}))}),Object.defineProperty(g(t),"labels",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Qe._new(t._root,{themeTags:Jt(t.labels.template.get("themeTags",[]),["legend","label"])},[t.labels.template])}))}),Object.defineProperty(g(t),"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Qe._new(t._root,{themeTags:Jt(t.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[t.valueLabels.template])}))}),Object.defineProperty(g(t),"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return Dn._new(t._root,{themeTags:Jt(t.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[t.markerRectangles.template])}))}),t}return h(i,[{key:"_afterNew",value:function(){this._settings.themeTags=Jt(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"makeItemContainer",value:function(t){var e=this.children.push(this.itemContainers.make());return e._setDataItem(t),this.itemContainers.push(e),e.states.create("disabled",{}),e}},{key:"makeMarker",value:function(){var t=this.markers.make();return this.markers.push(t),t.states.create("disabled",{}),t}},{key:"makeLabel",value:function(){var t=this.labels.make();return t.states.create("disabled",{}),t}},{key:"makeValueLabel",value:function(){var t=this.valueLabels.make();return t.states.create("disabled",{}),t}},{key:"makeMarkerRectangle",value:function(){var t=this.markerRectangles.make();return t.states.create("disabled",{}),t}},{key:"processDataItem",value:function(t){var e=this;d(c(i.prototype),"processDataItem",this).call(this,t);var n=this.makeItemContainer(t),r=this.get("nameField"),o=this.get("fillField"),a=this.get("strokeField");if(n){var s=this.get("clickTarget","itemContainer"),l=t.dataContext;l&&l.set&&l.set("legendDataItem",t),n._setDataItem(t),t.set("itemContainer",n);var u=this.makeMarker();if(u){n.children.push(u),u._setDataItem(t),t.set("marker",u);var h=this.get("useDefaultMarker"),f=u.children.push(this.makeMarkerRectangle()),p=t.get("fill"),g=t.get("stroke");t.set("markerRectangle",f),l&&l.get&&(p=l.get(o,p),g=l.get(a,g)),g||(g=p),h?l.on&&(l.on(o,(function(){f.set("fill",l.get(o))})),l.on(a,(function(){f.set("stroke",l.get(a))}))):l&&l.createLegendMarker&&l.createLegendMarker(),f.setAll({fill:p,stroke:g});var m=l.component;m&&m.updateLegendMarker&&m.updateLegendMarker(l)}var v=this.makeLabel();if(v){n.children.push(v),v._setDataItem(t),t.set("label",v),v.text.on("text",(function(){n.set("ariaLabel",v.text._getText()+("none"!==e.get("clickTarget")?"; "+e._t("Press ENTER to toggle"):""))})),l&&l.get&&t.set("name",l.get(r));var y=t.get("name");y&&v.set("text",y)}var b=this.makeValueLabel();if(b&&(n.children.push(b),b._setDataItem(t),t.set("valueLabel",b)),l&&l.show&&(l.on("visible",(function(t){n.set("disabled",!t)})),l.get("visible")||n.set("disabled",!0),"none"!=s)){var x=n;"marker"==s&&(x=u),this._addClickEvents(x,l,t)}this.children.values.sort((function(t,i){var n=t.dataItem.dataContext,r=i.dataItem.dataContext;if(n&&r){var o=e.data.indexOf(n),a=e.data.indexOf(r);if(o>a)return 1;if(o<a)return-1}return 0})),l&&l.updateLegendValue&&l.updateLegendValue()}}},{key:"_addClickEvents",value:function(t,e,i){var n=this;t.set("cursorOverStyle","pointer"),t.events.on("pointerover",(function(){var t=e.component;t&&t.hoverDataItem&&t.hoverDataItem(e)})),t.events.on("pointerout",(function(){var t=e.component;t&&t.hoverDataItem&&t.unhoverDataItem(e)})),t.events.on("click",(function(){var r=i.get("label").text._getText();e.show&&e.isHidden&&(e.isHidden()||!1===e.get("visible"))?(e.show(),t.set("disabled",!1),n._root.readerAlert(n._t("%1 shown",n._root.locale,r))):e.hide&&(e.hide(),t.set("disabled",!0),n._root.readerAlert(n._t("%1 hidden",n._root.locale,r)))}))}},{key:"disposeDataItem",value:function(t){d(c(i.prototype),"disposeDataItem",this).call(this,t);var e=t.dataContext;e&&e.get&&(e.get("legendDataItem")==t&&e.set("legendDataItem",void 0));var n=t.get("itemContainer");n&&(this.itemContainers.removeValue(n),n.dispose());var r=t.get("marker");r&&(this.markers.removeValue(r),r.dispose());var o=t.get("markerRectangle");o&&(this.markerRectangles.removeValue(o),o.dispose());var a=t.get("label");a&&(this.labels.removeValue(a),a.dispose());var s=t.get("valueLabel");s&&(this.valueLabels.removeValue(s),s.dispose())}}]),i}(gn);Object.defineProperty(Im,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(Im,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([Im.className])});var Em=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"setupDefaultRules",value:function(){d(c(i.prototype),"setupDefaultRules",this).call(this);var t=this.rule.bind(this);t("Venn").setAll({legendLabelText:"{category}",legendValueText:"{value}",colors:un.new(this._root,{}),width:pt,height:pt}),t("Label",["venn"]).setAll({text:"{category}",populateText:!0,centerX:gt,centerY:gt})}}]),i}(it);function Am(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=0;return e}function Om(t,e){return Am(t).map((function(){return Am(e)}))}function Lm(t,e){for(var i=0,n=0;n<t.length;++n)i+=t[n]*e[n];return i}function Rm(t){return Math.sqrt(Lm(t,t))}function jm(t,e,i){for(var n=0;n<e.length;++n)t[n]=e[n]*i}function Bm(t,e,i,n,r){for(var o=0;o<t.length;++o)t[o]=e*i[o]+n*r[o]}function Fm(t,e,i){var n,r=(i=i||{}).maxIterations||200*e.length,o=i.nonZeroDelta||1.05,a=i.zeroDelta||.001,s=i.minErrorDelta||1e-6,l=i.minErrorDelta||1e-5,u=void 0!==i.rho?i.rho:1,h=void 0!==i.chi?i.chi:2,c=void 0!==i.psi?i.psi:-.5,d=void 0!==i.sigma?i.sigma:.5,f=e.length,p=new Array(f+1);p[0]=e,p[0].fx=t(e),p[0].id=0;for(var g=0;g<f;++g){var m=e.slice();m[g]=m[g]?m[g]*o:a,p[g+1]=m,p[g+1].fx=t(m),p[g+1].id=g+1}function v(t){for(var e=0;e<t.length;e++)p[f][e]=t[e];p[f].fx=t.fx}for(var y=function(t,e){return t.fx-e.fx},b=e.slice(),x=e.slice(),w=e.slice(),k=e.slice(),_=0;_<r;++_){if(p.sort(y),i.history){var S=p.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));S.sort((function(t,e){return t.id-e.id})),i.history.push({x:p[0].slice(),fx:p[0].fx,simplex:S})}for(n=0,g=0;g<f;++g)n=Math.max(n,Math.abs(p[0][g]-p[1][g]));if(Math.abs(p[0].fx-p[f].fx)<s&&n<l)break;for(g=0;g<f;++g){b[g]=0;for(var C=0;C<f;++C)b[g]+=p[C][g];b[g]/=f}var M=p[f];if(Bm(x,1+u,b,-u,M),x.fx=t(x),x.fx<p[0].fx)Bm(k,1+h,b,-h,M),k.fx=t(k),k.fx<x.fx?v(k):v(x);else if(x.fx>=p[f-1].fx){var P=!1;if(x.fx>M.fx?(Bm(w,1+c,b,-c,M),w.fx=t(w),w.fx<M.fx?v(w):P=!0):(Bm(w,1-c*u,b,c*u,M),w.fx=t(w),w.fx<x.fx?v(w):P=!0),P){if(d>=1)break;for(g=1;g<p.length;++g)Bm(p[g],1-d,p[0],d,p[g]),p[g].fx=t(p[g])}}else v(x)}return p.sort(y),{fx:p[0].fx,x:p[0]}}function zm(t,e,i,n,r,o,a){var s=i.fx,l=Lm(i.fxprime,e),u=s,h=s,c=l,d=0;function f(h,d,f){for(var p=0;p<16;++p)if(r=(h+d)/2,Bm(n.x,1,i.x,r,e),u=n.fx=t(n.x,n.fxprime),c=Lm(n.fxprime,e),u>s+o*r*l||u>=f)d=r;else{if(Math.abs(c)<=-a*l)return r;c*(d-h)>=0&&(d=h),h=r,f=u}return 0}r=r||1,o=o||1e-6,a=a||.1;for(var p=0;p<10;++p){if(Bm(n.x,1,i.x,r,e),u=n.fx=t(n.x,n.fxprime),c=Lm(n.fxprime,e),u>s+o*r*l||p&&u>=h)return f(d,r,h);if(Math.abs(c)<=-a*l)return r;if(c>=0)return f(r,d,u);h=u,d=r,r*=2}return r}function Hm(t,e,i){var n,r,o,a={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},l=e.slice(),u=1;o=(i=i||{}).maxIterations||20*e.length,a.fx=t(a.x,a.fxprime),jm(n=a.fxprime.slice(),a.fxprime,-1);for(var h=0;h<o;++h){if(u=zm(t,n,a,s,u),i.history&&i.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:u}),u){Bm(l,1,s.fxprime,-1,a.fxprime);var c=Lm(a.fxprime,a.fxprime);Bm(n,Math.max(0,Lm(l,s.fxprime)/c),n,-1,s.fxprime),r=a,a=s,s=r}else jm(n,a.fxprime,-1);if(Rm(a.fxprime)<=1e-5)break}return i.history&&i.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:u}),a}var Vm=1e-10;function Wm(t,e){var i,n=function(t){for(var e=[],i=0;i<t.length;++i)for(var n=i+1;n<t.length;++n)for(var r=Ym(t[i],t[n]),o=0;o<r.length;++o){var a=r[o];a.parentIndex=[i,n],e.push(a)}return e}(t),r=n.filter((function(e){return function(t,e){for(var i=0;i<e.length;++i)if(Gm(t,e[i])>e[i].radius+Vm)return!1;return!0}(e,t)})),o=0,a=0,s=[];if(r.length>1){var l=Xm(r);for(i=0;i<r.length;++i){var u=r[i];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort((function(t,e){return e.angle-t.angle}));var h=r[r.length-1];for(i=0;i<r.length;++i){var c=r[i];a+=(h.x+c.x)*(c.y-h.y);for(var d={x:(c.x+h.x)/2,y:(c.y+h.y)/2},f=null,p=0;p<c.parentIndex.length;++p)if(h.parentIndex.indexOf(c.parentIndex[p])>-1){var g=t[c.parentIndex[p]],m=Math.atan2(c.x-g.x,c.y-g.y),v=Math.atan2(h.x-g.x,h.y-g.y),y=v-m;y<0&&(y+=2*Math.PI);var b=v-y/2,x=Gm(d,{x:g.x+g.radius*Math.sin(b),y:g.y+g.radius*Math.cos(b)});x>2*g.radius&&(x=2*g.radius),(null===f||f.width>x)&&(f={circle:g,width:x,p1:c,p2:h})}null!==f&&(s.push(f),o+=Um(f.circle.radius,f.width),h=c)}}else{var w=t[0];for(i=1;i<t.length;++i)t[i].radius<w.radius&&(w=t[i]);var k=!1;for(i=0;i<t.length;++i)if(Gm(t[i],w)>Math.abs(w.radius-t[i].radius)){k=!0;break}k?o=a=0:(o=w.radius*w.radius*Math.PI,s.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-Vm,y:w.y+w.radius},width:2*w.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),o+a}function Um(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function Gm(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function Km(t,e,i){if(i>=t+e)return 0;if(i<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var n=e-(i*i-t*t+e*e)/(2*i);return Um(t,t-(i*i-e*e+t*t)/(2*i))+Um(e,n)}function Ym(t,e){var i=Gm(t,e),n=t.radius,r=e.radius;if(i>=n+r||i<=Math.abs(n-r))return[];var o=(n*n-r*r+i*i)/(2*i),a=Math.sqrt(n*n-o*o),s=t.x+o*(e.x-t.x)/i,l=t.y+o*(e.y-t.y)/i,u=-(e.y-t.y)*(a/i),h=-(e.x-t.x)*(a/i);return[{x:s+u,y:l-h},{x:s-u,y:l+h}]}function Xm(t){for(var e={x:0,y:0},i=0;i<t.length;++i)e.x+=t[i].x,e.y+=t[i].y;return e.x/=t.length,e.y/=t.length,e}var qm=1e-10;function Zm(t,e,i){return Math.min(t,e)*Math.min(t,e)*Math.PI<=i+qm?Math.abs(t-e):function(t,e,i,n){var r=(n=n||{}).maxIterations||100,o=n.tolerance||1e-10,a=t(e),s=t(i),l=i-e;if(a*s>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===s)return i;for(var u=0;u<r;++u){var h=e+(l/=2),c=t(h);if(c*a>=0&&(e=h),Math.abs(l)<o||0===c)return h}return e+l}((function(n){return Km(t,e,n)-i}),0,t+e)}function Jm(t,e){var i=function(t,e){for(var i,n=e&&e.lossFunction?e.lossFunction:Qm,r={},o={},a=0;a<t.length;++a){var s=t[a];1==s.sets.length&&(i=s.sets[0],r[i]={x:1e10,y:1e10,rowid:r.length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},o[i]=[])}for(t=t.filter((function(t){return 2==t.sets.length})),a=0;a<t.length;++a){var l=t[a],u=l.hasOwnProperty("weight")?l.weight:1,h=l.sets[0],c=l.sets[1];l.size+qm>=Math.min(r[h].size,r[c].size)&&(u=0),o[h].push({set:c,size:l.size,weight:u}),o[c].push({set:h,size:l.size,weight:u})}var d=[];for(i in o)if(o.hasOwnProperty(i)){var f=0;for(a=0;a<o[i].length;++a)f+=o[i][a].size*o[i][a].weight;d.push({set:i,size:f})}function p(t,e){return e.size-t.size}d.sort(p);var g={};function m(t){return t.set in g}function v(t,e){r[e].x=t.x,r[e].y=t.y,g[e]=!0}for(v({x:0,y:0},d[0].set),a=1;a<d.length;++a){var y=d[a].set,b=o[y].filter(m);if(i=r[y],b.sort(p),0===b.length)throw"ERROR: missing pairwise overlap information";for(var x=[],w=0;w<b.length;++w){var k=r[b[w].set],_=Zm(i.radius,k.radius,b[w].size);x.push({x:k.x+_,y:k.y}),x.push({x:k.x-_,y:k.y}),x.push({y:k.y+_,x:k.x}),x.push({y:k.y-_,x:k.x});for(var S=w+1;S<b.length;++S)for(var C=r[b[S].set],M=Zm(i.radius,C.radius,b[S].size),P=Ym({x:k.x,y:k.y,radius:_},{x:C.x,y:C.y,radius:M}),T=0;T<P.length;++T)x.push(P[T])}var D=1e50,N=x[0];for(w=0;w<x.length;++w){r[y].x=x[w].x,r[y].y=x[w].y;var I=n(r,t);I<D&&(D=I,N=x[w])}v(N,y)}return r}(t,e),n=e.lossFunction||Qm;if(t.length>=8){var r=function(t,e){e=e||{};var i,n=e.restarts||10,r=[],o={};for(i=0;i<t.length;++i){var a=t[i];1==a.sets.length&&(o[a.sets[0]]=r.length,r.push(a))}var s=function(t,e,i){var n=Om(e.length,e.length),r=Om(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var o=i[t.sets[0]],a=i[t.sets[1]],s=Zm(Math.sqrt(e[o].size/Math.PI),Math.sqrt(e[a].size/Math.PI),t.size);n[o][a]=n[a][o]=s;var l=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?l=1:t.size<=1e-10&&(l=-1),r[o][a]=r[a][o]=l})),{distances:n,constraints:r}}(t,r,o),l=s.distances,u=s.constraints,h=Rm(l.map(Rm))/l.length;l=l.map((function(t){return t.map((function(t){return t/h}))}));var c,d,f=function(t,e){return function(t,e,i,n){var r,o=0;for(r=0;r<e.length;++r)e[r]=0;for(r=0;r<i.length;++r)for(var a=t[2*r],s=t[2*r+1],l=r+1;l<i.length;++l){var u=t[2*l],h=t[2*l+1],c=i[r][l],d=n[r][l],f=(u-a)*(u-a)+(h-s)*(h-s),p=Math.sqrt(f),g=f-c*c;d>0&&p<=c||d<0&&p>=c||(o+=2*g*g,e[2*r]+=4*g*(a-u),e[2*r+1]+=4*g*(s-h),e[2*l]+=4*g*(u-a),e[2*l+1]+=4*g*(h-s))}return o}(t,e,l,u)};for(i=0;i<n;++i){d=Hm(f,Am(2*l.length).map(Math.random),e),(!c||d.fx<c.fx)&&(c=d)}var p=c.x,g={};for(i=0;i<r.length;++i){var m=r[i];g[m.sets[0]]={x:p[2*i]*h,y:p[2*i+1]*h,radius:Math.sqrt(m.size/Math.PI)}}if(e.history)for(i=0;i<e.history.length;++i)jm(e.history[i].x,h);return g}(t,e);n(r,t)+1e-8<n(i,t)&&(i=r)}return i}function Qm(t,e){var i=0;for(var n=0;n<e.length;++n){var r,o=e[n];if(1!=o.sets.length){if(2==o.sets.length){var a=t[o.sets[0]],s=t[o.sets[1]];r=Km(a.radius,s.radius,Gm(a,s))}else r=Wm(o.sets.map((function(e){return t[e]})));i+=(o.hasOwnProperty("weight")?o.weight:1)*(r-o.size)*(r-o.size)}}return i}function $m(t,e,i){var n;if(null===i?t.sort((function(t,e){return e.radius-t.radius})):t.sort(i),t.length>0){var r=t[0].x,o=t[0].y;for(n=0;n<t.length;++n)t[n].x-=r,t[n].y-=o}2==t.length&&(Gm(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y));if(t.length>1){var a,s,l=Math.atan2(t[1].x,t[1].y)-e,u=Math.cos(l),h=Math.sin(l);for(n=0;n<t.length;++n)a=t[n].x,s=t[n].y,t[n].x=u*a-h*s,t[n].y=h*a+u*s}if(t.length>2){for(var c=Math.atan2(t[2].x,t[2].y)-e;c<0;)c+=2*Math.PI;for(;c>2*Math.PI;)c-=2*Math.PI;if(c>Math.PI){var d=t[1].y/(1e-10+t[1].x);for(n=0;n<t.length;++n){var f=(t[n].x+d*t[n].y)/(1+d*d);t[n].x=2*f-t[n].x,t[n].y=2*f*d-t[n].y}}}}function tv(t){var e=function(e){var i=Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),n=Math.min.apply(null,t.map((function(t){return t[e]-t.radius})));return{max:i,min:n}};return{xRange:e("x"),yRange:e("y")}}function ev(t,e,i){null===e&&(e=Math.PI/2);var n,r,o=[];for(r in t)if(t.hasOwnProperty(r)){var a=t[r];o.push({x:a.x,y:a.y,radius:a.radius,setid:r})}var s=function(t){function e(t){return t.parent!==t&&(t.parent=e(t.parent)),t.parent}function i(t,i){var n=e(t),r=e(i);n.parent=r}t.map((function(t){t.parent=t}));for(var n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r){var o=t[n].radius+t[r].radius;Gm(t[n],t[r])+1e-10<o&&i(t[r],t[n])}var a,s={};for(n=0;n<t.length;++n)(a=e(t[n]).parent.setid)in s||(s[a]=[]),s[a].push(t[n]);t.map((function(t){delete t.parent}));var l=[];for(a in s)s.hasOwnProperty(a)&&l.push(s[a]);return l}(o);for(n=0;n<s.length;++n){$m(s[n],e,i);var l=tv(s[n]);s[n].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),s[n].bounds=l}s.sort((function(t,e){return e.size-t.size}));var u=(o=s[0]).bounds,h=(u.xRange.max-u.xRange.min)/50;function c(t,e,i){if(t){var n,r,a,s=t.bounds;e?n=u.xRange.max-s.xRange.min+h:(n=u.xRange.max-s.xRange.max,(a=(s.xRange.max-s.xRange.min)/2-(u.xRange.max-u.xRange.min)/2)<0&&(n+=a)),i?r=u.yRange.max-s.yRange.min+h:(r=u.yRange.max-s.yRange.max,(a=(s.yRange.max-s.yRange.min)/2-(u.yRange.max-u.yRange.min)/2)<0&&(r+=a));for(var l=0;l<t.length;++l)t[l].x+=n,t[l].y+=r,o.push(t[l])}}for(var d=1;d<s.length;)c(s[d],!0,!1),c(s[d+1],!1,!0),c(s[d+2],!0,!0),d+=3,u=tv(o);var f={};for(n=0;n<o.length;++n)f[o[n].setid]=o[n];return f}function iv(){}function nv(t){return null==t?iv:function(){return this.querySelector(t)}}function rv(){return[]}function ov(t){return null==t?rv:function(){return this.querySelectorAll(t)}}function av(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function sv(t){return function(){return this.matches(t)}}function lv(t){return function(e){return e.matches(t)}}var uv=Array.prototype.find;function hv(){return this.firstElementChild}var cv=Array.prototype.filter;function dv(){return Array.from(this.children)}function fv(t){return new Array(t.length)}function pv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function gv(t,e,i,n,r,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],n[s]=a):i[s]=new pv(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function mv(t,e,i,n,r,o,a){var s,l,u,h=new Map,c=e.length,d=o.length,f=new Array(c);for(s=0;s<c;++s)(l=e[s])&&(f[s]=u=a.call(l,l.__data__,s,e)+"",h.has(u)?r[s]=l:h.set(u,l));for(s=0;s<d;++s)u=a.call(t,o[s],s,o)+"",(l=h.get(u))?(n[s]=l,l.__data__=o[s],h.delete(u)):i[s]=new pv(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&h.get(f[s])===l&&(r[s]=l)}function vv(t){return t.__data__}function yv(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function bv(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}pv.prototype={constructor:pv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var xv="http://www.w3.org/1999/xhtml",wv={svg:"http://www.w3.org/2000/svg",xhtml:xv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kv(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),wv.hasOwnProperty(e)?{space:wv[e],local:t}:t}function _v(t){return function(){this.removeAttribute(t)}}function Sv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Cv(t,e){return function(){this.setAttribute(t,e)}}function Mv(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Pv(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function Tv(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function Dv(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nv(t){return function(){this.style.removeProperty(t)}}function Iv(t,e,i){return function(){this.style.setProperty(t,e,i)}}function Ev(t,e,i){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}function Av(t,e){return t.style.getPropertyValue(e)||Dv(t).getComputedStyle(t,null).getPropertyValue(e)}function Ov(t){return function(){delete this[t]}}function Lv(t,e){return function(){this[t]=e}}function Rv(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function jv(t){return t.trim().split(/^|\s+/)}function Bv(t){return t.classList||new Fv(t)}function Fv(t){this._node=t,this._names=jv(t.getAttribute("class")||"")}function zv(t,e){for(var i=Bv(t),n=-1,r=e.length;++n<r;)i.add(e[n])}function Hv(t,e){for(var i=Bv(t),n=-1,r=e.length;++n<r;)i.remove(e[n])}function Vv(t){return function(){zv(this,t)}}function Wv(t){return function(){Hv(this,t)}}function Uv(t,e){return function(){(e.apply(this,arguments)?zv:Hv)(this,t)}}function Gv(){this.textContent=""}function Kv(t){return function(){this.textContent=t}}function Yv(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Xv(){this.innerHTML=""}function qv(t){return function(){this.innerHTML=t}}function Zv(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Jv(){this.nextSibling&&this.parentNode.appendChild(this)}function Qv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $v(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===xv&&e.documentElement.namespaceURI===xv?e.createElement(t):e.createElementNS(i,t)}}function ty(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ey(t){var e=kv(t);return(e.local?ty:$v)(e)}function iy(){return null}function ny(){var t=this.parentNode;t&&t.removeChild(this)}function ry(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ay(t){return function(){var e=this.__on;if(e){for(var i,n=0,r=-1,o=e.length;n<o;++n)i=e[n],t.type&&i.type!==t.type||i.name!==t.name?e[++r]=i:this.removeEventListener(i.type,i.listener,i.options);++r?e.length=r:delete this.__on}}}function sy(t,e,i){return function(){var n,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((n=r[a]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=o,n.options=i),void(n.value=e);this.addEventListener(t.type,o,i),n={type:t.type,name:t.name,value:e,listener:o,options:i},r?r.push(n):this.__on=[n]}}function ly(t,e,i){var n=Dv(t),r=n.CustomEvent;"function"===typeof r?r=new r(e,i):(r=n.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function uy(t,e){return function(){return ly(this,t,e)}}function hy(t,e){return function(){return ly(this,t,e.apply(this,arguments))}}Fv.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var cy=at().mark(dy);function dy(){var t,e,i,n,r,o,a;return at().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=this._groups,e=0,i=t.length;case 1:if(!(e<i)){s.next=13;break}n=t[e],r=0,o=n.length;case 3:if(!(r<o)){s.next=10;break}if(!(a=n[r])){s.next=7;break}return s.next=7,a;case 7:++r,s.next=3;break;case 10:++e,s.next=1;break;case 13:case"end":return s.stop()}}),cy,this)}var fy=[null];function py(t,e){this._groups=t,this._parents=e}function gy(){return new py([[document.documentElement]],fy)}py.prototype=gy.prototype=vn({constructor:py,select:function(t){"function"!==typeof t&&(t=nv(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var o,a,s=e[r],l=s.length,u=n[r]=new Array(l),h=0;h<l;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new py(n,this._parents)},selectAll:function(t){t="function"===typeof t?av(t):ov(t);for(var e=this._groups,i=e.length,n=[],r=[],o=0;o<i;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(n.push(t.call(a,a.__data__,u,s)),r.push(a));return new py(n,r)},selectChild:function(t){return this.select(null==t?hv:function(t){return function(){return uv.call(this.children,t)}}("function"===typeof t?t:lv(t)))},selectChildren:function(t){return this.selectAll(null==t?dv:function(t){return function(){return cv.call(this.children,t)}}("function"===typeof t?t:lv(t)))},filter:function(t){"function"!==typeof t&&(t=sv(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var o,a=e[r],s=a.length,l=n[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new py(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,vv);var i=e?mv:gv,n=this._parents,r=this._groups;"function"!==typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var h=n[u],c=r[u],d=c.length,f=yv(t.call(h,h&&h.__data__,u,n)),p=f.length,g=s[u]=new Array(p),m=a[u]=new Array(p);i(h,c,g,m,l[u]=new Array(d),f,e);for(var v,y,b=0,x=0;b<p;++b)if(v=g[b]){for(b>=x&&(x=b+1);!(y=m[x])&&++x<p;);v._next=y||null}}return(a=new py(a,n))._enter=s,a._exit=l,a},enter:function(){return new py(this._enter||this._groups.map(fv),this._parents)},exit:function(){return new py(this._exit||this._groups.map(fv),this._parents)},join:function(t,e,i){var n=this.enter(),r=this,o=this.exit();return"function"===typeof t?(n=t(n))&&(n=n.selection()):n=n.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==i?o.remove():i(o),n&&r?n.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,i=this._groups,n=e._groups,r=i.length,o=n.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var u,h=i[l],c=n[l],d=h.length,f=s[l]=new Array(d),p=0;p<d;++p)(u=h[p]||c[p])&&(f[p]=u);for(;l<r;++l)s[l]=i[l];return new py(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n,r=t[e],o=r.length-1,a=r[o];--o>=0;)(n=r[o])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=bv);for(var i=this._groups,n=i.length,r=new Array(n),o=0;o<n;++o){for(var a,s=i[o],l=s.length,u=r[o]=new Array(l),h=0;h<l;++h)(a=s[h])&&(u[h]=a);u.sort(e)}return new py(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],r=0,o=n.length;r<o;++r){var a=n[r];if(a)return a}return null},size:function(){var t,e=0,i=bn(this);try{for(i.s();!(t=i.n()).done;){t.value;++e}}catch(n){i.e(n)}finally{i.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var r,o=e[i],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var i=kv(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((null==e?i.local?Sv:_v:"function"===typeof e?i.local?Tv:Pv:i.local?Mv:Cv)(i,e))},style:function(t,e,i){return arguments.length>1?this.each((null==e?Nv:"function"===typeof e?Ev:Iv)(t,e,null==i?"":i)):Av(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ov:"function"===typeof e?Rv:Lv)(t,e)):this.node()[t]},classed:function(t,e){var i=jv(t+"");if(arguments.length<2){for(var n=Bv(this.node()),r=-1,o=i.length;++r<o;)if(!n.contains(i[r]))return!1;return!0}return this.each(("function"===typeof e?Uv:e?Vv:Wv)(i,e))},text:function(t){return arguments.length?this.each(null==t?Gv:("function"===typeof t?Yv:Kv)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Xv:("function"===typeof t?Zv:qv)(t)):this.node().innerHTML},raise:function(){return this.each(Jv)},lower:function(){return this.each(Qv)},append:function(t){var e="function"===typeof t?t:ey(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var i="function"===typeof t?t:ey(t),n=null==e?iy:"function"===typeof e?e:nv(e);return this.select((function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(ny)},clone:function(t){return this.select(t?oy:ry)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,i){var n,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?sy:ay,n=0;n<a;++n)this.each(s(o[n],e,i));return this}var s=this.node().__on;if(s)for(var l,u=0,h=s.length;u<h;++u)for(n=0,l=s[u];n<a;++n)if((r=o[n]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"===typeof e?hy:uy)(t,e))}},Symbol.iterator,dy);var my=gy,vy={value:function(){}};function yy(){for(var t,e=0,i=arguments.length,n={};e<i;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new by(n)}function by(t){this._=t}function xy(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function wy(t,e,i){for(var n=0,r=t.length;n<r;++n)if(t[n].name===e){t[n]=vy,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=i&&t.push({name:e,value:i}),t}by.prototype=yy.prototype={constructor:by,on:function(t,e){var i,n,r=this._,o=(n=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=o[a]).type)r[i]=wy(r[i],t.name,e);else if(null==e)for(i in r)r[i]=wy(r[i],t.name,null);return this}for(;++a<s;)if((i=(t=o[a]).type)&&(i=xy(r[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new by(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,n,r=new Array(i),o=0;o<i;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,i=(n=this._[t]).length;o<i;++o)n[o].value.apply(e,r)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],r=0,o=n.length;r<o;++r)n[r].value.apply(e,i)}};var ky,_y,Sy=yy,Cy=0,My=0,Py=0,Ty=1e3,Dy=0,Ny=0,Iy=0,Ey="object"===typeof performance&&performance.now?performance:Date,Ay="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Oy(){return Ny||(Ay(Ly),Ny=Ey.now()+Iy)}function Ly(){Ny=0}function Ry(){this._call=this._time=this._next=null}function jy(t,e,i){var n=new Ry;return n.restart(t,e,i),n}function By(){Ny=(Dy=Ey.now())+Iy,Cy=My=0;try{!function(){Oy(),++Cy;for(var t,e=ky;e;)(t=Ny-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Cy}()}finally{Cy=0,function(){var t,e,i=ky,n=1/0;for(;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:ky=e);_y=t,zy(n)}(),Ny=0}}function Fy(){var t=Ey.now(),e=t-Dy;e>Ty&&(Iy-=e,Dy=t)}function zy(t){Cy||(My&&(My=clearTimeout(My)),t-Ny>24?(t<1/0&&(My=setTimeout(By,t-Ey.now()-Iy)),Py&&(Py=clearInterval(Py))):(Py||(Dy=Ey.now(),Py=setInterval(Fy,Ty)),Cy=1,Ay(By)))}function Hy(t,e,i){var n=new Ry;return e=null==e?0:+e,n.restart((function(i){n.stop(),t(i+e)}),e,i),n}Ry.prototype=jy.prototype={constructor:Ry,restart:function(t,e,i){if("function"!==typeof t)throw new TypeError("callback is not a function");i=(null==i?Oy():+i)+(null==e?0:+e),this._next||_y===this||(_y?_y._next=this:ky=this,_y=this),this._call=t,this._time=i,zy()},stop:function(){this._call&&(this._call=null,this._time=1/0,zy())}};var Vy=Sy("start","end","cancel","interrupt"),Wy=[],Uy=0,Gy=1,Ky=2,Yy=3,Xy=4,qy=5,Zy=6;function Jy(t,e,i,n,r,o){var a=t.__transition;if(a){if(i in a)return}else t.__transition={};!function(t,e,i){var n,r=t.__transition;function o(t){i.state=Gy,i.timer.restart(a,i.delay,i.time),i.delay<=t&&a(t-i.delay)}function a(o){var u,h,c,d;if(i.state!==Gy)return l();for(u in r)if((d=r[u]).name===i.name){if(d.state===Yy)return Hy(a);d.state===Xy?(d.state=Zy,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=Zy,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(Hy((function(){i.state===Yy&&(i.state=Xy,i.timer.restart(s,i.delay,i.time),s(o))})),i.state=Ky,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Ky){for(i.state=Yy,n=new Array(c=i.tween.length),u=0,h=-1;u<c;++u)(d=i.tween[u].value.call(t,t.__data__,i.index,i.group))&&(n[++h]=d);n.length=h+1}}function s(e){for(var r=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(l),i.state=qy,1),o=-1,a=n.length;++o<a;)n[o].call(t,r);i.state===qy&&(i.on.call("end",t,t.__data__,i.index,i.group),l())}function l(){for(var n in i.state=Zy,i.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=i,i.timer=jy(o,0,i.time)}(t,i,{name:e,index:n,group:r,on:Vy,tween:Wy,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Uy})}function Qy(t,e){var i=tb(t,e);if(i.state>Uy)throw new Error("too late; already scheduled");return i}function $y(t,e){var i=tb(t,e);if(i.state>Yy)throw new Error("too late; already running");return i}function tb(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function eb(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var ib,nb=180/Math.PI,rb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ob(t,e,i,n,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*i+e*n)&&(i-=t*l,n-=e*l),(s=Math.sqrt(i*i+n*n))&&(i/=s,n/=s,l/=s),t*n<e*i&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*nb,skewX:Math.atan(l)*nb,scaleX:a,scaleY:s}}function ab(t,e,i,n){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,n,r,o,a,s){if(t!==r||n!==o){var l=a.push("translate(",null,e,null,i);s.push({i:l-4,x:eb(t,r)},{i:l-2,x:eb(n,o)})}else(r||o)&&a.push("translate("+r+e+o+i)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,i,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:i.push(r(i)+"rotate(",null,n)-2,x:eb(t,e)})):e&&i.push(r(i)+"rotate("+e+n)}(o.rotate,a.rotate,s,l),function(t,e,i,o){t!==e?o.push({i:i.push(r(i)+"skewX(",null,n)-2,x:eb(t,e)}):e&&i.push(r(i)+"skewX("+e+n)}(o.skewX,a.skewX,s,l),function(t,e,i,n,o,a){if(t!==i||e!==n){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:eb(t,i)},{i:s-2,x:eb(e,n)})}else 1===i&&1===n||o.push(r(o)+"scale("+i+","+n+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,i=-1,n=l.length;++i<n;)s[(e=l[i]).i]=e.x(t);return s.join("")}}}var sb=ab((function(t){var e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rb:ob(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),lb=ab((function(t){return null==t?rb:(ib||(ib=document.createElementNS("http://www.w3.org/2000/svg","g")),ib.setAttribute("transform",t),(t=ib.transform.baseVal.consolidate())?ob((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):rb)}),", ",")",")");function ub(t,e){var i,n;return function(){var r=$y(this,t),o=r.tween;if(o!==i)for(var a=0,s=(n=i=o).length;a<s;++a)if(n[a].name===e){(n=n.slice()).splice(a,1);break}r.tween=n}}function hb(t,e,i){var n,r;if("function"!==typeof i)throw new Error;return function(){var o=$y(this,t),a=o.tween;if(a!==n){r=(n=a).slice();for(var s={name:e,value:i},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function cb(t,e,i){var n=t._id;return t.each((function(){var t=$y(this,n);(t.value||(t.value={}))[e]=i.apply(this,arguments)})),function(t){return tb(t,n).value[e]}}function db(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function fb(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function pb(){}var gb=.7,mb=1/gb,vb="\\s*([+-]?\\d+)\\s*",yb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xb=/^#([0-9a-f]{3,8})$/,wb=new RegExp("^rgb\\(".concat(vb,",").concat(vb,",").concat(vb,"\\)$")),kb=new RegExp("^rgb\\(".concat(bb,",").concat(bb,",").concat(bb,"\\)$")),_b=new RegExp("^rgba\\(".concat(vb,",").concat(vb,",").concat(vb,",").concat(yb,"\\)$")),Sb=new RegExp("^rgba\\(".concat(bb,",").concat(bb,",").concat(bb,",").concat(yb,"\\)$")),Cb=new RegExp("^hsl\\(".concat(yb,",").concat(bb,",").concat(bb,"\\)$")),Mb=new RegExp("^hsla\\(".concat(yb,",").concat(bb,",").concat(bb,",").concat(yb,"\\)$")),Pb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tb(){return this.rgb().formatHex()}function Db(){return this.rgb().formatRgb()}function Nb(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=xb.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?Ib(e):3===i?new Ob(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?Eb(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?Eb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=wb.exec(t))?new Ob(e[1],e[2],e[3],1):(e=kb.exec(t))?new Ob(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_b.exec(t))?Eb(e[1],e[2],e[3],e[4]):(e=Sb.exec(t))?Eb(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Cb.exec(t))?zb(e[1],e[2]/100,e[3]/100,1):(e=Mb.exec(t))?zb(e[1],e[2]/100,e[3]/100,e[4]):Pb.hasOwnProperty(t)?Ib(Pb[t]):"transparent"===t?new Ob(NaN,NaN,NaN,0):null}function Ib(t){return new Ob(t>>16&255,t>>8&255,255&t,1)}function Eb(t,e,i,n){return n<=0&&(t=e=i=NaN),new Ob(t,e,i,n)}function Ab(t,e,i,n){return 1===arguments.length?function(t){return t instanceof pb||(t=Nb(t)),t?new Ob((t=t.rgb()).r,t.g,t.b,t.opacity):new Ob}(t):new Ob(t,e,i,null==n?1:n)}function Ob(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function Lb(){return"#".concat(Fb(this.r)).concat(Fb(this.g)).concat(Fb(this.b))}function Rb(){var t=jb(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(Bb(this.r),", ").concat(Bb(this.g),", ").concat(Bb(this.b)).concat(1===t?")":", ".concat(t,")"))}function jb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bb(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fb(t){return((t=Bb(t))<16?"0":"")+t.toString(16)}function zb(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Vb(t,e,i,n)}function Hb(t){if(t instanceof Vb)return new Vb(t.h,t.s,t.l,t.opacity);if(t instanceof pb||(t=Nb(t)),!t)return new Vb;if(t instanceof Vb)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),o=Math.max(e,i,n),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(i-n)/s+6*(i<n):i===o?(n-e)/s+2:(e-i)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Vb(a,s,l,t.opacity)}function Vb(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function Wb(t){return(t=(t||0)%360)<0?t+360:t}function Ub(t){return Math.max(0,Math.min(1,t||0))}function Gb(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function Kb(t,e,i,n,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*i+(1+3*t+3*o-3*a)*n+a*r)/6}db(pb,Nb,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tb,formatHex:Tb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Hb(this).formatHsl()},formatRgb:Db,toString:Db}),db(Ob,Ab,fb(pb,{brighter:function(t){return t=null==t?mb:Math.pow(mb,t),new Ob(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?gb:Math.pow(gb,t),new Ob(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new Ob(Bb(this.r),Bb(this.g),Bb(this.b),jb(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lb,formatHex:Lb,formatHex8:function(){return"#".concat(Fb(this.r)).concat(Fb(this.g)).concat(Fb(this.b)).concat(Fb(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Rb,toString:Rb})),db(Vb,(function(t,e,i,n){return 1===arguments.length?Hb(t):new Vb(t,e,i,null==n?1:n)}),fb(pb,{brighter:function(t){return t=null==t?mb:Math.pow(mb,t),new Vb(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?gb:Math.pow(gb,t),new Vb(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new Ob(Gb(t>=240?t-240:t+120,r,n),Gb(t,r,n),Gb(t<120?t+240:t-120,r,n),this.opacity)},clamp:function(){return new Vb(Wb(this.h),Ub(this.s),Ub(this.l),jb(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=jb(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(Wb(this.h),", ").concat(100*Ub(this.s),"%, ").concat(100*Ub(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));var Yb=function(t){return function(){return t}};function Xb(t,e){return function(i){return t+i*e}}function qb(t){return 1===(t=+t)?Zb:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):Yb(isNaN(e)?i:e)}}function Zb(t,e){var i=e-t;return i?Xb(t,i):Yb(isNaN(t)?e:t)}var Jb=function t(e){var i=qb(e);function n(t,e){var n=i((t=Ab(t)).r,(e=Ab(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),a=Zb(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return n.gamma=t,n}(1);function Qb(t){return function(e){var i,n,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(i=0;i<r;++i)n=Ab(e[i]),o[i]=n.r||0,a[i]=n.g||0,s[i]=n.b||0;return o=t(o),a=t(a),s=t(s),n.opacity=1,function(t){return n.r=o(t),n.g=a(t),n.b=s(t),n+""}}}Qb((function(t){var e=t.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),r=t[n],o=t[n+1],a=n>0?t[n-1]:2*r-o,s=n<e-1?t[n+2]:2*o-r;return Kb((i-n/e)*e,a,r,o,s)}})),Qb((function(t){var e=t.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e),r=t[(n+e-1)%e],o=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return Kb((i-n/e)*e,r,o,a,s)}}));var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tx=new RegExp($b.source,"g");function ex(t,e){var i,n,r,o=$b.lastIndex=tx.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(i=$b.exec(t))&&(n=tx.exec(e));)(r=n.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(i=i[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:eb(i,n)})),o=tx.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var i,n=0;n<e;++n)s[(i=l[n]).i]=i.x(t);return s.join("")})}function ix(t,e){var i;return("number"===typeof e?eb:e instanceof Nb?Jb:(i=Nb(e))?(e=i,Jb):ex)(t,e)}function nx(t){return function(){this.removeAttribute(t)}}function rx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ox(t,e,i){var n,r,o=i+"";return function(){var a=this.getAttribute(t);return a===o?null:a===n?r:r=e(n=a,i)}}function ax(t,e,i){var n,r,o=i+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?r:r=e(n=a,i)}}function sx(t,e,i){var n,r,o;return function(){var a,s,l=i(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===n&&s===r?o:(r=s,o=e(n=a,l));this.removeAttribute(t)}}function lx(t,e,i){var n,r,o;return function(){var a,s,l=i(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===n&&s===r?o:(r=s,o=e(n=a,l));this.removeAttributeNS(t.space,t.local)}}function ux(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}(t,r)),i}return r._value=e,r}function hx(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}(t,r)),i}return r._value=e,r}function cx(t,e){return function(){Qy(this,t).delay=+e.apply(this,arguments)}}function dx(t,e){return e=+e,function(){Qy(this,t).delay=e}}function fx(t,e){return function(){$y(this,t).duration=+e.apply(this,arguments)}}function px(t,e){return e=+e,function(){$y(this,t).duration=e}}var gx=my.prototype.constructor;function mx(t){return function(){this.style.removeProperty(t)}}var vx=0;function yx(t,e,i,n){this._groups=t,this._parents=e,this._name=i,this._id=n}function bx(){return++vx}var xx=my.prototype;yx.prototype=function(t){return my().transition(t)}.prototype=vn({constructor:yx,select:function(t){var e=this._name,i=this._id;"function"!==typeof t&&(t=nv(t));for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=n[a],h=u.length,c=o[a]=new Array(h),d=0;d<h;++d)(s=u[d])&&(l=t.call(s,s.__data__,d,u))&&("__data__"in s&&(l.__data__=s.__data__),c[d]=l,Jy(c[d],e,i,d,c,tb(s,i)));return new yx(o,this._parents,e,i)},selectAll:function(t){var e=this._name,i=this._id;"function"!==typeof t&&(t=ov(t));for(var n=this._groups,r=n.length,o=[],a=[],s=0;s<r;++s)for(var l,u=n[s],h=u.length,c=0;c<h;++c)if(l=u[c]){for(var d,f=t.call(l,l.__data__,c,u),p=tb(l,i),g=0,m=f.length;g<m;++g)(d=f[g])&&Jy(d,e,i,g,f,p);o.push(f),a.push(l)}return new yx(o,a,e,i)},selectChild:xx.selectChild,selectChildren:xx.selectChildren,filter:function(t){"function"!==typeof t&&(t=sv(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var o,a=e[r],s=a.length,l=n[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new yx(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,r=i.length,o=Math.min(n,r),a=new Array(n),s=0;s<o;++s)for(var l,u=e[s],h=i[s],c=u.length,d=a[s]=new Array(c),f=0;f<c;++f)(l=u[f]||h[f])&&(d[f]=l);for(;s<n;++s)a[s]=e[s];return new yx(a,this._parents,this._name,this._id)},selection:function(){return new gx(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,i=bx(),n=this._groups,r=n.length,o=0;o<r;++o)for(var a,s=n[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var h=tb(a,e);Jy(a,t,i,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new yx(n,this._parents,t,i)},call:xx.call,nodes:xx.nodes,node:xx.node,size:xx.size,empty:xx.empty,each:xx.each,on:function(t,e){var i=this._id;return arguments.length<2?tb(this.node(),i).on.on(t):this.each(function(t,e,i){var n,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Qy:$y;return function(){var a=o(this,t),s=a.on;s!==n&&(r=(n=s).copy()).on(e,i),a.on=r}}(i,t,e))},attr:function(t,e){var i=kv(t),n="transform"===i?lb:ix;return this.attrTween(t,"function"===typeof e?(i.local?lx:sx)(i,n,cb(this,"attr."+t,e)):null==e?(i.local?rx:nx)(i):(i.local?ax:ox)(i,n,e))},attrTween:function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;var n=kv(t);return this.tween(i,(n.local?ux:hx)(n,e))},style:function(t,e,i){var n="transform"===(t+="")?sb:ix;return null==e?this.styleTween(t,function(t,e){var i,n,r;return function(){var o=Av(this,t),a=(this.style.removeProperty(t),Av(this,t));return o===a?null:o===i&&a===n?r:r=e(i=o,n=a)}}(t,n)).on("end.style."+t,mx(t)):"function"===typeof e?this.styleTween(t,function(t,e,i){var n,r,o;return function(){var a=Av(this,t),s=i(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Av(this,t)),a===l?null:a===n&&l===r?o:(r=l,o=e(n=a,s))}}(t,n,cb(this,"style."+t,e))).each(function(t,e){var i,n,r,o,a="style."+e,s="end."+a;return function(){var l=$y(this,t),u=l.on,h=null==l.value[a]?o||(o=mx(e)):void 0;u===i&&r===h||(n=(i=u).copy()).on(s,r=h),l.on=n}}(this._id,t)):this.styleTween(t,function(t,e,i){var n,r,o=i+"";return function(){var a=Av(this,t);return a===o?null:a===n?r:r=e(n=a,i)}}(t,n,e),i).on("end.style."+t,null)},styleTween:function(t,e,i){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;return this.tween(n,function(t,e,i){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e,i){return function(n){this.style.setProperty(t,e.call(this,n),i)}}(t,o,i)),n}return o._value=e,o}(t,e,null==i?"":i))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(cb(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,function(t){var e,i;function n(){var n=t.apply(this,arguments);return n!==i&&(e=(i=n)&&function(t){return function(e){this.textContent=t.call(this,e)}}(n)),e}return n._value=t,n}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var i=this._id;if(t+="",arguments.length<2){for(var n,r=tb(this.node(),i).tween,o=0,a=r.length;o<a;++o)if((n=r[o]).name===t)return n.value;return null}return this.each((null==e?ub:hb)(i,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?cx:dx)(e,t)):tb(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?fx:px)(e,t)):tb(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){$y(this,t).ease=e}}(e,t)):tb(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var i=e.apply(this,arguments);if("function"!==typeof i)throw new Error;$y(this,t).ease=i}}(this._id,t))},end:function(){var t,e,i=this,n=i._id,r=i.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--r&&o()}};i.each((function(){var i=$y(this,n),r=i.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),i.on=e})),0===r&&o()}))}},Symbol.iterator,xx[Symbol.iterator]);var wx={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function kx(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return i}function _x(t,e,i){var n,r,o=e[0].radius-Gm(e[0],t);for(n=1;n<e.length;++n)(r=e[n].radius-Gm(e[n],t))<=o&&(o=r);for(n=0;n<i.length;++n)(r=Gm(i[n],t)-i[n].radius)<=o&&(o=r);return o}function Sx(t,e){var i,n=[];for(i=0;i<t.length;++i){var r=t[i];n.push({x:r.x,y:r.y}),n.push({x:r.x+r.radius/2,y:r.y}),n.push({x:r.x-r.radius/2,y:r.y}),n.push({x:r.x,y:r.y+r.radius/2}),n.push({x:r.x,y:r.y-r.radius/2})}var o=n[0],a=_x(n[0],t,e);for(i=1;i<n.length;++i){var s=_x(n[i],t,e);s>=a&&(o=n[i],a=s)}var l=Fm((function(i){return-1*_x({x:i[0],y:i[1]},t,e)}),[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},h=!0;for(i=0;i<t.length;++i)if(Gm(u,t[i])>t[i].radius){h=!1;break}for(i=0;i<e.length;++i)if(Gm(u,e[i])<e[i].radius){h=!1;break}if(!h)if(1==t.length)u={x:t[0].x,y:t[0].y};else{var c={};Wm(t,c),u=0===c.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==c.arcs.length?{x:c.arcs[0].circle.x,y:c.arcs[0].circle.y}:e.length?Sx(t,[]):Xm(c.arcs.map((function(t){return t.p1})))}return u}function Cx(t){var e={},i=[];for(var n in t)i.push(n),e[n]=[];for(var r=0;r<i.length;r++)for(var o=t[i[r]],a=r+1;a<i.length;++a){var s=t[i[a]],l=Gm(o,s);l+s.radius<=o.radius+1e-10?e[i[a]].push(i[r]):l+o.radius<=s.radius+1e-10&&e[i[r]].push(i[a])}return e}function Mx(t,e){for(var i={},n=Cx(t),r=0;r<e.length;++r){for(var o=e[r].sets,a={},s={},l=0;l<o.length;++l){a[o[l]]=!0;for(var u=n[o[l]],h=0;h<u.length;++h)s[u[h]]=!0}var c=[],d=[];for(var f in t)f in a?c.push(t[f]):f in s||d.push(t[f]);var p=Sx(c,d);i[o]=p,p.disjoint&&e[r].size>0&&console.log("WARNING: area "+o+" not represented on screen")}return i}function Px(t){var e={};Wm(t,e);var i=e.arcs;if(0===i.length)return"M 0 0";if(1==i.length){var n=i[0].circle;return function(t,e,i){var n=[];return n.push("\nM",t,e),n.push("\nm",-i,0),n.push("\na",i,i,0,1,0,2*i,0),n.push("\na",i,i,0,1,0,2*-i,0),n.join(" ")}(n.x,n.y,n.radius)}for(var r=["\nM",i[0].p2.x,i[0].p2.y],o=0;o<i.length;++o){var a=i[o],s=a.circle.radius,l=a.width>s;r.push("\nA",s,s,0,l?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}my.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var i,n,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(i=o[r]).name===e?(n=i.state>Ky&&i.state<qy,i.state=Zy,i.timer.stop(),i.on.call(n?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},my.prototype.transition=function(t){var e,i;t instanceof yx?(e=t._id,t=t._name):(e=bx(),(i=wx).time=Oy(),t=null==t?null:t+"");for(var n=this._groups,r=n.length,o=0;o<r;++o)for(var a,s=n[o],l=s.length,u=0;u<l;++u)(a=s[u])&&Jy(a,t,e,u,s,i||kx(a,e));return new yx(n,this._parents,t,e)};var Tx=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_sets",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(g(t),"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{}))}),Object.defineProperty(g(t),"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{}))}),Object.defineProperty(g(t),"hoverGraphics",{enumerable:!0,configurable:!0,writable:!0,value:t.slicesContainer.children.push(Ae.new(t._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(g(t),"_hovered",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"slices",{enumerable:!0,configurable:!0,writable:!0,value:t._makeSlices()}),Object.defineProperty(g(t),"labels",{enumerable:!0,configurable:!0,writable:!0,value:t._makeLabels()}),t}return h(i,[{key:"_afterNew",value:function(){this._defaultThemes.push(Em.new(this._root)),this.fields.push("intersections","category","fill"),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"makeSlice",value:function(t){var e=this,i=this.slicesContainer.children.push(this.slices.make());return i.events.on("pointerover",(function(t){e._hovered=t.target,e._updateHover()})),i.events.on("pointerout",(function(){e._hovered=void 0,e.hoverGraphics.hide()})),i.on("fill",(function(){e.updateLegendMarker(t)})),i.on("stroke",(function(){e.updateLegendMarker(t)})),i._setDataItem(t),t.set("slice",i),this.slices.push(i),i}},{key:"_updateHover",value:function(){if(this._hovered){var t=this.hoverGraphics;t.set("svgPath",this._hovered.get("svgPath")),t.show(),t.toFront()}}},{key:"makeLabel",value:function(t){var e=this.labelsContainer.children.push(this.labels.make());return e._setDataItem(t),t.set("label",e),this.labels.push(e),e}},{key:"_makeSlices",value:function(){var t=this;return new ht($.new({}),(function(){return Ae._new(t._root,{themeTags:Jt(t.slices.template.get("themeTags",[]),["venn","series"])},[t.slices.template])}))}},{key:"_makeLabels",value:function(){var t=this;return new ht($.new({}),(function(){return Qe._new(t._root,{themeTags:Jt(t.labels.template.get("themeTags",[]),["venn","series"])},[t.labels.template])}))}},{key:"processDataItem",value:function(t){if(d(c(i.prototype),"processDataItem",this).call(this,t),null==t.get("fill")){var e=this.get("colors");e&&t.setRaw("fill",e.next())}this.makeSlice(t),this.makeLabel(t)}},{key:"_prepareChildren",value:function(){var t=this;if(d(c(i.prototype),"_prepareChildren",this).call(this),this._valuesDirty||this._sizeDirty){var e=[];b(this.dataItems,(function(t){var i={},n=t.get("intersections");i.sets=n||[t.get("category")],i.size=t.get("valueWorking"),i.size>0&&e.push(i)}));var n=e.toString();if(this._sets=n,e.length>0){var r=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var i=e.initialLayout||Jm,n=e.lossFunction||Qm;t=function(t){t=t.slice();var e,i,n,r,o=[],a={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?o.push(s.sets[0]):2==s.sets.length&&(a[[n=s.sets[0],r=s.sets[1]]]=!0,a[[r,n]]=!0)}for(o.sort((function(t,e){return t>e})),e=0;e<o.length;++e)for(n=o[e],i=e+1;i<o.length;++i)[n,r=o[i]]in a||t.push({sets:[n,r],size:0});return t}(t);var r,o=i(t,e),a=[],s=[];for(r in o)o.hasOwnProperty(r)&&(a.push(o[r].x),a.push(o[r].y),s.push(r));for(var l=Fm((function(e){for(var i={},r=0;r<s.length;++r){var a=s[r];i[a]={x:e[2*r],y:e[2*r+1],radius:o[a].radius}}return n(i,t)}),a,e),u=l.x,h=0;h<s.length;++h)r=s[h],o[r].x=u[2*h],o[r].y=u[2*h+1];return o}(e);r=function(t,e,i,n){var r=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),r.push(t[a]));e-=2*n,i-=2*n;var s=tv(r),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var h=e/(l.max-l.min),c=i/(u.max-u.min),d=Math.min(c,h),f=(e-(l.max-l.min)*d)/2,p=(i-(u.max-u.min)*d)/2,g={},m=0;m<r.length;++m){var v=r[m];g[o[m]]={radius:d*v.radius,x:n+f+(v.x-l.min)*d,y:n+p+(v.y-u.min)*d}}return g}(r=ev(r,null,null),this.innerWidth(),this.innerHeight(),0);var o={};for(var a in r){var s=r[a],l=s.radius,u=this.getDataItemByCategory(a);if(u){var h=u.get("slice"),f=u.get("fill");h._setDefault("fill",f),h._setDefault("stroke",f),this.updateLegendMarker(u),h.set("svgPath","M"+s.x+","+s.y+" m -"+l+", 0 a "+l+","+l+" 0 1,1 "+2*l+",0 a "+l+","+l+" 0 1,1 -"+2*l+",0"),o[a]=s}}var p=Mx(o,e);b(this.dataItems,(function(e){var i=e.get("category"),n=p[i],r=e.get("intersections");if(r&&(i=r.toString(),n=p[i])){for(var a=r,s=[],l=0;l<a.length;l++)s.push(o[a[l]]);var u=Px(s),h=e.get("slice"),c=e.get("fill");h._setDefault("fill",c),h._setDefault("stroke",c),h.setAll({svgPath:u})}n&&e.get("label").setAll({x:n.x,y:n.y});t.updateLegendValue(e)}))}this._updateHover()}}},{key:"getDataItemByCategory",value:function(t){return T(this.dataItems,(function(e){return e.get("category")==t}))}},{key:"showDataItem",value:function(t,e){var n=this,r=Object.create(null,{showDataItem:{get:function(){return d(c(i.prototype),"showDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o,a,s,l,u,h,c,d=this;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.showDataItem.call(this,t,e)],H(e)||(e=this.get("stateAnimationDuration",0)),o=this.get("stateAnimationEasing"),a=t.get("value"),(s=t.animate({key:"valueWorking",to:a,duration:e,easing:o}))&&n.push(s.waitForStop()),(l=t.get("label"))&&n.push(l.show(e)),(u=t.get("slice"))&&n.push(u.show(e)),(h=t.get("intersections"))&&b(h,(function(t){var i=d.getDataItemByCategory(t);i&&i.isHidden()&&d.showDataItem(i,e)})),h||(c=t.get("category"),b(this.dataItems,(function(i){var n=i.get("intersections");if(i!=t&&n){var r=!0;b(n,(function(t){var e=d.getDataItemByCategory(t);e&&e.isHidden()&&(r=!1)})),r&&-1!=n.indexOf(c)&&i.isHidden()&&d.showDataItem(i,e)}}))),i.next=15,Promise.all(n);case 15:case"end":return i.stop()}}),i,this)})))}},{key:"hideDataItem",value:function(t,e){var n=this,r=Object.create(null,{hideDataItem:{get:function(){return d(c(i.prototype),"hideDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o,a,s,l,u,h=this;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.hideDataItem.call(this,t,e)],o=this.states.create("hidden",{}),H(e)||(e=o.get("stateAnimationDuration",this.get("stateAnimationDuration",0))),a=o.get("stateAnimationEasing",this.get("stateAnimationEasing")),(s=t.animate({key:"valueWorking",to:0,duration:e,easing:a}))&&n.push(s.waitForStop()),(l=t.get("label"))&&n.push(l.hide(e)),(u=t.get("slice"))&&(n.push(u.hide(e)),u.hideTooltip()),t.get("intersections")||b(this.dataItems,(function(i){var n=i.get("intersections");i!=t&&n&&-1!=n.indexOf(t.get("category"))&&h.hideDataItem(i,e)})),i.next=13,Promise.all(n);case 13:case"end":return i.stop()}}),i,this)})))}},{key:"disposeDataItem",value:function(t){d(c(i.prototype),"disposeDataItem",this).call(this,t);var e=t.get("label");e&&(this.labels.removeValue(e),e.dispose());var n=t.get("slice");n&&(this.slices.removeValue(n),n.dispose())}},{key:"updateLegendMarker",value:function(t){var e=t.get("slice");if(e){var i=t.get("legendDataItem");if(i){var n=i.get("markerRectangle");b(Ee,(function(t){n.set(t,e.get(t))}))}}}},{key:"hoverDataItem",value:function(t){var e=t.get("slice");e&&!e.isHidden()&&e.hover()}},{key:"unhoverDataItem",value:function(t){var e=t.get("slice");e&&e.unhover()}}]),i}(gn);function Dx(e){return t.useLayoutEffect((function(){var t=ln.new("venn-diagram"),e=t.container.children.push(Ge.new(t,{width:pt,height:pt,layout:t.verticalLayout})),i=e.children.push(Tx.new(t,{categoryField:"name",valueField:"value",intersectionsField:"sets",paddingTop:40,paddingBottom:40,paddingLeft:40,paddingRight:40}));i.data.setAll([{name:"DB005",value:10},{name:"Req1",value:10},{name:"Test case 003",value:5},{name:"Doc 002",value:4,sets:["DB005","Req1"]},{name:"Doc 003",value:2,sets:["DB005","Test case 003"]},{name:"Doc 004",value:2,sets:["Req1","Test case 003"]},{name:"Doc. 012",value:1,sets:["DB005","Req1","Test case 003"]}]),i.slices.template.set("tooltipText","{category}: {value}"),i.hoverGraphics.setAll({strokeDasharray:[3,3],stroke:$t(16777215),strokeWidth:2}),e.children.push(Im.new(t,{centerX:gt,x:gt})).data.setAll(i.dataItems)}),[]),(0,Cm.jsx)("div",{id:"venn-diagram",style:{width:"500px",height:"500px"}})}Object.defineProperty(Tx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Venn"}),Object.defineProperty(Tx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([Tx.className])});var Nx=function(t){var e=t.children,i=t.title;return(0,Cm.jsxs)("div",{className:"sideNav-container",children:[(0,Cm.jsx)("div",{className:"title-container",children:(0,Cm.jsx)("h4",{className:"title",children:i})}),e]})};function Ix(e,i){void 0===i&&(i=null);var n=t.useRef({ref:function(){var t=function(t){n.ref.current!==t&&(n.cleanup&&(n.cleanup(),n.cleanup=void 0),n.ref.current=t,null!==t&&(n.cleanup=n.callback(t)))};return t.current=i,t}(),callback:e}).current;return n.callback=e,n.ref}var Ex=function(e){var i=e.onOverflowItemsChanged,n=e.rtl,r=e.pinnedIndex,o=t.useRef(),a=t.useRef(),s=Ix((function(t){var e=function(t,e){if("undefined"!==typeof ResizeObserver){var i=new ResizeObserver(e);return Array.isArray(t)?t.forEach((function(t){return i.observe(t)})):i.observe(t),function(){return i.disconnect()}}var n=function(){return e(void 0)},r=Bn(Array.isArray(t)?t[0]:t);if(!r)return function(){};var o=r.requestAnimationFrame(n);return r.addEventListener("resize",n,!1),function(){r.cancelAnimationFrame(o),r.removeEventListener("resize",n,!1)}}(t,(function(e){a.current=e?e[0].contentRect.width:t.clientWidth,o.current&&o.current()}));return function(){e(),a.current=void 0}})),l=Ix((function(t){return s(t.parentElement),function(){return s(null)}}));return Ws((function(){var t=s.current,e=l.current;if(t&&e){for(var u=[],h=0;h<t.children.length;h++){var c=t.children[h];c instanceof HTMLElement&&c!==e&&u.push(c)}var d=[],f=0;o.current=function(){var t=a.current;if(void 0!==t){for(var i=u.length-1;i>=0;i--){if(void 0===d[i]){var o=n?t-u[i].offsetLeft:u[i].offsetLeft+u[i].offsetWidth;i+1<u.length&&i+1===r&&(f=d[i+1]-o),i===u.length-2&&(f+=e.offsetWidth),d[i]=o+f}if(t>d[i])return void g(i+1)}g(0)}};var p=u.length,g=function(t){p!==t&&(p=t,i(t,u.map((function(e,i){return{ele:e,isOverflowing:i>=t&&i!==r}}))))},m=void 0;if(void 0!==a.current){var v=Bn(t);if(v){var y=v.requestAnimationFrame(o.current);m=function(){return v.cancelAnimationFrame(y)}}}return function(){m&&m(),g(u.length),o.current=void 0}}})),{menuButtonRef:l}},Ax=function(e){function i(t){var i=e.call(this,t)||this;return ol(i),i}return vt(i,e),i.prototype.render=function(){return t.createElement("div",yt({},Sr(this.props,_r)),this.props.children)},i}(t.Component),Ox=wo(),Lx=function(e,i){var n={links:[],keyToIndexMapping:{},keyToTabIdMapping:{}};return t.Children.forEach(t.Children.toArray(e.children),(function(t,r){if(Rx(t)){var o=t.props,a=o.linkText,s=bt(o,["linkText"]),l=t.props.itemKey||r.toString();n.links.push(yt(yt({headerText:a},s),{itemKey:l})),n.keyToIndexMapping[l]=r,n.keyToTabIdMapping[l]=function(t,e,i,n){return t.getTabId?t.getTabId(i,n):e+"-Tab".concat(n)}(e,i,l,r)}else t&&Is("The children of a Pivot component must be of type PivotItem to be rendered.")})),n},Rx=function(e){var i;return t.isValidElement(e)&&(null===(i=e.type)||void 0===i?void 0:i.name)===Ax.name},jx=t.forwardRef((function(e,i){var n,r=t.useRef(null),o=t.useRef(null),a=Il("Pivot"),s=Nl(e.selectedKey,e.defaultSelectedKey),l=s[0],u=s[1],h=e.componentRef,c=e.theme,d=e.linkSize,f=e.linkFormat,p=e.overflowBehavior,g=e.overflowAriaLabel,m=e.focusZoneProps,v=e.overflowButtonAs,y={"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]},b=Sr(e,_r,["aria-label","aria-labelledby"]),x=Lx(e,a);t.useImperativeHandle(h,(function(){return{focus:function(){var t;null===(t=r.current)||void 0===t||t.focus()}}}));var w=function(e){if(!e)return null;var i=e.itemCount,r=e.itemIcon,o=e.headerText;return t.createElement("span",{className:n.linkContent},void 0!==r&&t.createElement("span",{className:n.icon},t.createElement(nl,{iconName:r})),void 0!==o&&t.createElement("span",{className:n.text}," ",e.headerText),void 0!==i&&t.createElement("span",{className:n.count}," (",i,")"))},k=function(e,i,r,o){var a,s=i.itemKey,l=i.headerButtonProps,u=i.onRenderItemLink,h=e.keyToTabIdMapping[s],c=r===s;a=u?u(i,w):w(i);var d=i.headerText||"";d+=i.itemCount?" ("+i.itemCount+")":"",d+=i.itemIcon?" xx":"";var f=i.role&&"tab"!==i.role?{role:i.role}:{role:"tab","aria-selected":c};return t.createElement(qg,yt({},l,f,{id:h,key:s,className:Qs(o,c&&n.linkIsSelected),onClick:function(t){return _(s,t)},onKeyDown:function(t){return S(s,t)},"aria-label":i.ariaLabel,name:i.headerText,keytipProps:i.keytipProps,"data-content":d}),a)},_=function(t,e){e.preventDefault(),C(t,e)},S=function(t,e){e.which===ho.enter&&(e.preventDefault(),C(t))},C=function(i,n){var r;if(u(i),x=Lx(e,a),e.onLinkClick&&x.keyToIndexMapping[i]>=0){var s=x.keyToIndexMapping[i],l=t.Children.toArray(e.children)[s];Rx(l)&&e.onLinkClick(l,n)}null===(r=o.current)||void 0===r||r.dismissMenu()};n=Ox(e.styles,{theme:c,linkSize:d,linkFormat:f});var M=function(){return null===(t=l)||void 0!==t&&void 0!==x.keyToIndexMapping[t]?l:x.links.length?x.links[0].itemKey:void 0;var t}(),P=M?x.keyToIndexMapping[M]:0,T=x.links.map((function(t){return k(x,t,M,n.link)})),D=t.useMemo((function(){return{items:[],alignTargetEdge:!0,directionalHint:Ud.bottomRightEdge}}),[]),N=Ex({onOverflowItemsChanged:function(t,e){e.forEach((function(t){var e=t.ele,i=t.isOverflowing;return e.dataset.isOverflowing="".concat(i)})),D.items=x.links.slice(t).filter((function(t){return t.itemKey!==M})).map((function(e,i){return e.role="menuitem",{key:e.itemKey||"".concat(t+i),onRender:function(){return k(x,e,M,n.linkInMenu)}}}))},rtl:mo(c),pinnedIndex:P}).menuButtonRef,I=v||qg;return t.createElement("div",yt({ref:i},b),t.createElement(th,yt({componentRef:r,role:"tablist"},y,{direction:mu.horizontal},m,{className:Qs(n.root,null===m||void 0===m?void 0:m.className)}),T,"menu"===p&&t.createElement(I,{className:Qs(n.link,n.overflowMenuButton),elementRef:N,componentRef:o,menuProps:D,menuIconProps:{iconName:"More",style:{color:"inherit"}},ariaLabel:g})),M&&x.links.map((function(i){return(!0===i.alwaysRender||M===i.itemKey)&&function(i,r){if(e.headersOnly||!i)return null;var o=x.keyToIndexMapping[i],a=x.keyToTabIdMapping[i];return t.createElement("div",{role:"tabpanel",hidden:!r,key:i,"aria-hidden":!r,"aria-labelledby":a,className:n.itemContainer},t.Children.toArray(e.children)[o])}(i.itemKey,M===i.itemKey)})))}));jx.displayName="Pivot";var Bx={count:"ms-Pivot-count",icon:"ms-Pivot-icon",linkIsSelected:"is-selected",link:"ms-Pivot-link",linkContent:"ms-Pivot-linkContent",root:"ms-Pivot",rootIsLarge:"ms-Pivot--large",rootIsTabs:"ms-Pivot--tabs",text:"ms-Pivot-text",linkInMenu:"ms-Pivot-linkInMenu",overflowMenuButton:"ms-Pivot-overflowMenuButton"},Fx=function(t,e,i){var n,r,o;void 0===i&&(i=!1);var a=t.linkSize,s=t.linkFormat,l=t.theme,u=l.semanticColors,h=l.fonts,c="large"===a,d="tabs"===s;return[h.medium,{color:u.actionLink,padding:"0 8px",position:"relative",backgroundColor:"transparent",border:0,borderRadius:0,selectors:{":hover":{backgroundColor:u.buttonBackgroundHovered,color:u.buttonTextHovered,cursor:"pointer"},":active":{backgroundColor:u.buttonBackgroundPressed,color:u.buttonTextHovered},":focus":{outline:"none"}}},!i&&[{display:"inline-block",lineHeight:44,height:44,marginRight:8,textAlign:"center",selectors:(n={},n[".".concat(Ea," &:focus")]={outline:"1px solid ".concat(u.focusBorder)},n[".".concat(Ea," &:focus:after")]={content:"attr(data-content)",position:"relative",border:0},n[":before"]={backgroundColor:"transparent",bottom:0,content:'""',height:2,left:8,position:"absolute",right:8,transition:"left ".concat(pa," ").concat(da,",\n                        right ").concat(pa," ").concat(da)},n[":after"]={color:"transparent",content:"attr(data-content)",display:"block",fontWeight:Ma.bold,height:1,overflow:"hidden",visibility:"hidden"},n)},c&&{fontSize:h.large.fontSize},d&&[{marginRight:0,height:44,lineHeight:44,backgroundColor:u.buttonBackground,padding:"0 10px",verticalAlign:"top",selectors:(r={":focus":{outlineOffset:"-2px"}},r[".".concat(Ea," &:focus::before")]={height:"auto",background:"transparent",transition:"none"},r["&:hover, &:focus"]={color:u.buttonTextCheckedHovered},r["&:active, &:hover"]={color:u.primaryButtonText,backgroundColor:u.primaryButtonBackground},r["&.".concat(e.linkIsSelected)]={backgroundColor:u.primaryButtonBackground,color:u.primaryButtonText,fontWeight:Ma.regular,selectors:(o={":before":{backgroundColor:"transparent",transition:"none",position:"absolute",top:0,left:0,right:0,bottom:0,content:'""',height:0},":hover":{backgroundColor:u.primaryButtonBackgroundHovered,color:u.primaryButtonText},":active":{backgroundColor:u.primaryButtonBackgroundPressed,color:u.primaryButtonText}},o[Da]=yt({fontWeight:Ma.semibold,color:"HighlightText",background:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),o)},r[".".concat(Ea," &.").concat(e.linkIsSelected,":focus")]={outlineColor:u.primaryButtonText},r)}]]]},zx=Qn(jx,(function(t){var e,i,n,r,o=t.className,a=t.linkSize,s=t.linkFormat,l=t.theme,u=l.semanticColors,h=l.fonts,c=Ja(Bx,l),d="large"===a,f="tabs"===s;return{root:[c.root,h.medium,Ds,{position:"relative",color:u.link,whiteSpace:"nowrap"},d&&c.rootIsLarge,f&&c.rootIsTabs,o],itemContainer:{selectors:{"&[hidden]":{display:"none"}}},link:kt(kt([c.link],Fx(t,c),!0),[(e={},e["&[data-is-overflowing='true']"]={display:"none"},e)],!1),overflowMenuButton:[c.overflowMenuButton,(i={visibility:"hidden",position:"absolute",right:0},i[".".concat(c.link,"[data-is-overflowing='true'] ~ &")]={visibility:"visible",position:"relative"},i)],linkInMenu:kt(kt([c.linkInMenu],Fx(t,c,!0),!0),[{textAlign:"left",width:"100%",height:36,lineHeight:36}],!1),linkIsSelected:[c.link,c.linkIsSelected,{fontWeight:Ma.semibold,selectors:(n={":before":{backgroundColor:u.inputBackgroundChecked,selectors:(r={},r[Da]={backgroundColor:"Highlight"},r)},":hover::before":{left:0,right:0}},n[Da]={color:"Highlight"},n)}],linkContent:[c.linkContent,{flex:"0 1 100%",selectors:{"& > * ":{marginLeft:4},"& > *:first-child":{marginLeft:0}}}],text:[c.text,{display:"inline-block",verticalAlign:"top"}],count:[c.count,{display:"inline-block",verticalAlign:"top"}],icon:c.icon}}),void 0,{scope:"Pivot"}),Hx=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{width:pt,height:pt,interactiveChildren:!1}))}),Object.defineProperty(g(t),"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ge.new(t._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:pt,height:pt})}),t}return h(i)}(Ge);Object.defineProperty(Hx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(Hx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([Hx.className])});var Vx=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ge.new(t._root,{width:pt,height:pt,isMeasured:!1})}),Object.defineProperty(g(t),"series",{enumerable:!0,configurable:!0,writable:!0,value:new ut}),t}return h(i,[{key:"_afterNew",value:function(){var t=this;d(c(i.prototype),"_afterNew",this).call(this),this._disposers.push(this.series);var e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((function(i){if("clear"===i.type){b(i.oldValues,(function(e){t._removeSeries(e)}));var n=t.get("colors");n&&n.reset()}else if("push"===i.type)e.moveValue(i.newValue),t._processSeries(i.newValue);else if("setIndex"===i.type)e.setIndex(i.index,i.newValue),t._processSeries(i.newValue);else if("insertIndex"===i.type)e.insertIndex(i.index,i.newValue),t._processSeries(i.newValue);else if("removeIndex"===i.type)t._removeSeries(i.oldValue);else{if("moveIndex"!==i.type)throw new Error("Unknown IListEvent type");e.moveValue(i.value,i.newIndex),t._processSeries(i.value)}})))}},{key:"_processSeries",value:function(t){t.chart=this,t._placeBulletsContainer(this)}},{key:"_removeSeries",value:function(t){t.isDisposed()||(this.seriesContainer.children.removeValue(t),t._removeBulletsContainer())}}]),i}(Hx);Object.defineProperty(Vx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(Vx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hx.classNames.concat([Vx.className])});var Wx=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"setupDefaultRules",value:function(){d(c(i.prototype),"setupDefaultRules",this).call(this);var t=this._root.interfaceColors,e=this.rule.bind(this);e("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:un.new(this._root,{}),width:pt,height:pt}),e("PieChart").setAll({radius:ft(80),startAngle:-90,endAngle:270}),e("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),e("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),e("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),e("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),e("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),e("Slice",["pie"]).states.create("hover",{scale:1.04}),e("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),e("Tick",["pie"]).setAll({location:1}),e("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),e("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),e("FunnelSlice").setAll({interactive:!0,expandDistance:0}),e("FunnelSlice").states.create("hover",{expandDistance:.15}),e("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:gt}),e("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:gt,rotation:-90}),e("Label",["funnel","vertical"]).setAll({centerY:gt,centerX:0}),e("Tick",["funnel"]).setAll({location:1}),e("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),e("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),e("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),e("PyramidSeries").setAll({valueIs:"area"}),e("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),e("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),e("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),e("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),e("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),e("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:gt}),e("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:gt,rotation:-90}),e("Label",["pyramid","vertical"]).setAll({centerY:gt,centerX:0}),e("Tick",["pyramid"]).setAll({location:1}),e("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),e("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:gt}),e("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:gt,rotation:-90}),e("Label",["pictorial","vertical"]).setAll({centerY:gt,centerX:0}),e("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),e("Tick",["pictorial"]).setAll({location:.5});var n=e("Graphics",["pictorial","background"]);n.setAll({fillOpacity:.2}),ui(n,"fill",t,"alternativeBackground")}}]),i}(it),Ux=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_afterNew",value:function(){this._defaultThemes.push(Wx.new(this._root)),d(c(i.prototype),"_afterNew",this).call(this),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}},{key:"_processSeries",value:function(t){d(c(i.prototype),"_processSeries",this).call(this,t),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}]),i}(Vx);Object.defineProperty(Ux,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"}),Object.defineProperty(Ux,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Vx.classNames.concat([Ux.className])});var Gx=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1}),t}return h(i,[{key:"_afterNew",value:function(){d(c(i.prototype),"_afterNew",this).call(this),this.seriesContainer.setAll({x:gt,y:gt})}},{key:"_prepareChildren",value:function(){d(c(i.prototype),"_prepareChildren",this).call(this);var t=this.chartContainer,e=t.innerWidth(),n=t.innerHeight(),r=this.get("startAngle",0),o=this.get("endAngle",0),a=this.get("innerRadius"),s=Ce(0,0,r,o,1),l=e/(s.right-s.left),u=n/(s.bottom-s.top),h={left:0,right:0,top:0,bottom:0};if(a instanceof dt){var f=a.value,p=Math.min(l,u);h=Ce(0,0,r,o,f=Math.max(p*f,p-Math.min(n,e))/p),this.setPrivateRaw("irModifyer",f/a.value)}s=function(t){var e=t.length;if(e>0){var i=t[0],n=i.left,r=i.top,o=i.right,a=i.bottom;if(e>1)for(var s=1;s<e;s++)i=t[s],n=Math.min(i.left,n),o=Math.max(i.right,o),r=Math.min(i.top,r),a=Math.max(i.bottom,a);return{left:n,right:o,top:r,bottom:a}}return{left:0,right:0,top:0,bottom:0}}([s,h]);var g=this._maxRadius;this._maxRadius=Math.min(l,u);var m=Ot(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-m*(s.bottom+s.top)/2,dx:-m*(s.right+s.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||g!=this._maxRadius)&&this.series.each((function(t){t._markDirtyKey("startAngle")})),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each((function(t){t._markDirtyKey("innerRadius")}))}},{key:"radius",value:function(t){var e=Ot(this.get("radius",0),this._maxRadius),i=Ot(this.get("innerRadius",0),e);if(t){var n=this.series.indexOf(t),r=this.series.length,o=t.get("radius");return null!=o?i+Ot(o,e-i):i+(e-i)/r*(n+1)}return e}},{key:"innerRadius",value:function(t){var e=this.radius(),i=Ot(this.get("innerRadius",0),e);if(i<0&&(i=e+i),t){var n=this.series.indexOf(t),r=this.series.length,o=t.get("innerRadius");return null!=o?i+Ot(o,e-i):i+(e-i)/r*n}return i}}]),i}(Ux);Object.defineProperty(Gx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"}),Object.defineProperty(Gx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ux.classNames.concat([Gx.className])});var Kx=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(g(t),"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(g(t),"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ge.new(t._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(g(t),"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(g(t),"slices",{enumerable:!0,configurable:!0,writable:!0,value:t._makeSlices()}),Object.defineProperty(g(t),"labels",{enumerable:!0,configurable:!0,writable:!0,value:t._makeLabels()}),Object.defineProperty(g(t),"ticks",{enumerable:!0,configurable:!0,writable:!0,value:t._makeTicks()}),t}return h(i,[{key:"makeSlice",value:function(t){var e=this,i=this.slicesContainer.children.push(this.slices.make());return i.on("fill",(function(){e.updateLegendMarker(t)})),i.on("stroke",(function(){e.updateLegendMarker(t)})),i._setDataItem(t),t.set("slice",i),this.slices.push(i),i}},{key:"makeLabel",value:function(t){var e=this.labelsContainer.children.push(this.labels.make());return e._setDataItem(t),t.set("label",e),this.labels.push(e),e}},{key:"_shouldMakeBullet",value:function(t){return null!=t.get("value")}},{key:"makeTick",value:function(t){var e=this.ticksContainer.children.push(this.ticks.make());return e._setDataItem(t),t.set("tick",e),this.ticks.push(e),e}},{key:"_afterNew",value:function(){this.fields.push("category","fill"),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"_onDataClear",value:function(){var t=this.get("colors");t&&t.reset()}},{key:"_prepareChildren",value:function(){if(d(c(i.prototype),"_prepareChildren",this).call(this),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){var t=0,e=0,n=0,r=1/0,o=0;b(this._dataItems,(function(i){var n=i.get("valueWorking",0);t+=n,e+=Math.abs(n)})),b(this._dataItems,(function(t){var i=t.get("valueWorking",0);i>n&&(n=i),i<r&&(r=i),o++;var a=i/e;0==e&&(a=0),t.setRaw("valuePercentTotal",100*a)})),this.setPrivateRaw("valueLow",r),this.setPrivateRaw("valueHigh",n),this.setPrivateRaw("valueSum",t),this.setPrivateRaw("valueAverage",t/o),this.setPrivateRaw("valueAbsoluteSum",e)}}},{key:"show",value:function(t){var e=this,n=Object.create(null,{show:{get:function(){return d(c(i.prototype),"show",e)}}});return wt(this,void 0,void 0,at().mark((function e(){var i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=[]).push(n.show.call(this,t)),i.push(this._sequencedShowHide(!0,t)),e.next=5,Promise.all(i);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"hide",value:function(t){var e=this,n=Object.create(null,{hide:{get:function(){return d(c(i.prototype),"hide",e)}}});return wt(this,void 0,void 0,at().mark((function e(){var i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=[]).push(n.hide.call(this,t)),i.push(this._sequencedShowHide(!1,t)),e.next=5,Promise.all(i);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"_updateChildren",value:function(){var t=this;d(c(i.prototype),"_updateChildren",this).call(this),this._valuesDirty&&b(this._dataItems,(function(t){t.get("label").text.markDirtyText()})),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&b(this._dataItems,(function(e){t.updateLegendValue(e)})),this._arrange()}},{key:"_arrange",value:function(){var t=this;this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),b(this.dataItems,(function(e){t._updateTick(e)}))}},{key:"_afterChanged",value:function(){d(c(i.prototype),"_afterChanged",this).call(this),this._arrange()}},{key:"processDataItem",value:function(t){if(d(c(i.prototype),"processDataItem",this).call(this,t),null==t.get("fill")){var e=this.get("colors");e&&t.setRaw("fill",e.next())}}},{key:"showDataItem",value:function(t,e){var n=this,r=Object.create(null,{showDataItem:{get:function(){return d(c(i.prototype),"showDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o,a,s,l,u,h;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.showDataItem.call(this,t,e)],H(e)||(e=this.get("stateAnimationDuration",0)),o=this.get("stateAnimationEasing"),a=t.get("value"),(s=t.animate({key:"valueWorking",to:a,duration:e,easing:o}))&&n.push(s.waitForStop()),(l=t.get("tick"))&&n.push(l.show(e)),(u=t.get("label"))&&n.push(u.show(e)),(h=t.get("slice"))&&n.push(h.show(e)),h.get("active")&&h.states.applyAnimate("active"),i.next=15,Promise.all(n);case 15:case"end":return i.stop()}}),i,this)})))}},{key:"hideDataItem",value:function(t,e){var n=this,r=Object.create(null,{hideDataItem:{get:function(){return d(c(i.prototype),"hideDataItem",n)}}});return wt(this,void 0,void 0,at().mark((function i(){var n,o,a,s,l,u,h;return at().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[r.hideDataItem.call(this,t,e)],o=this.states.create("hidden",{}),H(e)||(e=o.get("stateAnimationDuration",this.get("stateAnimationDuration",0))),a=o.get("stateAnimationEasing",this.get("stateAnimationEasing")),(s=t.animate({key:"valueWorking",to:0,duration:e,easing:a}))&&n.push(s.waitForStop()),(l=t.get("tick"))&&n.push(l.hide(e)),(u=t.get("label"))&&n.push(u.hide(e)),(h=t.get("slice")).hideTooltip(),h&&n.push(h.hide(e)),i.next=15,Promise.all(n);case 15:case"end":return i.stop()}}),i,this)})))}},{key:"disposeDataItem",value:function(t){d(c(i.prototype),"disposeDataItem",this).call(this,t);var e=t.get("label");e&&(this.labels.removeValue(e),e.dispose());var n=t.get("tick");n&&(this.ticks.removeValue(n),n.dispose());var r=t.get("slice");r&&(this.slices.removeValue(r),r.dispose())}},{key:"hoverDataItem",value:function(t){var e=t.get("slice");e&&!e.isHidden()&&e.hover()}},{key:"unhoverDataItem",value:function(t){var e=t.get("slice");e&&e.unhover()}},{key:"updateLegendMarker",value:function(t){if(t){var e=t.get("slice");if(e){var i=t.get("legendDataItem");if(i){var n=i.get("markerRectangle");b(Ee,(function(t){null!=e.get(t)&&n.set(t,e.get(t))}))}}}}},{key:"_arrangeDown",value:function(t){if(t){var e=this._getNextDown();t.sort((function(t,e){return t.y>e.y?1:t.y<e.y?-1:0})),b(t,(function(t){var i=t.label.adjustedLocalBounds(),n=i.top;t.y+n<e&&(t.y=e-n),t.label.set("y",t.y),e=t.y+i.bottom}))}}},{key:"_getNextUp",value:function(){return this.labelsContainer.maxHeight()}},{key:"_getNextDown",value:function(){return 0}},{key:"_arrangeUp",value:function(t){if(t){var e=this._getNextUp();t.sort((function(t,e){return t.y<e.y?1:t.y>e.y?-1:0})),b(t,(function(t){var i=t.label.adjustedLocalBounds(),n=i.bottom;t.y+n>e&&(t.y=e-n),t.label.set("y",t.y),e=t.y+i.top}))}}},{key:"_arrangeRight",value:function(t){if(t){var e=0;t.sort((function(t,e){return t.y>e.y?1:t.y<e.y?-1:0})),b(t,(function(t){var i=t.label.adjustedLocalBounds(),n=i.left;t.y+n<e&&(t.y=e-n),t.label.set("x",t.y),e=t.y+i.right}))}}},{key:"_arrangeLeft",value:function(t){if(t){var e=this.labelsContainer.maxWidth();t.sort((function(t,e){return t.y<e.y?1:t.y>e.y?-1:0})),b(t,(function(t){var i=t.label.adjustedLocalBounds(),n=i.right;t.y+n>e&&(t.y=e-n),t.label.set("x",t.y),e=t.y+i.left}))}}},{key:"_updateSize",value:function(){d(c(i.prototype),"_updateSize",this).call(this),this.markDirty()}},{key:"_updateTick",value:function(t){}},{key:"_dispose",value:function(){d(c(i.prototype),"_dispose",this).call(this);var t=this.chart;t&&t.series.removeValue(this)}}]),i}(gn);function Yx(t){return function(){return t}}Object.defineProperty(Kx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"}),Object.defineProperty(Kx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([Kx.className])});var Xx,qx,Zx,Jx,Qx,$x,tw,ew,iw,nw,rw,ow,aw,sw,lw=Math.abs,uw=Math.atan2,hw=Math.cos,cw=Math.max,dw=Math.min,fw=Math.sin,pw=Math.sqrt,gw=1e-12,mw=Math.PI,vw=mw/2,yw=2*mw;function bw(t){return t>=1?vw:t<=-1?-vw:Math.asin(t)}function xw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ww=Math.PI,kw=2*ww,_w=1e-6,Sw=kw-_w;function Cw(t){this._+=t[0];for(var e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}var Mw=function(){function t(e){a(this,t),this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Cw:function(t){var e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return Cw;var i=Math.pow(10,e);return function(t){this._+=t[0];for(var e=1,n=t.length;e<n;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}(e)}return h(t,[{key:"moveTo",value:function(t,e){this._append(Xx||(Xx=xw(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(qx||(qx=xw(["Z"]))))}},{key:"lineTo",value:function(t,e){this._append(Zx||(Zx=xw(["L",",",""])),this._x1=+t,this._y1=+e)}},{key:"quadraticCurveTo",value:function(t,e,i,n){this._append(Jx||(Jx=xw(["Q",",",",",",",""])),+t,+e,this._x1=+i,this._y1=+n)}},{key:"bezierCurveTo",value:function(t,e,i,n,r,o){this._append(Qx||(Qx=xw(["C",",",",",",",",",",",""])),+t,+e,+i,+n,this._x1=+r,this._y1=+o)}},{key:"arcTo",value:function(t,e,i,n,r){if(t=+t,e=+e,i=+i,n=+n,(r=+r)<0)throw new Error("negative radius: ".concat(r));var o=this._x1,a=this._y1,s=i-t,l=n-e,u=o-t,h=a-e,c=u*u+h*h;if(null===this._x1)this._append($x||($x=xw(["M",",",""])),this._x1=t,this._y1=e);else if(c>_w)if(Math.abs(h*s-l*u)>_w&&r){var d=i-o,f=n-a,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),v=Math.sqrt(c),y=r*Math.tan((ww-Math.acos((p+c-g)/(2*m*v)))/2),b=y/v,x=y/m;Math.abs(b-1)>_w&&this._append(ew||(ew=xw(["L",",",""])),t+b*u,e+b*h),this._append(iw||(iw=xw(["A",",",",0,0,",",",",",""])),r,r,+(h*d>u*f),this._x1=t+x*s,this._y1=e+x*l)}else this._append(tw||(tw=xw(["L",",",""])),this._x1=t,this._y1=e);else;}},{key:"arc",value:function(t,e,i,n,r,o){if(t=+t,e=+e,o=!!o,(i=+i)<0)throw new Error("negative radius: ".concat(i));var a=i*Math.cos(n),s=i*Math.sin(n),l=t+a,u=e+s,h=1^o,c=o?n-r:r-n;null===this._x1?this._append(nw||(nw=xw(["M",",",""])),l,u):(Math.abs(this._x1-l)>_w||Math.abs(this._y1-u)>_w)&&this._append(rw||(rw=xw(["L",",",""])),l,u),i&&(c<0&&(c=c%kw+kw),c>Sw?this._append(ow||(ow=xw(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),i,i,h,t-a,e-s,i,i,h,this._x1=l,this._y1=u):c>_w&&this._append(aw||(aw=xw(["A",",",",0,",",",",",",",""])),i,i,+(c>=ww),h,this._x1=t+i*Math.cos(r),this._y1=e+i*Math.sin(r)))}},{key:"rect",value:function(t,e,i,n){this._append(sw||(sw=xw(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,i=+i,+n,-i)}},{key:"toString",value:function(){return this._}}]),t}();function Pw(t){return t.innerRadius}function Tw(t){return t.outerRadius}function Dw(t){return t.startAngle}function Nw(t){return t.endAngle}function Iw(t){return t&&t.padAngle}function Ew(t,e,i,n,r,o,a){var s=t-i,l=e-n,u=(a?o:-o)/pw(s*s+l*l),h=u*l,c=-u*s,d=t+h,f=e+c,p=i+h,g=n+c,m=(d+p)/2,v=(f+g)/2,y=p-d,b=g-f,x=y*y+b*b,w=r-o,k=d*g-p*f,_=(b<0?-1:1)*pw(cw(0,w*w*x-k*k)),S=(k*b-y*_)/x,C=(-k*y-b*_)/x,M=(k*b+y*_)/x,P=(-k*y+b*_)/x,T=S-m,D=C-v,N=M-m,I=P-v;return T*T+D*D>N*N+I*I&&(S=M,C=P),{cx:S,cy:C,x01:-h,y01:-c,x11:S*(r/w-1),y11:C*(r/w-1)}}function Aw(){var t=Pw,e=Tw,i=Yx(0),n=null,r=Dw,o=Nw,a=Iw,s=null,l=function(t){var e=3;return t.digits=function(i){if(!arguments.length)return e;if(null==i)e=null;else{var n=Math.floor(i);if(!(n>=0))throw new RangeError("invalid digits: ".concat(i));e=n}return t},function(){return new Mw(e)}}(u);function u(){var u,h,c=+t.apply(this,arguments),d=+e.apply(this,arguments),f=r.apply(this,arguments)-vw,p=o.apply(this,arguments)-vw,g=lw(p-f),m=p>f;if(s||(s=u=l()),d<c&&(h=d,d=c,c=h),d>gw)if(g>yw-gw)s.moveTo(d*hw(f),d*fw(f)),s.arc(0,0,d,f,p,!m),c>gw&&(s.moveTo(c*hw(p),c*fw(p)),s.arc(0,0,c,p,f,m));else{var v,y,b=f,x=p,w=f,k=p,_=g,S=g,C=a.apply(this,arguments)/2,M=C>gw&&(n?+n.apply(this,arguments):pw(c*c+d*d)),P=dw(lw(d-c)/2,+i.apply(this,arguments)),T=P,D=P;if(M>gw){var N=bw(M/c*fw(C)),I=bw(M/d*fw(C));(_-=2*N)>gw?(w+=N*=m?1:-1,k-=N):(_=0,w=k=(f+p)/2),(S-=2*I)>gw?(b+=I*=m?1:-1,x-=I):(S=0,b=x=(f+p)/2)}var E=d*hw(b),A=d*fw(b),O=c*hw(k),L=c*fw(k);if(P>gw){var R,j=d*hw(x),B=d*fw(x),F=c*hw(w),z=c*fw(w);if(g<mw)if(R=function(t,e,i,n,r,o,a,s){var l=i-t,u=n-e,h=a-r,c=s-o,d=c*l-h*u;if(!(d*d<gw))return[t+(d=(h*(e-o)-c*(t-r))/d)*l,e+d*u]}(E,A,F,z,j,B,O,L)){var H=E-R[0],V=A-R[1],W=j-R[0],U=B-R[1],G=1/fw(function(t){return t>1?0:t<-1?mw:Math.acos(t)}((H*W+V*U)/(pw(H*H+V*V)*pw(W*W+U*U)))/2),K=pw(R[0]*R[0]+R[1]*R[1]);T=dw(P,(c-K)/(G-1)),D=dw(P,(d-K)/(G+1))}else T=D=0}S>gw?D>gw?(v=Ew(F,z,E,A,d,D,m),y=Ew(j,B,O,L,d,D,m),s.moveTo(v.cx+v.x01,v.cy+v.y01),D<P?s.arc(v.cx,v.cy,D,uw(v.y01,v.x01),uw(y.y01,y.x01),!m):(s.arc(v.cx,v.cy,D,uw(v.y01,v.x01),uw(v.y11,v.x11),!m),s.arc(0,0,d,uw(v.cy+v.y11,v.cx+v.x11),uw(y.cy+y.y11,y.cx+y.x11),!m),s.arc(y.cx,y.cy,D,uw(y.y11,y.x11),uw(y.y01,y.x01),!m))):(s.moveTo(E,A),s.arc(0,0,d,b,x,!m)):s.moveTo(E,A),c>gw&&_>gw?T>gw?(v=Ew(O,L,j,B,c,-T,m),y=Ew(E,A,F,z,c,-T,m),s.lineTo(v.cx+v.x01,v.cy+v.y01),T<P?s.arc(v.cx,v.cy,T,uw(v.y01,v.x01),uw(y.y01,y.x01),!m):(s.arc(v.cx,v.cy,T,uw(v.y01,v.x01),uw(v.y11,v.x11),!m),s.arc(0,0,c,uw(v.cy+v.y11,v.cx+v.x11),uw(y.cy+y.y11,y.cx+y.x11),m),s.arc(y.cx,y.cy,T,uw(y.y11,y.x11),uw(y.y01,y.x01),!m))):s.arc(0,0,c,k,w,m):s.lineTo(O,L)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-mw/2;return[hw(n)*i,fw(n)*i]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Yx(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Yx(+t),u):e},u.cornerRadius=function(t){return arguments.length?(i="function"===typeof t?t:Yx(+t),u):i},u.padRadius=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:Yx(+t),u):n},u.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:Yx(+t),u):r},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:Yx(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:Yx(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}Mw.prototype;var Ow=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(g(t),"_generator",{enumerable:!0,configurable:!0,writable:!0,value:Aw()}),t}return h(i,[{key:"_getTooltipPoint",value:function(){var t=this.get("tooltipX"),e=this.get("tooltipY"),i=0,n=0;H(t)&&(i=t),H(e)&&(n=e);var r=this.get("radius",0),o=this.get("innerRadius",0);return r+=this.get("dRadius",0),(o+=this.get("dInnerRadius",0))<0&&(o=r+o),t instanceof dt&&(i=this.ix*(o+(r-o)*t.value)),e instanceof dt&&(n=this.iy*(o+(r-o)*e.value)),this.get("arc")>=360&&0==o&&(i=0,n=0),{x:i,y:n}}},{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(d(c(i.prototype),"_changed",this).call(this),this._clear){var t=this.get("startAngle",0),e=this.get("arc",0),n=this._generator;e<0&&(t+=e,e*=-1),e>.1&&n.cornerRadius(this.get("cornerRadius",0)),n.context(this._display);var r=this.get("radius",0),o=this.get("innerRadius",0);r+=this.get("dRadius",0),(o+=this.get("dInnerRadius",0))<0&&(o=r+o),n({innerRadius:o,outerRadius:r,startAngle:(t+90)*be,endAngle:(t+e+90)*be});var a=t+e/2;this.ix=_e(a),this.iy=ke(a)}if(this.isDirty("shiftRadius")){var s=this.get("shiftRadius",0);this.setRaw("dx",this.ix*s),this.setRaw("dy",this.iy*s),this.markDirtyPosition()}}}]),i}(Ae);function Lw(t,e){for(var i=0,n=e.length;i<n;i++){var r=e[i];if(r.length>0){var o=r[0];if(o.length>0){var a=o[0];t.moveTo(a.x,a.y);for(var s=0,l=r.length;s<l;s++)Rw(t,r[s])}}}}function Rw(t,e){for(var i=0,n=e.length;i<n;i++){var r=e[i];t.lineTo(r.x,r.y)}}Object.defineProperty(Ow,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(Ow,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ae.classNames.concat([Ow.className])});var jw=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(d(c(i.prototype),"_changed",this).call(this),this._clear){var t=this.get("points"),e=this.get("segments");if(t&&t.length>0){var n=t[0];this._display.moveTo(n.x,n.y),Lw(this._display,[[t]])}else if(e)Lw(this._display,e);else if(!this.get("draw")){var r=this.width(),o=this.height();this._display.moveTo(0,0),this._display.lineTo(r,o)}}}}]),i}(Ae);Object.defineProperty(jw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(jw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ae.classNames.concat([jw.className])});var Bw=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i)}(jw);Object.defineProperty(Bw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(Bw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jw.classNames.concat([Bw.className])});var Fw=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_display",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makeRadialText("",t.textStyle)}),t}return h(i,[{key:"_afterNew",value:function(){d(c(i.prototype),"_afterNew",this).call(this)}},{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*be,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}]),i}(Ke);Object.defineProperty(Fw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(Fw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Fw.className])});var zw=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return h(i,[{key:"_afterNew",value:function(){this._textKeys.push("textType","kerning"),d(c(i.prototype),"_afterNew",this).call(this)}},{key:"_makeText",value:function(){this._text=this.children.push(Fw.new(this._root,{}))}},{key:"baseRadius",value:function(){var t=this.getPrivate("radius",0),e=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return e+Ot(i,t-e)}},{key:"radius",value:function(){var t=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(t?-1:1)}},{key:"_updateChildren",value:function(){if(d(c(i.prototype),"_updateChildren",this).call(this),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){var t=this.get("textType","adjusted"),e=this.get("inside",!1),n=this.get("orientation"),r=Se(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",e);var o=ke(r),a=_e(r),s=this.baseRadius(),l=this.radius();if(this._display.angle=0,"circular"==t)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",n),this._text.set("radius",l);else{0==s&&(r=0,l=0);var u=l*a,h=l*o;"radial"==t?(this.setRaw("x",u),this.setRaw("y",h),r<90||r>270||"auto"!=n?(this._display.angle=r,this._flipped=!1):(this._display.angle=r+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==t?(this.setRaw("centerX",gt),this.setRaw("centerY",gt),this.setRaw("x",u),this.setRaw("y",h)):"regular"==t&&(this.setRaw("x",u),this.setRaw("y",h))}this.markDirtyPosition(),this.markDirtyBounds()}}},{key:"_updatePosition",value:function(){var t=this.get("textType","regular"),e=this.get("inside",!1),n=0,r=0,o=this.get("labelAngle",0),a=this.localBounds(),s=a.right-a.left,l=a.bottom-a.top;if("radial"==t){if(this._flipped){var u=this.get("centerX");u instanceof dt&&(s*=1-2*u.value),n=s*_e(o),r=s*ke(o)}}else e||"adjusted"!=t||(n=s/2*_e(o),r=l/2*ke(o));this.setRaw("dx",n),this.setRaw("dy",r),d(c(i.prototype),"_updatePosition",this).call(this)}},{key:"text",get:function(){return this._text}}]),i}(Qe);Object.defineProperty(zw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(zw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qe.classNames.concat([zw.className])});var Hw=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_makeSlices",value:function(){var t=this;return new ht($.new({}),(function(){return Ow._new(t._root,{themeTags:Jt(t.slices.template.get("themeTags",[]),["pie","series"])},[t.slices.template])}))}},{key:"_makeLabels",value:function(){var t=this;return new ht($.new({}),(function(){return zw._new(t._root,{themeTags:Jt(t.labels.template.get("themeTags",[]),["pie","series"])},[t.labels.template])}))}},{key:"_makeTicks",value:function(){var t=this;return new ht($.new({}),(function(){return Bw._new(t._root,{themeTags:Jt(t.ticks.template.get("themeTags",[]),["pie","series"])},[t.ticks.template])}))}},{key:"processDataItem",value:function(t){var e=this;d(c(i.prototype),"processDataItem",this).call(this,t);var n=this.makeSlice(t);n.on("scale",(function(){e._updateTick(t)})),n.on("shiftRadius",(function(){e._updateTick(t)})),n.events.on("positionchanged",(function(){e._updateTick(t)}));var r=this.makeLabel(t);r.events.on("positionchanged",(function(){e._updateTick(t)})),this.makeTick(t),n.events.on("positionchanged",(function(){r.markDirty()}))}},{key:"_getNextUp",value:function(){var t=this.chart;return t?t._maxRadius:this.labelsContainer.maxHeight()/2}},{key:"_getNextDown",value:function(){var t=this.chart;return t?-t._maxRadius:-this.labelsContainer.maxHeight()/2}},{key:"_prepareChildren",value:function(){var t=this;d(c(i.prototype),"_prepareChildren",this).call(this);var e=this.chart;if(e){if(this.isDirty("alignLabels")){var n=this.labels.template;if(this.get("alignLabels"))n.set("textType","aligned");else{var r=n.get("textType");null!=r&&"aligned"!=r||n.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();var o=this.get("startAngle",e.get("startAngle",-90)),a=this.get("endAngle",e.get("endAngle",270))-o,s=o,l=e.radius(this);this.setPrivateRaw("radius",l);var u=e.innerRadius(this)*e.getPrivate("irModifyer",1);u<0&&(u=l+u),b(this._dataItems,(function(e){t.updateLegendValue(e);var i=a*e.get("valuePercentTotal")/100,n=e.get("slice");if(n){n.set("radius",l),n.set("innerRadius",u),n.set("startAngle",s),n.set("arc",i);var r=e.get("fill");n._setDefault("fill",r),n._setDefault("stroke",r)}var o=Se(s+i/2),h=e.get("label");if(h&&(h.setPrivate("radius",l),h.setPrivate("innerRadius",u),h.set("labelAngle",o),"aligned"==h.get("textType"))){var c=l+h.get("radius",0),d=l*ke(o);o>90&&o<=270?(h.isHidden()||h.isHiding()||t._lLabels.push({label:h,y:d}),c*=-1,c-=t.labelsContainer.get("paddingLeft",0),h.set("centerX",pt),h.setPrivateRaw("left",!0)):(h.isHidden()||h.isHiding()||t._rLabels.push({label:h,y:d}),c+=t.labelsContainer.get("paddingRight",0),h.set("centerX",0),h.setPrivateRaw("left",!1)),h.set("x",c),h.set("y",l*ke(o))}s+=i,t._updateTick(e)}))}}}},{key:"_updateTick",value:function(t){var e=t.get("tick"),i=t.get("label"),n=t.get("slice"),r=e.get("location",1);if(e&&i&&n){var o=(n.get("shiftRadius",0)+n.get("radius",0))*n.get("scale",1)*r,a=i.get("labelAngle",0),s=_e(a),l=ke(a),u=this.labelsContainer,h=u.get("paddingLeft",0),c=u.get("paddingRight",0),d=0,f=0;if(d=i.x(),f=i.y(),"circular"==i.get("textType")){var p=i.radius()-i.get("paddingBottom",0),g=i.get("labelAngle",0);d=p*_e(g),f=p*ke(g)}var m=-c;i.getPrivate("left")&&(m=h),e.set("points",[{x:n.x()+o*s,y:n.y()+o*l},{x:d+m,y:f},{x:d,y:f}])}}},{key:"_positionBullet",value:function(t){var e=t.get("sprite");if(e){var i=e.dataItem.get("slice");if(i){var n=i.get("innerRadius",0),r=i.get("radius",0),o=i.get("startAngle",0)+i.get("arc",0)*t.get("locationX",.5),a=n+(r-n)*t.get("locationY",.5);e.setAll({x:_e(o)*a,y:ke(o)*a})}}}}]),i}(Kx);Object.defineProperty(Hw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"}),Object.defineProperty(Hw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Kx.classNames.concat([Hw.className])});var Vw=function(e){return t.useLayoutEffect((function(){var t=ln.new("donut-chart");t.setThemes([rt.new(t)]);var e=t.container.children.push(Gx.new(t,{layout:t.verticalLayout,innerRadius:ft(50)})).series.push(Hw.new(t,{valueField:"value",categoryField:"category",alignLabels:!1}));e.labels.template.setAll({textType:"circular",centerX:0,centerY:0}),e.data.setAll([{value:10,category:"Completed"},{value:9,category:"Read"},{value:6,category:"Unopen"}]),e.appear(1e3,100)}),[]),(0,Cm.jsx)("div",{id:"donut-chart",style:{width:200,height:200}})},Ww=i.p+"static/media/picture_placeholder.6d6290580da5646a4ee7.png",Uw=function(t){t.items;return(0,Cm.jsxs)("div",{className:"picturesview-container",children:[(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABsCAIAAAB/1dJrAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAozSURBVHhe7ZpbbBxXHYfTtApRKde40LQlpKJFURyqpAWcuER1qqYIkfYhvPBU8cJDxUulPiFVpUggKBK8IKigKVEKDkJYQFFEoZGgcZzUd6/vdmyvnbX3vjt7sb1Xe8Nv5sycOXPmzOzsztit0/nrU7S7M7bn++bMjC1l162P/PgJ/AR+AoyfwE/gJ8D4CfwEfgJM/QRra2vj4+Pz8/NzlDnAzw1wA6gzy6LOjZnZ2ZkZhtmZ6ZlZwszMzPS0ganpaZZ3372cTqfVY/J0HCVIS1KlWrWkIqBcqZiolssVA5VKqVwulfGvTBmvS/rbYqkMlB3kD4eHhxE6lUqph+XdOEogSVKVGT4BMCWo8P4AXYwVhAmMFUgC7DkyMpLNZoPBoOcVmklAxpME+IcK102Qy+VQAZekt1eERwkAn8B8LbhKEAgE8vk8qYD7UdK7tdB8Asw2J1hdXUUFJMAsLCx4dUU4ux2m09XqhoJhtjPB6OgoSUAWAs4KnkGeVGg0gaGC1wkqTlYBTYCjwpM1kUyqB9rsOE8gGK8T1LkQiD8mk8mQBFgF+B0kmXS1FuonQHsuQalUWlJmkWXRDDfCDxeDGvLroMLiYjKV5hKQJwIGS4BNkEwmp6am3dwdm0lAxn4JbMVDUb4NGv0xiUQiHo9PTE7ihXrEDU4zCQzyBN4fUHOKIIFi6CgBfjuEPPFnlwBJEIvFJqem8FY96EbGaQLemYWXl2HMKUZ/YJsA/jQB3iIBlTf7YyKRyMTERBMVXCcwySuw5hRhAupv+TggCYaGhqg89acJotEoEoTD4UBgNN7gFeEuAW+uYjQn1L0R1E9A5DFW/isrK8vLy2NjYw09KZtJUCyVLB4BBPOIN9FnAfc4AHgicAkGBwdhzspz/hj4Y0KhEJ6g2FMVqDeNJzCdcyP0tLOYlgBgrgJgcy8kCQYGBjh56s8uAfjfVGZoeBi7qQ624zgBryrGaE4R+OMfaotPbP3lRwISsPIY9vxz/mQcrgUvExi1KVZLQBe2XwLy61K5t7evu7v7ig1XVN7TwOu+vn5Vw3q8SsA6c9RfAk4SFIulbDYnZbIiMjKSTJoBmwYGBlUN63GUIJWyT0BtzThZAoKrgE2gblU+tKAkU5QpMGDTFibAtWdx86cjfgqQoQ8CIL9lngUy3Ov6qJNIJLcuQQqnWpHXx3i2zYjPP2hoCcivNcgmEVu/CvB3GOPmBJE/kDcZ/J3cBZz7f0gSKPIO/IHQHzSdgPXXEgyoGtbjbQILeSBv5fy1SwBoH+KgqT+bQLMVYpegfxsTWJ98IO+gewLlc4E/MPvbJrD0B9hhCxMsq08EFrvR7/DqB9rNnH4ufFsffRaCwbjpieBhgrR+ns2oZ1WE6fwD8/kH5Kw2swS2cRU4c6ao68XaH2gfEqUG/YGdP8A+3iVIpnhDe1R5XZLgxN9xgjpLAGC3/v7tT2B58oEuxm7CgTbuD+r4A+y2jQlUc4E8UPbRxdhNOMrm/R0k6Ov36C9Fc4LlZTwRDKPfzBnI6Ddw41b+E7pbffTBg4BifiJ4l0D8e4EahD2rLMpm/axyW3F83PmXP9Egby1wtAQAdvZwFSTZw1Uw+HDw8sC4Aw6O/W7Eje5M3lrg1B9gfy8vBM7BCiJvf/JBs/5A99++BPnV1YRtAvV6UOSpiYpxT6Lh1t/ZEgD4ErcJsnML0+c7R15/s//Xvxs/95YFF2TeuDDGce4tHvVzhjcujNL9FfC2Pr+XCTgAO1965SeT5zuX3rmsKonGLgH887v25RiyDBkGiSHNkNL5bJIhoRFniBmJakQYwgwrDMsMIYabCv0dZ1Ql0dRJcBv4e5Zg5/p7k2BH+y+5T7DT/d0muA38PUsg9M8dO5XveI6S63gu2/aM1PKIlX/yk1/MdDxLkDRSR56Itzxs7x+5+4Hkk2eSHc8SEgyxrz4VumOfjb83CYT+oHrd9IvHZq2GX3Eu/Uc6dJzzx2mXTnxT3Y2djQ18SXVkLPf9F2OfOmj2B7Evf/1Wtarub5xKYCJ05702/ovuE1j5Y9kLEmhTS0nS0SdZf8sEzGwEl5KPdXD+WPZ1E9j4L+76jKsENv40QU3KpPfeT67/TNvp8t8vkS+vBsYTu1uoP5tg7dXX6PWf+NLjuRdeqgyPkU21XD7xlW+w/myC9YtdDq9/6g/6PElg9jcl0C7+3S0b80HyHdKHT1B/cwLD9X/Xvevn/ki2lq/2hu9sof7mBA35Bz1JIPRnE6T27lf9FYpv/ol8h8zps9Qfzmktweqrrxn8FaL3HNgIR+XNm5vxI09QfxBlEjTq70ECK3+sfGECrPzSn/9GvoN08tvUX5iA+gOc9vwrPyM75F7+KfXHaRcmcOjvKsHU+U4bf2EC+Kf2Pbyp/Kdg3OcTn36I+psTcP4gdfos2aHQ2UX92QSFt/8VOXgUhDVC93zB3t+zBGZ/QYK9+7PPfGdjYpp8eeH186w/l8DsDxKPniQ7FLr+Sf3ZBOZJfe8H9v7eJBD64/5HEgin0n098YkDrD9IiRJQfznBY6fIDoW/vk39QcRBAiv/BfcJrPxx2s0JasXSZmhl7Uc/T+y5j/PHyqcJ8loC1h+nPX32ebLD6q9+S/1x2dME63/5R+jjDxJuKizd9Tl7f7cJbPxpAjzJpWMdUmt7urU9dfBo4mP7ufVP/M0JOH+w/odOskPyzHepvyHBxS4n9z/W37MEZn89gZTBXYDc+QlCfy6B2T92qK1WLGLrxlJoZc/nqb85QUP+oNd9AqE/qGgJEkwCK3+cdmEC4h898Gh1ckbetllLP/8C688mWLvY1aj/vPsEVv54/pkT2PgLE0A+8fhT+R//YjOTlTfUavJdQPvLj4DTLkzg0N9tAht/cwJ7fzaBcDZz+exLLy/vbuH8hQmc+3uVQODPJajrD5KiBJtSpjo7n//lbyL3H+bWP/EHYWOChvznvEgg9sdpTz10TH4KHGqL37Gvrj+WfeTuB+Kt7Syx1vZwyyNY+ez9n/OX2XNf+PCJcGv78oNHGvV3n8DSn8LK2/hTyP2PQMzt/cnKb2L9E3+3CW4Df88S7Fx/8L77BDva/4b7BDvd322C28DfVYKldy6PdJwZOPmtq187de340/b0WHDVTJtMt5Ertrxnzf8s+C84/vS/j52Ef/+LP1SVRGOXgEwul5+bm4/G4q6JyUR1IlsMfmjPtWuqhvU4SZDD4a4Xis1SWF/XWdtG8NM9SxCLxbn/w+KAYqGgY4yyTeAweq5dVzWsx8ME+JEG7Q/KnIKj8iwBrmHOzQruID5YPE7Afuv86tr8QvBDSDyeYI9TSeDV7dCYYKfgZYKInwDPWO677wj8BHKCqz1+Aj+BnwAJelQN63GU4Pr7vaNjY4QAGCWMmhkhBCgBwjBhxMwIYYgwTBlmGaQMUYbAAGVQyOCV7m5Vw3rqJ7jtx0/gJ/ATYPwEfgI/AcZP4CfwE2D8BH4CPwHmI5/g1q3/AyWPIu7Llw2LAAAAAElFTkSuQmCC",alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]}),(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABxCAIAAAChheFsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAaJSURBVHhe7ZuJc1NFGMD9d7wQGBSGDjiozDiKw6gjAqXYlhsHtCOgUKYgCAICpaXlpbTQuyQFWkoLVHqJU5teSA9KKzpYWktapA4JiSHHS/2SXUNMSvrRvt2XPPc332T2fdnNvvdL9sj13JgAgdCEQmhCITShEJpQCE0ohCYUQhMKoQmF0IRCaEIhNKEQmlAITSiEJhST12SMANrb251OJz0hlkxeU0lxcWdHR5d61NbU6M+cgVuXy0XPiRlT0sTh/MLQ1dnV1PhTW2trXW2t2+WmWTZEtyZjU5PH42k2GsEU09EX9ZqgIMtyS3Mz09GnBU0AvKaYjj6NaAKYjj7taALYjT6FNcEz2ceLyouV1Veqacf/wmj0KazJYrFIvNi9a1d+bh7tOAAWo0+DmgDFR582NQHKjj5NTeFBKDj6tKwJUGr0aVwToMjo074mYOqjT2FNDoejjRcGvb7qYiXteCKmOPoU1hQ5K10oUxl90a0pPS39l7AMm4ZHhp+EyWS6VFUFpujpolFYk9VqLeJFampq8vYd4aPs3PkL5eWBUV5WBmdOTxdNFE/hkwOeSKFpYoQmFEITiojQZLfb6yMJtzt47Y8ITTw3BBhCzzAKNJ04IR1MlXZ+K21OkeK2SIs26uYl6Oh9bIhQTTabDXYnpwv0h4/nJu/XgY74bboPN+sWrtXNjtO9sET3/EfBUcESlQed7PHk5ReNjFrumszG7qFzdb1p+takozWLvyidFXfqleXZL32cFaTjaUEfkRcMNTmcbtDR2DFouNpzsMC4bv/ldz83vBaXNWvlqXFfIM8UtA9eKK+puXto+c4L89cWTN1FmKCd8UJ5TWUNfUGXxCJoZ7yIVk16lvBY6fhooks3G4QmFNrRRN9WsIHHvklM4X6EJhRCEwqhCYX6mrJZIjYEKNTUtGB9EdxV3tCXpm8NTP54Y4DEy0tPkuS8NQXn63qhZrqh7WlvDOkFsUFNTa+vK3zs9O5H7j145DeSdLSGtAIWbzlLknG7Kjy+TMW12yQTGvSrbjbIsuzr/wn8NE2PzR66b4EKFpsjZlU+SZZ8f5O0Ar48Xk+SKVnXSOZAfhPJhAapwA2uc1NjxyBUkGXPoiQDHL64JKv39wekFZBb2UmqQYFk4lIqSCY0SAVucNV0pKiZ1IGxBodzEnIfPnpMMoCx6w9SrbFjAA7B5ozYHJIJDdKEG1w1xX9NfzFzsvwGHL6XZPD4JqHefu9ranDYTOaswRHv2OzrH/U3DA1vM45w1TQ3kf5i5ofrd+FwR2YDlEdGrdK561BwueXZ8bkzV+T4qoR7HAi6JrFB/X3TwLAZ6sAtlM/W3oJye69p9TdVvqZjCXsql2wvI+Vt6XWBDYOCXhAb1Nd0teUO1JE9numxOf0mrzKYsN/YUAQvJShnlLaBHSi43fI7n+mD2gYGvSA2qK/pSHELqbZqb5XDt40CLzDQTA+sUK5puZPnW+ZGzX+/uvJ0UNvAoH+tYIOa+yYSa/ZdItUKL3d7fBP425vPQL615x6U+00P2295C92/3Q9sFRreh+AIb00LPy0h42vUbIdbm90JuyfInyz7GQ7tDhdkoFBcfTOwVWhAHZ7w1gRLvtn6ZK/UcnOI5DccuEJTPvw78qcFrccL3pogYDdAq46NnaroIMn5awtoyvfj2QXrC/31xw0LS8hsEIgKmo6V0FkcSNxT6c+PjNpIEnZS05Zl+/PjBl2T2KD+SgeRuLeKPF0wE8FWwJ9vaO8nj9DWc2/CL9bpBbEhIjTBnA07AIgZK3ICdcSszoe9EgRZ+8IHvSA2RIQmReIvlkTE3KRI0M54ITShEJpQRKumIZZoZ26iaxIbtLPS0Qtig9CEQjua4ErYQa8kgGjVRDvjhdCEQnlNNruz8/YIyEotadmaXrcsufzNjcVzE/OmL5/gTf8zBe2MF8prCkWWPRarY+j+o547f+48lJdZ2vZVRv2KlIoF6wvJR5eTCPqpNRt4fBYeHugscI50ueWBYXN966+bUqRPtkrvb9K9tUYXE6+bGTv+P3r8QdckNoTO4iprIlj++0exzBNSRqaUniHtOSQl7ZYStuk+8P0bas5Kr75pS4WmiUg7Ln13TNp3mB4yIkI1RT5CEwqhCYXQhEJoQiE0oRCaUKigqdRgiLow6PVcNT2MZug1oJm8pv8VQhMKoQmF0IRCaEIhNKEQmlAITSiEJhRCEwqhCYXQhEJoQiE0IRgb+wcKfD5WLdyyAAAAAABJRU5ErkJggg==",alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]}),(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABiCAIAAABbFoOoAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAYuSURBVHhe7Zv7U1RlGMf7TzLLMqdynGq6jT9kM2kiqZGj46Vp1MZLjYwEikQGBA2g5g0hKkcRDIQRvKCArJoVu7hgCIyBoHGRZQ8u7MLCsuzlnO2B92ln57i7vHrOHj3H9zPfYXbf8z7n8uG857yHXZ7xMaZgIhAmAmEiEFoR9QbDY8+Nxka32407JDe0IopPnmy+ebO1peVxRVdbW1pccrm21uPx4D7JykOIiNAeUAIu9HX6BqPxik7n9XqxVT7UJMKgNwiCcN1guKzTyT5GVCYCXvA8b6yvl32MqE8EAOeF7GNElSIA2ceIWkUA8o4RSSLgt9FOx8jICClxOBzYNB0ul4uUQC28rTx/vqa6mrT4kXGMSBJht9t/ogOOhJSYTCZsmg6r1UpKoBbepqakFBwvIC2ByDVGVC8CkGWMaEEEIH2MaEQEIHGMaEcEIGWMaEoE8MhjRJKIx377DMqjjRFJIpTkwQlVGB5hjGhTBPCwY0SSCNgGjHkaYESQEqfH1WMz08Ttxc2Nucbh7aW6q6crz7R1dYQJx3ED3IA/ZrP5YmUljBGynvAofbGEQ8q4cowmljEbKWk2d8Lb+BNZ63+IC5/y8vKzFWcCc6a8AvacrCc8qhFBE/9J5GdsbIyJmISJQJgIhIlAFBIBk79GOgYHB0nJsHP0j64mmjjcTlLCjQ6JFoWKV+BJiR+FRISHF/h7Q5zhTnOZ8VLWhaObjqUt2rMZlymFciK8PG+xW9v7u/7qaIID3l9TGF+8d+WR+PfS182MX/Rs3IeiYJlSyCyCF4SCwgLOZum2mOo6mkrqq/ZWHd9akL5wz6Y5u5bO2hEV9JiDxsN7YXTQxH+eu7we0aJQEUhBAJJEuDzuLovpWntjkb4y/Vz+578kf5C18dWdy+CYZ3y9UHRgDxsVXCzrOptiDm9/M2WV9KMNExWIKDPWiHY6EmEiMEwEhonAMBGYQcfw+X/+pIl9Av+W0zs8IFoUKjCpISV+nlwRuDGlYCIQJgJhF0uEiUCYCCQiIl5IWJx/tRSetSGbj6f52zcc3f17WwPkpP7CtM8pGjkjDl3Cld42d5NjnhG30PhvK2mMLcoM7Bw0GhExb/cKpxs/m436cSu0LNq7WRAm/w7Qb7PMjP8osHPQaEQEpNhwkfQ/eq0c3kIVeZtQsi+wW6hwo0NFf1fRZNg5StZ8d6hPtChUPLz4Y84Iili8bwuZyfYOmd9JW2t3jsHrPuvAnF1LRT2DZmpTyhFBEXBpMNxphv4wHsobL5PafVUFom6hQvorRgRFQNblJ5HrAsHmsFOeDhCsUYrIipi1IwruGljm8/06dbGgTK+Ny75WSBN4TiXrb+XuihaFitITKrhlwqwBy3y+1Io8UYcw0c5dA/J+5nqnewLLfL4Orud5ihsniaZEnG6oJSVw4yAvvjyRIeoTKtoRsSBzA9lel8X0WX4SqW2510Ezm4JoRwTMo0j/AzWFL+2M7h40wWuYWazKTRD1DBqNiHjju5UTnskpNszh3kpdDS3p534m5Y1dt2g+GeobuZ+jL6PJ0Dh+NbPtfrdoUagoN7Ms0leSztWtdaRlbnKMy4Pf64w5vN3fM1RIT8WIiAg4HciE2st7lx2M9befbsDv7+luGaY9KUhPxYiICDjI2YnRsxM/hp+BB/xK0vIFmesh0fu/eu5pECFL+kcs+dcraGIdt5Mdu23pES0KFUWfPiVGO7dPiWEiMEwEhonAMBEYJgKDG1MKJgJhIpAnV4QKvjHjmBhv6mkrNdZkXzgWW5S5/GDsu9+vm/ftihd3LBEdjJSo4GL5ICB4ZHy0z8q13uvclZNxoLpw+2/ZK3Li3k5bM+3DVaioUkQgsLrAL6XD403PYL+uWb8lK3F1xraolI3zv1n9euKnLydEz4gL50hrIgiif1zJzcs7kpd7KDcn9WDmtj3JazNil6R8MT95zdydy19L+gSe3+Hh/akQEYYbLTf7bZZOrudpF6Hxf2USBAEaaeD/v7FBCewuTYTJj5kn4alLSP9AFBLx5MNEIEwEwkQgTAQSERFlp06pLqUlJTKLGFYzeAxhoRWheZgIhIlAmAiEiUCYCISJQJgIhIlAmIgpfL7/ADkdsthO0Tx+AAAAAElFTkSuQmCC",alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]}),(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:Ww,alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]}),(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:Ww,alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]}),(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:Ww,alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]}),(0,Cm.jsxs)("div",{className:"file-container",children:[(0,Cm.jsx)("img",{src:Ww,alt:"picture placeholder",className:"img-placeholder"}),(0,Cm.jsx)("span",{children:"file.png"})]})]})};function Gw(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Kw(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gw(Object(i),!0).forEach((function(e){vn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gw(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Yw=i(694),Xw=i.n(Yw),qw=i(7),Zw=i.n(qw);function Jw(t){return(Jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qw(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(t,e)||ek(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tk(t){return function(t){if(Array.isArray(t))return ik(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ek(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(t,e){if(t){if("string"==typeof t)return ik(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ik(t,e):void 0}}function ik(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function nk(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=ek(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function rk(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}var ok=function(){},ak=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){var i,n=nk(e);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(r&&r(t),t.defaultPrevented)break}}catch(t){n.e(t)}finally{n.f()}}},sk=function(t,e){var i,n=new Set,r=nk(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.has(o)||n.add(o)}}catch(t){r.e(t)}finally{r.f()}return n},lk=function(t,e){return new Set([].concat(tk(sk(t,e)),tk(sk(e,t))))},uk=function(e){var i=(0,t.useRef)();return(0,t.useEffect)((function(){i.current=e}),[e]),i.current},hk=function(t,e){var i;return!!(null===(i=Pk(t,e).children)||void 0===i?void 0:i.length)},ck=function(t,e){return Pk(t,e).parent},dk=function(t,e,i){for(var n=e,r=[];;){var o=ck(t,n);if(0===o||null==o||null!=o&&i.has(o))break;r.push(o),n=o}return r},fk=function(t,e,i){var n=[];return function t(e,r){var o=Pk(e,r);if(null!=o.children){var a,s=nk(o.children.filter((function(t){return!i.has(t)})));try{for(s.s();!(a=s.n()).done;){var l=a.value;n.push(l),t(e,l)}}catch(t){s.e(t)}finally{s.f()}}}(t,e),n},pk=function(t,e){var i=Pk(t,e);return null==i.children?[]:i.children},gk=function(t,e,i){var n=ck(t,e);if(null!=n){var r=Pk(t,n),o=r.children.indexOf(e)+i;if(r.children[o])return r.children[o]}return null},mk=function(t,e,i){var n=Pk(t,e);for(Mk(t).id===e&&(n=Pk(t,Pk(t,e).children[Pk(t,e).children.length-1]));i.has(n.id)&&hk(t,n.id);)n=Pk(t,n.children[n.children.length-1]);return n.id},vk=function(t,e,i){if(e===Mk(t).children[0])return null;var n=gk(t,e,-1);return null==n?ck(t,e):mk(t,n,i)},yk=function(t,e,i){var n=Pk(t,e).id;if(hk(t,n)&&i.has(n))return Pk(t,n).children[0];for(;;){var r=gk(t,n,1);if(null!=r)return r;if(null==(n=ck(t,n)))return null}},bk=function(t){var e=t.data,i=t.expandedIds,n=t.from,r=t.to,o=[],a=e.length,s=0,l=n;if(o.push(n),n<r)for(;s<a&&(null!=(l=yk(e,l,i))&&o.push(l),null!=l&&l!==r);)s+=1;else if(n>r)for(;s<a&&(null!=(l=vk(e,l,i))&&o.push(l),null!=l&&l!==r);)s+=1;return o},xk=function(t){var e=t.isSelected,i=t.isDisabled,n=t.multiSelect;return i||n?e:!!e||void 0},wk=function(t){var e=t.isSelected,i=t.isDisabled,n=t.isHalfSelected,r=t.multiSelect;return i?e:n?"mixed":r?e:!!e||void 0},kk=function(t,e,i){return e.concat.apply(e,tk(e.filter((function(e){return hk(t,e)})).map((function(e){return fk(t,e,i)}))))},_k=function(t,e,i){return hk(t,e)&&i.has(e)&&fk(t,e,new Set).some((function(t){return i.has(t)}))},Sk=function(t,e,i){var n=pk(t,e);return hk(t,e)&&!i.has(e)&&1===n.length&&n.every((function(t){return i.has(t)}))},Ck=function(t,e,i){var n=pk(t,e);return hk(t,e)&&i.has(e)&&1===n.length&&n.every((function(t){return i.has(t)}))},Mk=function(t){var e=t.find((function(t){return null===t.parent}));if(!e)throw Error("TreeView data must contain parent node.");return e},Pk=function(t,e){var i=t.find((function(t){return t.id===e}));if(null==i)throw Error("Node with id=".concat(e," doesn't exist in the tree."));return i},Tk=function(t){var e=Array.from(new Set(t));return t.length!==e.length},Dk="COLLAPSE",Nk="COLLAPSE_MANY",Ik="EXPAND",Ek="EXPAND_MANY",Ak="HALF_SELECT",Ok="SELECT",Lk="DESELECT",Rk="TOGGLE",jk="TOGGLE_SELECT",Bk="SELECT_MANY",Fk="EXCLUSIVE_CHANGE_SELECT_MANY",zk="FOCUS",Hk="BLUR",Vk="CLEAR_MANUALLY_TOGGLED",Wk="CONTROLLED_SELECT_MANY",Uk=function(t,e){switch(e.type){case Dk:var i=new Set(t.expandedIds);return i.delete(e.id),Object.assign(Object.assign({},t),{expandedIds:i,tabbableId:e.id,isFocused:!0,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Nk:var n,r=new Set(t.expandedIds),o=nk(e.ids);try{for(o.s();!(n=o.n()).done;){var a=n.value;r.delete(a)}}catch(t){o.e(t)}finally{o.f()}return Object.assign(Object.assign({},t),{expandedIds:r,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Ik:var s=new Set(t.expandedIds);return s.add(e.id),Object.assign(Object.assign({},t),{expandedIds:s,tabbableId:e.id,isFocused:!0,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Ek:var l=new Set([].concat(tk(t.expandedIds),tk(e.ids)));return Object.assign(Object.assign({},t),{expandedIds:l,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Rk:var u=new Set(t.expandedIds);return t.expandedIds.has(e.id)?u.delete(e.id):u.add(e.id),Object.assign(Object.assign({},t),{expandedIds:u,tabbableId:e.id,isFocused:!0,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Ak:if(t.disabledIds.has(e.id))return t;var h=new Set(t.halfSelectedIds),c=new Set(t.selectedIds);return h.add(e.id),c.delete(e.id),Object.assign(Object.assign({},t),{selectedIds:c,halfSelectedIds:h,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Ok:if(!e.NotUserAction&&t.disabledIds.has(e.id))return t;var d;e.multiSelect?(d=new Set(t.selectedIds)).add(e.id):(d=new Set).add(e.id);var f=new Set(t.halfSelectedIds);return f.delete(e.id),Object.assign(Object.assign({},t),{selectedIds:d,halfSelectedIds:f,tabbableId:e.keepFocus?t.tabbableId:e.id,isFocused:!0,lastUserSelect:e.NotUserAction?t.lastUserSelect:e.id,lastAction:e.type,lastInteractedWith:e.lastInteractedWith,lastManuallyToggled:e.lastManuallyToggled});case Lk:if(!e.NotUserAction&&t.disabledIds.has(e.id))return t;var p,g=new Set(t.selectedIds);return g.delete(e.id),e.multiSelect?(p=new Set(t.halfSelectedIds)).delete(e.id):p=new Set,Object.assign(Object.assign({},t),{selectedIds:g,halfSelectedIds:p,tabbableId:e.keepFocus?t.tabbableId:e.id,isFocused:!0,lastUserSelect:e.NotUserAction?t.lastUserSelect:e.id,lastAction:e.type,lastInteractedWith:e.lastInteractedWith,lastManuallyToggled:e.lastManuallyToggled});case jk:if(t.disabledIds.has(e.id))return t;var m,v=t.selectedIds.has(e.id);e.multiSelect?(m=new Set(t.selectedIds),v?m.delete(e.id):m.add(e.id)):(m=new Set,v||m.add(e.id));var y=new Set(t.halfSelectedIds);return y.delete(e.id),Object.assign(Object.assign({},t),{selectedIds:m,halfSelectedIds:y,tabbableId:e.id,isFocused:!0,lastUserSelect:e.NotUserAction?t.lastUserSelect:e.id,lastAction:e.type,lastInteractedWith:e.lastInteractedWith,lastManuallyToggled:e.lastManuallyToggled});case Bk:var b,x=e.ids.filter((function(e){return!t.disabledIds.has(e)}));if(e.multiSelect){b=e.select?new Set([].concat(tk(t.selectedIds),tk(x))):sk(t.selectedIds,new Set(x));var w=sk(t.halfSelectedIds,b);return Object.assign(Object.assign({},t),{selectedIds:b,halfSelectedIds:w,lastAction:e.type,lastInteractedWith:e.lastInteractedWith,lastManuallyToggled:e.lastManuallyToggled})}return t;case Fk:var k,_=e.ids.filter((function(e){return!t.disabledIds.has(e)}));if(e.multiSelect){k=e.select?new Set(_):sk(t.selectedIds,new Set(_));var S=sk(t.halfSelectedIds,k);return Object.assign(Object.assign({},t),{selectedIds:k,halfSelectedIds:S,lastAction:e.type,lastInteractedWith:e.lastInteractedWith,lastManuallyToggled:e.lastManuallyToggled})}return t;case Wk:var C;if(e.multiSelect)C=new Set(e.ids);else{C=new Set,e.ids.length>1&&console.warn("Tree in singleSelect mode, only the first item from selectedIds will be selected.");var M=e.ids[0];M&&C.add(M)}var P=new Set(t.halfSelectedIds);e.ids.every((function(t){return P.delete(t)}));var T=new Set(e.ids);return Object.assign(Object.assign({},t),{selectedIds:C,halfSelectedIds:P,controlledIds:T,isFocused:!0,lastAction:e.type});case zk:return Object.assign(Object.assign({},t),{tabbableId:e.id,isFocused:!0,lastAction:e.type,lastInteractedWith:e.lastInteractedWith});case Hk:return Object.assign(Object.assign({},t),{isFocused:!1});case"DISABLE":var D=new Set(t.disabledIds);return D.add(e.id),Object.assign(Object.assign({},t),{disabledIds:D});case"ENABLE":var N=new Set(t.disabledIds);return N.delete(e.id),Object.assign(Object.assign({},t),{disabledIds:N});case Vk:return Object.assign(Object.assign({},t),{lastManuallyToggled:null});default:throw new Error("Invalid action passed to the reducer")}},Gk={root:"tree",node:"tree-node",branch:"tree-node__branch",branchWrapper:"tree-branch-wrapper",leafListItem:"tree-leaf-list-item",leaf:"tree-node__leaf",nodeGroup:"tree-node-group"},Kk={select:"SELECT",focus:"FOCUS",exclusiveSelect:"EXCLUSIVE_SELECT"},Yk=Object.freeze(Object.values(Kk)),Xk=Object.freeze(Object.values({check:"check",select:"select"})),qk=function(e){var i,n=e.element,r=e.dispatch,o=e.data,a=e.selectedIds,s=e.tabbableId,l=e.isFocused,u=e.expandedIds,h=e.disabledIds,c=e.halfSelectedIds,d=e.lastUserSelect,f=e.nodeRefs,p=e.leafRefs,g=e.baseClassNames,m=e.nodeRenderer,v=e.nodeAction,y=e.setsize,b=e.posinset,x=e.level,w=e.propagateCollapse,k=e.propagateSelect,_=e.multiSelect,S=e.togglableSelect,C=e.clickAction,M=e.state,P=function(t){if(!(t.ctrlKey||t.altKey||t.shiftKey))if(u.has(n.id)&&w){var e=[n.id].concat(tk(fk(o,n.id,new Set)));r({type:Nk,ids:e,lastInteractedWith:n.id})}else r({type:Rk,id:n.id,lastInteractedWith:n.id})},T=function(){return r({type:zk,id:n.id,lastInteractedWith:n.id})},D=function(t){if(t.shiftKey){var e=bk({data:o,expandedIds:u,from:d,to:n.id}).filter((function(t){return!h.has(t)}));e=k?kk(o,e,h):e,r({type:Fk,select:!0,multiSelect:_,ids:e,lastInteractedWith:n.id,lastManuallyToggled:n.id})}else if(t.ctrlKey||C===Kk.select){var i=_k(o,n.id,a),s=Ck(o,n.id,a);r({type:S?i&&!s?Ak:jk:Ok,id:n.id,multiSelect:_,lastInteractedWith:n.id,lastManuallyToggled:n.id}),k&&!h.has(n.id)&&r({type:Bk,ids:kk(o,[n.id],h),select:!S||!a.has(n.id),multiSelect:_,lastInteractedWith:n.id,lastManuallyToggled:n.id})}else C===Kk.exclusiveSelect?r({type:S?jk:Ok,id:n.id,multiSelect:!1,lastInteractedWith:n.id,lastManuallyToggled:n.id}):C===Kk.focus&&r({type:zk,id:n.id,lastInteractedWith:n.id})},N=function(t){var e;return Xw()(t,(Qw(e={},"".concat(t,"--expanded"),u.has(n.id)),Qw(e,"".concat(t,"--selected"),a.has(n.id)),Qw(e,"".concat(t,"--focused"),s===n.id&&l),e))},I="select"===v?{"aria-selected":xk({isSelected:a.has(n.id),isDisabled:h.has(n.id),multiSelect:_})}:{"aria-checked":wk({isSelected:a.has(n.id),isDisabled:h.has(n.id),isHalfSelected:c.has(n.id),multiSelect:_})};return hk(o,n.id)||n.isBranch?t.createElement("li",Object.assign({role:"treeitem","aria-expanded":u.has(n.id),"aria-setsize":y,"aria-posinset":b,"aria-level":x,"aria-disabled":h.has(n.id),tabIndex:s===n.id?0:-1,ref:function(t){null!=(null==f?void 0:f.current)&&null!=t&&(f.current[n.id]=t)},className:g.branchWrapper},I),t.createElement(t.Fragment,null,m({element:n,isBranch:!0,isSelected:a.has(n.id),isHalfSelected:c.has(n.id),isExpanded:u.has(n.id),isDisabled:h.has(n.id),dispatch:r,getNodeProps:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onClick;return{onClick:null==t?ak(D,P,T):ak(t,T),className:Xw()(N(g.node),g.branch),ref:function(t){null!=(null==p?void 0:p.current)&&(p.current[n.id]=t)}}},setsize:y,posinset:b,level:x,handleSelect:D,handleExpand:P,treeState:M}),t.createElement(Zk,Object.assign({getClasses:N},((i=e).setsize,i.posinset,rk(i,["setsize","posinset"])))))):t.createElement("li",{role:"none",className:N(g.leafListItem)},m({element:n,isBranch:!1,isSelected:a.has(n.id),isHalfSelected:!1,isExpanded:!1,isDisabled:h.has(n.id),dispatch:r,getNodeProps:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onClick;return Object.assign({role:"treeitem",tabIndex:s===n.id?0:-1,onClick:ak(null==t?D:t,T),ref:function(t){null!=(null==f?void 0:f.current)&&null!=(null==p?void 0:p.current)&&(f.current[n.id]=t,p.current[n.id]=t)},className:Xw()(N(g.node),g.leaf),"aria-setsize":y,"aria-posinset":b,"aria-level":x,disabled:h.has(n.id),"aria-disabled":h.has(n.id)},I)},setsize:y,posinset:b,level:x,handleSelect:D,handleExpand:ok,treeState:M}))},Zk=function(e){var i=e.data,n=e.element,r=e.expandedIds,o=e.getClasses,a=e.baseClassNames,s=e.level,l=rk(e,["data","element","expandedIds","getClasses","baseClassNames","level"]);return t.createElement("ul",{role:"group",className:o(a.nodeGroup)},r.has(n.id)&&n.children.length>0&&n.children.map((function(e,o){return t.createElement(qk,Object.assign({data:i,expandedIds:r,baseClassNames:a,key:"".concat(e,"-").concat(Jw(e)),element:Pk(i,e),setsize:n.children.length,posinset:o+1,level:s+1},l))})))},Jk=function(e){var i=e.data,n=e.controlledSelectedIds,r=e.controlledExpandedIds,o=e.defaultExpandedIds,a=e.defaultSelectedIds,s=e.defaultDisabledIds,l=e.nodeRefs,u=e.leafRefs,h=e.onSelect,c=e.onNodeSelect,d=e.onExpand,f=e.onLoadData,p=e.togglableSelect,g=e.multiSelect,m=e.propagateSelect,v=e.propagateSelectUpwards,y=Mk(i),b=$w((0,t.useReducer)(Uk,{selectedIds:new Set(n||a),controlledIds:new Set(n),tabbableId:y.children[0],isFocused:!1,expandedIds:new Set(r||o),halfSelectedIds:new Set,lastUserSelect:y.children[0],lastInteractedWith:null,lastManuallyToggled:null,disabledIds:new Set(s)}),2),x=b[0],w=b[1],k=x.selectedIds,_=x.controlledIds,S=x.expandedIds,C=x.disabledIds,M=x.tabbableId,P=x.halfSelectedIds,T=x.lastAction,D=x.lastInteractedWith,N=x.lastManuallyToggled,I=uk(k)||new Set,E=lk(k,I);(0,t.useEffect)((function(){var t;if(null!=h&&h!==ok){var e,n=nk(E);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=hk(i,r)||!!(null===(t=Pk(i,M))||void 0===t?void 0:t.isBranch);h({element:Pk(i,r),isBranch:o,isExpanded:!!o&&S.has(r),isSelected:k.has(r),isDisabled:C.has(r),isHalfSelected:!!o&&P.has(r),treeState:x})}}catch(t){n.e(t)}finally{n.f()}}}),[i,k,S,C,P,E,h,x]),(0,t.useEffect)((function(){null!=c&&c!==ok&&null!=N&&E.size&&(c({element:Pk(i,N),isSelected:k.has(N),isBranch:hk(i,N),treeState:x}),w({type:Vk}))}),[N,k,E]);var A=uk(S)||new Set;(0,t.useEffect)((function(){var t=lk(S,A);if(null!=d&&d!==ok){var e,n=nk(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;d({element:Pk(i,r),isExpanded:S.has(r),isSelected:k.has(r),isDisabled:C.has(r),isHalfSelected:P.has(r),treeState:x})}}catch(t){n.e(t)}finally{n.f()}}}),[i,k,S,C,P,A,d,x]);var O,L,R=(O=i,L=(0,t.useRef)(),(0,t.useEffect)((function(){L.current=O})),L.current||new Map);(0,t.useEffect)((function(){var t=lk(S,A);if(f){var e,n=nk(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;f({element:Pk(i,r),isExpanded:S.has(r),isSelected:k.has(r),isDisabled:C.has(r),isHalfSelected:P.has(r),treeState:x})}}catch(t){n.e(t)}finally{n.f()}if(R!==i&&p&&m){var o,a=nk(S);try{for(a.s();!(o=a.n()).done;){var s=o.value;k.has(s)&&w({type:Bk,ids:kk(i,[s],C),select:!0,multiSelect:g,lastInteractedWith:s})}}catch(t){a.e(t)}finally{a.f()}}}}),[i,k,S,C,P,A,f,x]);var j=lk(new Set(n),_);return(0,t.useEffect)((function(){if(n){j.size&&w({type:Wk,ids:n,multiSelect:g});var t,e=nk(n);try{for(e.s();!(t=e.n()).done;){var r=t.value;m&&!C.has(r)&&w({type:Bk,ids:kk(i,[r],C),select:!0,multiSelect:g})}}catch(t){e.e(t)}finally{e.f()}}}),[n]),(0,t.useEffect)((function(){var t=new Set(r),e=sk(t,A),n=sk(A,t);if(n.size){var o,a=nk(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(hk(i,s)||Pk(i,s).isBranch){var l=[s].concat(tk(fk(i,s,new Set)));w({type:Nk,ids:l,lastInteractedWith:s})}}}catch(t){a.e(t)}finally{a.f()}}if(e.size){var u,h=nk(e);try{for(h.s();!(u=h.n()).done;){var c=u.value;if(hk(i,c)||Pk(i,c).isBranch){var d=ck(i,c);w(d?{type:Ek,ids:[c,d],lastInteractedWith:c}:{type:Ik,id:c,lastInteractedWith:c})}}}catch(t){h.e(t)}finally{h.f()}}}),[r]),(0,t.useEffect)((function(){if(v){var t=new Set([].concat(tk(E),tk(_)));D&&T!==zk&&T!==Dk&&T!==Ik&&T!==Rk&&t.add(D);var e=[];t.forEach((function(t){i.find((function(e){return e.id===t}))||e.push(t)})),e.forEach((function(e){return t.delete(e)}));var n,r=function(t,e,i,n,r,o){var a,s={every:new Set,some:new Set,none:new Set},l=nk(e);try{for(l.s();!(a=l.n()).done;)for(var u=a.value;;){var h=ck(t,u);if(0===h||null==h||null!=h&&n.has(h))break;var c=Pk(t,h).children.filter((function(t){return!n.has(t)}));if(0===c.length)break;if(c.some((function(t){return i.has(t)||s.some.has(t)||r.has(t)})))c.every((function(t){return i.has(t)}))?s.every.add(h):s.some.add(h);else{var d=dk(t,u,n).find((function(t){return i.has(t)}));if(!o&&d){fk(t,d,n).forEach((function(t){r.has(t)&&s.none.add(t)}));break}s.none.add(h)}u=h}}catch(t){l.e(t)}finally{l.f()}return s}(i,t,k,C,P,g),o=r.every,a=r.some,s=r.none,l=nk(o);try{for(l.s();!(n=l.n()).done;){var u=n.value;k.has(u)||w({type:Ok,id:u,multiSelect:g||Sk(i,u,k),keepFocus:!0,NotUserAction:!0,lastInteractedWith:D})}}catch(t){l.e(t)}finally{l.f()}var h,c=nk(a);try{for(c.s();!(h=c.n()).done;){var d=h.value;P.has(d)||w({type:Ak,id:d,lastInteractedWith:D})}}catch(t){c.e(t)}finally{c.f()}var f,p=nk(s);try{for(p.s();!(f=p.n()).done;){var m=f.value;(k.has(m)||P.has(m))&&w({type:Lk,id:m,multiSelect:g,keepFocus:!0,NotUserAction:!0,lastInteractedWith:D,lastManuallyToggled:N})}}catch(t){p.e(t)}finally{p.f()}}}),[i,g,v,k,S,C,P,T,I,E,D,j]),(0,t.useEffect)((function(){if(null!=D&&null!=M&&null!=(null==l?void 0:l.current)&&null!=(null==u?void 0:u.current)){var t=l.current[M];!function(t){null!=t&&t.scrollIntoView&&t.scrollIntoView({block:"nearest"})}(u.current[D]),function(t){null!=t&&t.focus&&t.focus({preventScroll:!0})}(t)}}),[M,l,u,D]),[x,w]},Qk=t.forwardRef((function(e,i){var n=e.data,r=e.selectedIds,o=e.nodeRenderer,a=e.onSelect,s=void 0===a?ok:a,l=e.onNodeSelect,u=void 0===l?ok:l,h=e.onExpand,c=void 0===h?ok:h,d=e.onLoadData,f=e.className,p=void 0===f?"":f,g=e.multiSelect,m=void 0!==g&&g,v=e.propagateSelect,y=void 0!==v&&v,b=e.propagateSelectUpwards,x=void 0!==b&&b,w=e.propagateCollapse,k=void 0!==w&&w,_=e.expandOnKeyboardSelect,S=void 0!==_&&_,C=e.togglableSelect,M=void 0!==C&&C,P=e.defaultExpandedIds,T=void 0===P?[]:P,D=e.defaultSelectedIds,N=void 0===D?[]:D,I=e.defaultDisabledIds,E=void 0===I?[]:I,A=e.clickAction,O=void 0===A?Kk.select:A,L=e.nodeAction,R=void 0===L?"select":L,j=e.expandedIds,B=e.onBlur,F=rk(e,["data","selectedIds","nodeRenderer","onSelect","onNodeSelect","onExpand","onLoadData","className","multiSelect","propagateSelect","propagateSelectUpwards","propagateCollapse","expandOnKeyboardSelect","togglableSelect","defaultExpandedIds","defaultSelectedIds","defaultDisabledIds","clickAction","nodeAction","expandedIds","onBlur"]);!function(t){if(Tk(t.map((function(t){return t.id}))))throw Error("Multiple TreeView nodes have the same ID. IDs must be unique.");if(t.forEach((function(t){if(t.id===t.parent)throw Error("Node with id=".concat(t.id," has parent reference to itself."));if(Tk(t.children))throw Error("Node with id=".concat(t.id," contains duplicate ids in its children."))})),1!==t.filter((function(t){return null===t.parent})).length)throw Error("TreeView can have only one root node.")}(n);var z=(0,t.useRef)({}),H=(0,t.useRef)({}),V=$w(Jk({data:n,controlledSelectedIds:r,controlledExpandedIds:j,defaultExpandedIds:T,defaultSelectedIds:N,defaultDisabledIds:E,nodeRefs:z,leafRefs:H,onSelect:s,onNodeSelect:u,onExpand:c,onLoadData:d,togglableSelect:M,multiSelect:m,propagateSelect:y,propagateSelectUpwards:x}),2),W=V[0],U=V[1];y=y&&m;var G=(0,t.useRef)(null);return null!=i&&(G=i),t.createElement("ul",Object.assign({className:Xw()(Gk.root,p),role:"tree","aria-multiselectable":"select"===R?m:void 0,ref:G,onBlur:function(t){!function(t,e,i){null!=e?window.navigator.userAgent.match(/Trident/)?setTimeout((function(){return!e.contains(document.activeElement)&&i()}),0):!e.contains(t.nativeEvent.relatedTarget)&&i():console.warn("ref not set on <ul>")}(t,G.current,(function(){B&&B({treeState:W,dispatch:U}),U({type:Hk})}))},onKeyDown:$k({data:n,tabbableId:W.tabbableId,expandedIds:W.expandedIds,selectedIds:W.selectedIds,disabledIds:W.disabledIds,halfSelectedIds:W.halfSelectedIds,clickAction:O,dispatch:U,propagateCollapse:k,propagateSelect:y,multiSelect:m,expandOnKeyboardSelect:S,togglableSelect:M})},F),Mk(n).children.map((function(e,i){return t.createElement(qk,Object.assign({key:"".concat(e,"-").concat(Jw(e)),data:n,element:Pk(n,e),setsize:Mk(n).children.length,posinset:i+1,level:1},W,{state:W,dispatch:U,nodeRefs:z,leafRefs:H,baseClassNames:Gk,nodeRenderer:o,propagateCollapse:k,propagateSelect:y,propagateSelectUpwards:x,multiSelect:m,togglableSelect:M,clickAction:O,nodeAction:R}))})))})),$k=function(t){var e=t.data,i=t.expandedIds,n=t.selectedIds,r=t.disabledIds,o=t.tabbableId,a=t.dispatch,s=t.propagateCollapse,l=t.propagateSelect,u=t.multiSelect,h=t.expandOnKeyboardSelect,c=t.togglableSelect,d=t.clickAction;return function(t){var f=Pk(e,o),p=f.id;if(t.ctrlKey){if("a"===t.key){t.preventDefault();var g=e.filter((function(t){return null!==t.parent})).map((function(t){return t.id})).filter((function(t){return!r.has(t)}));a({type:Bk,multiSelect:u,select:Array.from(n).filter((function(t){return!r.has(t)})).length!==g.length,ids:g,lastInteractedWith:f.id})}else if(t.shiftKey&&("Home"===t.key||"End"===t.key)){var m="Home"===t.key?Mk(e).children[0]:mk(e,p,i),v=bk({data:e,expandedIds:i,from:p,to:m}).filter((function(t){return!r.has(t)}));a({type:Bk,multiSelect:u,select:!0,ids:l?kk(e,v,r):v}),a({type:zk,id:m,lastInteractedWith:m})}}else{if(t.shiftKey)switch(t.key){case"ArrowUp":t.preventDefault();var y=vk(e,p,i);return void(null==y||r.has(y)||(a({type:Bk,ids:l?kk(e,[y],r):[y],select:!0,multiSelect:u,lastInteractedWith:y,lastManuallyToggled:y}),a({type:zk,id:y,lastInteractedWith:y})));case"ArrowDown":t.preventDefault();var b=yk(e,p,i);return void(null==b||r.has(b)||(a({type:Bk,ids:l?kk(e,[b],r):[b],multiSelect:u,select:!0,lastInteractedWith:b,lastManuallyToggled:b}),a({type:zk,id:b,lastInteractedWith:b})))}switch(t.key){case"ArrowDown":t.preventDefault();var x=yk(e,p,i);return void(null!=x&&a({type:zk,id:x,lastInteractedWith:x}));case"ArrowUp":t.preventDefault();var w=vk(e,p,i);return void(null!=w&&a({type:zk,id:w,lastInteractedWith:w}));case"ArrowLeft":if(t.preventDefault(),(hk(e,p)||f.isBranch)&&i.has(o))if(s){var k=[p].concat(tk(fk(e,p,new Set)));a({type:Nk,ids:k,lastInteractedWith:f.id})}else a({type:Dk,id:p,lastInteractedWith:p});else if(!Mk(e).children.includes(p)){var _=ck(e,p);if(null==_)throw new Error("parentId of root element is null");a({type:zk,id:_,lastInteractedWith:_})}return;case"ArrowRight":return t.preventDefault(),void((hk(e,p)||f.isBranch)&&(i.has(o)?a({type:zk,id:f.children[0],lastInteractedWith:f.children[0]}):a({type:Ik,id:p,lastInteractedWith:p})));case"Home":t.preventDefault(),a({type:zk,id:Mk(e).children[0],lastInteractedWith:Mk(e).children[0]});break;case"End":t.preventDefault();var S=mk(e,Mk(e).id,i);return void a({type:zk,id:S,lastInteractedWith:S});case"*":t.preventDefault();var C=ck(e,p);if(null==C)throw new Error("parentId of element is null");var M=Pk(e,C).children.filter((function(t){return hk(e,t)||Pk(e,t).isBranch}));return void a({type:Ek,ids:M,lastInteractedWith:p});case"Enter":case" ":case"Spacebar":if(t.preventDefault(),d===Kk.focus)return;var P=_k(e,f.id,n),T=Ck(e,f.id,n);return a({type:c?P&&!T?Ak:jk:Ok,id:p,multiSelect:u,lastInteractedWith:p,lastManuallyToggled:p}),l&&!r.has(f.id)&&a({type:Bk,ids:kk(e,[p],r),select:!c||!n.has(p),multiSelect:u,lastInteractedWith:p,lastManuallyToggled:p}),void(h&&a({type:Rk,id:p,lastInteractedWith:p}));default:if(1===t.key.length)for(var D=yk(e,p,i);D!==p;)if(null!=D){if(Pk(e,D).name[0].toLowerCase()===t.key.toLowerCase())return void a({type:zk,id:D,lastInteractedWith:p});D=yk(e,D,i)}else D=Mk(e).children[0];return}}}};Qk.propTypes={data:Zw().array.isRequired,onSelect:Zw().func,onNodeSelect:Zw().func,onExpand:Zw().func,className:Zw().string,nodeRenderer:Zw().func.isRequired,defaultExpandedIds:Zw().array,defaultSelectedIds:Zw().array,expandedIds:Zw().array,selectedIds:Zw().array,defaultDisabledIds:Zw().array,propagateCollapse:Zw().bool,propagateSelect:Zw().bool,propagateSelectUpwards:Zw().bool,multiSelect:Zw().bool,expandOnKeyboardSelect:Zw().bool,togglableSelect:Zw().bool,nodeAction:Zw().oneOf(Xk),clickAction:Zw().oneOf(Yk),onBlur:Zw().func,onLoadData:Zw().func};var t_=Qk,e_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i_=t.createContext&&t.createContext(e_),n_=function(){return n_=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n_.apply(this,arguments)},r_=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};function o_(e){return e&&e.map((function(e,i){return t.createElement(e.tag,n_({key:i},e.attr),o_(e.child))}))}function a_(e){return function(i){return t.createElement(s_,n_({attr:n_({},e.attr)},i),o_(e.child))}}function s_(e){var i=function(i){var n,r=e.attr,o=e.size,a=e.title,s=r_(e,["attr","size","title"]),l=o||i.size||"1em";return i.className&&(n=i.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",n_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,s,{className:n,style:n_(n_({color:e.color||i.color},i.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==i_?t.createElement(i_.Consumer,null,(function(t){return i(t)})):i(e_)}function l_(t){return a_({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(t)}function u_(t){return a_({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#90CAF9",points:"40,45 8,45 8,3 30,3 40,13"}},{tag:"polygon",attr:{fill:"#E1F5FE",points:"38.5,14 29,14 29,4.5"}},{tag:"g",attr:{fill:"#1976D2"},child:[{tag:"rect",attr:{x:"16",y:"21",width:"17",height:"2"}},{tag:"rect",attr:{x:"16",y:"25",width:"13",height:"2"}},{tag:"rect",attr:{x:"16",y:"29",width:"17",height:"2"}},{tag:"rect",attr:{x:"16",y:"33",width:"13",height:"2"}}]}]})(t)}function h_(t){return a_({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#2196F3"},child:[{tag:"rect",attr:{x:"6",y:"22",width:"4",height:"4"}},{tag:"rect",attr:{x:"6",y:"14",width:"4",height:"4"}},{tag:"rect",attr:{x:"6",y:"30",width:"4",height:"4"}},{tag:"rect",attr:{x:"6",y:"6",width:"4",height:"4"}},{tag:"rect",attr:{x:"6",y:"38",width:"4",height:"4"}}]},{tag:"g",attr:{fill:"#2196F3"},child:[{tag:"rect",attr:{x:"14",y:"22",width:"28",height:"4"}},{tag:"rect",attr:{x:"14",y:"14",width:"28",height:"4"}},{tag:"rect",attr:{x:"14",y:"30",width:"28",height:"4"}},{tag:"rect",attr:{x:"14",y:"6",width:"28",height:"4"}},{tag:"rect",attr:{x:"14",y:"38",width:"28",height:"4"}}]}]})(t)}function c_(t){return a_({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#90CAF9",points:"36,13 36,9 22,9 22,22 13,22 13,26 22,26 22,39 36,39 36,35 26,35 26,26 36,26 36,22 26,22 26,13"}},{tag:"rect",attr:{x:"6",y:"17",fill:"#D81B60",width:"10",height:"14"}},{tag:"rect",attr:{x:"32",y:"6",fill:"#2196F3",width:"10",height:"10"}},{tag:"rect",attr:{x:"32",y:"32",fill:"#2196F3",width:"10",height:"10"}},{tag:"rect",attr:{x:"32",y:"19",fill:"#2196F3",width:"10",height:"10"}}]})(t)}function d_(t){return a_({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#8BC34A",d:"M39,15c0-2.2-1.8-4-4-4h-6c-0.7,0-1.1-0.8-0.7-1.4c0.6-1,0.9-2.2,0.6-3.5c-0.4-2-1.9-3.6-3.8-4 C21.8,1.4,19,3.9,19,7c0,1,0.3,1.8,0.7,2.6c0.4,0.6,0,1.4-0.8,1.4h-6c-2.2,0-4,1.8-4,4v7c0,0.7,0.8,1.1,1.4,0.7 c1-0.6,2.2-0.9,3.5-0.6c2,0.4,3.6,1.9,4,3.8c0.7,3.2-1.8,6.1-4.9,6.1c-1,0-1.8-0.3-2.6-0.7C9.8,30.9,9,31.3,9,32v6c0,2.2,1.8,4,4,4 h22c2.2,0,4-1.8,4-4V15z"}}]})(t)}function f_(t){return a_({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#90CAF9",d:"M33,9H11v4h22c1.1,0,2,0.9,2,2v20H23v4h16V15C39,11.7,36.3,9,33,9z"}},{tag:"rect",attr:{x:"6",y:"6",fill:"#D81B60",width:"10",height:"10"}},{tag:"g",attr:{fill:"#2196F3"},child:[{tag:"rect",attr:{x:"32",y:"17",width:"10",height:"10"}},{tag:"rect",attr:{x:"16",y:"32",width:"10",height:"10"}},{tag:"circle",attr:{cx:"26",cy:"11",r:"5"}},{tag:"circle",attr:{cx:"37",cy:"37",r:"5"}}]}]})(t)}function p_(t){return a_({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM1.6 11.85H0v3.999h.791v-1.342h.803c.287 0 .531-.057.732-.173.203-.117.358-.275.463-.474a1.42 1.42 0 0 0 .161-.677c0-.25-.053-.476-.158-.677a1.176 1.176 0 0 0-.46-.477c-.2-.12-.443-.179-.732-.179Zm.545 1.333a.795.795 0 0 1-.085.38.574.574 0 0 1-.238.241.794.794 0 0 1-.375.082H.788V12.48h.66c.218 0 .389.06.512.181.123.122.185.296.185.522Zm1.217-1.333v3.999h1.46c.401 0 .734-.08.998-.237a1.45 1.45 0 0 0 .595-.689c.13-.3.196-.662.196-1.084 0-.42-.065-.778-.196-1.075a1.426 1.426 0 0 0-.589-.68c-.264-.156-.599-.234-1.005-.234H3.362Zm.791.645h.563c.248 0 .45.05.609.152a.89.89 0 0 1 .354.454c.079.201.118.452.118.753a2.3 2.3 0 0 1-.068.592 1.14 1.14 0 0 1-.196.422.8.8 0 0 1-.334.252 1.298 1.298 0 0 1-.483.082h-.563v-2.707Zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638H7.896Z"}}]})(t)}function g_(t){return a_({tag:"svg",attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M16.017 21.044v0zM4.743 3.519l2.049 22.981 9.194 2.552 9.22-2.556 2.051-22.977h-22.514zM23 8.775l-0.693 7.767h-0l-0.48 5.359-0.042 0.476-5.781 1.603-5.773-1.603-0.395-4.426h2.829l0.201 2.248 3.142 0.847 0.008-0.002 0.002-0 3.134-0.846 0.329-3.655-6.579 0-0.056-0.633-0.129-1.429-0.067-0.756 7.081-0 0.258-2.886h-10.786l-0.056-0.634-0.129-1.429-0.067-0.756h14.118l-0.068 0.756z"}}]})(t)}function m_(t){return a_({tag:"svg",attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M4.698 3.419l2.057 23.073 9.231 2.563 9.256-2.566 2.059-23.069h-22.604zM13.226 9.394l-0.409 4.441 9.671 0.001-0.069 0.76-0.665 7.45-0.042 0.478-5.804 1.609-5.796-1.609-0.396-4.443h2.84l0.202 2.257 3.154 0.85 3.156-0.852 0.328-3.67-9.671-0.001 0.069-0.76 0.665-7.45 0.209-2.086h11.287l0.131 1.598 0.403 4.453h-2.841l-0.262-2.922-2.889-0.174h-0.515v-0.004l-2.755 0.074z"}}]})(t)}function v_(t){return a_({tag:"svg",attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M0.32 15.406v5.248h8.736v1.76h6.976v-1.76h15.649v-10.495h-31.36v5.248zM9.055 15.406v3.488h-1.76v-5.216h-1.697v5.216h-3.582v-6.976h7.039v3.488zM17.779 15.412l-0.019 3.488-3.425-0.012v1.766h-3.582v-8.736h7.039l-0.012 3.494zM29.983 15.406v3.488h-1.76v-5.216h-1.76v5.248l-1.76-0.038v-5.21h-1.697v5.216h-3.519v-6.976h10.495v3.488zM14.335 15.406v1.728h1.634v-3.457h-1.634v1.728z"}}]})(t)}function y_(t){return a_({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0 0 10.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 0 0-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]})(t)}function b_(t){return a_({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 0 0-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 0 0-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"}}]})(t)}var x_={root:{maxWidth:323}},w_=[{key:"A",text:"Status"},{key:"B",text:"Document"},{key:"C",text:"Product"},{key:"D",text:"Year"},{key:"E",text:"..."}],k_={name:"",children:[{name:"Project",children:[{type:"project",id:"24d29766-e639-4485-b6f0-cd777f2a9648",token:"PR2021-004",name:"Oude Kaaibrug te Ninove",create_dt:16148988e5,update_dt:16148988e5,children:[{name:"stylesdoc",children:[{name:"test.pdf"},{name:"test.doc"}]},{name:"styles.xls"}]},{type:"project",id:"ab3c1755-e720-4dc9-8f4f-6e7cb3d1a497",token:"PR2021-005",name:"Benedensluis te Mechelen",create_dt:16279416e5,update_dt:16279416e5,children:[{name:"styles.xls"}]},{type:"project",id:"e2cf1264-b79d-4939-b7d9-9018f50b7825",token:"PR2021-008",name:"Begijnebrug Ninove",create_dt:null,update_dt:null,children:[{name:"index.pdf"},{name:"styles.xls"}]},{type:"project",id:"2c2e85d3-f8b5-4fcc-bdd1-ce7e3ca12701",token:"PR2021-009",name:"Erembodegembrug",create_dt:16227576e5,update_dt:16227576e5,children:[{name:"index.pdf"},{name:"styles.doc"},{name:"styles.xls"}]},{type:"project",id:"0f33fda7-0e0e-473e-a83b-9b329429c1ac",token:"PR2021-010",name:"Zeebergbrug",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"ee7f4800-c120-4278-8c6c-e48b36004ffb",token:"PR2021-011",name:"Sint-Annabrug",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"64b71a7f-3889-4a61-bbf0-2a1e0b4591d6",token:"PR2021-012",name:"Zwarte Hoekbrug",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"f45e5e10-544e-4f02-9757-9b6f56e860a1",token:"PR2021-013",name:"Sluis te Aalst",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"7d175b86-8a4c-4157-9e59-121c3397fb01",token:"PR2021-015",name:"Erembodegembrug",create_dt:16229304e5,update_dt:16229304e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"0a957828-40e2-4cea-9fe0-575d59ba58ad",token:"PR2021-016",name:"Sint-Annabrug",create_dt:16098876e5,update_dt:16098876e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"b29f9cd0-b8c3-4ae2-8766-fef7858fa96a",token:"PR2021-017",name:"Zwarte Hoekbrug",create_dt:16098876e5,update_dt:16098876e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"e291d353-5ca8-4bcc-93e4-084aa29a910b",token:"PR2021-018",name:"V&V Generiek OPCUA sluis",create_dt:1609974e6,update_dt:1609974e6,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"3ffed02f-2f53-4e8f-b06d-aa23faf7a7f5",token:"PR2021-019",name:"V&V Generiek OPCUA stuw",create_dt:1609974e6,update_dt:1609974e6,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"77fce647-58cd-444e-89e4-9b7ad268aee1",token:"PR2021-020",name:"V&V Periodiek overleg Q1",create_dt:1609542e6,update_dt:1609542e6,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"2d2c46dc-58ae-4e7d-8b47-aa7f76dff98a",token:"PR2021-021",name:"V&V Periodiek overleg Q2",create_dt:16097148e5,update_dt:16097148e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"244531fc-c357-4b6e-8933-b4f8b8e4ba87",token:"PR2021-041",name:"V&V Periodiek overleg Q3",create_dt:16097148e5,update_dt:16097148e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"cfedeae7-1f15-4b47-8653-a7d40a96d375",token:"PR2021-042",name:"V&V Plan van aanpak algemeen",create_dt:16098876e5,update_dt:16098876e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"620b1502-7ea4-4694-bf39-b9e996f4d418",token:"PR2021-043",name:"V&V OPC setup & certificaten",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"4e0523a8-a866-4281-acc4-04f98306fbca",token:"PR2021-044",name:"Sluis Sint-Baafs Vijve",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"b650478d-36f4-47e6-ab2b-8cf2a5fc9ad3",token:"PR2021-045",name:"V&V Periodiek overleg Q4",create_dt:16102332e5,update_dt:16102332e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"dad6f596-9e32-4a09-a9a0-8a6376636773",token:"PR2021-046",name:"V&V Generiek testplan sluis",create_dt:16102332e5,update_dt:16102332e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"47cea19b-7566-4d72-9c45-37ac1e4fbd8b",token:"PR2021-047",name:"V&V Generiek testplan brug",create_dt:16102332e5,update_dt:16102332e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"7d569d1b-ab95-4af8-9395-e793d5d9f7e5",token:"PR2021-048",name:"Budabrug te Kortrijk",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"89e3cc6b-4cfd-4573-8d7e-30c17f598ed2",token:"PR2021-049",name:"Wijngaardbrug te Ninove",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"ce34439d-bd1b-4ef4-bc13-2ececca28071",token:"PR2021-050",name:"Begijnebrug te Ninove (validatie)",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"2f558f3f-1355-4705-8539-01b9bbe0c1c4",token:"PR2021-051",name:"Sluis Duffel",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"218c2d12-e0a1-4cb7-a496-7eb9215236d9",token:"PR2021-052",name:"Zeebergbrug",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"faedee70-a39e-4e37-91e1-e680893f6301",token:"PR2021-053",name:"Sluis Aalst",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"772e58fc-a4fd-4f83-ad8b-22c8e2cf9597",token:"PR2021-054",name:"V&V Generiek Behoeftenanalyse tooling en framework",create_dt:1610406e6,update_dt:1610406e6,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"3ad89851-a75d-464d-bd0a-52f13ef73611",token:"PR2021-055",name:"V&V Generiek Uitwerken knoppenbediening brug",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"aa6f38a5-6f05-4abd-bccc-d1671021dc49",token:"PR2021-056",name:"V&V Generiek Softwarematige tools V&V",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"c61b74c3-d051-45a4-bf27-6cdf4d3e5db1",token:"PR2022-001",name:"Periodiek overleg Q1/2022",create_dt:16409916e5,update_dt:16409916e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"4a6f9362-8a07-4e14-86c2-684a13d0cbe1",token:"PR2022-002",name:"Generiek Opmaak bestekeisen implementatie V&V",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"103cf460-fa37-413f-b5ef-c093ce792cdc",token:"PR2022-003",name:"Verificatie Meulestedebrug te Gent",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"c2b49d33-f90f-4502-a7c0-cf6888a8468a",token:"PR2022-008",name:"Stuw B4 te Zwijnaarde",create_dt:16489368e5,update_dt:16489368e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"001acc8a-dc61-4edc-926d-3df3e7ed04a5",token:"PR2022-009",name:"Validatie Wijngaardbrug",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"2b6fc3cd-ed38-495e-9022-889f0d4050d8",token:"PR2022-011",name:"Periodiek overleg Q2/2022",create_dt:16412508e5,update_dt:16412508e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"23c29639-72f3-44e9-87ab-5189083a210d",token:"PR2022-012",name:"Verificatie sluiscomplex Evergem",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"a576b9e3-2cb6-41b6-b55f-9bdef71b8c03",token:"PR2022-013",name:"Validatie sluiscomplex Evergem",create_dt:null,update_dt:null,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"06c0b586-e073-4299-95d7-bb9fd0b3af6d",token:"PR2022-014",name:"Periodiek overleg Q3/2022",create_dt:164151e7,update_dt:164151e7,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"64992706-6c7b-455a-912d-f4a1592028ee",token:"PR2022-015",name:"Opvolgingstool projectwerking",create_dt:16416828e5,update_dt:16416828e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"f7f15771-e1e4-4761-b396-ba73070b8c1f",token:"PR2022-017",name:"Opstellen OPC Lijst Type Brug",create_dt:16416828e5,update_dt:16416828e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"5d096adf-42a5-442f-a5e8-956b7d18e7db",token:"PR2022-019",name:"Validatie Budabrug Kortrijk",create_dt:164151e7,update_dt:164151e7,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"09112030-881b-4b23-a86a-a63edf9716b9",token:"PR2022-020",name:"Periodiek Overleg Q4/2022",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"a96e1fde-2cb8-41b7-aad0-2c7f78aa0789",token:"PR2022-021",name:"Functionaliteiten opvolgingstool",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"aab063af-2685-4ebe-8adc-48cbdcad4d95",token:"PR2022-022",name:"Uitwerking PvA - Standaardisatie & Tailoring Strategie",create_dt:16416828e5,update_dt:16416828e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"de793983-9183-4532-857f-5d0af76011e1",token:"PR2022-023",name:"Uitwerking PvA - V&V Strategie",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"c7b12c90-1598-40c1-bb84-e738179d918d",token:"PR2022-024",name:"Verificatie PS Moen",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"c2edcd3c-332d-4963-9fcd-e4af98044dcd",token:"PR2022-025",name:"Verificaties Pompstations Groot Broek",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"9332c860-696b-4c2f-a00b-d12d489667f9",token:"PR2022-027",name:"Uitwerking PvA - Tailoring technische processen Verificatie",create_dt:16418556e5,update_dt:16418556e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"4559ade9-5cb3-402e-ab49-c9f505b9bf44",token:"PR2022-028",name:"Uitwerking Informatiemodel Processen V&V",create_dt:1641942e6,update_dt:1641942e6,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"157950bf-2ff9-4742-a8d6-cee18f41a42e",token:"PR2022-029",name:"Stuw & Sluis Menen - Verificatie",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"ae50039d-76d4-44c8-9930-8719048d9614",token:"PR2022-030",name:"Stuw & Sluis Menen - Validatie",create_dt:16418556e5,update_dt:16418556e5,children:[{name:"index.js"},{name:"styles.css"}]},{type:"project",id:"75a332db-718b-4b60-ad50-9665e3e35589",token:"PR2022-031",name:"Software Tools V&V",create_dt:16417692e5,update_dt:16417692e5,children:[{name:"index.js"},{name:"styles.css"}]}]},{name:"Product",children:[{name:"IEC 62541 \u2013 OPC inkoppelen afstand",children:[{name:"index.js"},{name:"styles.css"}]},{name:"IEC61131 \u2013 3 \u2013 PLC functionaliteiten",children:[{name:"index.js"},{name:"styles.css"}]},{name:"Stijlgids SCADA",children:[{name:"index.js"},{name:"styles.css"}]},{name:"Klemmenstrook",children:[{name:"index.js"},{name:"styles.css"}]},{name:"(VO) voor Ontwerp Dossier",children:[{name:"index.js"},{name:"styles.css"}]},{name:"(DO) definitief Ontwerp Dossier",children:[{name:"index.js"},{name:"styles.css"}]},{name:"(UO) uitvoering Ontwerp Dossier",children:[{name:"index.js"},{name:"styles.css"}]},{name:"Pre Puilt Dossier",children:[{name:"index.js"},{name:"styles.css"}]},{name:"As Built Dossier",children:[{name:"index.js"},{name:"styles.css"}]},{name:"Post Interventie Dossier",children:[{name:"index.js"},{name:"styles.css"}]},{name:"IEC 27037 -  Digital footprint",children:[{name:"index.js"},{name:"styles.css"}]},{name:"62443 \u2013 Cybersecurity \u2013 OPC UA certificaten",children:[{name:"index.js"},{name:"styles.css"}]}]},{name:"Process",children:[{name:"test.pdf"},{name:"test.doc"}]}]},__=function(t){var e=t.filename;switch(e.slice(e.lastIndexOf(".")+1)){case"doc":return(0,Cm.jsx)(b_,{color:"rgb(41,83,148)",className:"icon"});case"xls":return(0,Cm.jsx)(y_,{color:"rgb(31,110,67)",className:"icon"});case"pdf":return(0,Cm.jsx)(p_,{color:"rgb(198,73,74)",className:"icon"});case"js":return(0,Cm.jsx)(m_,{color:"yellow",className:"icon"});case"css":return(0,Cm.jsx)(g_,{color:"turquoise",className:"icon"});case"json":return(0,Cm.jsx)(l_,{color:"yellow",className:"icon"});case"npmignore":return(0,Cm.jsx)(v_,{color:"red",className:"icon"});default:return null}},S_=function(){var t=function(t){var e=0,i=[];return function t(n,r){var o,a={id:n.id||e,name:n.name,children:[],parent:r};if(i.find((function(t){return t.id===a.id})))throw Error("Multiple TreeView nodes have the same ID (".concat(a.id,"). IDs must be unique."));if(i.push(a),e+=1,null===(o=n.children)||void 0===o?void 0:o.length){var s,l=nk(n.children);try{for(l.s();!(s=l.n()).done;)t(s.value,a.id)}catch(t){l.e(t)}finally{l.f()}var u,h=nk(i.values());try{for(h.s();!(u=h.n()).done;){var c=u.value;c.parent===a.id&&a.children.push(c.id)}}catch(t){h.e(t)}finally{h.f()}}}(t,null),i}(k_);return(0,Cm.jsx)("div",{children:(0,Cm.jsxs)("div",{children:[(0,Cm.jsx)(tm,{defaultSelectedKey:"A",options:w_,styles:x_,calloutProps:{doNotLayer:!0}}),(0,Cm.jsxs)("div",{className:"directory",children:[(0,Cm.jsx)(t_,{data:t,"aria-label":"directory tree",nodeRenderer:function(t){var e=t.element,i=t.isBranch,n=(t.isExpanded,t.getNodeProps),r=t.level;return(0,Cm.jsxs)("div",Kw(Kw({},n()),{},{style:{paddingLeft:20*(r-1)},children:[i?(0,Cm.jsxs)("span",{children:["Product"===e.name&&(0,Cm.jsx)(d_,{className:"icon"}),"Project"===e.name&&(0,Cm.jsx)(c_,{color:"rgb(31,110,67)",className:"icon"}),"Process"===e.name&&(0,Cm.jsx)(f_,{color:"rgb(198,73,74)",className:"icon"}),"Product"!==e.name&&"Project"!==e.name&&"Process"!==e.name&&(0,Cm.jsx)(h_,{})]}):(0,Cm.jsx)("span",{children:(0,Cm.jsx)(__,{filename:e.name})}),(0,Cm.jsx)("div",{className:"text",children:e.name}),(0,Cm.jsx)("hr",{style:{background:"#d3d3d3",height:1,border:"none"}})]}))}}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)(u_,{}),"\xa0\xa0",(0,Cm.jsx)("span",{children:"Documents"})]})]})})},C_={root:{marginTop:0}},M_=lo({fileIconHeaderIcon:{padding:0,fontSize:"16px"},fileIconCell:{textAlign:"center",selectors:{"&:before":{content:".",display:"inline-block",verticalAlign:"middle",height:"100%",width:"0px",visibility:"hidden"}}},fileIconImg:{verticalAlign:"middle",maxHeight:"16px",maxWidth:"16px"},controlWrapper:{display:"flex",flexWrap:"wrap"},exampleToggle:{display:"inline-block",marginBottom:"10px",marginRight:"30px"},selectionDetails:{marginBottom:"20px"}}),P_={root:{margin:"0 30px 20px 0",maxWidth:"300px"}},T_=function(t){p(i,t);var e=m(i);function i(t){var n;a(this,i),(n=e.call(this,t))._selection=void 0,n._allItems=void 0,n._onChangeCompactMode=function(t,e){n.setState({isCompactMode:e})},n._onChangeModalSelection=function(t,e){n.setState({isModalSelection:e})},n._onChangeText=function(t,e){n.setState({items:e?n._allItems.filter((function(t){return t.name.toLowerCase().indexOf(e)>-1})):n._allItems})},n._onColumnClick=function(t,e){var i=n.state,r=i.columns,o=i.items,a=r.slice(),s=a.filter((function(t){return e.key===t.key}))[0];a.forEach((function(t){t===s?(s.isSortedDescending=!s.isSortedDescending,s.isSorted=!0,n.setState({announcedMessage:"".concat(s.name," is sorted ").concat(s.isSortedDescending?"descending":"ascending")})):(t.isSorted=!1,t.isSortedDescending=!0)}));var l=function(t,e,i){var n=e;return t.slice(0).sort((function(t,e){return(i?t[n]<e[n]:t[n]>e[n])?1:-1}))}(o,s.fieldName,s.isSortedDescending);n.setState({columns:a,items:l})},n._allItems=function(){for(var t=[],e=0;e<1;e++){D_(new Date(2012,0,1),new Date),E_();var i=I_(),n=L_(2);n=n.charAt(0).toUpperCase()+n.slice(1).concat(".".concat(i.docType));var r=L_(2);r=r.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" "),t.push({key:"1",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"db,...(3)",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis","..."]},{key:"2",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"db,...(2)",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug"]},{key:"3",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"db",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis","..."]},{key:"4",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"db,...(5)",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["sluis","Stuw"]},{key:"5",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"test",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis"]},{key:"6",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"test",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis"]},{key:"6",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"test",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis"]},{key:"7",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"test",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis"]},{key:"8",name:"Dienst Bevel",status:"GESLOTEN",value:"hello1",iconName:"http/fgdfs",fileType:"pdf",modifiedBy:"Guillaume",dateModified:String(new Date),dateModifiedValue:10,fileSize:"10 Ko",fileSizeRaw:10,linkItem:"test",projectStatus:"ACTIEF",dbStatus:"IN REVIEW",metatag:["Brug","sluis"]})}return t}();var r=[{key:"column1",name:"File Type",className:M_.fileIconCell,iconClassName:M_.fileIconHeaderIcon,ariaLabel:"Column operations for File type, Press to sort on File type",iconName:"Page",isIconOnly:!0,fieldName:"name",minWidth:16,maxWidth:16,onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)(bm,{content:"".concat(t.fileType," file"),children:(0,Cm.jsx)("img",{src:t.iconName,className:M_.fileIconImg,alt:"".concat(t.fileType," file icon")})})}},{key:"column2",name:"Name",fieldName:"name",minWidth:100,maxWidth:120,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:n._onColumnClick,data:"string",isPadded:!0},{key:"column3",name:"Date Modified",fieldName:"dateModifiedValue",minWidth:70,maxWidth:90,isResizable:!0,onColumnClick:n._onColumnClick,data:"number",onRender:function(t){return(0,Cm.jsx)("span",{children:t.dateModified})},isPadded:!0},{key:"column4",name:"Modified By",fieldName:"modifiedBy",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)("span",{children:t.modifiedBy})},isPadded:!0},{key:"column5",name:"File Size",fieldName:"fileSizeRaw",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"number",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)("span",{children:t.fileSize})}},{key:"column6",name:"Doc. Status",fieldName:"document_status",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)(bm,{content:(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:0},children:[(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"ACTIEF"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"IN REVIEW"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"#E3FCEF",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:t.status})]}),(0,Cm.jsx)("button",{style:{background:"white",cursor:"pointer",border:"none"},onClick:function(){return n.setState({toggleWorkflow:!0})},children:"Workflow bekijken"})]}),children:(0,Cm.jsx)("span",{children:t.status})})}},{key:"column7",name:"Project Status",fieldName:"project_status",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)(bm,{content:(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:0},children:[(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"ACTIEF"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"IN REVIEW"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"#E3FCEF",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:t.status})]}),(0,Cm.jsx)("button",{style:{background:"white",cursor:"pointer",border:"none"},onClick:function(){return n.setState({toggleWorkflow:!0})},children:"Workflow bekijken"})]}),children:(0,Cm.jsx)("span",{children:t.projectStatus})})}},{key:"column8",name:"DB Status",fieldName:"db_status",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)(bm,{content:(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:0},children:[(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"ACTIEF"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"IN REVIEW"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"#E3FCEF",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:t.status})]}),(0,Cm.jsx)("button",{style:{background:"white",cursor:"pointer",border:"none"},onClick:function(){return n.setState({toggleWorkflow:!0})},children:"Workflow bekijken"})]}),children:(0,Cm.jsx)("span",{children:t.dbStatus})})}},{key:"column9",name:"Type",fieldName:"type",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)("span",{children:t.modifiedBy})}},{key:"column10",name:"User",fieldName:"user",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)("span",{children:t.modifiedBy})}},{key:"column11",name:"IPO relation",fieldName:"ipo_relation",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)("span",{children:t.modifiedBy})}},{key:"column12",name:"Linked Item",fieldName:"duplicated-item",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsx)(bm,{content:(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:0},children:[(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"TESTCASE003"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"DB005"}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:"REQ1"}),(0,Cm.jsx)("br",{})]}),(0,Cm.jsx)("button",{style:{background:"white",cursor:"pointer",border:"none"},onClick:function(){return n.setState({toggleVennDiagram:!0})},children:"Venn Diagram bekijken"})]}),children:(0,Cm.jsx)("span",{children:t.linkItem})})}},{key:"column13",name:"Tag metadata",fieldName:"tag_metadata",minWidth:70,maxWidth:90,isResizable:!0,isCollapsible:!0,data:"string",onColumnClick:n._onColumnClick,onRender:function(t){return(0,Cm.jsxs)(bm,{content:(0,Cm.jsx)("ul",{style:{listStyleType:"none",paddingLeft:0},children:t.metatag.map((function(t){return(0,Cm.jsx)("li",{style:{background:"rgb(222,235,255)",width:"fit-content",color:"rgb(13,74,172)",fontFamily:"arial",fontWeight:"bold"},children:t})}))}),children:[" ",(0,Cm.jsx)("span",{children:t.metatag.map((function(t){return(0,Cm.jsx)("button",{style:{background:"#ADD8E6",border:"none",marginLeft:2,borderRadius:4},children:t})}))})]})}}];return n._selection=new cu({onSelectionChanged:function(){n.setState({selectionDetails:n._getSelectionDetails()})}}),n.state={items:n._allItems,columns:r,selectionDetails:n._getSelectionDetails(),isModalSelection:!1,isCompactMode:!1,announcedMessage:void 0,toggleWorkflow:!1,toggleVennDiagram:!1,toggleFileView:"details"},n}return h(i,[{key:"render",value:function(){var t=this.state,e=t.columns,i=t.isCompactMode,n=t.items,r=t.selectionDetails,o=t.isModalSelection,a=t.announcedMessage,s=t.toggleFileView;console.log(s);var l={root:{maxWidth:150}},u=[{key:"A",text:"a"},{key:"B",text:"b"},{key:"C",text:"c"}];return(0,Cm.jsxs)("div",{className:"dbsChart-container",children:[(0,Cm.jsxs)("div",{className:"donetChart-container",children:[(0,Cm.jsx)(Vw,{}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("div",{className:"treeview-container",children:[(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"Select DBS",options:u,styles:l,calloutProps:{doNotLayer:!0}}),(0,Cm.jsx)(S_,{})]})]}),(0,Cm.jsxs)("div",{children:[(0,Cm.jsxs)("div",{className:M_.controlWrapper,children:[(0,Cm.jsx)(Jl,{label:"Enable compact mode",checked:i,onChange:this._onChangeCompactMode,onText:"Compact",offText:"Normal",styles:P_}),(0,Cm.jsx)(Jl,{label:"Enable modal selection",checked:o,onChange:this._onChangeModalSelection,onText:"Modal",offText:"Normal",styles:P_}),(0,Cm.jsx)(Tl,{label:"Filter by name:",onChange:this._onChangeText,styles:P_}),(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"Users",options:u,styles:l,calloutProps:{doNotLayer:!0}}),"\u2003\u2003",(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"Doc. Status",options:u,styles:l,calloutProps:{doNotLayer:!0}}),"\u2003\u2003",(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"Project Status",options:u,styles:l,calloutProps:{doNotLayer:!0}}),"\u2003\u2003",(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"DB. Status",options:u,styles:l,calloutProps:{doNotLayer:!0}}),"\u2003\u2003",(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"Revision",options:u,styles:l,calloutProps:{doNotLayer:!0}}),"\u2003\u2003"," ",(0,Cm.jsx)(tm,{defaultSelectedKey:"C",label:"Process",options:u,styles:l,calloutProps:{doNotLayer:!0}}),(0,Cm.jsx)(tu,{message:"Number of items after filter applied: ".concat(n.length,".")})]}),(0,Cm.jsx)("div",{className:M_.selectionDetails,children:r}),(0,Cm.jsx)(Nx,{title:"Documenten per tag",children:(0,Cm.jsxs)(zx,{"aria-label":"Basic Pivot Example",children:[(0,Cm.jsx)(Ax,{headerText:"Top10",headerButtonProps:{"data-order":1,"data-title":"My Files Title"},children:(0,Cm.jsxs)(Vs,{styles:C_,children:[" ",(0,Cm.jsxs)("ul",{className:"tag-container",children:[(0,Cm.jsxs)("li",{children:["Processen ",(0,Cm.jsx)("span",{children:"111"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["Dienst Bevel ",(0,Cm.jsx)("span",{children:"95"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["Requirements ",(0,Cm.jsx)("span",{children:"78"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["Test Case ",(0,Cm.jsx)("span",{children:"43"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["Brug ",(0,Cm.jsx)("span",{children:"36"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["Sluis ",(0,Cm.jsx)("span",{children:"25"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["Stuw ",(0,Cm.jsx)("span",{children:"12"})]})]})]})}),(0,Cm.jsx)(Ax,{headerText:"Producten",children:(0,Cm.jsx)(Vs,{styles:C_,children:(0,Cm.jsxs)("ul",{className:"tag-container",children:[(0,Cm.jsxs)("li",{children:["PLC",(0,Cm.jsx)("span",{children:"43"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["SCADA ",(0,Cm.jsx)("span",{children:"36"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["OPC UA ",(0,Cm.jsx)("span",{children:"25"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["KLEM ",(0,Cm.jsx)("span",{children:"12"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["DOSSIER",(0,Cm.jsx)("span",{children:"12"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["SAFETY",(0,Cm.jsx)("span",{children:"12"})]}),(0,Cm.jsx)("br",{}),(0,Cm.jsxs)("li",{children:["SECURITY",(0,Cm.jsx)("span",{children:"12"})]})]})})}),(0,Cm.jsx)(Ax,{headerText:"",children:(0,Cm.jsx)(Vs,{styles:C_,children:"Pivot #3"})})]})}),this.state.toggleWorkflow?(0,Cm.jsx)(Nm(),{width:1300,height:800,background:"#d3d3d3",x:"center",y:30,title:"Document Workflow",children:(0,Cm.jsx)(Tm,{data:[{text:"Start",figure:"Circle",size:"75 75",fill:"#C8EBD6",key:-1},{key:0,text:"ACTIEF",color:"#e3e3e3"},{key:1,text:"IN REVIEW",color:"#e3e3e3"},{key:2,text:"GESLOTEN",color:"#E3FCEF"},{text:"End",figure:"Circle",size:"75 75",fill:"#e3e3e3",key:3}]})}):null,this.state.toggleVennDiagram?(0,Cm.jsx)(Nm(),{width:500,height:600,background:"#d3d3d3",x:"center",y:30,title:"Document Workflow",children:(0,Cm.jsx)(Dx,{})}):null,(0,Cm.jsx)("br",{}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)("br",{}),(0,Cm.jsx)(tu,{message:r}),a?(0,Cm.jsx)(tu,{message:a}):void 0,"details"===s?(0,Cm.jsx)("div",{children:o?(0,Cm.jsx)(Ad,{selection:this._selection,children:(0,Cm.jsx)(Pd,{items:n,compact:i,columns:e,selectionMode:Xl.multiple,getKey:this._getKey,setKey:"multiple",layoutMode:lu.justified,isHeaderVisible:!0,selection:this._selection,selectionPreservedOnEmptyClick:!1,onItemInvoked:this._onItemInvoked,enterModalSelectionOnTouch:!0,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"select row"})}):(0,Cm.jsx)(Pd,{items:n,compact:i,columns:e,selectionMode:Xl.none,getKey:this._getKey,setKey:"none",layoutMode:lu.justified,isHeaderVisible:!0,onItemInvoked:this._onItemInvoked})}):(0,Cm.jsx)(Uw,{items:n})]})]})}},{key:"componentDidUpdate",value:function(t,e){e.isModalSelection===this.state.isModalSelection||this.state.isModalSelection||this._selection.setAllSelected(!1)}},{key:"_getKey",value:function(t,e){return t.key}},{key:"_onItemInvoked",value:function(t){alert("Item invoked: ".concat(t.name))}},{key:"_getSelectionDetails",value:function(){var t=this._selection.getSelectedCount();switch(t){case 0:return"No items selected";case 1:return"1 item selected: "+this._selection.getSelection()[0].name;default:return"".concat(t," items selected")}}}]),i}(t.Component);function D_(t,e){var i=new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime()));return{value:i.valueOf(),dateFormatted:i.toLocaleDateString()}}var N_=[{name:"accdb"},{name:"audio"},{name:"code"},{name:"csv"},{name:"docx"},{name:"dotx"},{name:"mpp"},{name:"mpt"},{name:"model"},{name:"one"},{name:"onetoc"},{name:"potx"},{name:"ppsx"},{name:"pdf"},{name:"photo"},{name:"pptx"},{name:"presentation"},{name:"potx"},{name:"pub"},{name:"rtf"},{name:"spreadsheet"},{name:"txt"},{name:"vector"},{name:"vsdx"},{name:"vssx"},{name:"vstx"},{name:"xlsx"},{name:"xltx"},{name:"xsn"}];function I_(){var t=N_[Math.floor(Math.random()*N_.length)].name;return{docType:t,url:"https://res-1.cdn.office.net/files/fabric-cdn-prod_20221209.001/assets/item-types/16/".concat(t,".svg")}}function E_(){var t=Math.floor(100*Math.random())+30;return{value:"".concat(t," KB"),rawSize:t}}var A_="lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt ".split(" "),O_=0;function L_(t){var e=O_+t>A_.length?0:O_;return O_=e+t,A_.slice(e,O_).join(" ")}function R_(e){var i=o(t.useState("horizontal"),2),n=i[0],r=(i[1],o(t.useState(""),2)),a=r[0],s=r[1];return console.log(a),t.useLayoutEffect((function(){b(ot.rootElements,(function(t){"TreeMapChart"==t.dom.id&&t.dispose()}));var t=ln.new("TreeMapChart");t.setThemes([rt.new(t)]);var e=t.container.children.push(Ge.new(t,{width:ft(100),height:ft(100),layout:t.verticalLayout})),i=e.children.push(En.new(t,{singleBranchOnly:!1,orientation:"horizontal",downDepth:1,initialDepth:10,valueField:"value",categoryField:"name",childDataField:"children"}));i.data.setAll([{name:"Product 2023",value:29e4,children:[{name:"Generiek",value:2e5,children:[{name:"V&V Generiek OPCUA sluis",status:"In progress",value:21e3,children:[{name:"TBS",value:7e3,children:[{name:"STR-2021-004-001",value:7e3}]},{name:"RBS",value:14e3,children:[{name:"STR-2021-004-002",value:7e3},{name:"STR-2021-004-003",value:7e3}]}]},{name:"V&V OPC setup & certificaten",value:28680,status:"In Review",children:[{name:"DBS",value:14e3,children:[{name:"STR-2021-004-004",value:7e3},{name:"STR-2021-004-005",value:7e3}]},{name:"TBS",value:7e3},{name:"OBS",value:7e3}]},{name:"V&V Plan van aanpak algemeen",status:"Todo",value:42400},{name:"V&V Generiek testplan sluis",value:34360},{name:"V&V Generiek testplan brug",value:34360},{name:"V&V Generiek Uitwerken knoppenbediening brug",value:18592},{name:"Functionaliteiten opvolgingstool",value:30480}]},{name:"Tooling",value:41480,children:[{name:"Opvolgingstool projectwerking",value:41480}]},{name:"Validatie",value:10512,children:[{name:"Sluis Aalst",value:10512}]},{name:"Verificatie",value:17944,children:[{name:"Stuw B4 te Zwijnaarde",value:11632},{name:"Stuw & Sluis Menen - Verificatie",value:16312}]},{name:"Verificatie & Validatie",value:17624,children:[{name:"Sluis Sint-Baafs Vijve",value:17624}]}]}]),i.set("selectedDataItem",i.dataItems[0]),i.appear(1e3,100),e.children.unshift(An.new(t,{series:i})),console.log(i.rectangles),i.rectangles.template._entities.map((function(t){return t.events.on("click",(function(t){var e=t.target.dataItem.dataContext;console.log(e.name),s(e.name)}))})),i.rectangles.template._entities.map((function(t){return t.events.on("rightclick",(function(t){var e=t.target.dataItem.dataContext;console.log(e.name),alert(e.name+" - status: "+(null===e||void 0===e?void 0:e.status)),s(e.name)}))}))}),[n]),(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsx)("div",{id:"TreeMapChart",style:{width:500,height:500}}),"STR-2021-004-001"===a?(0,Cm.jsxs)("div",{className:"popup",children:[" ",(0,Cm.jsx)("a",{href:"#/project",className:"cross",onClick:function(){return s("")},children:"X"})]}):null,"STR-2021-004-004"===a?(0,Cm.jsx)(Nm(),{height:700,width:1700,background:"#d3d3d3",x:"center",y:30,title:"Document Workflow",children:(0,Cm.jsx)("div",{id:"popup",className:"overlay",children:(0,Cm.jsx)("div",{className:"popup",children:(0,Cm.jsx)("div",{className:"dbs-container",children:(0,Cm.jsx)(T_,{})})})})}):null]})}var j_=function(t){p(i,t);var e=m(i);function i(){return a(this,i),e.apply(this,arguments)}return h(i,[{key:"_beforeChanged",value:function(){d(c(i.prototype),"_beforeChanged",this).call(this),this.isDirty("radius")&&(this._clear=!0)}},{key:"_changed",value:function(){d(c(i.prototype),"_changed",this).call(this),this._clear&&this._display.drawCircle(0,0,this.get("radius",10))}}]),i}(Ae);function B_(t){return null==t?null:function(t){if("function"!==typeof t)throw new Error;return t}(t)}function F_(){return 0}Object.defineProperty(j_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"}),Object.defineProperty(j_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ae.classNames.concat([j_.className])});var z_=1664525,H_=1013904223,V_=4294967296;function W_(t,e){for(var i,n,r=0,o=(t=function(t,e){for(var i,n,r=t.length;r;)n=e()*r--|0,i=t[r],t[r]=t[n],t[n]=i;return t}(Array.from(t),e)).length,a=[];r<o;)i=t[r],n&&K_(n,i)?++r:(n=X_(a=U_(a,i)),r=0);return n}function U_(t,e){var i,n;if(Y_(e,t))return[e];for(i=0;i<t.length;++i)if(G_(e,t[i])&&Y_(q_(t[i],e),t))return[t[i],e];for(i=0;i<t.length-1;++i)for(n=i+1;n<t.length;++n)if(G_(q_(t[i],t[n]),e)&&G_(q_(t[i],e),t[n])&&G_(q_(t[n],e),t[i])&&Y_(Z_(t[i],t[n],e),t))return[t[i],t[n],e];throw new Error}function G_(t,e){var i=t.r-e.r,n=e.x-t.x,r=e.y-t.y;return i<0||i*i<n*n+r*r}function K_(t,e){var i=t.r-e.r+1e-9*Math.max(t.r,e.r,1),n=e.x-t.x,r=e.y-t.y;return i>0&&i*i>n*n+r*r}function Y_(t,e){for(var i=0;i<e.length;++i)if(!K_(t,e[i]))return!1;return!0}function X_(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return q_(t[0],t[1]);case 3:return Z_(t[0],t[1],t[2])}}function q_(t,e){var i=t.x,n=t.y,r=t.r,o=e.x,a=e.y,s=e.r,l=o-i,u=a-n,h=s-r,c=Math.sqrt(l*l+u*u);return{x:(i+o+l/c*h)/2,y:(n+a+u/c*h)/2,r:(c+r+s)/2}}function Z_(t,e,i){var n=t.x,r=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=i.x,h=i.y,c=i.r,d=n-a,f=n-u,p=r-s,g=r-h,m=l-o,v=c-o,y=n*n+r*r-o*o,b=y-a*a-s*s+l*l,x=y-u*u-h*h+c*c,w=f*p-d*g,k=(p*x-g*b)/(2*w)-n,_=(g*m-p*v)/w,S=(f*b-d*x)/(2*w)-r,C=(d*v-f*m)/w,M=_*_+C*C-1,P=2*(o+k*_+S*C),T=k*k+S*S-o*o,D=-(Math.abs(M)>1e-6?(P+Math.sqrt(P*P-4*M*T))/(2*M):T/P);return{x:n+k+_*D,y:r+S+C*D,r:D}}function J_(t,e,i){var n,r,o,a,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(r=e.r+i.r,r*=r,a=t.r+i.r,r>(a*=a)?(n=(u+a-r)/(2*u),o=Math.sqrt(Math.max(0,a/u-n*n)),i.x=t.x-n*s-o*l,i.y=t.y-n*l+o*s):(n=(u+r-a)/(2*u),o=Math.sqrt(Math.max(0,r/u-n*n)),i.x=e.x+n*s-o*l,i.y=e.y+n*l+o*s)):(i.x=e.x+i.r,i.y=e.y)}function Q_(t,e){var i=t.r+e.r-1e-6,n=e.x-t.x,r=e.y-t.y;return i>0&&i*i>n*n+r*r}function $_(t){var e=t._,i=t.next._,n=e.r+i.r,r=(e.x*i.r+i.x*e.r)/n,o=(e.y*i.r+i.y*e.r)/n;return r*r+o*o}function tS(t){this._=t,this.next=null,this.previous=null}function eS(t,e){if(!(o=(t=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var i,n,r,o,a,s,l,u,h,c,d;if((i=t[0]).x=0,i.y=0,!(o>1))return i.r;if(n=t[1],i.x=-n.r,n.x=i.r,n.y=0,!(o>2))return i.r+n.r;J_(n,i,r=t[2]),i=new tS(i),n=new tS(n),r=new tS(r),i.next=r.previous=n,n.next=i.previous=r,r.next=n.previous=i;t:for(l=3;l<o;++l){J_(i._,n._,r=t[l]),r=new tS(r),u=n.next,h=i.previous,c=n._.r,d=i._.r;do{if(c<=d){if(Q_(u._,r._)){n=u,i.next=n,n.previous=i,--l;continue t}c+=u._.r,u=u.next}else{if(Q_(h._,r._)){(i=h).next=n,n.previous=i,--l;continue t}d+=h._.r,h=h.previous}}while(u!==h.next);for(r.previous=i,r.next=n,i.next=n.previous=n=r,a=$_(i);(r=r.next)!==n;)(s=$_(r))<a&&(i=r,a=s);n=i.next}for(i=[n._],r=n;(r=r.next)!==n;)i.push(r._);for(r=W_(i,e),l=0;l<o;++l)(i=t[l]).x-=r.x,i.y-=r.y;return r.r}function iS(t){return Math.sqrt(t.value)}function nS(){var t=null,e=1,i=1,n=F_;function r(r){var o=function(){var t=1;return function(){return(t=(z_*t+H_)%V_)/V_}}();return r.x=e/2,r.y=i/2,t?r.eachBefore(rS(t)).eachAfter(oS(n,.5,o)).eachBefore(aS(1)):r.eachBefore(rS(iS)).eachAfter(oS(F_,1,o)).eachAfter(oS(n,r.r/Math.min(e,i),o)).eachBefore(aS(Math.min(e,i)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=B_(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],i=+t[1],r):[e,i]},r.padding=function(t){return arguments.length?(n="function"===typeof t?t:function(t){return function(){return t}}(+t),r):n},r}function rS(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function oS(t,e,i){return function(n){if(r=n.children){var r,o,a,s=r.length,l=t(n)*e||0;if(l)for(o=0;o<s;++o)r[o].r+=l;if(a=eS(r,i),l)for(o=0;o<s;++o)r[o].r-=l;n.r=a+l}}}function aS(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}}var sS=function(t){p(i,t);var e=m(i);function i(){var t;return a(this,i),t=e.apply(this,arguments),Object.defineProperty(g(t),"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"pack"}),Object.defineProperty(g(t),"_packLayout",{enumerable:!0,configurable:!0,writable:!0,value:nS()}),Object.defineProperty(g(t),"_packData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(g(t),"circles",{enumerable:!0,configurable:!0,writable:!0,value:new ht($.new({}),(function(){return j_._new(t._root,{themeTags:Jt(t.circles.template.get("themeTags",[]),[t._tag,"shape"])},[t.circles.template])}))}),t}return h(i,[{key:"_afterNew",value:function(){d(c(i.prototype),"_afterNew",this).call(this),this.setPrivate("scaleR",1)}},{key:"_prepareChildren",value:function(){d(c(i.prototype),"_prepareChildren",this).call(this),this.isPrivateDirty("scaleR")&&this._rootNode&&this._updateNodesScale(this._rootNode)}},{key:"_updateVisuals",value:function(){if(this._rootNode){var t=this._packLayout;t.size([this.innerWidth(),this.innerHeight()]),t(this._rootNode),t.padding(this.get("nodePadding",0)),this._updateNodes(this._rootNode)}}},{key:"_updateNode",value:function(t){d(c(i.prototype),"_updateNode",this).call(this,t);var e=t.get("node"),n=t.get("circle"),r=t.get("d3HierarchyNode"),o=this.getPrivate("scaleR",1),a=r.x*o,s=r.y*o,l=r.r*o,u=this.get("animationDuration",0),h=this.get("animationEasing");if(e.animate({key:"x",to:a,duration:u,easing:h}),e.animate({key:"y",to:s,duration:u,easing:h}),n){var f=t.get("fill");n.animate({key:"radius",to:l,duration:u,easing:h}),n._setDefault("fill",f),n._setDefault("stroke",f)}}},{key:"_updateNodesScale",value:function(t){var e=this,i=t.data.dataItem;if(i){var n=i.get("node"),r=i.get("circle"),o=this.getPrivate("scaleR",1),a=t.x*o,s=t.y*o,l=t.r*o;n.setAll({x:a,y:s}),r.set("radius",l);var u=t.children;u&&b(u,(function(t){e._updateNodesScale(t)}))}}},{key:"makeNode",value:function(t){var e=this,n=d(c(i.prototype),"makeNode",this).call(this,t),r=n.children.moveValue(this.circles.make(),0);n.setPrivate("tooltipTarget",r),this.circles.push(r),t.setRaw("circle",r);var o=t.get("label");return r.on("radius",(function(){var t=2*r.get("radius",e.width());o.setAll({maxWidth:t,maxHeight:t})})),n}},{key:"_zoom",value:function(t){var e=t.get("d3HierarchyNode"),i=e.x,n=e.y,r=e.r,o=Math.min(this.innerWidth(),this.innerHeight())/(2*r),a=this.get("animationEasing"),s=this.get("animationDuration",0);this.inited||(s=0),this.animatePrivate({key:"scaleR",to:o,duration:s,easing:a});var l=this.nodesContainer;l.animate({key:"x",from:l.x(),to:this.width()/2-i*o,duration:s,easing:a}),l.animate({key:"y",from:l.y(),to:this.height()/2-n*o,duration:s,easing:a})}}]),i}(Tn);Object.defineProperty(sS,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pack"}),Object.defineProperty(sS,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tn.classNames.concat([sS.className])});var lS=function(e){var i=e.data;return t.useLayoutEffect((function(){var t=ln.new("ComboChart");t.setThemes([rt.new(t)]);var e=t.container.children.push(Ge.new(t,{width:ft(100),height:ft(100),layout:t.verticalLayout})).children.push(sS.new(t,{singleBranchOnly:!1,downDepth:1,initialDepth:10,valueField:"value",categoryField:"name",childDataField:"children"}));e.get("colors").set("colors",[$t(610902),$t(556940),$t(5941909),$t(8824947),$t(12295942)]);!function t(e,i,n){for(var r=0;r<Math.ceil(0*Math.random())+1;r++){var o=i+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[r],a=void 0;n<2?(a={name:o+n},n>0&&Math.random()<.5?a.value=Math.round(100*Math.random()):(a.children=[],t(a,o+r,n+1))):a={name:i+r,value:Math.round(100*Math.random())},e.children.push(a)}return n++,e}(i,null,0),e.data.setAll([i]),e.set("selectedDataItem",e.dataItems[0]),e.labels.template.setAll({text:"{category}: [bold]{sum}[/]\u20ac",fontSize:16}),e.appear(1e3,100)}),[]),(0,Cm.jsx)("div",{id:"ComboChart",style:{width:400,height:400,marginLeft:50}})},uS=function(t){p(i,t);var e=m(i);function i(){var t;a(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._isObserving=void 0,t}return h(i,[{key:"isFixed",value:function(t){return d(c(i.prototype),"isFixed",this).call(this,t)}},{key:"doLayout",value:function(t){var e=this;this._isObserving||(this._isObserving=!0,this.diagram.addModelChangedListener((function(t){(""!==t.modelChange||t.change===xm.Vk.Transaction&&"StartingFirstTransaction"===t.propertyName)&&(e.network=null)})));var n=this.network;null===n?this.network=n=this.makeNetwork(t):this.diagram.nodes.each((function(t){var e=n.findVertex(t);null!==e&&(e.bounds=t.actualBounds)})),d(c(i.prototype),"doLayout",this).call(this,t),this.network=n}}]),i}(xm.hD),hS=function(t){return(0,Cm.jsx)("div",{children:(0,Cm.jsx)(wm,{initDiagram:function(){var t=xm.bx.make,e=t(xm.S0,{initialAutoScale:xm.S0.Uniform,contentAlignment:xm.z6.Center,layout:t(uS,{defaultSpringLength:30,defaultElectricalCharge:100}),SelectionMoved:function(t){return t.diagram.layout.invalidateLayout()},model:new xm.FJ({linkKeyProperty:"key"})});return e.nodeTemplate=t(xm.NB,"Horizontal",t(xm.bn,"Circle",{fill:"#4169e1",stroke:"#E34234",spot1:new xm.z6(0,0,5,5),spot2:new xm.z6(1,1,-5,-5),width:15}),t(xm.al,{font:"bold 10pt helvetica, bold arial, sans-serif",textAlign:"center",maxSize:new xm.$u(100,NaN)},new xm.KX("text","text"))),e.linkTemplate=t(xm.rU,{curve:xm.rU.Bezier,curviness:-20},t(xm.bn,{stroke:"#FF7F50"}),t(xm.bn,{toArrow:"standard",stroke:null})),e.scale=2,e},divClassName:"treemapchart-container",nodeDataArray:[{key:1,text:"Benedensluis te Mechelen"},{key:2,text:"Begijnebrug Ninove"},{key:3,text:"Erembodegembrug"},{key:4,text:"Zeebergbrug"},{key:5,text:"Sint-Annabrug"},{key:6,text:"Zwarte Hoekbrug"},{key:7,text:"Sluis te Aalst"},{key:8,text:"Erembodegembrug"},{key:9,text:"Sint-Annabrug"},{key:10,text:"Zwarte Hoekbrug"},{key:11,text:"V&V Generiek OPCUA sluis"},{key:12,text:"V&V Generiek OPCUA stuw"},{key:13,text:"V&V Periodiek overleg Q1"},{key:14,text:"V&V Periodiek overleg Q2"},{key:15,text:"V&V Periodiek overleg Q3"},{key:16,text:"V&V Plan van aanpak algemeen"},{key:17,text:"V&V OPC setup & certificaten"},{key:18,text:"Sluis Sint-Baafs Vijve"},{key:19,text:"V&V Periodiek overleg Q4"},{key:20,text:"V&V Generiek testplan sluis"}],linkDataArray:[{from:1,to:2,text:"represent"},{from:2,to:3,text:"is"},{from:2,to:4,text:"is"},{from:2,to:5,text:"is"},{from:2,to:6,text:"includes"},{from:2,to:10,text:"necessary\nfor"},{from:2,to:12,text:"necessary\nfor"},{from:4,to:5,text:"combine\nto form"},{from:4,to:6,text:"include"},{from:4,to:7,text:"are"},{from:4,to:8,text:"are"},{from:4,to:9,text:"are"},{from:5,to:9,text:"are"},{from:5,to:11,text:"may be"},{from:7,to:13,text:"in"},{from:7,to:14,text:"in"},{from:7,to:19,text:"begin\nwith"},{from:8,to:15,text:"with"},{from:8,to:16,text:"with"},{from:9,to:17,text:"aids"},{from:11,to:18,text:"show"},{from:12,to:19,text:"begins\nwith"},{from:17,to:18,text:"needed\nto see"},{from:18,to:20,text:"between"}]})})},cS=function(t){return(0,Cm.jsx)("div",{className:"displaynav-container",children:t.children})},dS=cS;var fS=i.p+"static/media/apps_list_20_regular.bff73ff1bf1a4b0182615b5e450ddefa.svg";var pS=i.p+"static/media/sport_soccer_20_regular.7e2ffd91df70900e7aa66c26f7e9883f.svg";var gS=i.p+"static/media/text_bullet_list_tree_24_filled.c39f2ad096fdcfaf3bab8fc7ed10d979.svg";var mS=i.p+"static/media/branch_16_regular.7e4227819556fb48ad1a502dd97c4e18.svg";var vS=i.p+"static/media/table_insert_row_28_regular.9c78249d15995c6675df4dbfb6a29365.svg",yS=i.p+"static/media/sharepoint.10043a61046c81cd69bd.png",bS=function(){return t.useEffect((function(){var t=document.querySelectorAll(".cubus-container")[0];xS(t)}),[]),(0,Cm.jsx)("div",{className:"cubus-container"})},xS=function(t){nh.render((0,Cm.jsx)(bS,{}),t)},wS=function(e){var i=o((0,t.useState)("allViews"),2),n=i[0],r=i[1];return(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsxs)("div",{className:"homepage-container",children:[(0,Cm.jsxs)("div",{className:"treeview-navigator-container",children:[(0,Cm.jsx)(S_,{}),(0,Cm.jsx)("div",{className:"level-abstraction",children:(0,Cm.jsxs)("div",{id:"circle-mega",children:["Mega",(0,Cm.jsx)("div",{id:"circle-macro",children:"Macro"}),(0,Cm.jsxs)("div",{id:"circle-meso",children:["Meso",(0,Cm.jsxs)("div",{id:"circle-micro",children:["Micro",(0,Cm.jsx)("div",{id:"circle-nano",children:"Nano"})]})]})]})}),(0,Cm.jsx)(bS,{})]}),(0,Cm.jsx)("div",{className:"display-view-container",children:(0,Cm.jsxs)("div",{className:"chart-homepage-container",children:["branch"===n&&(0,Cm.jsx)("div",{children:(0,Cm.jsx)(hS,{})}),"bubble"===n&&(0,Cm.jsx)("div",{className:"treemapchart-container",children:(0,Cm.jsx)(lS,{data:{name:"Product 2023",children:[{name:"Generiek",value:25e4,children:[{name:"V&V Generiek OPCUA sluis",value:19120},{name:"V&V OPC setup & certificaten",value:28680},{name:"V&V Plan van aanpak algemeen",value:42400},{name:"V&V Generiek testplan sluis",value:34360},{name:"V&V Generiek testplan brug",value:34360},{name:"V&V Generiek Uitwerken knoppenbediening brug",value:18592},{name:"Functionaliteiten opvolgingstool",value:30480}]},{name:"Tooling",value:41480,children:[{name:"Opvolgingstool projectwerking",value:41480}]},{name:"Validatie",value:10512,children:[{name:"Sluis Aalst",value:10512}]},{name:"Verificatie",value:17944,children:[{name:"Stuw B4 te Zwijnaarde",value:11632},{name:"Stuw & Sluis Menen - Verificatie",value:16312}]},{name:"Verificatie & Validatie",value:17624,children:[{name:"Sluis Sint-Baafs Vijve",value:17624}]}]}})}),"branch"===n&&(0,Cm.jsx)("div",{children:(0,Cm.jsx)("img",{src:yS,alt:"sharepoint",style:{width:"80%"}})}),"tree"===n&&(0,Cm.jsx)("div",{children:(0,Cm.jsx)(S_,{})}),"allViews"===n&&(0,Cm.jsxs)(Cm.Fragment,{children:[(0,Cm.jsx)("div",{className:"treemapchart-container",children:(0,Cm.jsx)(R_,{})}),(0,Cm.jsx)("div",{children:(0,Cm.jsx)(hS,{})})]})]})})]}),(0,Cm.jsxs)(dS,{children:[(0,Cm.jsx)("img",{src:gS,alt:"info",onClick:function(){return r("tree")},className:"img-displayNav"}),(0,Cm.jsx)("img",{src:mS,alt:"branch",onClick:function(){return r("branch")},className:"img-displayNav"}),(0,Cm.jsx)("img",{src:fS,alt:"list",onClick:function(){return r("sharepoint")},className:"img-displayNav"}),(0,Cm.jsx)("img",{src:pS,alt:"bubble",onClick:function(){return r("bubble")}}),(0,Cm.jsx)("img",{src:vS,alt:"allViews",onClick:function(){return r("allViews")},className:"img-displayNav"})]})]})};var kS=function(){return(0,Cm.jsx)("div",{className:"App",children:(0,Cm.jsx)(wS,{})})},_S=function(t){t&&t instanceof Function&&i.e(787).then(i.bind(i,787)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;i(t),n(t),r(t),o(t),a(t)}))};e.createRoot(document.getElementById("root")).render((0,Cm.jsx)(t.StrictMode,{children:(0,Cm.jsx)(kS,{})})),_S()}()}();
//# sourceMappingURL=main.a28e9d28.js.map